(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function AT(e,t){const r=Object.create(null),n=e.split(",");for(let a=0;a<n.length;a++)r[n[a]]=!0;return t?a=>!!r[a.toLowerCase()]:a=>!!r[a]}const Fr={},Gf=[],yo=()=>{},bH=()=>!1,wH=/^on[^a-z]/,_0=e=>wH.test(e),ET=e=>e.startsWith("onUpdate:"),_n=Object.assign,DT=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},SH=Object.prototype.hasOwnProperty,Jt=(e,t)=>SH.call(e,t),ft=Array.isArray,$f=e=>x0(e)==="[object Map]",kO=e=>x0(e)==="[object Set]",Et=e=>typeof e=="function",Zr=e=>typeof e=="string",MT=e=>typeof e=="symbol",kr=e=>e!==null&&typeof e=="object",NO=e=>kr(e)&&Et(e.then)&&Et(e.catch),BO=Object.prototype.toString,x0=e=>BO.call(e),TH=e=>x0(e).slice(8,-1),VO=e=>x0(e)==="[object Object]",PT=e=>Zr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ag=AT(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),b0=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},CH=/-(\w)/g,Gi=b0(e=>e.replace(CH,(t,r)=>r?r.toUpperCase():"")),AH=/\B([A-Z])/g,Pc=b0(e=>e.replace(AH,"-$1").toLowerCase()),zs=b0(e=>e.charAt(0).toUpperCase()+e.slice(1)),Q_=b0(e=>e?`on${zs(e)}`:""),Iv=(e,t)=>!Object.is(e,t),Eg=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},iy=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Hb=e=>{const t=parseFloat(e);return isNaN(t)?e:t},EH=e=>{const t=Zr(e)?Number(e):NaN;return isNaN(t)?e:t};let FA;const Gb=()=>FA||(FA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ii(e){if(ft(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],a=Zr(n)?LH(n):Ii(n);if(a)for(const i in a)t[i]=a[i]}return t}else{if(Zr(e))return e;if(kr(e))return e}}const DH=/;(?![^(]*\))/g,MH=/:([^]+)/,PH=/\/\*[^]*?\*\//g;function LH(e){const t={};return e.replace(PH,"").split(DH).forEach(r=>{if(r){const n=r.split(MH);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Gt(e){let t="";if(Zr(e))t=e;else if(ft(e))for(let r=0;r<e.length;r++){const n=Gt(e[r]);n&&(t+=n+" ")}else if(kr(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function oa(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Zr(t)&&(e.class=Gt(t)),r&&(e.style=Ii(r)),e}const IH="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",RH=AT(IH);function FO(e){return!!e||e===""}const Rt=e=>Zr(e)?e:e==null?"":ft(e)||kr(e)&&(e.toString===BO||!Et(e.toString))?JSON.stringify(e,zO,2):String(e),zO=(e,t)=>t&&t.__v_isRef?zO(e,t.value):$f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,a])=>(r[`${n} =>`]=a,r),{})}:kO(t)?{[`Set(${t.size})`]:[...t.values()]}:kr(t)&&!ft(t)&&!VO(t)?String(t):t;let ri;class UO{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ri,!t&&ri&&(this.index=(ri.scopes||(ri.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=ri;try{return ri=this,t()}finally{ri=r}}}on(){ri=this}off(){ri=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function Cp(e){return new UO(e)}function OH(e,t=ri){t&&t.active&&t.effects.push(e)}function LT(){return ri}function da(e){ri&&ri.cleanups.push(e)}const IT=e=>{const t=new Set(e);return t.w=0,t.n=0,t},HO=e=>(e.w&Bl)>0,GO=e=>(e.n&Bl)>0,kH=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Bl},NH=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const a=t[n];HO(a)&&!GO(a)?a.delete(e):t[r++]=a,a.w&=~Bl,a.n&=~Bl}t.length=r}},oy=new WeakMap;let Hh=0,Bl=1;const $b=30;let fo;const rc=Symbol(""),Wb=Symbol("");class RT{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,OH(this,n)}run(){if(!this.active)return this.fn();let t=fo,r=Ll;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=fo,fo=this,Ll=!0,Bl=1<<++Hh,Hh<=$b?kH(this):zA(this),this.fn()}finally{Hh<=$b&&NH(this),Bl=1<<--Hh,fo=this.parent,Ll=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fo===this?this.deferStop=!0:this.active&&(zA(this),this.onStop&&this.onStop(),this.active=!1)}}function zA(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Ll=!0;const $O=[];function Sd(){$O.push(Ll),Ll=!1}function Td(){const e=$O.pop();Ll=e===void 0?!0:e}function Qa(e,t,r){if(Ll&&fo){let n=oy.get(e);n||oy.set(e,n=new Map);let a=n.get(r);a||n.set(r,a=IT()),WO(a)}}function WO(e,t){let r=!1;Hh<=$b?GO(e)||(e.n|=Bl,r=!HO(e)):r=!e.has(fo),r&&(e.add(fo),fo.deps.push(e))}function Rs(e,t,r,n,a,i){const o=oy.get(e);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(r==="length"&&ft(e)){const l=Number(n);o.forEach((u,c)=>{(c==="length"||c>=l)&&s.push(u)})}else switch(r!==void 0&&s.push(o.get(r)),t){case"add":ft(e)?PT(r)&&s.push(o.get("length")):(s.push(o.get(rc)),$f(e)&&s.push(o.get(Wb)));break;case"delete":ft(e)||(s.push(o.get(rc)),$f(e)&&s.push(o.get(Wb)));break;case"set":$f(e)&&s.push(o.get(rc));break}if(s.length===1)s[0]&&Yb(s[0]);else{const l=[];for(const u of s)u&&l.push(...u);Yb(IT(l))}}function Yb(e,t){const r=ft(e)?e:[...e];for(const n of r)n.computed&&UA(n);for(const n of r)n.computed||UA(n)}function UA(e,t){(e!==fo||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function BH(e,t){var r;return(r=oy.get(e))==null?void 0:r.get(t)}const VH=AT("__proto__,__v_isRef,__isVue"),YO=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(MT)),FH=OT(),zH=OT(!1,!0),UH=OT(!0),HA=HH();function HH(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Ct(this);for(let i=0,o=this.length;i<o;i++)Qa(n,"get",i+"");const a=n[t](...r);return a===-1||a===!1?n[t](...r.map(Ct)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Sd();const n=Ct(this)[t].apply(this,r);return Td(),n}}),e}function GH(e){const t=Ct(this);return Qa(t,"has",e),t.hasOwnProperty(e)}function OT(e=!1,t=!1){return function(n,a,i){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&i===(e?t?iG:KO:t?ZO:qO).get(n))return n;const o=ft(n);if(!e){if(o&&Jt(HA,a))return Reflect.get(HA,a,i);if(a==="hasOwnProperty")return GH}const s=Reflect.get(n,a,i);return(MT(a)?YO.has(a):VH(a))||(e||Qa(n,"get",a),t)?s:yr(s)?o&&PT(a)?s:s.value:kr(s)?e?Ap(s):Tr(s):s}}const $H=XO(),WH=XO(!0);function XO(e=!1){return function(r,n,a,i){let o=r[n];if(ed(o)&&yr(o)&&!yr(a))return!1;if(!e&&(!sy(a)&&!ed(a)&&(o=Ct(o),a=Ct(a)),!ft(r)&&yr(o)&&!yr(a)))return o.value=a,!0;const s=ft(r)&&PT(n)?Number(n)<r.length:Jt(r,n),l=Reflect.set(r,n,a,i);return r===Ct(i)&&(s?Iv(a,o)&&Rs(r,"set",n,a):Rs(r,"add",n,a)),l}}function YH(e,t){const r=Jt(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&Rs(e,"delete",t,void 0),n}function XH(e,t){const r=Reflect.has(e,t);return(!MT(t)||!YO.has(t))&&Qa(e,"has",t),r}function jH(e){return Qa(e,"iterate",ft(e)?"length":rc),Reflect.ownKeys(e)}const jO={get:FH,set:$H,deleteProperty:YH,has:XH,ownKeys:jH},qH={get:UH,set(e,t){return!0},deleteProperty(e,t){return!0}},ZH=_n({},jO,{get:zH,set:WH}),kT=e=>e,w0=e=>Reflect.getPrototypeOf(e);function Qp(e,t,r=!1,n=!1){e=e.__v_raw;const a=Ct(e),i=Ct(t);r||(t!==i&&Qa(a,"get",t),Qa(a,"get",i));const{has:o}=w0(a),s=n?kT:r?VT:Rv;if(o.call(a,t))return s(e.get(t));if(o.call(a,i))return s(e.get(i));e!==a&&e.get(t)}function Jp(e,t=!1){const r=this.__v_raw,n=Ct(r),a=Ct(e);return t||(e!==a&&Qa(n,"has",e),Qa(n,"has",a)),e===a?r.has(e):r.has(e)||r.has(a)}function em(e,t=!1){return e=e.__v_raw,!t&&Qa(Ct(e),"iterate",rc),Reflect.get(e,"size",e)}function GA(e){e=Ct(e);const t=Ct(this);return w0(t).has.call(t,e)||(t.add(e),Rs(t,"add",e,e)),this}function $A(e,t){t=Ct(t);const r=Ct(this),{has:n,get:a}=w0(r);let i=n.call(r,e);i||(e=Ct(e),i=n.call(r,e));const o=a.call(r,e);return r.set(e,t),i?Iv(t,o)&&Rs(r,"set",e,t):Rs(r,"add",e,t),this}function WA(e){const t=Ct(this),{has:r,get:n}=w0(t);let a=r.call(t,e);a||(e=Ct(e),a=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return a&&Rs(t,"delete",e,void 0),i}function YA(){const e=Ct(this),t=e.size!==0,r=e.clear();return t&&Rs(e,"clear",void 0,void 0),r}function tm(e,t){return function(n,a){const i=this,o=i.__v_raw,s=Ct(o),l=t?kT:e?VT:Rv;return!e&&Qa(s,"iterate",rc),o.forEach((u,c)=>n.call(a,l(u),l(c),i))}}function rm(e,t,r){return function(...n){const a=this.__v_raw,i=Ct(a),o=$f(i),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=a[e](...n),c=r?kT:t?VT:Rv;return!t&&Qa(i,"iterate",l?Wb:rc),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function tl(e){return function(...t){return e==="delete"?!1:this}}function KH(){const e={get(i){return Qp(this,i)},get size(){return em(this)},has:Jp,add:GA,set:$A,delete:WA,clear:YA,forEach:tm(!1,!1)},t={get(i){return Qp(this,i,!1,!0)},get size(){return em(this)},has:Jp,add:GA,set:$A,delete:WA,clear:YA,forEach:tm(!1,!0)},r={get(i){return Qp(this,i,!0)},get size(){return em(this,!0)},has(i){return Jp.call(this,i,!0)},add:tl("add"),set:tl("set"),delete:tl("delete"),clear:tl("clear"),forEach:tm(!0,!1)},n={get(i){return Qp(this,i,!0,!0)},get size(){return em(this,!0)},has(i){return Jp.call(this,i,!0)},add:tl("add"),set:tl("set"),delete:tl("delete"),clear:tl("clear"),forEach:tm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=rm(i,!1,!1),r[i]=rm(i,!0,!1),t[i]=rm(i,!1,!0),n[i]=rm(i,!0,!0)}),[e,r,t,n]}const[QH,JH,eG,tG]=KH();function NT(e,t){const r=t?e?tG:eG:e?JH:QH;return(n,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(Jt(r,a)&&a in n?r:n,a,i)}const rG={get:NT(!1,!1)},nG={get:NT(!1,!0)},aG={get:NT(!0,!1)},qO=new WeakMap,ZO=new WeakMap,KO=new WeakMap,iG=new WeakMap;function oG(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sG(e){return e.__v_skip||!Object.isExtensible(e)?0:oG(TH(e))}function Tr(e){return ed(e)?e:BT(e,!1,jO,rG,qO)}function lG(e){return BT(e,!1,ZH,nG,ZO)}function Ap(e){return BT(e,!0,qH,aG,KO)}function BT(e,t,r,n,a){if(!kr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=sG(e);if(o===0)return e;const s=new Proxy(e,o===2?n:r);return a.set(e,s),s}function Il(e){return ed(e)?Il(e.__v_raw):!!(e&&e.__v_isReactive)}function ed(e){return!!(e&&e.__v_isReadonly)}function sy(e){return!!(e&&e.__v_isShallow)}function QO(e){return Il(e)||ed(e)}function Ct(e){const t=e&&e.__v_raw;return t?Ct(t):e}function S0(e){return iy(e,"__v_skip",!0),e}const Rv=e=>kr(e)?Tr(e):e,VT=e=>kr(e)?Ap(e):e;function JO(e){Ll&&fo&&(e=Ct(e),WO(e.dep||(e.dep=IT())))}function ek(e,t){e=Ct(e);const r=e.dep;r&&Yb(r)}function yr(e){return!!(e&&e.__v_isRef===!0)}function te(e){return tk(e,!1)}function Oe(e){return tk(e,!0)}function tk(e,t){return yr(e)?e:new uG(e,t)}class uG{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Ct(t),this._value=r?t:Rv(t)}get value(){return JO(this),this._value}set value(t){const r=this.__v_isShallow||sy(t)||ed(t);t=r?t:Ct(t),Iv(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Rv(t),ek(this))}}function ie(e){return yr(e)?e.value:e}const cG={get:(e,t,r)=>ie(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const a=e[t];return yr(a)&&!yr(r)?(a.value=r,!0):Reflect.set(e,t,r,n)}};function rk(e){return Il(e)?e:new Proxy(e,cG)}function Ep(e){const t=ft(e)?new Array(e.length):{};for(const r in e)t[r]=nk(e,r);return t}class fG{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return BH(Ct(this._object),this._key)}}class dG{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function _e(e,t,r){return yr(e)?e:Et(e)?new dG(e):kr(e)&&arguments.length>1?nk(e,t,r):te(e)}function nk(e,t,r){const n=e[t];return yr(n)?n:new fG(e,t,r)}class hG{constructor(t,r,n,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new RT(t,()=>{this._dirty||(this._dirty=!0,ek(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const t=Ct(this);return JO(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function vG(e,t,r=!1){let n,a;const i=Et(e);return i?(n=e,a=yo):(n=e.get,a=e.set),new hG(n,a,i||!a,r)}function Rl(e,t,r,n){let a;try{a=n?e(...n):e()}catch(i){T0(i,t,r)}return a}function ki(e,t,r,n){if(Et(e)){const i=Rl(e,t,r,n);return i&&NO(i)&&i.catch(o=>{T0(o,t,r)}),i}const a=[];for(let i=0;i<e.length;i++)a.push(ki(e[i],t,r,n));return a}function T0(e,t,r,n=!0){const a=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,s=r;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,s)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){Rl(l,null,10,[e,o,s]);return}}pG(e,r,a,n)}function pG(e,t,r,n=!0){console.error(e)}let Ov=!1,Xb=!1;const sa=[];let zo=0;const Wf=[];let ps=null,Vu=0;const ak=Promise.resolve();let FT=null;function Ot(e){const t=FT||ak;return e?t.then(this?e.bind(this):e):t}function mG(e){let t=zo+1,r=sa.length;for(;t<r;){const n=t+r>>>1;kv(sa[n])<e?t=n+1:r=n}return t}function zT(e){(!sa.length||!sa.includes(e,Ov&&e.allowRecurse?zo+1:zo))&&(e.id==null?sa.push(e):sa.splice(mG(e.id),0,e),ik())}function ik(){!Ov&&!Xb&&(Xb=!0,FT=ak.then(sk))}function gG(e){const t=sa.indexOf(e);t>zo&&sa.splice(t,1)}function yG(e){ft(e)?Wf.push(...e):(!ps||!ps.includes(e,e.allowRecurse?Vu+1:Vu))&&Wf.push(e),ik()}function XA(e,t=Ov?zo+1:0){for(;t<sa.length;t++){const r=sa[t];r&&r.pre&&(sa.splice(t,1),t--,r())}}function ok(e){if(Wf.length){const t=[...new Set(Wf)];if(Wf.length=0,ps){ps.push(...t);return}for(ps=t,ps.sort((r,n)=>kv(r)-kv(n)),Vu=0;Vu<ps.length;Vu++)ps[Vu]();ps=null,Vu=0}}const kv=e=>e.id==null?1/0:e.id,_G=(e,t)=>{const r=kv(e)-kv(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function sk(e){Xb=!1,Ov=!0,sa.sort(_G);const t=yo;try{for(zo=0;zo<sa.length;zo++){const r=sa[zo];r&&r.active!==!1&&Rl(r,null,14)}}finally{zo=0,sa.length=0,ok(),Ov=!1,FT=null,(sa.length||Wf.length)&&sk()}}function xG(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Fr;let a=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[c]||Fr;d&&(a=r.map(h=>Zr(h)?h.trim():h)),f&&(a=r.map(Hb))}let s,l=n[s=Q_(t)]||n[s=Q_(Gi(t))];!l&&i&&(l=n[s=Q_(Pc(t))]),l&&ki(l,e,6,a);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,ki(u,e,6,a)}}function lk(e,t,r=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!Et(e)){const l=u=>{const c=lk(u,t,!0);c&&(s=!0,_n(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(kr(e)&&n.set(e,null),null):(ft(i)?i.forEach(l=>o[l]=null):_n(o,i),kr(e)&&n.set(e,o),o)}function C0(e,t){return!e||!_0(t)?!1:(t=t.slice(2).replace(/Once$/,""),Jt(e,t[0].toLowerCase()+t.slice(1))||Jt(e,Pc(t))||Jt(e,t))}let Gn=null,A0=null;function ly(e){const t=Gn;return Gn=e,A0=e&&e.type.__scopeId||null,t}function bG(e){A0=e}function wG(){A0=null}function ne(e,t=Gn,r){if(!t||e._n)return e;const n=(...a)=>{n._d&&oE(-1);const i=ly(t);let o;try{o=e(...a)}finally{ly(i),n._d&&oE(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function J_(e){const{type:t,vnode:r,proxy:n,withProxy:a,props:i,propsOptions:[o],slots:s,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:h,ctx:v,inheritAttrs:p}=e;let m,g;const y=ly(e);try{if(r.shapeFlag&4){const x=a||n;m=Fo(c.call(x,x,f,i,h,d,v)),g=l}else{const x=t;m=Fo(x.length>1?x(i,{attrs:l,slots:s,emit:u}):x(i,null)),g=t.props?l:SG(l)}}catch(x){lv.length=0,T0(x,e,1),m=E(Ni)}let _=m;if(g&&p!==!1){const x=Object.keys(g),{shapeFlag:w}=_;x.length&&w&7&&(o&&x.some(ET)&&(g=TG(g,o)),_=Os(_,g))}return r.dirs&&(_=Os(_),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),m=_,ly(y),m}const SG=e=>{let t;for(const r in e)(r==="class"||r==="style"||_0(r))&&((t||(t={}))[r]=e[r]);return t},TG=(e,t)=>{const r={};for(const n in e)(!ET(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function CG(e,t,r){const{props:n,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?jA(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==n[d]&&!C0(u,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?jA(n,o,u):!0:!!o;return!1}function jA(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(t[i]!==e[i]&&!C0(r,i))return!0}return!1}function AG({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const EG=e=>e.__isSuspense;function DG(e,t){t&&t.pendingBranch?ft(e)?t.effects.push(...e):t.effects.push(e):yG(e)}function Xr(e,t){return UT(e,null,t)}const nm={};function Le(e,t,r){return UT(e,t,r)}function UT(e,t,{immediate:r,deep:n,flush:a,onTrack:i,onTrigger:o}=Fr){var s;const l=LT()===((s=Ln)==null?void 0:s.scope)?Ln:null;let u,c=!1,f=!1;if(yr(e)?(u=()=>e.value,c=sy(e)):Il(e)?(u=()=>e,n=!0):ft(e)?(f=!0,c=e.some(x=>Il(x)||sy(x)),u=()=>e.map(x=>{if(yr(x))return x.value;if(Il(x))return Hu(x);if(Et(x))return Rl(x,l,2)})):Et(e)?t?u=()=>Rl(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return d&&d(),ki(e,l,3,[h])}:u=yo,t&&n){const x=u;u=()=>Hu(x())}let d,h=x=>{d=y.onStop=()=>{Rl(x,l,4)}},v;if(zv)if(h=yo,t?r&&ki(t,l,3,[u(),f?[]:void 0,h]):u(),a==="sync"){const x=m$();v=x.__watcherHandles||(x.__watcherHandles=[])}else return yo;let p=f?new Array(e.length).fill(nm):nm;const m=()=>{if(y.active)if(t){const x=y.run();(n||c||(f?x.some((w,b)=>Iv(w,p[b])):Iv(x,p)))&&(d&&d(),ki(t,l,3,[x,p===nm?void 0:f&&p[0]===nm?[]:p,h]),p=x)}else y.run()};m.allowRecurse=!!t;let g;a==="sync"?g=m:a==="post"?g=()=>$a(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),g=()=>zT(m));const y=new RT(u,g);t?r?m():p=y.run():a==="post"?$a(y.run.bind(y),l&&l.suspense):y.run();const _=()=>{y.stop(),l&&l.scope&&DT(l.scope.effects,y)};return v&&v.push(_),_}function MG(e,t,r){const n=this.proxy,a=Zr(e)?e.includes(".")?uk(n,e):()=>n[e]:e.bind(n,n);let i;Et(t)?i=t:(i=t.handler,r=t);const o=Ln;td(this);const s=UT(a,i.bind(n),r);return o?td(o):nc(),s}function uk(e,t){const r=t.split(".");return()=>{let n=e;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function Hu(e,t){if(!kr(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),yr(e))Hu(e.value,t);else if(ft(e))for(let r=0;r<e.length;r++)Hu(e[r],t);else if(kO(e)||$f(e))e.forEach(r=>{Hu(r,t)});else if(VO(e))for(const r in e)Hu(e[r],t);return e}function Cr(e,t){const r=Gn;if(r===null)return e;const n=L0(r)||r.proxy,a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,l,u=Fr]=t[i];o&&(Et(o)&&(o={mounted:o,updated:o}),o.deep&&Hu(s),a.push({dir:o,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u}))}return e}function Jl(e,t,r,n){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[n];l&&(Sd(),ki(l,r,8,[e.el,s,e,t]),Td())}}function ck(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qt(()=>{e.isMounted=!0}),Jn(()=>{e.isUnmounting=!0}),e}const pi=[Function,Array],fk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pi,onEnter:pi,onAfterEnter:pi,onEnterCancelled:pi,onBeforeLeave:pi,onLeave:pi,onAfterLeave:pi,onLeaveCancelled:pi,onBeforeAppear:pi,onAppear:pi,onAfterAppear:pi,onAppearCancelled:pi},PG={name:"BaseTransition",props:fk,setup(e,{slots:t}){const r=Pp(),n=ck();let a;return()=>{const i=t.default&&HT(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const p of i)if(p.type!==Ni){o=p;break}}const s=Ct(e),{mode:l}=s;if(n.isLeaving)return e1(o);const u=qA(o);if(!u)return e1(o);const c=Nv(u,s,n,r);Bv(u,c);const f=r.subTree,d=f&&qA(f);let h=!1;const{getTransitionKey:v}=u.type;if(v){const p=v();a===void 0?a=p:p!==a&&(a=p,h=!0)}if(d&&d.type!==Ni&&(!Fu(u,d)||h)){const p=Nv(d,s,n,r);if(Bv(d,p),l==="out-in")return n.isLeaving=!0,p.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},e1(o);l==="in-out"&&u.type!==Ni&&(p.delayLeave=(m,g,y)=>{const _=dk(n,d);_[String(d.key)]=d,m._leaveCb=()=>{g(),m._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=y})}return o}}},LG=PG;function dk(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Nv(e,t,r,n){const{appear:a,mode:i,persisted:o=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:p,onAppear:m,onAfterAppear:g,onAppearCancelled:y}=t,_=String(e.key),x=dk(r,e),w=(S,A)=>{S&&ki(S,n,9,A)},b=(S,A)=>{const M=A[1];w(S,A),ft(S)?S.every(C=>C.length<=1)&&M():S.length<=1&&M()},T={mode:i,persisted:o,beforeEnter(S){let A=s;if(!r.isMounted)if(a)A=p||s;else return;S._leaveCb&&S._leaveCb(!0);const M=x[_];M&&Fu(e,M)&&M.el._leaveCb&&M.el._leaveCb(),w(A,[S])},enter(S){let A=l,M=u,C=c;if(!r.isMounted)if(a)A=m||l,M=g||u,C=y||c;else return;let D=!1;const P=S._enterCb=I=>{D||(D=!0,I?w(C,[S]):w(M,[S]),T.delayedLeave&&T.delayedLeave(),S._enterCb=void 0)};A?b(A,[S,P]):P()},leave(S,A){const M=String(e.key);if(S._enterCb&&S._enterCb(!0),r.isUnmounting)return A();w(f,[S]);let C=!1;const D=S._leaveCb=P=>{C||(C=!0,A(),P?w(v,[S]):w(h,[S]),S._leaveCb=void 0,x[M]===e&&delete x[M])};x[M]=e,d?b(d,[S,D]):D()},clone(S){return Nv(S,t,r,n)}};return T}function e1(e){if(E0(e))return e=Os(e),e.children=null,e}function qA(e){return E0(e)?e.children?e.children[0]:void 0:e}function Bv(e,t){e.shapeFlag&6&&e.component?Bv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function HT(e,t=!1,r){let n=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Ce?(o.patchFlag&128&&a++,n=n.concat(HT(o.children,t,s))):(t||o.type!==Ni)&&n.push(s!=null?Os(o,{key:s}):o)}if(a>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function or(e,t){return Et(e)?(()=>_n({name:e.name},t,{setup:e}))():e}const iv=e=>!!e.type.__asyncLoader,E0=e=>e.type.__isKeepAlive;function hk(e,t){pk(e,"a",t)}function vk(e,t){pk(e,"da",t)}function pk(e,t,r=Ln){const n=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(D0(t,n,r),r){let a=r.parent;for(;a&&a.parent;)E0(a.parent.vnode)&&IG(n,t,r,a),a=a.parent}}function IG(e,t,r,n){const a=D0(t,e,n,!0);Dp(()=>{DT(n[t],a)},r)}function D0(e,t,r=Ln,n=!1){if(r){const a=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;Sd(),td(r);const s=ki(t,r,e,o);return nc(),Td(),s});return n?a.unshift(i):a.push(i),i}}const Us=e=>(t,r=Ln)=>(!zv||e==="sp")&&D0(e,(...n)=>t(...n),r),M0=Us("bm"),Qt=Us("m"),GT=Us("bu"),mk=Us("u"),Jn=Us("bum"),Dp=Us("um"),RG=Us("sp"),OG=Us("rtg"),kG=Us("rtc");function NG(e,t=Ln){D0("ec",e,t)}const $T="components",BG="directives";function Fe(e,t){return YT($T,e,!0,t)||e}const gk=Symbol.for("v-ndc");function WT(e){return Zr(e)?YT($T,e,!1)||e:e||gk}function Ja(e){return YT(BG,e)}function YT(e,t,r=!0,n=!1){const a=Gn||Ln;if(a){const i=a.type;if(e===$T){const s=h$(i,!1);if(s&&(s===t||s===Gi(t)||s===zs(Gi(t))))return i}const o=ZA(a[e]||i[e],t)||ZA(a.appContext[e],t);return!o&&n?i:o}}function ZA(e,t){return e&&(e[t]||e[Gi(t)]||e[zs(Gi(t))])}function an(e,t,r,n){let a;const i=r&&r[n];if(ft(e)||Zr(e)){a=new Array(e.length);for(let o=0,s=e.length;o<s;o++)a[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i&&i[o])}else if(kr(e))if(e[Symbol.iterator])a=Array.from(e,(o,s)=>t(o,s,void 0,i&&i[s]));else{const o=Object.keys(e);a=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const u=o[s];a[s]=t(e[u],u,s,i&&i[s])}}else a=[];return r&&(r[n]=a),a}function Ya(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(ft(n))for(let a=0;a<n.length;a++)e[n[a].name]=n[a].fn;else n&&(e[n.name]=n.key?(...a)=>{const i=n.fn(...a);return i&&(i.key=n.key),i}:n.fn)}return e}function Ye(e,t,r={},n,a){if(Gn.isCE||Gn.parent&&iv(Gn.parent)&&Gn.parent.isCE)return t!=="default"&&(r.name=t),E("slot",r,n&&n());let i=e[t];i&&i._c&&(i._d=!1),ee();const o=i&&yk(i(r)),s=Me(Ce,{key:r.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!a&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function yk(e){return e.some(t=>cy(t)?!(t.type===Ni||t.type===Ce&&!yk(t.children)):!0)?e:null}const jb=e=>e?Pk(e)?L0(e)||e.proxy:jb(e.parent):null,ov=_n(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jb(e.parent),$root:e=>jb(e.root),$emit:e=>e.emit,$options:e=>jT(e),$forceUpdate:e=>e.f||(e.f=()=>zT(e.update)),$nextTick:e=>e.n||(e.n=Ot.bind(e.proxy)),$watch:e=>MG.bind(e)}),t1=(e,t)=>e!==Fr&&!e.__isScriptSetup&&Jt(e,t),VG={get({_:e},t){const{ctx:r,setupState:n,data:a,props:i,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return a[t];case 4:return r[t];case 3:return i[t]}else{if(t1(n,t))return o[t]=1,n[t];if(a!==Fr&&Jt(a,t))return o[t]=2,a[t];if((u=e.propsOptions[0])&&Jt(u,t))return o[t]=3,i[t];if(r!==Fr&&Jt(r,t))return o[t]=4,r[t];qb&&(o[t]=0)}}const c=ov[t];let f,d;if(c)return t==="$attrs"&&Qa(e,"get",t),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(r!==Fr&&Jt(r,t))return o[t]=4,r[t];if(d=l.config.globalProperties,Jt(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:a,ctx:i}=e;return t1(a,t)?(a[t]=r,!0):n!==Fr&&Jt(n,t)?(n[t]=r,!0):Jt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:a,propsOptions:i}},o){let s;return!!r[o]||e!==Fr&&Jt(e,o)||t1(t,o)||(s=i[0])&&Jt(s,o)||Jt(n,o)||Jt(ov,o)||Jt(a.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Jt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function XT(){return FG().slots}function FG(){const e=Pp();return e.setupContext||(e.setupContext=Ik(e))}function KA(e){return ft(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let qb=!0;function zG(e){const t=jT(e),r=e.proxy,n=e.ctx;qb=!1,t.beforeCreate&&QA(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:p,deactivated:m,beforeDestroy:g,beforeUnmount:y,destroyed:_,unmounted:x,render:w,renderTracked:b,renderTriggered:T,errorCaptured:S,serverPrefetch:A,expose:M,inheritAttrs:C,components:D,directives:P,filters:I}=t;if(u&&UG(u,n,null),o)for(const H in o){const O=o[H];Et(O)&&(n[H]=O.bind(r))}if(a){const H=a.call(r,r);kr(H)&&(e.data=Tr(H))}if(qb=!0,i)for(const H in i){const O=i[H],L=Et(O)?O.bind(r,r):Et(O.get)?O.get.bind(r,r):yo,F=!Et(O)&&Et(O.set)?O.set.bind(r):yo,X=R({get:L,set:F});Object.defineProperty(n,H,{enumerable:!0,configurable:!0,get:()=>X.value,set:Y=>X.value=Y})}if(s)for(const H in s)_k(s[H],n,r,H);if(l){const H=Et(l)?l.call(r):l;Reflect.ownKeys(H).forEach(O=>{sn(O,H[O])})}c&&QA(c,e,"c");function V(H,O){ft(O)?O.forEach(L=>H(L.bind(r))):O&&H(O.bind(r))}if(V(M0,f),V(Qt,d),V(GT,h),V(mk,v),V(hk,p),V(vk,m),V(NG,S),V(kG,b),V(OG,T),V(Jn,y),V(Dp,x),V(RG,A),ft(M))if(M.length){const H=e.exposed||(e.exposed={});M.forEach(O=>{Object.defineProperty(H,O,{get:()=>r[O],set:L=>r[O]=L})})}else e.exposed||(e.exposed={});w&&e.render===yo&&(e.render=w),C!=null&&(e.inheritAttrs=C),D&&(e.components=D),P&&(e.directives=P)}function UG(e,t,r=yo){ft(e)&&(e=Zb(e));for(const n in e){const a=e[n];let i;kr(a)?"default"in a?i=Dt(a.from||n,a.default,!0):i=Dt(a.from||n):i=Dt(a),yr(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function QA(e,t,r){ki(ft(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function _k(e,t,r,n){const a=n.includes(".")?uk(r,n):()=>r[n];if(Zr(e)){const i=t[e];Et(i)&&Le(a,i)}else if(Et(e))Le(a,e.bind(r));else if(kr(e))if(ft(e))e.forEach(i=>_k(i,t,r,n));else{const i=Et(e.handler)?e.handler.bind(r):t[e.handler];Et(i)&&Le(a,i,e)}}function jT(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!r&&!n?l=t:(l={},a.length&&a.forEach(u=>uy(l,u,o,!0)),uy(l,t,o)),kr(t)&&i.set(t,l),l}function uy(e,t,r,n=!1){const{mixins:a,extends:i}=t;i&&uy(e,i,r,!0),a&&a.forEach(o=>uy(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=HG[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const HG={data:JA,props:eE,emits:eE,methods:Gh,computed:Gh,beforeCreate:Sa,created:Sa,beforeMount:Sa,mounted:Sa,beforeUpdate:Sa,updated:Sa,beforeDestroy:Sa,beforeUnmount:Sa,destroyed:Sa,unmounted:Sa,activated:Sa,deactivated:Sa,errorCaptured:Sa,serverPrefetch:Sa,components:Gh,directives:Gh,watch:$G,provide:JA,inject:GG};function JA(e,t){return t?e?function(){return _n(Et(e)?e.call(this,this):e,Et(t)?t.call(this,this):t)}:t:e}function GG(e,t){return Gh(Zb(e),Zb(t))}function Zb(e){if(ft(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Sa(e,t){return e?[...new Set([].concat(e,t))]:t}function Gh(e,t){return e?_n(Object.create(null),e,t):t}function eE(e,t){return e?ft(e)&&ft(t)?[...new Set([...e,...t])]:_n(Object.create(null),KA(e),KA(t??{})):t}function $G(e,t){if(!e)return t;if(!t)return e;const r=_n(Object.create(null),e);for(const n in t)r[n]=Sa(e[n],t[n]);return r}function xk(){return{app:null,config:{isNativeTag:bH,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let WG=0;function YG(e,t){return function(n,a=null){Et(n)||(n=_n({},n)),a!=null&&!kr(a)&&(a=null);const i=xk(),o=new Set;let s=!1;const l=i.app={_uid:WG++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:g$,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&Et(u.install)?(o.add(u),u.install(l,...c)):Et(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!s){const d=E(n,a);return d.appContext=i,c&&t?t(d,u):e(d,u,f),s=!0,l._container=u,u.__vue_app__=l,L0(d.component)||d.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){Vv=l;try{return u()}finally{Vv=null}}};return l}}let Vv=null;function sn(e,t){if(Ln){let r=Ln.provides;const n=Ln.parent&&Ln.parent.provides;n===r&&(r=Ln.provides=Object.create(n)),r[e]=t}}function Dt(e,t,r=!1){const n=Ln||Gn;if(n||Vv){const a=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Vv._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return r&&Et(t)?t.call(n&&n.proxy):t}}function XG(){return!!(Ln||Gn||Vv)}function jG(e,t,r,n=!1){const a={},i={};iy(i,P0,1),e.propsDefaults=Object.create(null),bk(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);r?e.props=n?a:lG(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function qG(e,t,r,n){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=Ct(a),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(C0(e.emitsOptions,d))continue;const h=t[d];if(l)if(Jt(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const v=Gi(d);a[v]=Kb(l,s,v,h,e,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{bk(e,t,a,i)&&(u=!0);let c;for(const f in s)(!t||!Jt(t,f)&&((c=Pc(f))===f||!Jt(t,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(a[f]=Kb(l,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!Jt(t,f))&&(delete i[f],u=!0)}u&&Rs(e,"set","$attrs")}function bk(e,t,r,n){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Ag(l))continue;const u=t[l];let c;a&&Jt(a,c=Gi(l))?!i||!i.includes(c)?r[c]=u:(s||(s={}))[c]=u:C0(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=Ct(r),u=s||Fr;for(let c=0;c<i.length;c++){const f=i[c];r[f]=Kb(a,l,f,u[f],e,!Jt(u,f))}}return o}function Kb(e,t,r,n,a,i){const o=e[r];if(o!=null){const s=Jt(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Et(l)){const{propsDefaults:u}=a;r in u?n=u[r]:(td(a),n=u[r]=l.call(null,t),nc())}else n=l}o[0]&&(i&&!s?n=!1:o[1]&&(n===""||n===Pc(r))&&(n=!0))}return n}function wk(e,t,r=!1){const n=t.propsCache,a=n.get(e);if(a)return a;const i=e.props,o={},s=[];let l=!1;if(!Et(e)){const c=f=>{l=!0;const[d,h]=wk(f,t,!0);_n(o,d),h&&s.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return kr(e)&&n.set(e,Gf),Gf;if(ft(i))for(let c=0;c<i.length;c++){const f=Gi(i[c]);tE(f)&&(o[f]=Fr)}else if(i)for(const c in i){const f=Gi(c);if(tE(f)){const d=i[c],h=o[f]=ft(d)||Et(d)?{type:d}:_n({},d);if(h){const v=aE(Boolean,h.type),p=aE(String,h.type);h[0]=v>-1,h[1]=p<0||v<p,(v>-1||Jt(h,"default"))&&s.push(f)}}}const u=[o,s];return kr(e)&&n.set(e,u),u}function tE(e){return e[0]!=="$"}function rE(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function nE(e,t){return rE(e)===rE(t)}function aE(e,t){return ft(t)?t.findIndex(r=>nE(r,e)):Et(t)&&nE(t,e)?0:-1}const Sk=e=>e[0]==="_"||e==="$stable",qT=e=>ft(e)?e.map(Fo):[Fo(e)],ZG=(e,t,r)=>{if(t._n)return t;const n=ne((...a)=>qT(t(...a)),r);return n._c=!1,n},Tk=(e,t,r)=>{const n=e._ctx;for(const a in e){if(Sk(a))continue;const i=e[a];if(Et(i))t[a]=ZG(a,i,n);else if(i!=null){const o=qT(i);t[a]=()=>o}}},Ck=(e,t)=>{const r=qT(t);e.slots.default=()=>r},KG=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Ct(t),iy(t,"_",r)):Tk(t,e.slots={})}else e.slots={},t&&Ck(e,t);iy(e.slots,P0,1)},QG=(e,t,r)=>{const{vnode:n,slots:a}=e;let i=!0,o=Fr;if(n.shapeFlag&32){const s=t._;s?r&&s===1?i=!1:(_n(a,t),!r&&s===1&&delete a._):(i=!t.$stable,Tk(t,a)),o=t}else t&&(Ck(e,t),o={default:1});if(i)for(const s in a)!Sk(s)&&!(s in o)&&delete a[s]};function Qb(e,t,r,n,a=!1){if(ft(e)){e.forEach((d,h)=>Qb(d,t&&(ft(t)?t[h]:t),r,n,a));return}if(iv(n)&&!a)return;const i=n.shapeFlag&4?L0(n.component)||n.component.proxy:n.el,o=a?null:i,{i:s,r:l}=e,u=t&&t.r,c=s.refs===Fr?s.refs={}:s.refs,f=s.setupState;if(u!=null&&u!==l&&(Zr(u)?(c[u]=null,Jt(f,u)&&(f[u]=null)):yr(u)&&(u.value=null)),Et(l))Rl(l,s,12,[o,c]);else{const d=Zr(l),h=yr(l);if(d||h){const v=()=>{if(e.f){const p=d?Jt(f,l)?f[l]:c[l]:l.value;a?ft(p)&&DT(p,i):ft(p)?p.includes(i)||p.push(i):d?(c[l]=[i],Jt(f,l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,Jt(f,l)&&(f[l]=o)):h&&(l.value=o,e.k&&(c[e.k]=o))};o?(v.id=-1,$a(v,r)):v()}}}const $a=DG;function JG(e){return e$(e)}function e$(e,t){const r=Gb();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=yo,insertStaticContent:v}=e,p=(B,$,Q,re=null,le=null,de=null,Ae=!1,we=null,Ie=!!$.dynamicChildren)=>{if(B===$)return;B&&!Fu(B,$)&&(re=Z(B),Y(B,le,de,!0),B=null),$.patchFlag===-2&&(Ie=!1,$.dynamicChildren=null);const{type:oe,ref:me,shapeFlag:ge}=$;switch(oe){case Mp:m(B,$,Q,re);break;case Ni:g(B,$,Q,re);break;case r1:B==null&&y($,Q,re,Ae);break;case Ce:D(B,$,Q,re,le,de,Ae,we,Ie);break;default:ge&1?w(B,$,Q,re,le,de,Ae,we,Ie):ge&6?P(B,$,Q,re,le,de,Ae,we,Ie):(ge&64||ge&128)&&oe.process(B,$,Q,re,le,de,Ae,we,Ie,q)}me!=null&&le&&Qb(me,B&&B.ref,de,$||B,!$)},m=(B,$,Q,re)=>{if(B==null)n($.el=s($.children),Q,re);else{const le=$.el=B.el;$.children!==B.children&&u(le,$.children)}},g=(B,$,Q,re)=>{B==null?n($.el=l($.children||""),Q,re):$.el=B.el},y=(B,$,Q,re)=>{[B.el,B.anchor]=v(B.children,$,Q,re,B.el,B.anchor)},_=({el:B,anchor:$},Q,re)=>{let le;for(;B&&B!==$;)le=d(B),n(B,Q,re),B=le;n($,Q,re)},x=({el:B,anchor:$})=>{let Q;for(;B&&B!==$;)Q=d(B),a(B),B=Q;a($)},w=(B,$,Q,re,le,de,Ae,we,Ie)=>{Ae=Ae||$.type==="svg",B==null?b($,Q,re,le,de,Ae,we,Ie):A(B,$,le,de,Ae,we,Ie)},b=(B,$,Q,re,le,de,Ae,we)=>{let Ie,oe;const{type:me,props:ge,shapeFlag:Ze,transition:ot,dirs:Pt}=B;if(Ie=B.el=o(B.type,de,ge&&ge.is,ge),Ze&8?c(Ie,B.children):Ze&16&&S(B.children,Ie,null,re,le,de&&me!=="foreignObject",Ae,we),Pt&&Jl(B,null,re,"created"),T(Ie,B,B.scopeId,Ae,re),ge){for(const qt in ge)qt!=="value"&&!Ag(qt)&&i(Ie,qt,null,ge[qt],de,B.children,re,le,U);"value"in ge&&i(Ie,"value",null,ge.value),(oe=ge.onVnodeBeforeMount)&&Lo(oe,re,B)}Pt&&Jl(B,null,re,"beforeMount");const lr=(!le||le&&!le.pendingBranch)&&ot&&!ot.persisted;lr&&ot.beforeEnter(Ie),n(Ie,$,Q),((oe=ge&&ge.onVnodeMounted)||lr||Pt)&&$a(()=>{oe&&Lo(oe,re,B),lr&&ot.enter(Ie),Pt&&Jl(B,null,re,"mounted")},le)},T=(B,$,Q,re,le)=>{if(Q&&h(B,Q),re)for(let de=0;de<re.length;de++)h(B,re[de]);if(le){let de=le.subTree;if($===de){const Ae=le.vnode;T(B,Ae,Ae.scopeId,Ae.slotScopeIds,le.parent)}}},S=(B,$,Q,re,le,de,Ae,we,Ie=0)=>{for(let oe=Ie;oe<B.length;oe++){const me=B[oe]=we?Tl(B[oe]):Fo(B[oe]);p(null,me,$,Q,re,le,de,Ae,we)}},A=(B,$,Q,re,le,de,Ae)=>{const we=$.el=B.el;let{patchFlag:Ie,dynamicChildren:oe,dirs:me}=$;Ie|=B.patchFlag&16;const ge=B.props||Fr,Ze=$.props||Fr;let ot;Q&&eu(Q,!1),(ot=Ze.onVnodeBeforeUpdate)&&Lo(ot,Q,$,B),me&&Jl($,B,Q,"beforeUpdate"),Q&&eu(Q,!0);const Pt=le&&$.type!=="foreignObject";if(oe?M(B.dynamicChildren,oe,we,Q,re,Pt,de):Ae||O(B,$,we,null,Q,re,Pt,de,!1),Ie>0){if(Ie&16)C(we,$,ge,Ze,Q,re,le);else if(Ie&2&&ge.class!==Ze.class&&i(we,"class",null,Ze.class,le),Ie&4&&i(we,"style",ge.style,Ze.style,le),Ie&8){const lr=$.dynamicProps;for(let qt=0;qt<lr.length;qt++){const Gr=lr[qt],_a=ge[Gr],Do=Ze[Gr];(Do!==_a||Gr==="value")&&i(we,Gr,_a,Do,le,B.children,Q,re,U)}}Ie&1&&B.children!==$.children&&c(we,$.children)}else!Ae&&oe==null&&C(we,$,ge,Ze,Q,re,le);((ot=Ze.onVnodeUpdated)||me)&&$a(()=>{ot&&Lo(ot,Q,$,B),me&&Jl($,B,Q,"updated")},re)},M=(B,$,Q,re,le,de,Ae)=>{for(let we=0;we<$.length;we++){const Ie=B[we],oe=$[we],me=Ie.el&&(Ie.type===Ce||!Fu(Ie,oe)||Ie.shapeFlag&70)?f(Ie.el):Q;p(Ie,oe,me,null,re,le,de,Ae,!0)}},C=(B,$,Q,re,le,de,Ae)=>{if(Q!==re){if(Q!==Fr)for(const we in Q)!Ag(we)&&!(we in re)&&i(B,we,Q[we],null,Ae,$.children,le,de,U);for(const we in re){if(Ag(we))continue;const Ie=re[we],oe=Q[we];Ie!==oe&&we!=="value"&&i(B,we,oe,Ie,Ae,$.children,le,de,U)}"value"in re&&i(B,"value",Q.value,re.value)}},D=(B,$,Q,re,le,de,Ae,we,Ie)=>{const oe=$.el=B?B.el:s(""),me=$.anchor=B?B.anchor:s("");let{patchFlag:ge,dynamicChildren:Ze,slotScopeIds:ot}=$;ot&&(we=we?we.concat(ot):ot),B==null?(n(oe,Q,re),n(me,Q,re),S($.children,Q,me,le,de,Ae,we,Ie)):ge>0&&ge&64&&Ze&&B.dynamicChildren?(M(B.dynamicChildren,Ze,Q,le,de,Ae,we),($.key!=null||le&&$===le.subTree)&&ZT(B,$,!0)):O(B,$,Q,me,le,de,Ae,we,Ie)},P=(B,$,Q,re,le,de,Ae,we,Ie)=>{$.slotScopeIds=we,B==null?$.shapeFlag&512?le.ctx.activate($,Q,re,Ae,Ie):I($,Q,re,le,de,Ae,Ie):k(B,$,Ie)},I=(B,$,Q,re,le,de,Ae)=>{const we=B.component=u$(B,re,le);if(E0(B)&&(we.ctx.renderer=q),c$(we),we.asyncDep){if(le&&le.registerDep(we,V),!B.el){const Ie=we.subTree=E(Ni);g(null,Ie,$,Q)}return}V(we,B,$,Q,le,de,Ae)},k=(B,$,Q)=>{const re=$.component=B.component;if(CG(B,$,Q))if(re.asyncDep&&!re.asyncResolved){H(re,$,Q);return}else re.next=$,gG(re.update),re.update();else $.el=B.el,re.vnode=$},V=(B,$,Q,re,le,de,Ae)=>{const we=()=>{if(B.isMounted){let{next:me,bu:ge,u:Ze,parent:ot,vnode:Pt}=B,lr=me,qt;eu(B,!1),me?(me.el=Pt.el,H(B,me,Ae)):me=Pt,ge&&Eg(ge),(qt=me.props&&me.props.onVnodeBeforeUpdate)&&Lo(qt,ot,me,Pt),eu(B,!0);const Gr=J_(B),_a=B.subTree;B.subTree=Gr,p(_a,Gr,f(_a.el),Z(_a),B,le,de),me.el=Gr.el,lr===null&&AG(B,Gr.el),Ze&&$a(Ze,le),(qt=me.props&&me.props.onVnodeUpdated)&&$a(()=>Lo(qt,ot,me,Pt),le)}else{let me;const{el:ge,props:Ze}=$,{bm:ot,m:Pt,parent:lr}=B,qt=iv($);if(eu(B,!1),ot&&Eg(ot),!qt&&(me=Ze&&Ze.onVnodeBeforeMount)&&Lo(me,lr,$),eu(B,!0),ge&&se){const Gr=()=>{B.subTree=J_(B),se(ge,B.subTree,B,le,null)};qt?$.type.__asyncLoader().then(()=>!B.isUnmounted&&Gr()):Gr()}else{const Gr=B.subTree=J_(B);p(null,Gr,Q,re,B,le,de),$.el=Gr.el}if(Pt&&$a(Pt,le),!qt&&(me=Ze&&Ze.onVnodeMounted)){const Gr=$;$a(()=>Lo(me,lr,Gr),le)}($.shapeFlag&256||lr&&iv(lr.vnode)&&lr.vnode.shapeFlag&256)&&B.a&&$a(B.a,le),B.isMounted=!0,$=Q=re=null}},Ie=B.effect=new RT(we,()=>zT(oe),B.scope),oe=B.update=()=>Ie.run();oe.id=B.uid,eu(B,!0),oe()},H=(B,$,Q)=>{$.component=B;const re=B.vnode.props;B.vnode=$,B.next=null,qG(B,$.props,re,Q),QG(B,$.children,Q),Sd(),XA(),Td()},O=(B,$,Q,re,le,de,Ae,we,Ie=!1)=>{const oe=B&&B.children,me=B?B.shapeFlag:0,ge=$.children,{patchFlag:Ze,shapeFlag:ot}=$;if(Ze>0){if(Ze&128){F(oe,ge,Q,re,le,de,Ae,we,Ie);return}else if(Ze&256){L(oe,ge,Q,re,le,de,Ae,we,Ie);return}}ot&8?(me&16&&U(oe,le,de),ge!==oe&&c(Q,ge)):me&16?ot&16?F(oe,ge,Q,re,le,de,Ae,we,Ie):U(oe,le,de,!0):(me&8&&c(Q,""),ot&16&&S(ge,Q,re,le,de,Ae,we,Ie))},L=(B,$,Q,re,le,de,Ae,we,Ie)=>{B=B||Gf,$=$||Gf;const oe=B.length,me=$.length,ge=Math.min(oe,me);let Ze;for(Ze=0;Ze<ge;Ze++){const ot=$[Ze]=Ie?Tl($[Ze]):Fo($[Ze]);p(B[Ze],ot,Q,null,le,de,Ae,we,Ie)}oe>me?U(B,le,de,!0,!1,ge):S($,Q,re,le,de,Ae,we,Ie,ge)},F=(B,$,Q,re,le,de,Ae,we,Ie)=>{let oe=0;const me=$.length;let ge=B.length-1,Ze=me-1;for(;oe<=ge&&oe<=Ze;){const ot=B[oe],Pt=$[oe]=Ie?Tl($[oe]):Fo($[oe]);if(Fu(ot,Pt))p(ot,Pt,Q,null,le,de,Ae,we,Ie);else break;oe++}for(;oe<=ge&&oe<=Ze;){const ot=B[ge],Pt=$[Ze]=Ie?Tl($[Ze]):Fo($[Ze]);if(Fu(ot,Pt))p(ot,Pt,Q,null,le,de,Ae,we,Ie);else break;ge--,Ze--}if(oe>ge){if(oe<=Ze){const ot=Ze+1,Pt=ot<me?$[ot].el:re;for(;oe<=Ze;)p(null,$[oe]=Ie?Tl($[oe]):Fo($[oe]),Q,Pt,le,de,Ae,we,Ie),oe++}}else if(oe>Ze)for(;oe<=ge;)Y(B[oe],le,de,!0),oe++;else{const ot=oe,Pt=oe,lr=new Map;for(oe=Pt;oe<=Ze;oe++){const We=$[oe]=Ie?Tl($[oe]):Fo($[oe]);We.key!=null&&lr.set(We.key,oe)}let qt,Gr=0;const _a=Ze-Pt+1;let Do=!1,Ql=0;const J=new Array(_a);for(oe=0;oe<_a;oe++)J[oe]=0;for(oe=ot;oe<=ge;oe++){const We=B[oe];if(Gr>=_a){Y(We,le,de,!0);continue}let Ke;if(We.key!=null)Ke=lr.get(We.key);else for(qt=Pt;qt<=Ze;qt++)if(J[qt-Pt]===0&&Fu(We,$[qt])){Ke=qt;break}Ke===void 0?Y(We,le,de,!0):(J[Ke-Pt]=oe+1,Ke>=Ql?Ql=Ke:Do=!0,p(We,$[Ke],Q,null,le,de,Ae,we,Ie),Gr++)}const he=Do?t$(J):Gf;for(qt=he.length-1,oe=_a-1;oe>=0;oe--){const We=Pt+oe,Ke=$[We],Nr=We+1<me?$[We+1].el:re;J[oe]===0?p(null,Ke,Q,Nr,le,de,Ae,we,Ie):Do&&(qt<0||oe!==he[qt]?X(Ke,Q,Nr,2):qt--)}}},X=(B,$,Q,re,le=null)=>{const{el:de,type:Ae,transition:we,children:Ie,shapeFlag:oe}=B;if(oe&6){X(B.component.subTree,$,Q,re);return}if(oe&128){B.suspense.move($,Q,re);return}if(oe&64){Ae.move(B,$,Q,q);return}if(Ae===Ce){n(de,$,Q);for(let ge=0;ge<Ie.length;ge++)X(Ie[ge],$,Q,re);n(B.anchor,$,Q);return}if(Ae===r1){_(B,$,Q);return}if(re!==2&&oe&1&&we)if(re===0)we.beforeEnter(de),n(de,$,Q),$a(()=>we.enter(de),le);else{const{leave:ge,delayLeave:Ze,afterLeave:ot}=we,Pt=()=>n(de,$,Q),lr=()=>{ge(de,()=>{Pt(),ot&&ot()})};Ze?Ze(de,Pt,lr):lr()}else n(de,$,Q)},Y=(B,$,Q,re=!1,le=!1)=>{const{type:de,props:Ae,ref:we,children:Ie,dynamicChildren:oe,shapeFlag:me,patchFlag:ge,dirs:Ze}=B;if(we!=null&&Qb(we,null,Q,B,!0),me&256){$.ctx.deactivate(B);return}const ot=me&1&&Ze,Pt=!iv(B);let lr;if(Pt&&(lr=Ae&&Ae.onVnodeBeforeUnmount)&&Lo(lr,$,B),me&6)N(B.component,Q,re);else{if(me&128){B.suspense.unmount(Q,re);return}ot&&Jl(B,null,$,"beforeUnmount"),me&64?B.type.remove(B,$,Q,le,q,re):oe&&(de!==Ce||ge>0&&ge&64)?U(oe,$,Q,!1,!0):(de===Ce&&ge&384||!le&&me&16)&&U(Ie,$,Q),re&&G(B)}(Pt&&(lr=Ae&&Ae.onVnodeUnmounted)||ot)&&$a(()=>{lr&&Lo(lr,$,B),ot&&Jl(B,null,$,"unmounted")},Q)},G=B=>{const{type:$,el:Q,anchor:re,transition:le}=B;if($===Ce){z(Q,re);return}if($===r1){x(B);return}const de=()=>{a(Q),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(B.shapeFlag&1&&le&&!le.persisted){const{leave:Ae,delayLeave:we}=le,Ie=()=>Ae(Q,de);we?we(B.el,de,Ie):Ie()}else de()},z=(B,$)=>{let Q;for(;B!==$;)Q=d(B),a(B),B=Q;a($)},N=(B,$,Q)=>{const{bum:re,scope:le,update:de,subTree:Ae,um:we}=B;re&&Eg(re),le.stop(),de&&(de.active=!1,Y(Ae,B,$,Q)),we&&$a(we,$),$a(()=>{B.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},U=(B,$,Q,re=!1,le=!1,de=0)=>{for(let Ae=de;Ae<B.length;Ae++)Y(B[Ae],$,Q,re,le)},Z=B=>B.shapeFlag&6?Z(B.component.subTree):B.shapeFlag&128?B.suspense.next():d(B.anchor||B.el),K=(B,$,Q)=>{B==null?$._vnode&&Y($._vnode,null,null,!0):p($._vnode||null,B,$,null,null,null,Q),XA(),ok(),$._vnode=B},q={p,um:Y,m:X,r:G,mt:I,mc:S,pc:O,pbc:M,n:Z,o:e};let ue,se;return t&&([ue,se]=t(q)),{render:K,hydrate:ue,createApp:YG(K,ue)}}function eu({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function ZT(e,t,r=!1){const n=e.children,a=t.children;if(ft(n)&&ft(a))for(let i=0;i<n.length;i++){const o=n[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=Tl(a[i]),s.el=o.el),r||ZT(o,s)),s.type===Mp&&(s.el=o.el)}}function t$(e){const t=e.slice(),r=[0];let n,a,i,o,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(a=r[r.length-1],e[a]<u){t[n]=a,r.push(n);continue}for(i=0,o=r.length-1;i<o;)s=i+o>>1,e[r[s]]<u?i=s+1:o=s;u<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}const r$=e=>e.__isTeleport,sv=e=>e&&(e.disabled||e.disabled===""),iE=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Jb=(e,t)=>{const r=e&&e.to;return Zr(r)?t?t(r):null:r},n$={__isTeleport:!0,process(e,t,r,n,a,i,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:v,createText:p,createComment:m}}=u,g=sv(t.props);let{shapeFlag:y,children:_,dynamicChildren:x}=t;if(e==null){const w=t.el=p(""),b=t.anchor=p("");h(w,r,n),h(b,r,n);const T=t.target=Jb(t.props,v),S=t.targetAnchor=p("");T&&(h(S,T),o=o||iE(T));const A=(M,C)=>{y&16&&c(_,M,C,a,i,o,s,l)};g?A(r,b):T&&A(T,S)}else{t.el=e.el;const w=t.anchor=e.anchor,b=t.target=e.target,T=t.targetAnchor=e.targetAnchor,S=sv(e.props),A=S?r:b,M=S?w:T;if(o=o||iE(b),x?(d(e.dynamicChildren,x,A,a,i,o,s),ZT(e,t,!0)):l||f(e,t,A,M,a,i,o,s,!1),g)S||am(t,r,w,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const C=t.target=Jb(t.props,v);C&&am(t,C,null,u,0)}else S&&am(t,b,T,u,1)}Ek(t)},remove(e,t,r,n,{um:a,o:{remove:i}},o){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:f,props:d}=e;if(f&&i(c),(o||!sv(d))&&(i(u),s&16))for(let h=0;h<l.length;h++){const v=l[h];a(v,t,r,!0,!!v.dynamicChildren)}},move:am,hydrate:a$};function am(e,t,r,{o:{insert:n},m:a},i=2){i===0&&n(e.targetAnchor,t,r);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=i===2;if(f&&n(o,t,r),(!f||sv(c))&&l&16)for(let d=0;d<u.length;d++)a(u[d],t,r,2);f&&n(s,t,r)}function a$(e,t,r,n,a,i,{o:{nextSibling:o,parentNode:s,querySelector:l}},u){const c=t.target=Jb(t.props,l);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(sv(t.props))t.anchor=u(o(e),t,s(e),r,n,a,i),t.targetAnchor=f;else{t.anchor=o(e);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(f,t,c,r,n,a,i)}Ek(t)}return t.anchor&&o(t.anchor)}const Ak=n$;function Ek(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Ce=Symbol.for("v-fgt"),Mp=Symbol.for("v-txt"),Ni=Symbol.for("v-cmt"),r1=Symbol.for("v-stc"),lv=[];let ho=null;function ee(e=!1){lv.push(ho=e?null:[])}function i$(){lv.pop(),ho=lv[lv.length-1]||null}let Fv=1;function oE(e){Fv+=e}function Dk(e){return e.dynamicChildren=Fv>0?ho||Gf:null,i$(),Fv>0&&ho&&ho.push(e),e}function be(e,t,r,n,a,i){return Dk(Ve(e,t,r,n,a,i,!0))}function Me(e,t,r,n,a){return Dk(E(e,t,r,n,a,!0))}function cy(e){return e?e.__v_isVNode===!0:!1}function Fu(e,t){return e.type===t.type&&e.key===t.key}const P0="__vInternal",Mk=({key:e})=>e??null,Dg=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Zr(e)||yr(e)||Et(e)?{i:Gn,r:e,k:t,f:!!r}:e:null);function Ve(e,t=null,r=null,n=0,a=null,i=e===Ce?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mk(t),ref:t&&Dg(t),scopeId:A0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Gn};return s?(KT(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=Zr(r)?8:16),Fv>0&&!o&&ho&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ho.push(l),l}const E=o$;function o$(e,t=null,r=null,n=0,a=null,i=!1){if((!e||e===gk)&&(e=Ni),cy(e)){const s=Os(e,t,!0);return r&&KT(s,r),Fv>0&&!i&&ho&&(s.shapeFlag&6?ho[ho.indexOf(e)]=s:ho.push(s)),s.patchFlag|=-2,s}if(v$(e)&&(e=e.__vccOpts),t){t=Ai(t);let{class:s,style:l}=t;s&&!Zr(s)&&(t.class=Gt(s)),kr(l)&&(QO(l)&&!ft(l)&&(l=_n({},l)),t.style=Ii(l))}const o=Zr(e)?1:EG(e)?128:r$(e)?64:kr(e)?4:Et(e)?2:0;return Ve(e,t,r,n,a,o,i,!0)}function Ai(e){return e?QO(e)||P0 in e?_n({},e):e:null}function Os(e,t,r=!1){const{props:n,ref:a,patchFlag:i,children:o}=e,s=t?Te(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Mk(s),ref:t&&t.ref?r&&a?ft(a)?a.concat(Dg(t)):[a,Dg(t)]:Dg(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Os(e.ssContent),ssFallback:e.ssFallback&&Os(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Xe(e=" ",t=0){return E(Mp,null,e,t)}function fe(e="",t=!1){return t?(ee(),Me(Ni,null,e)):E(Ni,null,e)}function Fo(e){return e==null||typeof e=="boolean"?E(Ni):ft(e)?E(Ce,null,e.slice()):typeof e=="object"?Tl(e):E(Mp,null,String(e))}function Tl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Os(e)}function KT(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ft(t))r=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),KT(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!(P0 in t)?t._ctx=Gn:a===3&&Gn&&(Gn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Et(t)?(t={default:t,_ctx:Gn},r=32):(t=String(t),n&64?(r=16,t=[Xe(t)]):r=8);e.children=t,e.shapeFlag|=r}function Te(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=Gt([t.class,n.class]));else if(a==="style")t.style=Ii([t.style,n.style]);else if(_0(a)){const i=t[a],o=n[a];o&&i!==o&&!(ft(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=n[a])}return t}function Lo(e,t,r,n=null){ki(e,t,7,[r,n])}const s$=xk();let l$=0;function u$(e,t,r){const n=e.type,a=(t?t.appContext:e.appContext)||s$,i={uid:l$++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new UO(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wk(n,a),emitsOptions:lk(n,a),emit:null,emitted:null,propsDefaults:Fr,inheritAttrs:n.inheritAttrs,ctx:Fr,data:Fr,props:Fr,attrs:Fr,slots:Fr,refs:Fr,setupState:Fr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=xG.bind(null,i),e.ce&&e.ce(i),i}let Ln=null;const Pp=()=>Ln||Gn;let QT,Yc,sE="__VUE_INSTANCE_SETTERS__";(Yc=Gb()[sE])||(Yc=Gb()[sE]=[]),Yc.push(e=>Ln=e),QT=e=>{Yc.length>1?Yc.forEach(t=>t(e)):Yc[0](e)};const td=e=>{QT(e),e.scope.on()},nc=()=>{Ln&&Ln.scope.off(),QT(null)};function Pk(e){return e.vnode.shapeFlag&4}let zv=!1;function c$(e,t=!1){zv=t;const{props:r,children:n}=e.vnode,a=Pk(e);jG(e,r,a,t),KG(e,n);const i=a?f$(e,t):void 0;return zv=!1,i}function f$(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=S0(new Proxy(e.ctx,VG));const{setup:n}=r;if(n){const a=e.setupContext=n.length>1?Ik(e):null;td(e),Sd();const i=Rl(n,e,0,[e.props,a]);if(Td(),nc(),NO(i)){if(i.then(nc,nc),t)return i.then(o=>{lE(e,o,t)}).catch(o=>{T0(o,e,0)});e.asyncDep=i}else lE(e,i,t)}else Lk(e,t)}function lE(e,t,r){Et(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:kr(t)&&(e.setupState=rk(t)),Lk(e,r)}let uE;function Lk(e,t,r){const n=e.type;if(!e.render){if(!t&&uE&&!n.render){const a=n.template||jT(e).template;if(a){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:l}=n,u=_n(_n({isCustomElement:i,delimiters:s},o),l);n.render=uE(a,u)}}e.render=n.render||yo}td(e),Sd(),zG(e),Td(),nc()}function d$(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Qa(e,"get","$attrs"),t[r]}}))}function Ik(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return d$(e)},slots:e.slots,emit:e.emit,expose:t}}function L0(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(rk(S0(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in ov)return ov[r](e)},has(t,r){return r in t||r in ov}}))}function h$(e,t=!0){return Et(e)?e.displayName||e.name:e.name||t&&e.__name}function v$(e){return Et(e)&&"__vccOpts"in e}const R=(e,t)=>vG(e,t,zv);function $i(e,t,r){const n=arguments.length;return n===2?kr(t)&&!ft(t)?cy(t)?E(e,null,[t]):E(e,t):E(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&cy(r)&&(r=[r]),E(e,t,r))}const p$=Symbol.for("v-scx"),m$=()=>Dt(p$),g$="3.3.4",y$="http://www.w3.org/2000/svg",zu=typeof document<"u"?document:null,cE=zu&&zu.createElement("template"),_$={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const a=t?zu.createElementNS(y$,e):zu.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>zu.createTextNode(e),createComment:e=>zu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zu.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,a,i){const o=r?r.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{cE.innerHTML=n?`<svg>${e}</svg>`:e;const s=cE.content;if(n){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function x$(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function b$(e,t,r){const n=e.style,a=Zr(r);if(r&&!a){if(t&&!Zr(t))for(const i in t)r[i]==null&&ew(n,i,"");for(const i in r)ew(n,i,r[i])}else{const i=n.display;a?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const fE=/\s*!important$/;function ew(e,t,r){if(ft(r))r.forEach(n=>ew(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=w$(e,t);fE.test(r)?e.setProperty(Pc(n),r.replace(fE,""),"important"):e[n]=r}}const dE=["Webkit","Moz","ms"],n1={};function w$(e,t){const r=n1[t];if(r)return r;let n=Gi(t);if(n!=="filter"&&n in e)return n1[t]=n;n=zs(n);for(let a=0;a<dE.length;a++){const i=dE[a]+n;if(i in e)return n1[t]=i}return t}const hE="http://www.w3.org/1999/xlink";function S$(e,t,r,n,a){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(hE,t.slice(6,t.length)):e.setAttributeNS(hE,t,r);else{const i=RH(t);r==null||i&&!FO(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function T$(e,t,r,n,a,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,a,i),e[t]=r??"";return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=r;const u=s==="OPTION"?e.getAttribute("value"):e.value,c=r??"";u!==c&&(e.value=c),r==null&&e.removeAttribute(t);return}let l=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=FO(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function If(e,t,r,n){e.addEventListener(t,r,n)}function C$(e,t,r,n){e.removeEventListener(t,r,n)}function A$(e,t,r,n,a=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[s,l]=E$(t);if(n){const u=i[t]=P$(n,a);If(e,s,u,l)}else o&&(C$(e,s,o,l),i[t]=void 0)}}const vE=/(?:Once|Passive|Capture)$/;function E$(e){let t;if(vE.test(e)){t={};let n;for(;n=e.match(vE);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pc(e.slice(2)),t]}let a1=0;const D$=Promise.resolve(),M$=()=>a1||(D$.then(()=>a1=0),a1=Date.now());function P$(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ki(L$(n,r.value),t,5,[n])};return r.value=e,r.attached=M$(),r}function L$(e,t){if(ft(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const pE=/^on[a-z]/,I$=(e,t,r,n,a=!1,i,o,s,l)=>{t==="class"?x$(e,n,a):t==="style"?b$(e,r,n):_0(t)?ET(t)||A$(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):R$(e,t,n,a))?T$(e,t,n,i,o,s,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),S$(e,t,n,a))};function R$(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&pE.test(t)&&Et(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||pE.test(t)&&Zr(r)?!1:t in e}const rl="transition",eh="animation",ha=(e,{slots:t})=>$i(LG,Ok(e),t);ha.displayName="Transition";const Rk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},O$=ha.props=_n({},fk,Rk),tu=(e,t=[])=>{ft(e)?e.forEach(r=>r(...t)):e&&e(...t)},mE=e=>e?ft(e)?e.some(t=>t.length>1):e.length>1:!1;function Ok(e){const t={};for(const D in e)D in Rk||(t[D]=e[D]);if(e.css===!1)return t;const{name:r="v",type:n,duration:a,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=e,v=k$(a),p=v&&v[0],m=v&&v[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:_,onLeave:x,onLeaveCancelled:w,onBeforeAppear:b=g,onAppear:T=y,onAppearCancelled:S=_}=t,A=(D,P,I)=>{xl(D,P?c:s),xl(D,P?u:o),I&&I()},M=(D,P)=>{D._isLeaving=!1,xl(D,f),xl(D,h),xl(D,d),P&&P()},C=D=>(P,I)=>{const k=D?T:y,V=()=>A(P,D,I);tu(k,[P,V]),gE(()=>{xl(P,D?l:i),vs(P,D?c:s),mE(k)||yE(P,n,p,V)})};return _n(t,{onBeforeEnter(D){tu(g,[D]),vs(D,i),vs(D,o)},onBeforeAppear(D){tu(b,[D]),vs(D,l),vs(D,u)},onEnter:C(!1),onAppear:C(!0),onLeave(D,P){D._isLeaving=!0;const I=()=>M(D,P);vs(D,f),Nk(),vs(D,d),gE(()=>{D._isLeaving&&(xl(D,f),vs(D,h),mE(x)||yE(D,n,m,I))}),tu(x,[D,I])},onEnterCancelled(D){A(D,!1),tu(_,[D])},onAppearCancelled(D){A(D,!0),tu(S,[D])},onLeaveCancelled(D){M(D),tu(w,[D])}})}function k$(e){if(e==null)return null;if(kr(e))return[i1(e.enter),i1(e.leave)];{const t=i1(e);return[t,t]}}function i1(e){return EH(e)}function vs(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function xl(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function gE(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let N$=0;function yE(e,t,r,n){const a=e._endId=++N$,i=()=>{a===e._endId&&n()};if(r)return setTimeout(i,r);const{type:o,timeout:s,propCount:l}=kk(e,t);if(!o)return n();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function kk(e,t){const r=window.getComputedStyle(e),n=v=>(r[v]||"").split(", "),a=n(`${rl}Delay`),i=n(`${rl}Duration`),o=_E(a,i),s=n(`${eh}Delay`),l=n(`${eh}Duration`),u=_E(s,l);let c=null,f=0,d=0;t===rl?o>0&&(c=rl,f=o,d=i.length):t===eh?u>0&&(c=eh,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?rl:eh:null,d=c?c===rl?i.length:l.length:0);const h=c===rl&&/\b(transform|all)(,|$)/.test(n(`${rl}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function _E(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>xE(r)+xE(e[n])))}function xE(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Nk(){return document.body.offsetHeight}const Bk=new WeakMap,Vk=new WeakMap,Fk={name:"TransitionGroup",props:_n({},O$,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Pp(),n=ck();let a,i;return mk(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!H$(a[0].el,r.vnode.el,o))return;a.forEach(F$),a.forEach(z$);const s=a.filter(U$);Nk(),s.forEach(l=>{const u=l.el,c=u.style;vs(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u._moveCb=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,xl(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Ct(e),s=Ok(o);let l=o.tag||Ce;a=i,i=t.default?HT(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Bv(c,Nv(c,s,n,r))}if(a)for(let u=0;u<a.length;u++){const c=a[u];Bv(c,Nv(c,s,n,r)),Bk.set(c,c.el.getBoundingClientRect())}return E(l,null,i)}}},B$=e=>delete e.mode;Fk.props;const V$=Fk;function F$(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function z$(e){Vk.set(e,e.el.getBoundingClientRect())}function U$(e){const t=Bk.get(e),r=Vk.get(e),n=t.left-r.left,a=t.top-r.top;if(n||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${a}px)`,i.transitionDuration="0s",e}}function H$(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(s=>s&&n.classList.remove(s))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(n);const{hasTransform:i}=kk(n);return a.removeChild(n),i}const bE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ft(t)?r=>Eg(t,r):t};function G$(e){e.target.composing=!0}function wE(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $$={created(e,{modifiers:{lazy:t,trim:r,number:n}},a){e._assign=bE(a);const i=n||a.props&&a.props.type==="number";If(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;r&&(s=s.trim()),i&&(s=Hb(s)),e._assign(s)}),r&&If(e,"change",()=>{e.value=e.value.trim()}),t||(If(e,"compositionstart",G$),If(e,"compositionend",wE),If(e,"change",wE))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:a}},i){if(e._assign=bE(i),e.composing||document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===t||(a||e.type==="number")&&Hb(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},W$=["ctrl","shift","alt","meta"],Y$={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>W$.some(r=>e[`${r}Key`]&&!t.includes(r))},ua=(e,t)=>(r,...n)=>{for(let a=0;a<t.length;a++){const i=Y$[t[a]];if(i&&i(r,t))return}return e(r,...n)},X$={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yt=(e,t)=>r=>{if(!("key"in r))return;const n=Pc(r.key);if(t.some(a=>a===n||X$[a]===n))return e(r)},qa={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):th(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),th(e,!0),n.enter(e)):n.leave(e,()=>{th(e,!1)}):th(e,t))},beforeUnmount(e,{value:t}){th(e,t)}};function th(e,t){e.style.display=t?e._vod:"none"}const j$=_n({patchProp:I$},_$);let SE;function q$(){return SE||(SE=JG(j$))}const Z$=(...e)=>{const t=q$().createApp(...e),{mount:r}=t;return t.mount=n=>{const a=K$(n);if(!a)return;const i=t._component;!Et(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const o=r(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function K$(e){return Zr(e)?document.querySelector(e):e}var Q$=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let zk;const I0=e=>zk=e,Uk=Symbol();function tw(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var uv;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(uv||(uv={}));function J$(){const e=Cp(!0),t=e.run(()=>te({}));let r=[],n=[];const a=S0({install(i){I0(a),a._a=i,i.provide(Uk,a),i.config.globalProperties.$pinia=a,n.forEach(o=>r.push(o)),n=[]},use(i){return!this._a&&!Q$?n.push(i):r.push(i),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return a}const Hk=()=>{};function TE(e,t,r,n=Hk){e.push(t);const a=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!r&&LT()&&da(a),a}function Xc(e,...t){e.slice().forEach(r=>{r(...t)})}const eW=e=>e();function rw(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,n)=>e.set(n,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],a=e[r];tw(a)&&tw(n)&&e.hasOwnProperty(r)&&!yr(n)&&!Il(n)?e[r]=rw(a,n):e[r]=n}return e}const tW=Symbol();function rW(e){return!tw(e)||!e.hasOwnProperty(tW)}const{assign:bl}=Object;function nW(e){return!!(yr(e)&&e.effect)}function aW(e,t,r,n){const{state:a,actions:i,getters:o}=t,s=r.state.value[e];let l;function u(){s||(r.state.value[e]=a?a():{});const c=Ep(r.state.value[e]);return bl(c,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=S0(R(()=>{I0(r);const h=r._s.get(e);return o[d].call(h,h)})),f),{}))}return l=Gk(e,u,t,r,n,!0),l}function Gk(e,t,r={},n,a,i){let o;const s=bl({actions:{}},r),l={deep:!0};let u,c,f=[],d=[],h;const v=n.state.value[e];!i&&!v&&(n.state.value[e]={}),te({});let p;function m(S){let A;u=c=!1,typeof S=="function"?(S(n.state.value[e]),A={type:uv.patchFunction,storeId:e,events:h}):(rw(n.state.value[e],S),A={type:uv.patchObject,payload:S,storeId:e,events:h});const M=p=Symbol();Ot().then(()=>{p===M&&(u=!0)}),c=!0,Xc(f,A,n.state.value[e])}const g=i?function(){const{state:A}=r,M=A?A():{};this.$patch(C=>{bl(C,M)})}:Hk;function y(){o.stop(),f=[],d=[],n._s.delete(e)}function _(S,A){return function(){I0(n);const M=Array.from(arguments),C=[],D=[];function P(V){C.push(V)}function I(V){D.push(V)}Xc(d,{args:M,name:S,store:w,after:P,onError:I});let k;try{k=A.apply(this&&this.$id===e?this:w,M)}catch(V){throw Xc(D,V),V}return k instanceof Promise?k.then(V=>(Xc(C,V),V)).catch(V=>(Xc(D,V),Promise.reject(V))):(Xc(C,k),k)}}const x={_p:n,$id:e,$onAction:TE.bind(null,d),$patch:m,$reset:g,$subscribe(S,A={}){const M=TE(f,S,A.detached,()=>C()),C=o.run(()=>Le(()=>n.state.value[e],D=>{(A.flush==="sync"?c:u)&&S({storeId:e,type:uv.direct,events:h},D)},bl({},l,A)));return M},$dispose:y},w=Tr(x);n._s.set(e,w);const b=n._a&&n._a.runWithContext||eW,T=n._e.run(()=>(o=Cp(),b(()=>o.run(t))));for(const S in T){const A=T[S];if(yr(A)&&!nW(A)||Il(A))i||(v&&rW(A)&&(yr(A)?A.value=v[S]:rw(A,v[S])),n.state.value[e][S]=A);else if(typeof A=="function"){const M=_(S,A);T[S]=M,s.actions[S]=A}}return bl(w,T),bl(Ct(w),T),Object.defineProperty(w,"$state",{get:()=>n.state.value[e],set:S=>{m(A=>{bl(A,S)})}}),n._p.forEach(S=>{bl(w,o.run(()=>S({store:w,app:n._a,pinia:n,options:s})))}),v&&i&&r.hydrate&&r.hydrate(w.$state,v),u=!0,c=!0,w}function $k(e,t,r){let n,a;const i=typeof t=="function";typeof e=="string"?(n=e,a=i?r:t):(a=e,n=e.id);function o(s,l){const u=XG();return s=s||(u?Dt(Uk,null):null),s&&I0(s),s=zk,s._s.has(n)||(i?Gk(n,t,a,s):aW(n,a,s)),s._s.get(n)}return o.$id=n,o}function Wk(e,t){return function(){return e.apply(t,arguments)}}const{toString:iW}=Object.prototype,{getPrototypeOf:JT}=Object,R0=(e=>t=>{const r=iW.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ns=e=>(e=e.toLowerCase(),t=>R0(t)===e),O0=e=>t=>typeof t===e,{isArray:Cd}=Array,Uv=O0("undefined");function oW(e){return e!==null&&!Uv(e)&&e.constructor!==null&&!Uv(e.constructor)&&Bi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Yk=ns("ArrayBuffer");function sW(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Yk(e.buffer),t}const lW=O0("string"),Bi=O0("function"),Xk=O0("number"),k0=e=>e!==null&&typeof e=="object",uW=e=>e===!0||e===!1,Mg=e=>{if(R0(e)!=="object")return!1;const t=JT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cW=ns("Date"),fW=ns("File"),dW=ns("Blob"),hW=ns("FileList"),vW=e=>k0(e)&&Bi(e.pipe),pW=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Bi(e.append)&&((t=R0(e))==="formdata"||t==="object"&&Bi(e.toString)&&e.toString()==="[object FormData]"))},mW=ns("URLSearchParams"),gW=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lp(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Cd(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function jk(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const qk=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Zk=e=>!Uv(e)&&e!==qk;function nw(){const{caseless:e}=Zk(this)&&this||{},t={},r=(n,a)=>{const i=e&&jk(t,a)||a;Mg(t[i])&&Mg(n)?t[i]=nw(t[i],n):Mg(n)?t[i]=nw({},n):Cd(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Lp(arguments[n],r);return t}const yW=(e,t,r,{allOwnKeys:n}={})=>(Lp(t,(a,i)=>{r&&Bi(a)?e[i]=Wk(a,r):e[i]=a},{allOwnKeys:n}),e),_W=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xW=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},bW=(e,t,r,n)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&JT(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},wW=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},SW=e=>{if(!e)return null;if(Cd(e))return e;let t=e.length;if(!Xk(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},TW=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&JT(Uint8Array)),CW=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},AW=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},EW=ns("HTMLFormElement"),DW=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),CE=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),MW=ns("RegExp"),Kk=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Lp(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},PW=e=>{Kk(e,(t,r)=>{if(Bi(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Bi(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},LW=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Cd(e)?n(e):n(String(e).split(t)),r},IW=()=>{},RW=(e,t)=>(e=+e,Number.isFinite(e)?e:t),o1="abcdefghijklmnopqrstuvwxyz",AE="0123456789",Qk={DIGIT:AE,ALPHA:o1,ALPHA_DIGIT:o1+o1.toUpperCase()+AE},OW=(e=16,t=Qk.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function kW(e){return!!(e&&Bi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const NW=e=>{const t=new Array(10),r=(n,a)=>{if(k0(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=Cd(n)?[]:{};return Lp(n,(o,s)=>{const l=r(o,a+1);!Uv(l)&&(i[s]=l)}),t[a]=void 0,i}}return n};return r(e,0)},BW=ns("AsyncFunction"),VW=e=>e&&(k0(e)||Bi(e))&&Bi(e.then)&&Bi(e.catch),pe={isArray:Cd,isArrayBuffer:Yk,isBuffer:oW,isFormData:pW,isArrayBufferView:sW,isString:lW,isNumber:Xk,isBoolean:uW,isObject:k0,isPlainObject:Mg,isUndefined:Uv,isDate:cW,isFile:fW,isBlob:dW,isRegExp:MW,isFunction:Bi,isStream:vW,isURLSearchParams:mW,isTypedArray:TW,isFileList:hW,forEach:Lp,merge:nw,extend:yW,trim:gW,stripBOM:_W,inherits:xW,toFlatObject:bW,kindOf:R0,kindOfTest:ns,endsWith:wW,toArray:SW,forEachEntry:CW,matchAll:AW,isHTMLForm:EW,hasOwnProperty:CE,hasOwnProp:CE,reduceDescriptors:Kk,freezeMethods:PW,toObjectSet:LW,toCamelCase:DW,noop:IW,toFiniteNumber:RW,findKey:jk,global:qk,isContextDefined:Zk,ALPHABET:Qk,generateString:OW,isSpecCompliantForm:kW,toJSONObject:NW,isAsyncFn:BW,isThenable:VW};function er(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}pe.inherits(er,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Jk=er.prototype,eN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eN[e]={value:e}});Object.defineProperties(er,eN);Object.defineProperty(Jk,"isAxiosError",{value:!0});er.from=(e,t,r,n,a,i)=>{const o=Object.create(Jk);return pe.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),er.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const FW=null;function aw(e){return pe.isPlainObject(e)||pe.isArray(e)}function tN(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function EE(e,t,r){return e?e.concat(t).map(function(a,i){return a=tN(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function zW(e){return pe.isArray(e)&&!e.some(aw)}const UW=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function N0(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,m){return!pe.isUndefined(m[p])});const n=r.metaTokens,a=r.visitor||c,i=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(pe.isDate(v))return v.toISOString();if(!l&&pe.isBlob(v))throw new er("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(v)||pe.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,p,m){let g=v;if(v&&!m&&typeof v=="object"){if(pe.endsWith(p,"{}"))p=n?p:p.slice(0,-2),v=JSON.stringify(v);else if(pe.isArray(v)&&zW(v)||(pe.isFileList(v)||pe.endsWith(p,"[]"))&&(g=pe.toArray(v)))return p=tN(p),g.forEach(function(_,x){!(pe.isUndefined(_)||_===null)&&t.append(o===!0?EE([p],x,i):o===null?p:p+"[]",u(_))}),!1}return aw(v)?!0:(t.append(EE(m,p,i),u(v)),!1)}const f=[],d=Object.assign(UW,{defaultVisitor:c,convertValue:u,isVisitable:aw});function h(v,p){if(!pe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),pe.forEach(v,function(g,y){(!(pe.isUndefined(g)||g===null)&&a.call(t,g,pe.isString(y)?y.trim():y,p,d))===!0&&h(g,p?p.concat(y):[y])}),f.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function DE(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function eC(e,t){this._pairs=[],e&&N0(e,this,t)}const rN=eC.prototype;rN.append=function(t,r){this._pairs.push([t,r])};rN.toString=function(t){const r=t?function(n){return t.call(this,n,DE)}:DE;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function HW(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nN(e,t,r){if(!t)return e;const n=r&&r.encode||HW,a=r&&r.serialize;let i;if(a?i=a(t,r):i=pe.isURLSearchParams(t)?t.toString():new eC(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class GW{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ME=GW,aN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$W=typeof URLSearchParams<"u"?URLSearchParams:eC,WW=typeof FormData<"u"?FormData:null,YW=typeof Blob<"u"?Blob:null,XW=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),jW=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vo={isBrowser:!0,classes:{URLSearchParams:$W,FormData:WW,Blob:YW},isStandardBrowserEnv:XW,isStandardBrowserWebWorkerEnv:jW,protocols:["http","https","file","blob","url","data"]};function qW(e,t){return N0(e,new vo.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return vo.isNode&&pe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function ZW(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function KW(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function iN(e){function t(r,n,a,i){let o=r[i++];const s=Number.isFinite(+o),l=i>=r.length;return o=!o&&pe.isArray(a)?a.length:o,l?(pe.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!s):((!a[o]||!pe.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&pe.isArray(a[o])&&(a[o]=KW(a[o])),!s)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(n,a)=>{t(ZW(n),a,r,0)}),r}return null}function QW(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const tC={transitional:aN,adapter:vo.isNode?"http":"xhr",transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=pe.isObject(t);if(i&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return a&&a?JSON.stringify(iN(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qW(t,this.formSerializer).toString();if((s=pe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return N0(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),QW(t)):t}],transformResponse:[function(t){const r=this.transitional||tC.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(t&&pe.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?er.from(s,er.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vo.classes.FormData,Blob:vo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{tC.headers[e]={}});const rC=tC,JW=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e8=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&JW[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},PE=Symbol("internals");function rh(e){return e&&String(e).trim().toLowerCase()}function Pg(e){return e===!1||e==null?e:pe.isArray(e)?e.map(Pg):String(e)}function t8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const r8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function s1(e,t,r,n,a){if(pe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!pe.isString(t)){if(pe.isString(n))return t.indexOf(n)!==-1;if(pe.isRegExp(n))return n.test(t)}}function n8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function a8(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}class B0{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(s,l,u){const c=rh(l);if(!c)throw new Error("header name must be a non-empty string");const f=pe.findKey(a,c);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||l]=Pg(s))}const o=(s,l)=>pe.forEach(s,(u,c)=>i(u,c,l));return pe.isPlainObject(t)||t instanceof this.constructor?o(t,r):pe.isString(t)&&(t=t.trim())&&!r8(t)?o(e8(t),r):t!=null&&i(r,t,n),this}get(t,r){if(t=rh(t),t){const n=pe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return t8(a);if(pe.isFunction(r))return r.call(this,a,n);if(pe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=rh(t),t){const n=pe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||s1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=rh(o),o){const s=pe.findKey(n,o);s&&(!r||s1(n,n[s],s,r))&&(delete n[s],a=!0)}}return pe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||s1(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return pe.forEach(this,(a,i)=>{const o=pe.findKey(n,i);if(o){r[o]=Pg(a),delete r[i];return}const s=t?n8(i):String(i).trim();s!==i&&delete r[i],r[s]=Pg(a),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&pe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[PE]=this[PE]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=rh(o);n[s]||(a8(a,o),n[s]=!0)}return pe.isArray(t)?t.forEach(i):i(t),this}}B0.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(B0.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});pe.freezeMethods(B0);const Ls=B0;function l1(e,t){const r=this||rC,n=t||r,a=Ls.from(n.headers);let i=n.data;return pe.forEach(e,function(s){i=s.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function oN(e){return!!(e&&e.__CANCEL__)}function Ip(e,t,r){er.call(this,e??"canceled",er.ERR_CANCELED,t,r),this.name="CanceledError"}pe.inherits(Ip,er,{__CANCEL__:!0});function i8(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new er("Request failed with status code "+r.status,[er.ERR_BAD_REQUEST,er.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const o8=vo.isStandardBrowserEnv?function(){return{write:function(r,n,a,i,o,s){const l=[];l.push(r+"="+encodeURIComponent(n)),pe.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),pe.isString(i)&&l.push("path="+i),pe.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function s8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function l8(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function sN(e,t){return e&&!s8(t)?l8(e,t):t}const u8=vo.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function a(i){let o=i;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(o){const s=pe.isString(o)?a(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function c8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function f8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=n[i];o||(o=u),r[a]=l,n[a]=u;let f=i,d=0;for(;f!==a;)d+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function LE(e,t){let r=0;const n=f8(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,s=i-r,l=n(s),u=i<=o;r=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:a};c[t?"download":"upload"]=!0,e(c)}}const d8=typeof XMLHttpRequest<"u",h8=d8&&function(e){return new Promise(function(r,n){let a=e.data;const i=Ls.from(e.headers).normalize(),o=e.responseType;let s;function l(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}pe.isFormData(a)&&(vo.isStandardBrowserEnv||vo.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(h+":"+v))}const c=sN(e.baseURL,e.url);u.open(e.method.toUpperCase(),nN(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function f(){if(!u)return;const h=Ls.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:e,request:u};i8(function(g){r(g),l()},function(g){n(g),l()},p),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(n(new er("Request aborted",er.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new er("Network Error",er.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const p=e.transitional||aN;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),n(new er(v,p.clarifyTimeoutError?er.ETIMEDOUT:er.ECONNABORTED,e,u)),u=null},vo.isStandardBrowserEnv){const h=(e.withCredentials||u8(c))&&e.xsrfCookieName&&o8.read(e.xsrfCookieName);h&&i.set(e.xsrfHeaderName,h)}a===void 0&&i.setContentType(null),"setRequestHeader"in u&&pe.forEach(i.toJSON(),function(v,p){u.setRequestHeader(p,v)}),pe.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&o!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",LE(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",LE(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=h=>{u&&(n(!h||h.type?new Ip(null,e,u):h),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const d=c8(c);if(d&&vo.protocols.indexOf(d)===-1){n(new er("Unsupported protocol "+d+":",er.ERR_BAD_REQUEST,e));return}u.send(a||null)})},Lg={http:FW,xhr:h8};pe.forEach(Lg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lN={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let a=0;a<t&&(r=e[a],!(n=pe.isString(r)?Lg[r.toLowerCase()]:r));a++);if(!n)throw n===!1?new er(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(pe.hasOwnProp(Lg,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!pe.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Lg};function u1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ip(null,e)}function IE(e){return u1(e),e.headers=Ls.from(e.headers),e.data=l1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lN.getAdapter(e.adapter||rC.adapter)(e).then(function(n){return u1(e),n.data=l1.call(e,e.transformResponse,n),n.headers=Ls.from(n.headers),n},function(n){return oN(n)||(u1(e),n&&n.response&&(n.response.data=l1.call(e,e.transformResponse,n.response),n.response.headers=Ls.from(n.response.headers))),Promise.reject(n)})}const RE=e=>e instanceof Ls?e.toJSON():e;function rd(e,t){t=t||{};const r={};function n(u,c,f){return pe.isPlainObject(u)&&pe.isPlainObject(c)?pe.merge.call({caseless:f},u,c):pe.isPlainObject(c)?pe.merge({},c):pe.isArray(c)?c.slice():c}function a(u,c,f){if(pe.isUndefined(c)){if(!pe.isUndefined(u))return n(void 0,u,f)}else return n(u,c,f)}function i(u,c){if(!pe.isUndefined(c))return n(void 0,c)}function o(u,c){if(pe.isUndefined(c)){if(!pe.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,f){if(f in t)return n(u,c);if(f in e)return n(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c)=>a(RE(u),RE(c),!0)};return pe.forEach(Object.keys(Object.assign({},e,t)),function(c){const f=l[c]||a,d=f(e[c],t[c],c);pe.isUndefined(d)&&f!==s||(r[c]=d)}),r}const uN="1.5.0",nC={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nC[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const OE={};nC.transitional=function(t,r,n){function a(i,o){return"[Axios v"+uN+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,s)=>{if(t===!1)throw new er(a(o," has been removed"+(r?" in "+r:"")),er.ERR_DEPRECATED);return r&&!OE[o]&&(OE[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,s):!0}};function v8(e,t,r){if(typeof e!="object")throw new er("options must be an object",er.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const s=e[i],l=s===void 0||o(s,i,e);if(l!==!0)throw new er("option "+i+" must be "+l,er.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new er("Unknown option "+i,er.ERR_BAD_OPTION)}}const iw={assertOptions:v8,validators:nC},nl=iw.validators;class fy{constructor(t){this.defaults=t,this.interceptors={request:new ME,response:new ME}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=rd(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&iw.assertOptions(n,{silentJSONParsing:nl.transitional(nl.boolean),forcedJSONParsing:nl.transitional(nl.boolean),clarifyTimeoutError:nl.transitional(nl.boolean)},!1),a!=null&&(pe.isFunction(a)?r.paramsSerializer={serialize:a}:iw.assertOptions(a,{encode:nl.function,serialize:nl.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&pe.merge(i.common,i[r.method]);i&&pe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Ls.concat(o,i);const s=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(l=l&&p.synchronous,s.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,f=0,d;if(!l){const v=[IE.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,u),d=v.length,c=Promise.resolve(r);f<d;)c=c.then(v[f++],v[f++]);return c}d=s.length;let h=r;for(f=0;f<d;){const v=s[f++],p=s[f++];try{h=v(h)}catch(m){p.call(this,m);break}}try{c=IE.call(this,h)}catch(v){return Promise.reject(v)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=rd(this.defaults,t);const r=sN(t.baseURL,t.url);return nN(r,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){fy.prototype[t]=function(r,n){return this.request(rd(n||{},{method:t,url:r,data:(n||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,s){return this.request(rd(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}fy.prototype[t]=r(),fy.prototype[t+"Form"]=r(!0)});const Ig=fy;class aC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{n.subscribe(s),i=s}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,s){n.reason||(n.reason=new Ip(i,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new aC(function(a){t=a}),cancel:t}}}const p8=aC;function m8(e){return function(r){return e.apply(null,r)}}function g8(e){return pe.isObject(e)&&e.isAxiosError===!0}const ow={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ow).forEach(([e,t])=>{ow[t]=e});const y8=ow;function cN(e){const t=new Ig(e),r=Wk(Ig.prototype.request,t);return pe.extend(r,Ig.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return cN(rd(e,a))},r}const An=cN(rC);An.Axios=Ig;An.CanceledError=Ip;An.CancelToken=p8;An.isCancel=oN;An.VERSION=uN;An.toFormData=N0;An.AxiosError=er;An.Cancel=An.CanceledError;An.all=function(t){return Promise.all(t)};An.spread=m8;An.isAxiosError=g8;An.mergeConfig=rd;An.AxiosHeaders=Ls;An.formToJSON=e=>iN(pe.isHTMLForm(e)?new FormData(e):e);An.getAdapter=lN.getAdapter;An.HttpStatusCode=y8;An.default=An;const iC=An,fN="100.0.0.189",dN="3337",hN="http://"+fN+":"+dN,_8="ws://"+fN+":"+dN+"/ws",kE="authentication_done",x8="Authorization",vN="Bearer ",b8=hN+"/v1/login";iC.defaults.baseURL=hN;iC.defaults.withCredentials=!0;const qi=iC.create(),w8=e=>{const t=Hs();return e.headers[x8]=vN+t.state.accessToken,e};qi.interceptors.request.use(w8);qi.interceptors.response.use(e=>e,e=>{if(e.response.status!==401)return Promise.reject(e);const t=Hs();t.clear(),t.loadUser()});const S8=()=>{try{return qi.get("/v1/users")}catch(e){console.log(e)}},T8=()=>{try{return qi.delete("/v1/refresh-token")}catch(e){console.log(e)}},C8=()=>{try{return qi.post("/v1/refresh-token/access-token")}catch(e){console.log(e)}},Hs=$k("users",()=>{const e=Tr({id:"",email:"",name:"",picture:"",accessToken:""}),t=async()=>{const o=await C8();r(o.data)},r=async o=>{if(o==""){a();return}e.accessToken=o.accessToken;const s=await S8();n(s.data)},n=o=>{e.id=o.usersId,e.email=o.email,e.name=o.name,e.picture=o.picture},a=()=>{e.id="",e.email="",e.name="",e.picture="",e.accessToken=""},i=R(()=>e.accessToken!=""&&e.id!="");return{state:e,loadUser:t,clear:a,isLogin:i}});var NE={expireTimes:"1d",path:"; path=/",domain:"",secure:!1,sameSite:"; SameSite=Lax"},A8=function(){function e(){this.current_default_config=NE}return e.prototype.config=function(t){for(var r in this.current_default_config)this.current_default_config[r]=t[r]?t[r]:NE[r]},e.prototype.get=function(t){var r=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(r&&r.substring(0,1)==="{"&&r.substring(r.length-1,r.length)==="}")try{r=JSON.parse(r)}catch{return r}return r},e.prototype.set=function(t,r,n,a,i,o,s){if(t){if(/^(?:expires|max-age|path|domain|secure|SameSite)$/i.test(t))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+t)}else throw new Error("Cookie name is not found in the first argument.");r&&r.constructor===Object&&(r=JSON.stringify(r));var l="";if(n==null&&(n=this.current_default_config.expireTimes?this.current_default_config.expireTimes:""),n&&n!=0)switch(n.constructor){case Number:n===1/0||n===-1?l="; expires=Fri, 31 Dec 9999 23:59:59 GMT":l="; max-age="+n;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(n)){var u=n.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(n.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":l="; max-age="+ +u*2592e3;break;case"d":l="; max-age="+ +u*86400;break;case"h":l="; max-age="+ +u*3600;break;case"min":l="; max-age="+ +u*60;break;case"s":l="; max-age="+u;break;case"y":l="; max-age="+ +u*31104e3;break}}else l="; expires="+n;break;case Date:l="; expires="+n.toUTCString();break}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(r)+l+(i?"; domain="+i:this.current_default_config.domain?this.current_default_config.domain:"")+(a?"; path="+a:this.current_default_config.path?this.current_default_config.path:"; path=/")+(o==null?this.current_default_config.secure?"; Secure":"":o?"; Secure":"")+(s==null?this.current_default_config.sameSite?"; SameSute="+this.current_default_config.sameSite:"":s?"; SameSite="+s:""),this},e.prototype.remove=function(t,r,n){return!t||!this.isKey(t)?!1:(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:this.current_default_config.domain?this.current_default_config.domain:"")+(r?"; path="+r:this.current_default_config.path?this.current_default_config.path:"; path=/")+"; SameSite=Lax",!0)},e.prototype.isKey=function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){if(!document.cookie)return[];for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),r=0;r<t.length;r++)t[r]=decodeURIComponent(t[r]);return t},e}(),c1=null;function E8(){c1==null&&(c1=new A8);var e=Tr(c1);return{cookies:e}}const{cookies:BE}=E8(),V0=e=>{const t=window.open(b8,"_blank","width=400,height=600"),r=setInterval(()=>D8(t,r,e),1e3)},D8=(e,t,r)=>{BE.isKey(kE)&&(clearInterval(t),BE.remove(kE),e==null||e.close(),window.location.href=r)};/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const pN=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ad=e=>pN?Symbol(e):"_vr_"+e,M8=Ad("rvlm"),VE=Ad("rvd"),oC=Ad("r"),sC=Ad("rl"),sw=Ad("rvl"),Rf=typeof window<"u";function P8(e){return e.__esModule||pN&&e[Symbol.toStringTag]==="Module"}const Er=Object.assign;function f1(e,t){const r={};for(const n in t){const a=t[n];r[n]=Array.isArray(a)?a.map(e):e(a)}return r}const cv=()=>{},L8=/\/$/,I8=e=>e.replace(L8,"");function d1(e,t,r="/"){let n,a={},i="",o="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(n=t.slice(0,s),i=t.slice(s+1,l>-1?l:t.length),a=e(i)),l>-1&&(n=n||t.slice(0,l),o=t.slice(l,t.length)),n=N8(n??t,r),{fullPath:n+(i&&"?")+i+o,path:n,query:a,hash:o}}function R8(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function FE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function O8(e,t,r){const n=t.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&nd(t.matched[n],r.matched[a])&&mN(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function nd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function mN(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!k8(e[r],t[r]))return!1;return!0}function k8(e,t){return Array.isArray(e)?zE(e,t):Array.isArray(t)?zE(t,e):e===t}function zE(e,t){return Array.isArray(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function N8(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let a=r.length-1,i,o;for(i=0;i<n.length;i++)if(o=n[i],!(a===1||o==="."))if(o==="..")a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var Hv;(function(e){e.pop="pop",e.push="push"})(Hv||(Hv={}));var fv;(function(e){e.back="back",e.forward="forward",e.unknown=""})(fv||(fv={}));function B8(e){if(!e)if(Rf){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),I8(e)}const V8=/^[^#]+#/;function F8(e,t){return e.replace(V8,"#")+t}function z8(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const F0=()=>({left:window.pageXOffset,top:window.pageYOffset});function U8(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;t=z8(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function UE(e,t){return(history.state?history.state.position-t:-1)+e}const lw=new Map;function H8(e,t){lw.set(e,t)}function G8(e){const t=lw.get(e);return lw.delete(e),t}let $8=()=>location.protocol+"//"+location.host;function gN(e,t){const{pathname:r,search:n,hash:a}=t,i=e.indexOf("#");if(i>-1){let s=a.includes(e.slice(i))?e.slice(i).length:1,l=a.slice(s);return l[0]!=="/"&&(l="/"+l),FE(l,"")}return FE(r,e)+n+a}function W8(e,t,r,n){let a=[],i=[],o=null;const s=({state:d})=>{const h=gN(e,location),v=r.value,p=t.value;let m=0;if(d){if(r.value=h,t.value=d,o&&o===v){o=null;return}m=p?d.position-p.position:0}else n(h);a.forEach(g=>{g(r.value,v,{delta:m,type:Hv.pop,direction:m?m>0?fv.forward:fv.back:fv.unknown})})};function l(){o=r.value}function u(d){a.push(d);const h=()=>{const v=a.indexOf(d);v>-1&&a.splice(v,1)};return i.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(Er({},d.state,{scroll:F0()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:f}}function HE(e,t,r,n=!1,a=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:a?F0():null}}function Y8(e){const{history:t,location:r}=window,n={value:gN(e,r)},a={value:t.state};a.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+l:$8()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),a.value=u}catch(h){console.error(h),r[c?"replace":"assign"](d)}}function o(l,u){const c=Er({},t.state,HE(a.value.back,l,a.value.forward,!0),u,{position:a.value.position});i(l,c,!0),n.value=l}function s(l,u){const c=Er({},a.value,t.state,{forward:l,scroll:F0()});i(c.current,c,!0);const f=Er({},HE(n.value,l,null),{position:c.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:a,push:s,replace:o}}function X8(e){e=B8(e);const t=Y8(e),r=W8(e,t.state,t.location,t.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const a=Er({location:"",base:e,go:n,createHref:F8.bind(null,e)},t,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function j8(e){return typeof e=="string"||e&&typeof e=="object"}function yN(e){return typeof e=="string"||typeof e=="symbol"}const al={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_N=Ad("nf");var GE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(GE||(GE={}));function ad(e,t){return Er(new Error,{type:e,[_N]:!0},t)}function il(e,t){return e instanceof Error&&_N in e&&(t==null||!!(e.type&t))}const $E="[^/]+?",q8={sensitive:!1,strict:!1,start:!0,end:!0},Z8=/[.+*?^${}()[\]/\\]/g;function K8(e,t){const r=Er({},q8,t),n=[];let a=r.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];r.strict&&!u.length&&(a+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(a+="/"),a+=d.value.replace(Z8,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:p,optional:m,regexp:g}=d;i.push({name:v,repeatable:p,optional:m});const y=g||$E;if(y!==$E){h+=10;try{new RegExp(`(${y})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${v}" (${y}): `+x.message)}}let _=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(_=m&&u.length<2?`(?:/${_})`:"/"+_),m&&(_+="?"),a+=_,h+=20,m&&(h+=-8),p&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");const o=new RegExp(a,r.sensitive?"":"i");function s(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",v=i[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:v,repeatable:p,optional:m}=h,g=v in u?u[v]:"";if(Array.isArray(g)&&!p)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const y=Array.isArray(g)?g.join("/"):g;if(!y)if(m)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=y}}return c}return{re:o,score:n,keys:i,parse:s,stringify:l}}function Q8(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function J8(e,t){let r=0;const n=e.score,a=t.score;for(;r<n.length&&r<a.length;){const i=Q8(n[r],a[r]);if(i)return i;r++}return a.length-n.length}const e6={type:0,value:""},t6=/[a-zA-Z0-9_]/;function r6(e){if(!e)return[[]];if(e==="/")return[[e6]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${r})/"${u}": ${h}`)}let r=0,n=r;const a=[];let i;function o(){i&&a.push(i),i=[]}let s=0,l,u="",c="";function f(){u&&(r===0?i.push({type:0,value:u}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:l==="("?r=2:t6.test(l)?d():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),a}function n6(e,t,r){const n=K8(r6(e.path),r),a=Er(n,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function a6(e,t){const r=[],n=new Map;t=YE({strict:!1,end:!0,sensitive:!1},t);function a(c){return n.get(c)}function i(c,f,d){const h=!d,v=o6(c);v.aliasOf=d&&d.record;const p=YE(t,c),m=[v];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const x of _)m.push(Er({},v,{components:d?d.record.components:v.components,path:x,aliasOf:d?d.record:v}))}let g,y;for(const _ of m){const{path:x}=_;if(f&&x[0]!=="/"){const w=f.record.path,b=w[w.length-1]==="/"?"":"/";_.path=f.record.path+(x&&b+x)}if(g=n6(_,f,p),d?d.alias.push(g):(y=y||g,y!==g&&y.alias.push(g),h&&c.name&&!WE(g)&&o(c.name)),"children"in v){const w=v.children;for(let b=0;b<w.length;b++)i(w[b],g,d&&d.children[b])}d=d||g,l(g)}return y?()=>{o(y)}:cv}function o(c){if(yN(c)){const f=n.get(c);f&&(n.delete(c),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(c);f>-1&&(r.splice(f,1),c.record.name&&n.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function s(){return r}function l(c){let f=0;for(;f<r.length&&J8(c,r[f])>=0&&(c.record.path!==r[f].record.path||!xN(c,r[f]));)f++;r.splice(f,0,c),c.record.name&&!WE(c)&&n.set(c.record.name,c)}function u(c,f){let d,h={},v,p;if("name"in c&&c.name){if(d=n.get(c.name),!d)throw ad(1,{location:c});p=d.record.name,h=Er(i6(f.params,d.keys.filter(y=>!y.optional).map(y=>y.name)),c.params),v=d.stringify(h)}else if("path"in c)v=c.path,d=r.find(y=>y.re.test(v)),d&&(h=d.parse(v),p=d.record.name);else{if(d=f.name?n.get(f.name):r.find(y=>y.re.test(f.path)),!d)throw ad(1,{location:c,currentLocation:f});p=d.record.name,h=Er({},f.params,c.params),v=d.stringify(h)}const m=[];let g=d;for(;g;)m.unshift(g.record),g=g.parent;return{name:p,path:v,params:h,matched:m,meta:l6(m)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:s,getRecordMatcher:a}}function i6(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function o6(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:s6(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function s6(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function WE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function l6(e){return e.reduce((t,r)=>Er(t,r.meta),{})}function YE(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function xN(e,t){return t.children.some(r=>r===e||xN(e,r))}const bN=/#/g,u6=/&/g,c6=/\//g,f6=/=/g,d6=/\?/g,wN=/\+/g,h6=/%5B/g,v6=/%5D/g,SN=/%5E/g,p6=/%60/g,TN=/%7B/g,m6=/%7C/g,CN=/%7D/g,g6=/%20/g;function lC(e){return encodeURI(""+e).replace(m6,"|").replace(h6,"[").replace(v6,"]")}function y6(e){return lC(e).replace(TN,"{").replace(CN,"}").replace(SN,"^")}function uw(e){return lC(e).replace(wN,"%2B").replace(g6,"+").replace(bN,"%23").replace(u6,"%26").replace(p6,"`").replace(TN,"{").replace(CN,"}").replace(SN,"^")}function _6(e){return uw(e).replace(f6,"%3D")}function x6(e){return lC(e).replace(bN,"%23").replace(d6,"%3F")}function b6(e){return e==null?"":x6(e).replace(c6,"%2F")}function dy(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function w6(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<n.length;++a){const i=n[a].replace(wN," "),o=i.indexOf("="),s=dy(o<0?i:i.slice(0,o)),l=o<0?null:dy(i.slice(o+1));if(s in t){let u=t[s];Array.isArray(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function XE(e){let t="";for(let r in e){const n=e[r];if(r=_6(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Array.isArray(n)?n.map(i=>i&&uw(i)):[n&&uw(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function S6(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Array.isArray(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return t}function nh(){let e=[];function t(n){return e.push(n),()=>{const a=e.indexOf(n);a>-1&&e.splice(a,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function Cl(e,t,r,n,a){const i=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((o,s)=>{const l=f=>{f===!1?s(ad(4,{from:r,to:t})):f instanceof Error?s(f):j8(f)?s(ad(2,{from:t,to:f})):(i&&n.enterCallbacks[a]===i&&typeof f=="function"&&i.push(f),o())},u=e.call(n&&n.instances[a],t,r,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(f=>s(f))})}function h1(e,t,r,n){const a=[];for(const i of e)for(const o in i.components){let s=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(T6(s)){const u=(s.__vccOpts||s)[t];u&&a.push(Cl(u,r,n,i,o))}else{let l=s();a.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=P8(u)?u.default:u;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&Cl(d,r,n,i,o)()}))}}return a}function T6(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jE(e){const t=Dt(oC),r=Dt(sC),n=R(()=>t.resolve(ie(e.to))),a=R(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=r.matched;if(!c||!f.length)return-1;const d=f.findIndex(nd.bind(null,c));if(d>-1)return d;const h=qE(l[u-2]);return u>1&&qE(c)===h&&f[f.length-1].path!==h?f.findIndex(nd.bind(null,l[u-2])):d}),i=R(()=>a.value>-1&&D6(r.params,n.value.params)),o=R(()=>a.value>-1&&a.value===r.matched.length-1&&mN(r.params,n.value.params));function s(l={}){return E6(l)?t[ie(e.replace)?"replace":"push"](ie(e.to)).catch(cv):Promise.resolve()}return{route:n,href:R(()=>n.value.href),isActive:i,isExactActive:o,navigate:s}}const C6=or({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jE,setup(e,{slots:t}){const r=Tr(jE(e)),{options:n}=Dt(oC),a=R(()=>({[ZE(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[ZE(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&t.default(r);return e.custom?i:$i("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),A6=C6;function E6(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function D6(e,t){for(const r in t){const n=t[r],a=e[r];if(typeof n=="string"){if(n!==a)return!1}else if(!Array.isArray(a)||a.length!==n.length||n.some((i,o)=>i!==a[o]))return!1}return!0}function qE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ZE=(e,t,r)=>e??t??r,M6=or({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:r}){const n=Dt(sw),a=R(()=>e.route||n.value),i=Dt(VE,0),o=R(()=>a.value.matched[i]);sn(VE,i+1),sn(M8,o),sn(sw,a);const s=te();return Le(()=>[s.value,o.value,e.name],([l,u,c],[f,d,h])=>{u&&(u.instances[c]=l,d&&d!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!nd(u,d)||!f)&&(u.enterCallbacks[c]||[]).forEach(v=>v(l))},{flush:"post"}),()=>{const l=a.value,u=o.value,c=u&&u.components[e.name],f=e.name;if(!c)return KE(r.default,{Component:c,route:l});const d=u.props[e.name],h=d?d===!0?l.params:typeof d=="function"?d(l):d:null,p=$i(c,Er({},h,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(u.instances[f]=null)},ref:s}));return KE(r.default,{Component:p,route:l})||p}}});function KE(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const P6=M6;function L6(e){const t=a6(e.routes,e),r=e.parseQuery||w6,n=e.stringifyQuery||XE,a=e.history,i=nh(),o=nh(),s=nh(),l=Oe(al);let u=al;Rf&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=f1.bind(null,N=>""+N),f=f1.bind(null,b6),d=f1.bind(null,dy);function h(N,U){let Z,K;return yN(N)?(Z=t.getRecordMatcher(N),K=U):K=N,t.addRoute(K,Z)}function v(N){const U=t.getRecordMatcher(N);U&&t.removeRoute(U)}function p(){return t.getRoutes().map(N=>N.record)}function m(N){return!!t.getRecordMatcher(N)}function g(N,U){if(U=Er({},U||l.value),typeof N=="string"){const B=d1(r,N,U.path),$=t.resolve({path:B.path},U),Q=a.createHref(B.fullPath);return Er(B,$,{params:d($.params),hash:dy(B.hash),redirectedFrom:void 0,href:Q})}let Z;if("path"in N)Z=Er({},N,{path:d1(r,N.path,U.path).path});else{const B=Er({},N.params);for(const $ in B)B[$]==null&&delete B[$];Z=Er({},N,{params:f(N.params)}),U.params=f(U.params)}const K=t.resolve(Z,U),q=N.hash||"";K.params=c(d(K.params));const ue=R8(n,Er({},N,{hash:y6(q),path:K.path})),se=a.createHref(ue);return Er({fullPath:ue,hash:q,query:n===XE?S6(N.query):N.query||{}},K,{redirectedFrom:void 0,href:se})}function y(N){return typeof N=="string"?d1(r,N,l.value.path):Er({},N)}function _(N,U){if(u!==N)return ad(8,{from:U,to:N})}function x(N){return T(N)}function w(N){return x(Er(y(N),{replace:!0}))}function b(N){const U=N.matched[N.matched.length-1];if(U&&U.redirect){const{redirect:Z}=U;let K=typeof Z=="function"?Z(N):Z;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=y(K):{path:K},K.params={}),Er({query:N.query,hash:N.hash,params:N.params},K)}}function T(N,U){const Z=u=g(N),K=l.value,q=N.state,ue=N.force,se=N.replace===!0,B=b(Z);if(B)return T(Er(y(B),{state:q,force:ue,replace:se}),U||Z);const $=Z;$.redirectedFrom=U;let Q;return!ue&&O8(n,K,Z)&&(Q=ad(16,{to:$,from:K}),F(K,K,!0,!1)),(Q?Promise.resolve(Q):A($,K)).catch(re=>il(re)?il(re,2)?re:L(re):H(re,$,K)).then(re=>{if(re){if(il(re,2))return T(Er(y(re.to),{state:q,force:ue,replace:se}),U||$)}else re=C($,K,!0,se,q);return M($,K,re),re})}function S(N,U){const Z=_(N,U);return Z?Promise.reject(Z):Promise.resolve()}function A(N,U){let Z;const[K,q,ue]=I6(N,U);Z=h1(K.reverse(),"beforeRouteLeave",N,U);for(const B of K)B.leaveGuards.forEach($=>{Z.push(Cl($,N,U))});const se=S.bind(null,N,U);return Z.push(se),jc(Z).then(()=>{Z=[];for(const B of i.list())Z.push(Cl(B,N,U));return Z.push(se),jc(Z)}).then(()=>{Z=h1(q,"beforeRouteUpdate",N,U);for(const B of q)B.updateGuards.forEach($=>{Z.push(Cl($,N,U))});return Z.push(se),jc(Z)}).then(()=>{Z=[];for(const B of N.matched)if(B.beforeEnter&&!U.matched.includes(B))if(Array.isArray(B.beforeEnter))for(const $ of B.beforeEnter)Z.push(Cl($,N,U));else Z.push(Cl(B.beforeEnter,N,U));return Z.push(se),jc(Z)}).then(()=>(N.matched.forEach(B=>B.enterCallbacks={}),Z=h1(ue,"beforeRouteEnter",N,U),Z.push(se),jc(Z))).then(()=>{Z=[];for(const B of o.list())Z.push(Cl(B,N,U));return Z.push(se),jc(Z)}).catch(B=>il(B,8)?B:Promise.reject(B))}function M(N,U,Z){for(const K of s.list())K(N,U,Z)}function C(N,U,Z,K,q){const ue=_(N,U);if(ue)return ue;const se=U===al,B=Rf?history.state:{};Z&&(K||se?a.replace(N.fullPath,Er({scroll:se&&B&&B.scroll},q)):a.push(N.fullPath,q)),l.value=N,F(N,U,Z,se),L()}let D;function P(){D=a.listen((N,U,Z)=>{const K=g(N),q=b(K);if(q){T(Er(q,{replace:!0}),K).catch(cv);return}u=K;const ue=l.value;Rf&&H8(UE(ue.fullPath,Z.delta),F0()),A(K,ue).catch(se=>il(se,12)?se:il(se,2)?(T(se.to,K).then(B=>{il(B,20)&&!Z.delta&&Z.type===Hv.pop&&a.go(-1,!1)}).catch(cv),Promise.reject()):(Z.delta&&a.go(-Z.delta,!1),H(se,K,ue))).then(se=>{se=se||C(K,ue,!1),se&&(Z.delta?a.go(-Z.delta,!1):Z.type===Hv.pop&&il(se,20)&&a.go(-1,!1)),M(K,ue,se)}).catch(cv)})}let I=nh(),k=nh(),V;function H(N,U,Z){L(N);const K=k.list();return K.length?K.forEach(q=>q(N,U,Z)):console.error(N),Promise.reject(N)}function O(){return V&&l.value!==al?Promise.resolve():new Promise((N,U)=>{I.add([N,U])})}function L(N){return V||(V=!N,P(),I.list().forEach(([U,Z])=>N?Z(N):U()),I.reset()),N}function F(N,U,Z,K){const{scrollBehavior:q}=e;if(!Rf||!q)return Promise.resolve();const ue=!Z&&G8(UE(N.fullPath,0))||(K||!Z)&&history.state&&history.state.scroll||null;return Ot().then(()=>q(N,U,ue)).then(se=>se&&U8(se)).catch(se=>H(se,N,U))}const X=N=>a.go(N);let Y;const G=new Set;return{currentRoute:l,addRoute:h,removeRoute:v,hasRoute:m,getRoutes:p,resolve:g,options:e,push:x,replace:w,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:i.add,beforeResolve:o.add,afterEach:s.add,onError:k.add,isReady:O,install(N){const U=this;N.component("RouterLink",A6),N.component("RouterView",P6),N.config.globalProperties.$router=U,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>ie(l)}),Rf&&!Y&&l.value===al&&(Y=!0,x(a.location).catch(q=>{}));const Z={};for(const q in al)Z[q]=R(()=>l.value[q]);N.provide(oC,U),N.provide(sC,Tr(Z)),N.provide(sw,l);const K=N.unmount;G.add(N),N.unmount=function(){G.delete(N),G.size<1&&(u=al,D&&D(),l.value=al,Y=!1,V=!1),K()}}}}function jc(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function I6(e,t){const r=[],n=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const s=t.matched[o];s&&(e.matched.find(u=>nd(u,s))?n.push(s):r.push(s));const l=e.matched[o];l&&(t.matched.find(u=>nd(u,l))||a.push(l))}return[r,n,a]}function Gs(){return Dt(sC)}const R6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAMAAABNO5HnAAAAvVBMVEXh4eGjo6OkpKSpqamrq6vg4ODc3Nzd3d2lpaXf39/T09PU1NTBwcHOzs7ExMS8vLysrKy+vr7R0dHFxcXX19e5ubmzs7O6urrZ2dmnp6fLy8vHx8fY2NjMzMywsLDAwMDa2trV1dWysrLIyMi0tLTCwsLKysrNzc2mpqbJycnQ0NC/v7+tra2qqqrDw8OoqKjGxsa9vb3Pz8+1tbW3t7eurq7e3t62travr6+xsbHS0tK4uLi7u7vW1tbb29sZe/uLAAAG2UlEQVR4XuzcV47dSAyG0Z+KN+ccO+ecHfe/rBl4DMNtd/cNUtXD6DtLIAhCpMiSXwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIhHnfm0cVirHTam884sVu6Q1GvPkf0heq7VE+UF5bt2y97Vat+VlRniev/EVjjp12NlgdEytLWEy5G2hepDYOt7qGob2L23Dd3valPY6dsW+jvaBOKrkm2ldBVrbag+2tYeq1oX6RxYBsF6SY3vA8to8F0roRJaZmFFK2ASWA6CiT6EhuWkoQ9gablZ6l1oW47aWoF8dpvT6FrOunoD5pa7uf6CaslyV6rqD0guzYHLRK/hwJw40Cu4MUdu9Bt8C8yR4Jt+gRbmzEKvUTicFw8kY3NonOg/aJpTTf2AWWBOBTNBkvrmWF+QNDPnZoLUNOeagpKSOVdKhK550BVa5kGLOFfMCxY92ubFuYouNC9CFdyuebKrYrsyL9hcGpgnAxVaXDJPSrGKrGreVFVkU/NmykDJj1sV2Z55s0e74hwtS9k8KvNzxY8ZozvX+L67M4/uVFwT84Kt9CPz6EjFdUqgMyCjCTSHWD4cq7jOzKMzxtGu8ddwxzzaUXHFgXkTxCqwyLyJOON0j9POc/OCpbAj+hU/Zsz9Pbk2T65VbM/mybOKbd882VexjegLPXk0L154uvF/tR5N7RjJB9bvBsLEPJgI5dCcC2P5wL3QlSClJ+bYSSpIqpljh4IkpWNzapzqB3T9vCGBuGUOtWL9hDNPizMYmjND/QIloTkSJvKB4tHRK1iaE0u9hnhgDgxi/QFJZLmLEv0FvbHlbNzTG9ApWa5KHb0J9cByFNT1DhznGOngWO9CvWQ5KdX1AXweWy7Gn/Uh9CLLQdTTCkgPLLODVCshPrSMarHWgUpkGURrl2c83drWbp+0PlRebCsvFW0G+6FtLNzXxlDuXttGrrtlbQPlacvW1ppmCDPOHgJbQ/BwpmyQnh6siHVwcJoqB3iqNx/tHY/N+pPyg7Rz83Xv0n5zuff1ppPKCSS9audf1V6i9QAAAAAAAAAAAAAAAAAAAAAAEMdyAuVeZ9I4H95/uojGgf0QjKOLT/fD88ak0ysrI6SVo9qXRWgrhIsvtaNKqs2hXNlvD0LbSDho71fKWhsxvulf2NYu+jcro42d+e0isMyCxe18R2/D6HQYWY6i4elIryE9brbMgVbzONVP2G3sBeZMsNfYFf5h715302aDIADP2Lw+CIdDQhKcGuIgKKSIk1MSMND7v6zvBvqprdqY3bWfS1itRto/O+52t+KnW+2+OdSYK+5TViS9LxxqyX07p6xUeq7hXl+WPq/AX15QI+9fDryaw5d31EP7HPGqonMb5rmvYwow/upgWTDzKYQ/C2BV3o8oSNTPYVH26FEY7zGDNfnZo0DeOYclwc6jUN4ugBVxZ0HBFp0YJoxaFK41gn7ZGxWYZtDNrSOqEK0dFLscqMbhArXuIioS3UGnHw9U5uEHFCp9quOXUGfrUSFvC11cl0p1nbK+KwHs92yFYyo2DqFEsKdq+wAqhHsqtw+hQHykescY4rnvNOC7g3TPNOEZwt3QiBuINkxpRDqEZFOaMYVgTzTkCWKFGxqyCSHVkqYsIVQQ0ZQogEwJjUkgkvNpjO8g0ZzmzCHRieacIJBLaU7qIE+bBrUhz5YGbSHPmQadIc+EBk0gT48G9SDPPQ06QZ5gQ3M2AQQa0ZwRqtCExz1kClc0ZRVCqFuacguxEhqSQC53pBlHB8HyDY3Y5BDttgnoinRoQgfinZrTuxrxgeodYiiQ+1TOz6HCy4KqLV6gREHVCqjxSsVeociaaq2hyjOVeoYyXarUhTrdZs4VeaQ6j9DIdZsXEhXpU5U+1EqoSALFtlRjC9VGHlXwRlCuTKlAWkK9rEfxehkMCB8o3EMIE1yfovUdrHiKKFb0BEMuPQrVu8CU9xNFOr3DmtcFxVm8wqBsTGHGGUxya4+CeGsHqwZjijEewDAn5Rt9dOdgWzZt6kAqMm/xylpz1EI8i3hF0SxGXQxPvJrTEHXyMuVVTF9QN+WElZuUqKPiyEodC9RV+cbKvJWos0E1TbTe4wB1l89W/GSrWY4G4G4+NUHebhwEkGGYtPgpWskQAkjSXvr8x/xlGz/RKHcr/jOrXYn/1bh0Jh7/mjfpXPALjXC+O/Av7HfzEL+nERbJZME/tpgkRYg/1Mjms48Wf1PrYzbPIIBW8aDY9j/2vsef8vz9R39bDOL/2qlDIwCBGACCOMTLl4klOpP+i4MimFe7DZy7v3rcuaYqej+f3VE1K09+AgAAAAAAAAAAAAAAAAAAAAAAgBf6wsTW1jN3CAAAAABJRU5ErkJggg==",O6=or({__name:"TheNav",setup(e){const t=Hs(),r=Gs(),n=te(r.path);return Xr(()=>{n.value=r.path}),t.loadUser(),(a,i)=>{const o=Fe("v-list-item"),s=Fe("v-list-item-title"),l=Fe("v-list"),u=Fe("v-col"),c=Fe("v-row"),f=Fe("v-divider"),d=Fe("v-navigation-drawer");return ee(),Me(d,{"expand-on-hover":"",rail:"",app:""},{default:ne(()=>[E(c,null,{default:ne(()=>[E(u,null,{default:ne(()=>[E(l,null,{default:ne(()=>[ie(t).state.accessToken!=""?(ee(),Me(o,{key:0,"prepend-avatar":ie(t).state.picture,title:ie(t).state.name,subtitle:ie(t).state.email},null,8,["prepend-avatar","title","subtitle"])):(ee(),Me(o,{key:1,"prepend-avatar":ie(R6),onClick:i[0]||(i[0]=h=>ie(V0)(n.value))},{default:ne(()=>[E(s,{class:"font-weight-bold"},{default:ne(()=>[Xe("")]),_:1})]),_:1},8,["prepend-avatar"]))]),_:1})]),_:1})]),_:1}),E(c,null,{default:ne(()=>[E(f)]),_:1})]),_:1})}}}),Lc=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r},k6={};function N6(e,t){const r=Fe("v-spacer"),n=Fe("RouterView"),a=Fe("v-app-bar");return ee(),Me(a,{app:"",height:"100"},{default:ne(()=>[E(r),E(n,{name:"header"}),E(r)]),_:1})}const B6=Lc(k6,[["render",N6]]),V6={};function F6(e,t){const r=Fe("RouterView"),n=Fe("v-main");return ee(),Me(n,{app:""},{default:ne(()=>[E(r)]),_:1})}const z6=Lc(V6,[["render",F6]]),U6=Ve("span",{class:"font-weight-bold"},"",-1),H6=or({__name:"TheFooter",setup(e){const t=Hs(),r=async()=>{await T8(),t.clear(),window.location.href="/"};return(n,a)=>{const i=Fe("v-icon"),o=Fe("v-btn"),s=Fe("v-bottom-navigation");return ie(t).state.accessToken!=""?(ee(),Me(s,{key:0},{default:ne(()=>[E(o,{onClick:r},{default:ne(()=>[E(i,null,{default:ne(()=>[Xe("mdi-exit-run")]),_:1}),U6]),_:1})]),_:1})):fe("",!0)}}}),G6=or({__name:"App",setup(e){return(t,r)=>{const n=Fe("v-app");return ee(),Me(n,null,{default:ne(()=>[E(B6),E(O6),E(z6,{class:"mt-7"}),E(H6)]),_:1})}}});const $6={};function W6(e,t){const r=Fe("v-progress-circular"),n=Fe("v-row");return ee(),Me(n,{justify:"center",class:"mt-15"},{default:ne(()=>[E(r,{indeterminate:"",color:"pink",size:"400"})]),_:1})}const AN=Lc($6,[["render",W6]]),EN=or({__name:"SearchBox",props:{searchBoxPlaceHolder:{type:String},movieTitleSearchResult:{type:Array}},emits:["search"],setup(e,{emit:t}){const r=te();return Le(r,()=>t("search",r.value)),(n,a)=>{const i=Fe("v-col"),o=Fe("v-autocomplete"),s=Fe("v-row");return ee(),Me(s,null,{default:ne(()=>[E(i,{cols:"2"}),E(i,null,{default:ne(()=>[E(o,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=l=>r.value=l),items:e.movieTitleSearchResult,"item-value":"moviesId",placeholder:e.searchBoxPlaceHolder,"no-data-text":"  .","auto-select-first":"","prepend-inner-icon":"mdi-magnify",rounded:"",variant:"solo"},null,8,["modelValue","items","placeholder"])]),_:1}),E(i,{cols:"2"})]),_:1})}}}),DN=(e,t)=>{try{return qi.get("/v1/movies/",{params:{title:e,isConsiderSomeoneChatroom:t}})}catch(r){console.log(r)}},MN=e=>{try{return qi.get("/v1/movies/",{params:{id:e}})}catch(t){console.log(t)}},Y6=or({__name:"ChatView",setup(e){const t=Hs(),r=a=>wc.push(`/chat/${a}`),n=te([]);return t.isLogin||wc.push("/"),Qt(async()=>{const a=await DN("",!1);n.value=a.data.movies}),(a,i)=>{const o=Fe("v-container");return n.value.length==0?(ee(),Me(o,{key:0},{default:ne(()=>[E(AN)]),_:1})):(ee(),Me(EN,{key:1,searchBoxPlaceHolder:" ","movie-title-search-result":n.value,onSearch:r},null,8,["movie-title-search-result"]))}}}),X6=(e,t)=>{try{return qi.get("/v1/movie-rank/top-ten",{params:{date:e,movieRankType:t}})}catch(r){console.log(r)}},j6=e=>{try{return qi.get("/v1/movie-rank/line-chart/"+e)}catch(t){console.log(t)}},q6=(e,t)=>{try{return qi.get("/v1/movie-rank/line-chart",{params:{startDate:e,endDate:t}})}catch(r){console.log(r)}},Z6=(e,t)=>{try{return qi.get("/v1/movie-rank/pie-chart",{params:{startDate:e,endDate:t}})}catch(r){console.log(r)}},Of=(e,t)=>e.length<=t?e:e.substring(0,t)+"...",PN="/assets/no_img-e31f16bd.jpeg",K6=["textContent"],Q6={key:0,class:"font-weight-bold text-red"},J6=["textContent"],eY=["textContent"],tY=["textContent"],rY=["textContent"],nY=["textContent"],QE=or({__name:"MovieInfoCard",props:{moviesId:{Type:Number,required:!0,default:0},audienceCount:{Type:Number,required:!0,default:1},newRank:{Type:Boolean,required:!0,default:!1},openingDate:{Type:String,required:!0,default:""},poster:{Type:String,required:!0,default:""},rank:{Type:Number,required:!0,default:0},rankIncrement:{Type:Number,required:!0,default:0},title:{Type:String,required:!0,default:""}},setup(e){const t=e,r=R(()=>Of(t.title,13)),n=R(()=>t.audienceCount+""),a=R(()=>`/movie-details/${t.moviesId}`);return(i,o)=>{const s=Fe("v-col"),l=Fe("v-row"),u=Fe("v-img"),c=Fe("RouterLink"),f=Fe("v-container");return ee(),Me(f,{class:"mt-3"},{default:ne(()=>[E(c,{to:a.value},{default:ne(()=>[E(l,{justify:"center",style:{"margin-top":"-50px"}},{default:ne(()=>[E(s,{cols:"4"}),E(s,{class:"text-center"},{default:ne(()=>[Ve("div",{textContent:Rt(e.rank),class:"text-h4 font-weight-bold"},null,8,K6)]),_:1}),E(s,{cols:"4",class:"mt-2"},{default:ne(()=>[e.newRank?(ee(),be("div",Q6,"NEW")):e.rankIncrement>0?(ee(),be("div",{key:1,textContent:Rt(`${e.rankIncrement}`),class:"text-red"},null,8,J6)):e.rankIncrement<0?(ee(),be("div",{key:2,textContent:Rt(`${-e.rankIncrement}`),class:"text-blue"},null,8,eY)):fe("",!0)]),_:1})]),_:1}),E(l,{style:{"margin-top":"-20px"}},{default:ne(()=>[E(s,null,{default:ne(()=>[e.poster==""?(ee(),Me(u,{key:0,src:ie(PN),height:"280px",width:"170px",cover:""},null,8,["src"])):(ee(),Me(u,{key:1,src:e.poster,height:"280px",width:"170px",cover:""},null,8,["src"]))]),_:1})]),_:1}),E(l,{style:{"margin-top":"-10px"}},{default:ne(()=>[Ve("div",{textContent:Rt(r.value),class:"ml-3 font-weight-bold"},null,8,tY)]),_:1}),E(l,{class:"font-weight-bold",style:{"margin-top":"-20px"}},{default:ne(()=>[E(s,{cols:"7"},{default:ne(()=>[Ve("div",{textContent:Rt(e.openingDate),class:"text-grey text-caption"},null,8,rY)]),_:1}),E(s,null,{default:ne(()=>[Ve("div",{textContent:Rt(n.value),class:"text-grey text-caption"},null,8,nY)]),_:1})]),_:1})]),_:1},8,["to"])]),_:1})}}}),id=()=>{const e=new Date,t=e.getDay()==0?7:e.getDay();return new Date(e.setDate(e.getDate()-t))},z0=()=>new Date(id().setDate(id().getDate()-6)),hy=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}${r}${n}`},im=e=>{const t=new Date(e),r={hour:"2-digit",minute:"2-digit",hour12:!1};return new Intl.DateTimeFormat("ko-KR",r).format(t)},aY=()=>{try{return qi.get("/v1/movie-open-api-history")}catch(e){console.log(e)}},LN=$k("movieRankDataRange",()=>{const e=Tr({startDate:"",endDateDaily:""});return{state:e,findMovieDataRange:async()=>{const r=await aY();e.startDate=r.data.startDate,e.endDateDaily=r.data.endDateDaily}}}),qc=or({__name:"RankView",setup(e){const t=Gs(),r=LN(),n=te(),a=te([z0(),id()]),i=te([]),o=te(t.path),s=()=>{const p=u.value==="daily"?n.value:a==null?void 0:a.value[0];return String(p==null?void 0:p.getFullYear()).padStart(2,"0")+String((p==null?void 0:p.getMonth())+1).padStart(2,"0")+String(p==null?void 0:p.getDate()).padStart(2,"0")},l=async()=>{o.value=t.path,r.state.startDate===""&&(r.findMovieDataRange(),n.value=r.state.endDateDaily);const p=await X6(f.value,d.value);i.value=p.data.findMovieRankTopTenResponseDtos},u=R(()=>o.value.split("/")[3]),c=R(()=>o.value.split("/").slice(0,3).join("/")),f=R(s),d=R(()=>o.value.split("/").slice(2,4).join("_").toUpperCase()),h=R(()=>c.value+"/daily"),v=R(()=>c.value+"/weekly");return Xr(l),(p,m)=>{const g=Fe("v-col"),y=Fe("VueDatePicker"),_=Fe("v-tab"),x=Fe("RouterLink"),w=Fe("v-tabs"),b=Fe("v-row");return ee(),be(Ce,null,[E(b,null,{default:ne(()=>[E(g),E(g),E(g,null,{default:ne(()=>[u.value=="daily"?(ee(),Me(y,{key:0,modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=T=>n.value=T),"enable-time-picker":!1,"min-date":ie(r).state.startDate,"max-date":ie(r).state.endDateDaily},null,8,["modelValue","min-date","max-date"])):fe("",!0),u.value=="weekly"?(ee(),Me(y,{key:1,modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=T=>a.value=T),class:"vueDatePickerClass","week-picker":"","min-date":ie(r).state.startDate,"max-date":ie(r).state.endDateDaily},null,8,["modelValue","min-date","max-date"])):fe("",!0)]),_:1}),E(g),E(g,null,{default:ne(()=>[E(w,{modelValue:o.value,"onUpdate:modelValue":m[2]||(m[2]=T=>o.value=T),"selected-class":"text-pink"},{default:ne(()=>[E(x,{to:h.value},{default:ne(()=>[E(_,{class:"font-weight-bold text-h5",value:h.value},{default:ne(()=>[Xe("")]),_:1},8,["value"])]),_:1},8,["to"]),E(x,{to:v.value},{default:ne(()=>[E(_,{class:"font-weight-bold text-h5",value:v.value},{default:ne(()=>[Xe("")]),_:1},8,["value"])]),_:1},8,["to"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),i.value.length!=0?(ee(),Me(b,{key:0},{default:ne(()=>[E(g,{lg:"2",xl:"3"}),(ee(),be(Ce,null,an(5,T=>E(g,{key:T,style:{"margin-left":"-40px"}},{default:ne(()=>[i.value[T-1].moviesId?(ee(),Me(QE,{key:0,"movies-id":i.value[T-1].moviesId,title:i.value[T-1].title,"rank-increment":i.value[T-1].rankIncrement,rank:i.value[T-1].rank,poster:i.value[T-1].poster,"opening-date":i.value[T-1].openingDate,"new-rank":i.value[T-1].newRank,"audience-count":i.value[T-1].audienceCount},null,8,["movies-id","title","rank-increment","rank","poster","opening-date","new-rank","audience-count"])):fe("",!0)]),_:2},1024)),64)),E(g,{lg:"2",xl:"3"})]),_:1})):fe("",!0),i.value.length!=0?(ee(),Me(b,{key:1},{default:ne(()=>[E(g,{lg:"2",xl:"3"}),(ee(),be(Ce,null,an(5,T=>E(g,{key:T,style:{"margin-left":"-40px"}},{default:ne(()=>[i.value[T+4].moviesId?(ee(),Me(QE,{key:0,"movies-id":i.value[T+4].moviesId,title:i.value[T+4].title,"rank-increment":i.value[T+4].rankIncrement,rank:i.value[T+4].rank,poster:i.value[T+4].poster,"opening-date":i.value[T+4].openingDate,"new-rank":i.value[T+4].newRank,"audience-count":i.value[T+4].audienceCount},null,8,["movies-id","title","rank-increment","rank","poster","opening-date","new-rank","audience-count"])):fe("",!0)]),_:2},1024)),64)),E(g,{lg:"2",xl:"3"})]),_:1})):fe("",!0)],64)}}}),JE=or({__name:"TheStatisticsHeader",setup(e){const t=Gs(),r=Hs(),n=te(t.path);return Xr(()=>n.value=t.path),(a,i)=>{const o=Fe("v-tab"),s=Fe("RouterLink"),l=Fe("v-row"),u=Fe("v-tabs");return ee(),be(Ce,null,[E(o,{to:"/rank/total/daily",class:"font-weight-bold text-h4"},{default:ne(()=>[Xe("")]),_:1}),Ve("div",null,[E(l,{justify:"center"},{default:ne(()=>[E(s,{to:"/statistics/line-chart",class:"font-weight-bold text-h4 text-pink mt-16"},{default:ne(()=>[Xe("")]),_:1})]),_:1}),E(l,null,{default:ne(()=>[E(u,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),"selected-class":"text-pink"},{default:ne(()=>[E(s,{to:"/statistics/line-chart"},{default:ne(()=>[E(o,{class:"font-weight-bold text-h5",height:"48",value:"/statistics/line-chart"},{default:ne(()=>[Xe("")]),_:1})]),_:1}),E(s,{to:"/statistics/pie-chart"},{default:ne(()=>[E(o,{class:"font-weight-bold text-h5",height:"48",value:"/statistics/pie-chart"},{default:ne(()=>[Xe("")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),ie(r).isLogin?(ee(),Me(o,{key:0,to:"/chat",class:"font-weight-bold text-h4",value:"/chat"},{default:ne(()=>[Xe("")]),_:1})):(ee(),Me(o,{key:1,class:"font-weight-bold text-h4",onClickCapture:i[1]||(i[1]=ua(c=>ie(V0)("/chat"),["stop"]))},{default:ne(()=>[Xe("")]),_:1})),E(o,{to:"/movie-details",class:"font-weight-bold text-h4"},{default:ne(()=>[Xe("")]),_:1})],64)}}}),Zc=or({__name:"TheRankHeader",props:{periodType:{Type:String,default:"daily"}},setup(e){const t=Gs(),r=te(t.path),n=Hs();return Xr(()=>r.value=t.path),(a,i)=>{const o=Fe("RouterLink"),s=Fe("v-row"),l=Fe("v-tab"),u=Fe("v-tabs");return ee(),be(Ce,null,[Ve("div",null,[E(s,{justify:"center"},{default:ne(()=>[E(o,{to:`/rank/total/${e.periodType}`,class:"font-weight-bold text-h4 text-pink mt-16"},{default:ne(()=>[Xe("")]),_:1},8,["to"])]),_:1}),E(s,null,{default:ne(()=>[E(u,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=c=>r.value=c),"selected-class":"text-pink"},{default:ne(()=>[E(o,{to:`/rank/total/${e.periodType}`},{default:ne(()=>[E(l,{class:"font-weight-bold text-h5",height:"48",value:`/rank/total/${e.periodType}`},{default:ne(()=>[Xe("")]),_:1},8,["value"])]),_:1},8,["to"]),E(o,{to:`/rank/korean/${e.periodType}`},{default:ne(()=>[E(l,{class:"font-weight-bold text-h5",height:"48",value:`/rank/korean/${e.periodType}`},{default:ne(()=>[Xe("")]),_:1},8,["value"])]),_:1},8,["to"]),E(o,{to:`/rank/foreign/${e.periodType}`},{default:ne(()=>[E(l,{class:"font-weight-bold text-h5",height:"48",value:`/rank/foreign/${e.periodType}`},{default:ne(()=>[Xe("")]),_:1},8,["value"])]),_:1},8,["to"])]),_:1},8,["modelValue"])]),_:1})]),E(l,{to:"/statistics/line-chart",class:"font-weight-bold text-h4"},{default:ne(()=>[Xe("")]),_:1}),ie(n).isLogin?(ee(),Me(l,{key:0,to:"/chat",class:"font-weight-bold text-h4",value:"/chat"},{default:ne(()=>[Xe("")]),_:1})):(ee(),Me(l,{key:1,class:"font-weight-bold text-h4",onClickCapture:i[1]||(i[1]=ua(c=>ie(V0)("/chat"),["stop"]))},{default:ne(()=>[Xe("")]),_:1})),E(l,{to:"/movie-details",class:"font-weight-bold text-h4"},{default:ne(()=>[Xe("")]),_:1})],64)}}}),om=or({__name:"TheBasicHeader",setup(e){const t=Gs(),r=te(t.path);Xr(()=>{r.value!=t.path&&(r.value=t.path)});const a=R(()=>t.path.split("/")[1]=="chat"?r.value:""),o=R(()=>r.value.split("/")[1]=="movie-details"?r.value:""),s=Hs();return(l,u)=>{const c=Fe("v-tab"),f=Fe("v-tabs");return ee(),Me(f,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=d=>r.value=d),"selected-class":"text-pink"},{default:ne(()=>[E(c,{to:"/rank/total/daily",class:"font-weight-bold text-h4",value:"/rank/total/daily"},{default:ne(()=>[Xe("")]),_:1}),E(c,{to:"/statistics/line-chart",class:"font-weight-bold text-h4",value:"/statistics/line-chart"},{default:ne(()=>[Xe("")]),_:1}),ie(s).isLogin?(ee(),Me(c,{key:0,to:"/chat",class:"font-weight-bold text-h4",value:a.value},{default:ne(()=>[Xe("")]),_:1},8,["value"])):(ee(),Me(c,{key:1,class:"font-weight-bold text-h4",onClickCapture:u[0]||(u[0]=ua(d=>ie(V0)("/chat"),["stop"]))},{default:ne(()=>[Xe("")]),_:1})),E(c,{to:"/movie-details",class:"font-weight-bold text-h4",value:o.value},{default:ne(()=>[Xe("")]),_:1},8,["value"])]),_:1},8,["modelValue"])}}}),iY=or({__name:"MovieDetailsSearchView",setup(e){const t=te([]);Qt(async()=>{const n=await DN("",!1);t.value=n.data.movies});const r=n=>wc.push(`/movie-details/${n}`);return(n,a)=>{const i=Fe("v-container");return t.value.length==0?(ee(),Me(i,{key:0},{default:ne(()=>[E(AN)]),_:1})):(ee(),Me(EN,{key:1,searchBoxPlaceHolder:" ","movie-title-search-result":t.value,onSearch:r},null,8,["movie-title-search-result"]))}}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cw=function(e,t){return cw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},cw(e,t)};function ut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var oY=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),sY=function(){function e(){this.browser=new oY,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Ou=new sY;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Ou.wxa=!0,Ou.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ou.worker=!0:typeof navigator>"u"?(Ou.node=!0,Ou.svgSupported=!0):lY(navigator.userAgent,Ou);function lY(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),a&&(r.ie=!0,r.version=a[1]),i&&(r.edge=!0,r.version=i[1],r.newEdge=+i[1].split(".")[0]>18),o&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}const Nt=Ou;var uC=12,uY="sans-serif",pc=uC+"px "+uY,cY=20,fY=100,dY="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function hY(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),a=(e.charCodeAt(r)-cY)/fY;t[n]=a}return t}var vY=hY(dY),Ed={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(r,n){if(!e){var a=Ed.createCanvas();e=a&&a.getContext("2d")}if(e)return t!==n&&(t=e.font=n||pc),e.measureText(r);r=r||"",n=n||pc;var i=/(\d+)px/.exec(n),o=i&&+i[1]||uC,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var l=0;l<r.length;l++){var u=vY[r[l]];s+=u==null?o:u*o}return{width:s}}}(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}},IN=Jo(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),RN=Jo(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),Rp=Object.prototype.toString,U0=Array.prototype,pY=U0.forEach,mY=U0.filter,cC=U0.slice,gY=U0.map,eD=(function(){}).constructor,sm=eD?eD.prototype:null,fC="__proto__",yY=2311;function ON(){return yY++}function dC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function Kt(e){if(e==null||typeof e!="object")return e;var t=e,r=Rp.call(e);if(r==="[object Array]"){if(!hv(e)){t=[];for(var n=0,a=e.length;n<a;n++)t[n]=Kt(e[n])}}else if(RN[r]){if(!hv(e)){var i=e.constructor;if(i.from)t=i.from(e);else{t=new i(e.length);for(var n=0,a=e.length;n<a;n++)t[n]=e[n]}}}else if(!IN[r]&&!hv(e)&&!vy(e)){t={};for(var o in e)e.hasOwnProperty(o)&&o!==fC&&(t[o]=Kt(e[o]))}return t}function je(e,t,r){if(!lt(t)||!lt(e))return r?Kt(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==fC){var a=e[n],i=t[n];lt(i)&&lt(a)&&!Ne(i)&&!Ne(a)&&!vy(i)&&!vy(a)&&!tD(i)&&!tD(a)&&!hv(i)&&!hv(a)?je(a,i,r):(r||!(n in e))&&(e[n]=Kt(t[n]))}return e}function De(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==fC&&(e[r]=t[r]);return e}function kt(e,t,r){for(var n=ir(t),a=0;a<n.length;a++){var i=n[a];(r?t[i]!=null:e[i]==null)&&(e[i]=t[i])}return e}function $t(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function hC(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var a in r)r.hasOwnProperty(a)&&(e.prototype[a]=r[a]);e.prototype.constructor=e,e.superClass=t}function li(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a];i!=="constructor"&&(r?t[i]!=null:e[i]==null)&&(e[i]=t[i])}else kt(e,t,r)}function Ba(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function j(e,t,r){if(e&&t)if(e.forEach&&e.forEach===pY)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,a=e.length;n<a;n++)t.call(r,e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(r,e[i],i,e)}function nt(e,t,r){if(!e)return[];if(!t)return vC(e);if(e.map&&e.map===gY)return e.map(t,r);for(var n=[],a=0,i=e.length;a<i;a++)n.push(t.call(r,e[a],a,e));return n}function Jo(e,t,r,n){if(e&&t){for(var a=0,i=e.length;a<i;a++)r=t.call(n,r,e[a],a,e);return r}}function dn(e,t,r){if(!e)return[];if(!t)return vC(e);if(e.filter&&e.filter===mY)return e.filter(t,r);for(var n=[],a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e)&&n.push(e[a]);return n}function ir(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function _Y(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(cC.call(arguments)))}}var Or=sm&&bt(sm.bind)?sm.call.bind(sm.bind):_Y;function zr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(cC.call(arguments)))}}function Ne(e){return Array.isArray?Array.isArray(e):Rp.call(e)==="[object Array]"}function bt(e){return typeof e=="function"}function rt(e){return typeof e=="string"}function fw(e){return Rp.call(e)==="[object String]"}function xr(e){return typeof e=="number"}function lt(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function tD(e){return!!IN[Rp.call(e)]}function si(e){return!!RN[Rp.call(e)]}function vy(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function H0(e){return e.colorStops!=null}function xY(e){return e.image!=null}function py(e){return e!==e}function Gv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function Ft(e,t){return e??t}function dv(e,t,r){return e??t??r}function vC(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return cC.apply(e,t)}function kN(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function es(e,t){if(!e)throw new Error(t)}function Yo(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var NN="__ec_primitive__";function my(e){e[NN]=!0}function hv(e){return e[NN]}var bY=function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return ir(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e}(),BN=typeof Map=="function";function wY(){return BN?new Map:new bY}var SY=function(){function e(t){var r=Ne(t);this.data=wY();var n=this;t instanceof e?t.each(a):t&&j(t,a);function a(i,o){r?n.set(i,o):n.set(o,i)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,a){t.call(r,n,a)})},e.prototype.keys=function(){var t=this.data.keys();return BN?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function xt(e){return new SY(e)}function dw(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var a=e.length,n=0;n<t.length;n++)r[n+a]=t[n];return r}function G0(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&De(r,t),r}function VN(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function At(e,t){return e.hasOwnProperty(t)}function Za(){}var TY=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hw=function(e,t){return hw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},hw(e,t)};function Ar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Dd(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function CY(e){return[e[0],e[1]]}function rD(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function AY(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function EY(e){return Math.sqrt(DY(e))}function DY(e){return e[0]*e[0]+e[1]*e[1]}function v1(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function MY(e,t){var r=EY(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function vw(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var pw=vw;function PY(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Yf=PY;function p1(e,t,r,n){return e[0]=t[0]+n*(r[0]-t[0]),e[1]=t[1]+n*(r[1]-t[1]),e}function fa(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e}function Gu(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function $u(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}var Kc=function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e}(),LY=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Kc(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,a=t.offsetY,i=n-this._x,o=a-this._y;this._x=n,this._y=a,r.drift(i,o,t),this.handler.dispatchToElement(new Kc(r,t),"drag",t.event);var s=this.handler.findHover(n,a,r).target,l=this._dropTarget;this._dropTarget=s,r!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Kc(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Kc(s,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Kc(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Kc(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}();const IY=LY;var RY=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,a){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof r=="function"&&(a=n,n=r,r=null),!n||!t)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),i[t]||(i[t]=[]);for(var s=0;s<i[t].length;s++)if(i[t][s].h===n)return this;var l={h:n,query:r,ctx:a||this,callAtLast:n.zrEventfulCallAtLast},u=i[t].length-1,c=i[t][u];return c&&c.callAtLast?i[t].splice(u,0,l):i[t].push(l),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var a=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!==r&&a.push(n[t][i]);n[t]=a}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var o=r.length,s=a.length,l=0;l<s;l++){var u=a[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,r[0]);break;case 2:u.h.call(u.ctx,r[0],r[1]);break;default:u.h.apply(u.ctx,r);break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var o=r.length,s=r[o-1],l=a.length,u=0;u<l;u++){var c=a[u];if(!(i&&i.filter&&c.query!=null&&!i.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,r[0]);break;case 2:c.h.call(s,r[0],r[1]);break;default:c.h.apply(s,r.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e}();const as=RY;var OY=Math.log(2);function mw(e,t,r,n,a,i){var o=n+"-"+a,s=e.length;if(i.hasOwnProperty(o))return i[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~a)/OY);return e[r][l]}for(var u=n|1<<r,c=r+1;n&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var v=1<<d;v&a||(f+=(h%2?-1:1)*e[r][d]*mw(e,t-1,c,u,a|v,i),h++)}return i[o]=f,f}function nD(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},a=mw(r,8,0,0,0,n);if(a!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*mw(r,7,o===0?1:0,1<<o,1<<s,n)/a*t[o];return function(l,u,c){var f=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/f,l[1]=(u*i[3]+c*i[4]+i[5])/f}}}var aD="___zrEVENTSAVED",m1=[];function kY(e,t,r,n,a){return gw(m1,t,n,a,!0)&&gw(e,r,m1[0],m1[1])}function gw(e,t,r,n,a){if(t.getBoundingClientRect&&Nt.domSupported&&!FN(t)){var i=t[aD]||(t[aD]={}),o=NY(t,i),s=BY(o,i,a);if(s)return s(e,r,n),!0}return!1}function NY(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],a=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",a[u]+":0",n[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),e.appendChild(o),r.push(o)}return r}function BY(e,t,r){for(var n=r?"invTrans":"trans",a=t[n],i=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;o.push(d,h),l=l&&i&&d===i[f]&&h===i[f+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&a?a:(t.srcCoords=o,t[n]=r?nD(s,o):nD(o,s))}function FN(e){return e.nodeName.toUpperCase()==="CANVAS"}var VY=/([&<>"'])/g,FY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function zn(e){return e==null?"":(e+"").replace(VY,function(t,r){return FY[r]})}var zY=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,g1=[],UY=Nt.browser.firefox&&+Nt.browser.version.split(".")[0]<39;function yw(e,t,r,n){return r=r||{},n?iD(e,t,r):UY&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):iD(e,t,r),r}function iD(e,t,r){if(Nt.domSupported&&e.getBoundingClientRect){var n=t.clientX,a=t.clientY;if(FN(e)){var i=e.getBoundingClientRect();r.zrX=n-i.left,r.zrY=a-i.top;return}else if(gw(g1,e,n,a)){r.zrX=g1[0],r.zrY=g1[1];return}}r.zrX=r.zrY=0}function pC(e){return e||window.event}function xi(e,t,r){if(t=pC(t),t.zrX!=null)return t;var n=t.type,a=n&&n.indexOf("touch")>=0;if(a){var o=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&yw(e,o,t,r)}else{yw(e,t,t,r);var i=HY(t);t.zrDelta=i?i/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&zY.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function HY(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var a=Math.abs(n!==0?n:r),i=n>0?-1:n<0?1:r>0?-1:1;return 3*a*i}function GY(e,t,r,n){e.addEventListener(t,r,n)}function $Y(e,t,r,n){e.removeEventListener(t,r,n)}var zN=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0},WY=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var a=t.touches;if(a){for(var i={points:[],touches:[],target:r,event:t},o=0,s=a.length;o<s;o++){var l=a[o],u=yw(n,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},e.prototype._recognize=function(t){for(var r in y1)if(y1.hasOwnProperty(r)){var n=y1[r](this._track,t);if(n)return n}},e}();function oD(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function YY(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var y1={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,a=(e[r-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var i=oD(n)/oD(a);!isFinite(i)&&(i=1),t.pinchScale=i;var o=YY(n);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}};function od(){return[1,0,0,1,0,0]}function $0(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function XY(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ac(e,t,r){var n=t[0]*r[0]+t[2]*r[1],a=t[1]*r[0]+t[3]*r[1],i=t[0]*r[2]+t[2]*r[3],o=t[1]*r[2]+t[3]*r[3],s=t[0]*r[4]+t[2]*r[5]+t[4],l=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e}function _w(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function mC(e,t,r){var n=t[0],a=t[2],i=t[4],o=t[1],s=t[3],l=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+o*u,e[1]=-n*u+o*c,e[2]=a*c+s*u,e[3]=-a*u+c*s,e[4]=c*i+u*l,e[5]=c*l-u*i,e}function jY(e,t,r){var n=r[0],a=r[1];return e[0]=t[0]*n,e[1]=t[1]*a,e[2]=t[2]*n,e[3]=t[3]*a,e[4]=t[4]*n,e[5]=t[5]*a,e}function Md(e,t){var r=t[0],n=t[2],a=t[4],i=t[1],o=t[3],s=t[5],l=r*o-i*n;return l?(l=1/l,e[0]=o*l,e[1]=-i*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*s-o*a)*l,e[5]=(i*a-r*s)*l,e):null}var qY=function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,a){t.x=r.x+n.x*a,t.y=r.y+n.y*a},e.lerp=function(t,r,n,a){var i=1-a;t.x=i*r.x+a*n.x,t.y=i*r.y+a*n.y},e}();const pt=qY;var lm=Math.min,um=Math.max,ru=new pt,nu=new pt,au=new pt,iu=new pt,ah=new pt,ih=new pt,ZY=function(){function e(t,r,n,a){n<0&&(t=t+n,n=-n),a<0&&(r=r+a,a=-a),this.x=t,this.y=r,this.width=n,this.height=a}return e.prototype.union=function(t){var r=lm(t.x,this.x),n=lm(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=um(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=um(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,a=t.height/r.height,i=od();return _w(i,i,[-r.x,-r.y]),jY(i,i,[n,a]),_w(i,i,[t.x,t.y]),i},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,a=n.x,i=n.x+n.width,o=n.y,s=n.y+n.height,l=t.x,u=t.x+t.width,c=t.y,f=t.y+t.height,d=!(i<l||u<a||s<c||f<o);if(r){var h=1/0,v=0,p=Math.abs(i-l),m=Math.abs(u-a),g=Math.abs(s-c),y=Math.abs(f-o),_=Math.min(p,m),x=Math.min(g,y);i<l||u<a?_>v&&(v=_,p<m?pt.set(ih,-p,0):pt.set(ih,m,0)):_<h&&(h=_,p<m?pt.set(ah,p,0):pt.set(ah,-m,0)),s<c||f<o?x>v&&(v=x,g<y?pt.set(ih,0,-g):pt.set(ih,0,y)):_<h&&(h=_,g<y?pt.set(ah,0,g):pt.set(ah,0,-y))}return r&&pt.copy(r,d?ah:ih),d},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var a=n[0],i=n[3],o=n[4],s=n[5];t.x=r.x*a+o,t.y=r.y*i+s,t.width=r.width*a,t.height=r.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}ru.x=au.x=r.x,ru.y=iu.y=r.y,nu.x=iu.x=r.x+r.width,nu.y=au.y=r.y+r.height,ru.transform(n),iu.transform(n),nu.transform(n),au.transform(n),t.x=lm(ru.x,nu.x,au.x,iu.x),t.y=lm(ru.y,nu.y,au.y,iu.y);var l=um(ru.x,nu.x,au.x,iu.x),u=um(ru.y,nu.y,au.y,iu.y);t.width=l-t.x,t.height=u-t.y},e}();const Ut=ZY;var UN="silent";function KY(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:QY}}function QY(){zN(this.event)}var JY=function(e){Ar(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(as),oh=function(){function e(t,r){this.x=t,this.y=r}return e}(),e7=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],_1=new Ut(0,0,0,0),HN=function(e){Ar(t,e);function t(r,n,a,i,o){var s=e.call(this)||this;return s._hovered=new oh(0,0),s.storage=r,s.painter=n,s.painterRoot=i,s._pointerSize=o,a=a||new JY,s.proxy=null,s.setHandlerProxy(a),s._draggingMgr=new IY(s),s}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(j(e7,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,a=r.zrY,i=GN(this,n,a),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=i?new oh(n,a):this.findHover(n,a),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(l,"mousemove",r),u&&u!==s&&this.dispatchToElement(l,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new oh(0,0)},t.prototype.dispatch=function(r,n){var a=this[r];a&&a.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,a){r=r||{};var i=r.target;if(!(i&&i.silent)){for(var o="on"+n,s=KY(n,r,a);i&&(i[o]&&(s.cancelBubble=!!i[o].call(i,s)),i.trigger(n,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},t.prototype.findHover=function(r,n,a){var i=this.storage.getDisplayList(),o=new oh(r,n);if(sD(i,o,r,n,a),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new Ut(r-u,n-u,l,l),f=i.length-1;f>=0;f--){var d=i[f];d!==a&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(_1.copy(d.getBoundingRect()),d.transform&&_1.applyTransform(d.transform),_1.intersect(c)&&s.push(d))}if(s.length)for(var h=4,v=Math.PI/12,p=Math.PI*2,m=0;m<u;m+=h)for(var g=0;g<p;g+=v){var y=r+m*Math.cos(g),_=n+m*Math.sin(g);if(sD(s,o,y,_,a),o.target)return o}}return o},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new WY);var a=this._gestureMgr;n==="start"&&a.clear();var i=a.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&a.clear(),i){var o=i.type;r.gestureEvent=o;var s=new oh;s.target=i.target,this.dispatchToElement(s,o,i.event)}},t}(as);j(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){HN.prototype[e]=function(t){var r=t.zrX,n=t.zrY,a=GN(this,r,n),i,o;if((e!=="mouseup"||!a)&&(i=this.findHover(r,n),o=i.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||pw(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});function t7(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,a=void 0,i=!1;n;){if(n.ignoreClip&&(i=!0),!i){var o=n.getClipPath();if(o&&!o.contain(t,r))return!1;n.silent&&(a=!0)}var s=n.__hostTarget;n=s||n.parent}return a?UN:!0}return!1}function sD(e,t,r,n,a){for(var i=e.length-1;i>=0;i--){var o=e[i],s=void 0;if(o!==a&&!o.ignore&&(s=t7(o,r,n))&&(!t.topTarget&&(t.topTarget=o),s!==UN)){t.target=o;break}}}function GN(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}const r7=HN;var $N=32,sh=7;function n7(e){for(var t=0;e>=$N;)t|=e&1,e>>=1;return e+t}function lD(e,t,r,n){var a=t+1;if(a===r)return 1;if(n(e[a++],e[t])<0){for(;a<r&&n(e[a],e[a-1])<0;)a++;a7(e,t,a)}else for(;a<r&&n(e[a],e[a-1])>=0;)a++;return a-t}function a7(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function uD(e,t,r,n,a){for(n===t&&n++;n<r;n++){for(var i=e[n],o=t,s=n,l;o<s;)l=o+s>>>1,a(i,e[l])<0?s=l:o=l+1;var u=n-o;switch(u){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;u>0;)e[o+u]=e[o+u-1],u--}e[o]=i}}function x1(e,t,r,n,a,i){var o=0,s=0,l=1;if(i(e,t[r+a])>0){for(s=n-a;l<s&&i(e,t[r+a+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}else{for(s=a+1;l<s&&i(e,t[r+a-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[r+c])>0?o=c+1:l=c}return l}function b1(e,t,r,n,a,i){var o=0,s=0,l=1;if(i(e,t[r+a])<0){for(s=a+1;l<s&&i(e,t[r+a-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}else{for(s=n-a;l<s&&i(e,t[r+a+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[r+c])<0?l=c:o=c+1}return l}function i7(e,t){var r=sh,n,a,i=0;e.length;var o=[];n=[],a=[];function s(h,v){n[i]=h,a[i]=v,i+=1}function l(){for(;i>1;){var h=i-2;if(h>=1&&a[h-1]<=a[h]+a[h+1]||h>=2&&a[h-2]<=a[h]+a[h-1])a[h-1]<a[h+1]&&h--;else if(a[h]>a[h+1])break;c(h)}}function u(){for(;i>1;){var h=i-2;h>0&&a[h-1]<a[h+1]&&h--,c(h)}}function c(h){var v=n[h],p=a[h],m=n[h+1],g=a[h+1];a[h]=p+g,h===i-3&&(n[h+1]=n[h+2],a[h+1]=a[h+2]),i--;var y=b1(e[m],e,v,p,0,t);v+=y,p-=y,p!==0&&(g=x1(e[v+p-1],e,m,g,g-1,t),g!==0&&(p<=g?f(v,p,m,g):d(v,p,m,g)))}function f(h,v,p,m){var g=0;for(g=0;g<v;g++)o[g]=e[h+g];var y=0,_=p,x=h;if(e[x++]=e[_++],--m===0){for(g=0;g<v;g++)e[x+g]=o[y+g];return}if(v===1){for(g=0;g<m;g++)e[x+g]=e[_+g];e[x+m]=o[y];return}for(var w=r,b,T,S;;){b=0,T=0,S=!1;do if(t(e[_],o[y])<0){if(e[x++]=e[_++],T++,b=0,--m===0){S=!0;break}}else if(e[x++]=o[y++],b++,T=0,--v===1){S=!0;break}while((b|T)<w);if(S)break;do{if(b=b1(e[_],o,y,v,0,t),b!==0){for(g=0;g<b;g++)e[x+g]=o[y+g];if(x+=b,y+=b,v-=b,v<=1){S=!0;break}}if(e[x++]=e[_++],--m===0){S=!0;break}if(T=x1(o[y],e,_,m,0,t),T!==0){for(g=0;g<T;g++)e[x+g]=e[_+g];if(x+=T,_+=T,m-=T,m===0){S=!0;break}}if(e[x++]=o[y++],--v===1){S=!0;break}w--}while(b>=sh||T>=sh);if(S)break;w<0&&(w=0),w+=2}if(r=w,r<1&&(r=1),v===1){for(g=0;g<m;g++)e[x+g]=e[_+g];e[x+m]=o[y]}else{if(v===0)throw new Error;for(g=0;g<v;g++)e[x+g]=o[y+g]}}function d(h,v,p,m){var g=0;for(g=0;g<m;g++)o[g]=e[p+g];var y=h+v-1,_=m-1,x=p+m-1,w=0,b=0;if(e[x--]=e[y--],--v===0){for(w=x-(m-1),g=0;g<m;g++)e[w+g]=o[g];return}if(m===1){for(x-=v,y-=v,b=x+1,w=y+1,g=v-1;g>=0;g--)e[b+g]=e[w+g];e[x]=o[_];return}for(var T=r;;){var S=0,A=0,M=!1;do if(t(o[_],e[y])<0){if(e[x--]=e[y--],S++,A=0,--v===0){M=!0;break}}else if(e[x--]=o[_--],A++,S=0,--m===1){M=!0;break}while((S|A)<T);if(M)break;do{if(S=v-b1(o[_],e,h,v,v-1,t),S!==0){for(x-=S,y-=S,v-=S,b=x+1,w=y+1,g=S-1;g>=0;g--)e[b+g]=e[w+g];if(v===0){M=!0;break}}if(e[x--]=o[_--],--m===1){M=!0;break}if(A=m-x1(e[y],o,0,m,m-1,t),A!==0){for(x-=A,_-=A,m-=A,b=x+1,w=_+1,g=0;g<A;g++)e[b+g]=o[w+g];if(m<=1){M=!0;break}}if(e[x--]=e[y--],--v===0){M=!0;break}T--}while(S>=sh||A>=sh);if(M)break;T<0&&(T=0),T+=2}if(r=T,r<1&&(r=1),m===1){for(x-=v,y-=v,b=x+1,w=y+1,g=v-1;g>=0;g--)e[b+g]=e[w+g];e[x]=o[_]}else{if(m===0)throw new Error;for(w=x-(m-1),g=0;g<m;g++)e[w+g]=o[g]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function Rg(e,t,r,n){r||(r=0),n||(n=e.length);var a=n-r;if(!(a<2)){var i=0;if(a<$N){i=lD(e,r,n,t),uD(e,r,n,r+i,t);return}var o=i7(e,t),s=n7(a);do{if(i=lD(e,r,n,t),i<s){var l=a;l>s&&(l=s),uD(e,r,r+l,r+i,t),i=l}o.pushRun(r,i),o.mergeRuns(),a-=i,r+=i}while(a!==0);o.forceMergeRuns()}}var ai=1,$h=2,kf=4,cD=!1;function w1(){cD||(cD=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function fD(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var o7=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=fD}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,a=0,i=r.length;a<i;a++)this._updateAndAddDisplayable(r[a],null,t);n.length=this._displayListLen,Rg(n,fD)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var a=t.getClipPath();if(t.ignoreClip)r=null;else if(a){r?r=r.slice():r=[];for(var i=a,o=t;i;)i.parent=o,i.updateTransform(),r.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=ai),this._updateAndAddDisplayable(u,r,n)}t.__dirty=0}else{var c=t;r&&r.length?c.__clipPaths=r:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(w1(),c.z=0),isNaN(c.z2)&&(w1(),c.z2=0),isNaN(c.zlevel)&&(w1(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=t.getDecalElement&&t.getDecalElement();f&&this._updateAndAddDisplayable(f,r,n);var d=t.getTextGuideLine();d&&this._updateAndAddDisplayable(d,r,n);var h=t.getTextContent();h&&this._updateAndAddDisplayable(h,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var a=$t(this._roots,t);a>=0&&this._roots.splice(a,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();const s7=o7;var WN;WN=Nt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};const sd=WN;var Og={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Og.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Og.bounceIn(e*2)*.5:Og.bounceOut(e*2-1)*.5+.5}};const YN=Og;var cm=Math.pow,Ol=Math.sqrt,gy=1e-8,XN=1e-4,dD=Ol(3),fm=1/3,Uo=Dd(),Ei=Dd(),Xf=Dd();function El(e){return e>-gy&&e<gy}function jN(e){return e>gy||e<-gy}function Mn(e,t,r,n,a){var i=1-a;return i*i*(i*e+3*a*t)+a*a*(a*n+3*i*r)}function hD(e,t,r,n,a){var i=1-a;return 3*(((t-e)*i+2*(r-t)*a)*i+(n-r)*a*a)}function yy(e,t,r,n,a,i){var o=n+3*(t-r)-e,s=3*(r-t*2+e),l=3*(t-e),u=e-a,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(El(c)&&El(f))if(El(s))i[0]=0;else{var v=-l/s;v>=0&&v<=1&&(i[h++]=v)}else{var p=f*f-4*c*d;if(El(p)){var m=f/c,v=-s/o+m,g=-m/2;v>=0&&v<=1&&(i[h++]=v),g>=0&&g<=1&&(i[h++]=g)}else if(p>0){var y=Ol(p),_=c*s+1.5*o*(-f+y),x=c*s+1.5*o*(-f-y);_<0?_=-cm(-_,fm):_=cm(_,fm),x<0?x=-cm(-x,fm):x=cm(x,fm);var v=(-s-(_+x))/(3*o);v>=0&&v<=1&&(i[h++]=v)}else{var w=(2*c*s-3*o*f)/(2*Ol(c*c*c)),b=Math.acos(w)/3,T=Ol(c),S=Math.cos(b),v=(-s-2*T*S)/(3*o),g=(-s+T*(S+dD*Math.sin(b)))/(3*o),A=(-s+T*(S-dD*Math.sin(b)))/(3*o);v>=0&&v<=1&&(i[h++]=v),g>=0&&g<=1&&(i[h++]=g),A>=0&&A<=1&&(i[h++]=A)}}return h}function qN(e,t,r,n,a){var i=6*r-12*t+6*e,o=9*t+3*n-3*e-9*r,s=3*t-3*e,l=0;if(El(o)){if(jN(i)){var u=-s/i;u>=0&&u<=1&&(a[l++]=u)}}else{var c=i*i-4*o*s;if(El(c))a[0]=-i/(2*o);else if(c>0){var f=Ol(c),u=(-i+f)/(2*o),d=(-i-f)/(2*o);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function _y(e,t,r,n,a,i){var o=(t-e)*a+e,s=(r-t)*a+t,l=(n-r)*a+r,u=(s-o)*a+o,c=(l-s)*a+s,f=(c-u)*a+u;i[0]=e,i[1]=o,i[2]=u,i[3]=f,i[4]=f,i[5]=c,i[6]=l,i[7]=n}function ZN(e,t,r,n,a,i,o,s,l,u,c){var f,d=.005,h=1/0,v,p,m,g;Uo[0]=l,Uo[1]=u;for(var y=0;y<1;y+=.05)Ei[0]=Mn(e,r,a,o,y),Ei[1]=Mn(t,n,i,s,y),m=Yf(Uo,Ei),m<h&&(f=y,h=m);h=1/0;for(var _=0;_<32&&!(d<XN);_++)v=f-d,p=f+d,Ei[0]=Mn(e,r,a,o,v),Ei[1]=Mn(t,n,i,s,v),m=Yf(Ei,Uo),v>=0&&m<h?(f=v,h=m):(Xf[0]=Mn(e,r,a,o,p),Xf[1]=Mn(t,n,i,s,p),g=Yf(Xf,Uo),p<=1&&g<h?(f=p,h=g):d*=.5);return c&&(c[0]=Mn(e,r,a,o,f),c[1]=Mn(t,n,i,s,f)),Ol(h)}function l7(e,t,r,n,a,i,o,s,l){for(var u=e,c=t,f=0,d=1/l,h=1;h<=l;h++){var v=h*d,p=Mn(e,r,a,o,v),m=Mn(t,n,i,s,v),g=p-u,y=m-c;f+=Math.sqrt(g*g+y*y),u=p,c=m}return f}function aa(e,t,r,n){var a=1-n;return a*(a*e+2*n*t)+n*n*r}function vD(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function u7(e,t,r,n,a){var i=e-2*t+r,o=2*(t-e),s=e-n,l=0;if(El(i)){if(jN(o)){var u=-s/o;u>=0&&u<=1&&(a[l++]=u)}}else{var c=o*o-4*i*s;if(El(c)){var u=-o/(2*i);u>=0&&u<=1&&(a[l++]=u)}else if(c>0){var f=Ol(c),u=(-o+f)/(2*i),d=(-o-f)/(2*i);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function KN(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function xy(e,t,r,n,a){var i=(t-e)*n+e,o=(r-t)*n+t,s=(o-i)*n+i;a[0]=e,a[1]=i,a[2]=s,a[3]=s,a[4]=o,a[5]=r}function QN(e,t,r,n,a,i,o,s,l){var u,c=.005,f=1/0;Uo[0]=o,Uo[1]=s;for(var d=0;d<1;d+=.05){Ei[0]=aa(e,r,a,d),Ei[1]=aa(t,n,i,d);var h=Yf(Uo,Ei);h<f&&(u=d,f=h)}f=1/0;for(var v=0;v<32&&!(c<XN);v++){var p=u-c,m=u+c;Ei[0]=aa(e,r,a,p),Ei[1]=aa(t,n,i,p);var h=Yf(Ei,Uo);if(p>=0&&h<f)u=p,f=h;else{Xf[0]=aa(e,r,a,m),Xf[1]=aa(t,n,i,m);var g=Yf(Xf,Uo);m<=1&&g<f?(u=m,f=g):c*=.5}}return l&&(l[0]=aa(e,r,a,u),l[1]=aa(t,n,i,u)),Ol(f)}function c7(e,t,r,n,a,i,o){for(var s=e,l=t,u=0,c=1/o,f=1;f<=o;f++){var d=f*c,h=aa(e,r,a,d),v=aa(t,n,i,d),p=h-s,m=v-l;u+=Math.sqrt(p*p+m*m),s=h,l=v}return u}var f7=/cubic-bezier\(([0-9,\.e ]+)\)/;function JN(e){var t=e&&f7.exec(e);if(t){var r=t[1].split(","),n=+Yo(r[0]),a=+Yo(r[1]),i=+Yo(r[2]),o=+Yo(r[3]);if(isNaN(n+a+i+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:yy(0,n,i,1,l,s)&&Mn(0,a,o,1,s[0])}}}var d7=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Za,this.ondestroy=t.ondestroy||Za,this.onrestart=t.onrestart||Za,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,a=t-this._startTime-this._pausedTime,i=a/n;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,s=o?o(i):i;if(this.onframe(s),i===1)if(this.loop){var l=a%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=bt(t)?t:YN[t]||JN(t)},e}();const h7=d7;var e3=function(){function e(t){this.value=t}return e}(),v7=function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new e3(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),p7=function(){function e(t){this._list=new v7,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,a=this._map,i=null;if(a[t]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete a[l.key],i=l.value,this._lastRemovedEntry=l}s?s.value=r:s=new e3(r),s.key=t,n.insertEntry(s),a[t]=s}return i},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();const Pd=p7;var pD={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function kl(e){return e=Math.round(e),e<0?0:e>255?255:e}function xw(e){return e<0?0:e>1?1:e}function S1(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?kl(parseFloat(t)/100*255):kl(parseInt(t,10))}function vv(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?xw(parseFloat(t)/100):xw(parseFloat(t))}function T1(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function dm(e,t,r){return e+(t-e)*r}function _i(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function bw(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var t3=new Pd(20),hm=null;function Qc(e,t){hm&&bw(hm,t),hm=t3.put(e,hm||t.slice())}function _o(e,t){if(e){t=t||[];var r=t3.get(e);if(r)return bw(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in pD)return bw(t,pD[n]),Qc(e,t),t;var a=n.length;if(n.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(n.slice(1,4),16);if(!(i>=0&&i<=4095)){_i(t,0,0,0,1);return}return _i(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(n.slice(4),16)/15:1),Qc(e,t),t}else if(a===7||a===9){var i=parseInt(n.slice(1,7),16);if(!(i>=0&&i<=16777215)){_i(t,0,0,0,1);return}return _i(t,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(n.slice(7),16)/255:1),Qc(e,t),t}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===a){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?_i(t,+u[0],+u[1],+u[2],1):_i(t,0,0,0,1);c=vv(u.pop());case"rgb":if(u.length>=3)return _i(t,S1(u[0]),S1(u[1]),S1(u[2]),u.length===3?c:vv(u[3])),Qc(e,t),t;_i(t,0,0,0,1);return;case"hsla":if(u.length!==4){_i(t,0,0,0,1);return}return u[3]=vv(u[3]),mD(u,t),Qc(e,t),t;case"hsl":if(u.length!==3){_i(t,0,0,0,1);return}return mD(u,t),Qc(e,t),t;default:return}}_i(t,0,0,0,1)}}function mD(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=vv(e[1]),a=vv(e[2]),i=a<=.5?a*(n+1):a+n-a*n,o=a*2-i;return t=t||[],_i(t,kl(T1(o,i,r+1/3)*255),kl(T1(o,i,r)*255),kl(T1(o,i,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function $v(e,t){var r=_o(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return W0(r,r.length===4?"rgba":"rgb")}}function m7(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),a=Math.floor(n),i=Math.ceil(n),o=_o(t[a]),s=_o(t[i]),l=n-a,u=W0([kl(dm(o[0],s[0],l)),kl(dm(o[1],s[1],l)),kl(dm(o[2],s[2],l)),xw(dm(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:a,rightIndex:i,value:n}:u}}function W0(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function by(e,t){var r=_o(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}function g7(e){return e.type==="linear"}function y7(e){return e.type==="radial"}(function(){return Nt.hasGlobalWindow&&bt(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}})();var ww=Array.prototype.slice;function ms(e,t,r){return(t-e)*r+e}function C1(e,t,r,n){for(var a=t.length,i=0;i<a;i++)e[i]=ms(t[i],r[i],n);return e}function _7(e,t,r,n){for(var a=t.length,i=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=ms(t[o][s],r[o][s],n)}return e}function vm(e,t,r,n){for(var a=t.length,i=0;i<a;i++)e[i]=t[i]+r[i]*n;return e}function gD(e,t,r,n){for(var a=t.length,i=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=t[o][s]+r[o][s]*n}return e}function x7(e,t){for(var r=e.length,n=t.length,a=r>n?t:e,i=Math.min(r,n),o=a[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(r,n);s++)a.push({offset:o.offset,color:o.color.slice()})}function b7(e,t,r){var n=e,a=t;if(!(!n.push||!a.push)){var i=n.length,o=a.length;if(i!==o){var s=i>o;if(s)n.length=o;else for(var l=i;l<o;l++)n.push(r===1?a[l]:ww.call(a[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=a[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=a[l][c])}}function pv(e){if(Ba(e)){var t=e.length;if(Ba(e[0])){for(var r=[],n=0;n<t;n++)r.push(ww.call(e[n]));return r}return ww.call(e)}return e}function kg(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function w7(e){return Ba(e&&e[0])?2:1}var pm=0,Ng=1,r3=2,Wh=3,Sw=4,Tw=5,yD=6;function _D(e){return e===Sw||e===Tw}function mm(e){return e===Ng||e===r3}var lh=[0,0,0,0],S7=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var a=this.keyframes,i=a.length,o=!1,s=yD,l=r;if(Ba(r)){var u=w7(r);s=u,(u===1&&!xr(r[0])||u===2&&!xr(r[0][0]))&&(o=!0)}else if(xr(r)&&!py(r))s=pm;else if(rt(r))if(!isNaN(+r))s=pm;else{var c=_o(r);c&&(l=c,s=Wh)}else if(H0(r)){var f=De({},l);f.colorStops=nt(r.colorStops,function(h){return{offset:h.offset,color:_o(h.color)}}),g7(r)?s=Sw:y7(r)&&(s=Tw),l=f}i===0?this.valType=s:(s!==this.valType||s===yD)&&(o=!0),this.discrete=this.discrete||o;var d={time:t,value:l,rawValue:r,percent:0};return n&&(d.easing=n,d.easingFunc=bt(n)?n:YN[n]||JN(n)),a.push(d),d},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(p,m){return p.time-m.time});for(var a=this.valType,i=n.length,o=n[i-1],s=this.discrete,l=mm(a),u=_D(a),c=0;c<i;c++){var f=n[c],d=f.value,h=o.value;f.percent=f.time/t,s||(l&&c!==i-1?b7(d,h,a):u&&x7(d.colorStops,h.colorStops))}if(!s&&a!==Tw&&r&&this.needsAnimate()&&r.needsAnimate()&&a===r.valType&&!r._finished){this._additiveTrack=r;for(var v=n[0].value,c=0;c<i;c++)a===pm?n[c].additiveValue=n[c].value-v:a===Wh?n[c].additiveValue=vm([],n[c].value,v,-1):mm(a)&&(n[c].additiveValue=a===Ng?vm([],n[c].value,v,-1):gD([],n[c].value,v,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,a=n?"additiveValue":"value",i=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=i===Wh,c,f=this._lastFr,d=Math.min,h,v;if(s===1)h=v=o[0];else{if(r<0)c=0;else if(r<this._lastFrP){var p=d(f+1,s-1);for(c=p;c>=0&&!(o[c].percent<=r);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>r);c++);c=d(c-1,s-2)}v=o[c+1],h=o[c]}if(h&&v){this._lastFr=c,this._lastFrP=r;var m=v.percent-h.percent,g=m===0?1:d((r-h.percent)/m,1);v.easingFunc&&(g=v.easingFunc(g));var y=n?this._additiveValue:u?lh:t[l];if((mm(i)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)t[l]=g<1?h.rawValue:v.rawValue;else if(mm(i))i===Ng?C1(y,h[a],v[a],g):_7(y,h[a],v[a],g);else if(_D(i)){var _=h[a],x=v[a],w=i===Sw;t[l]={type:w?"linear":"radial",x:ms(_.x,x.x,g),y:ms(_.y,x.y,g),colorStops:nt(_.colorStops,function(T,S){var A=x.colorStops[S];return{offset:ms(T.offset,A.offset,g),color:kg(C1([],T.color,A.color,g))}}),global:x.global},w?(t[l].x2=ms(_.x2,x.x2,g),t[l].y2=ms(_.y2,x.y2,g)):t[l].r=ms(_.r,x.r,g)}else if(u)C1(y,h[a],v[a],g),n||(t[l]=kg(y));else{var b=ms(h[a],v[a],g);n?this._additiveValue=b:t[l]=b}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,a=this._additiveValue;r===pm?t[n]=t[n]+a:r===Wh?(_o(t[n],lh),vm(lh,lh,a,1),t[n]=kg(lh)):r===Ng?vm(t[n],t[n],a,1):r===r3&&gD(t[n],t[n],a,1)},e}(),T7=function(){function e(t,r,n,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&a){dC("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,ir(r),n)},e.prototype.whenWithKeys=function(t,r,n,a){for(var i=this._tracks,o=0;o<n.length;o++){var s=n[o],l=i[s];if(!l){l=i[s]=new S7(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===Wh&&u&&(u=kg(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,pv(u),a),this._trackKeys.push(s)}l.addKeyframe(t,pv(r[s]),a)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var a=0;a<n.length;a++){var i=n[a].getTrack(t);i&&(r=i)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],a=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(a,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(r._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var d=new h7({life:a,loop:this._loop,delay:this._delay||0,onframe:function(h){r._started=2;var v=r._additiveAnimators;if(v){for(var p=!1,m=0;m<v.length;m++)if(v[m]._clip){p=!0;break}p||(r._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(r._target,h);var g=r._onframeCbs;if(g)for(var m=0;m<g.length;m++)g[m](r._target,h)},ondestroy:function(){r._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return nt(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,a=this._trackKeys,i=0;i<t.length;i++){var o=n[t[i]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,i=0;i<a.length;i++)if(!n[a[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var a=0;a<r.length;a++){var i=r[a],o=this._tracks[i];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(t[i]=pv(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||ir(t);for(var n=0;n<r.length;n++){var a=r[n],i=this._tracks[a];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,t[a]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},e}();const Y0=T7;function Bf(){return new Date().getTime()}var C7=function(e){Ar(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,a=r.next;n?n.next=a:this._head=a,a?a.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=Bf()-this._pausedTime,a=n-this._time,i=this._head;i;){var o=i.next,s=i.step(n,a);s&&(i.ondestroy(),this.removeClip(i)),i=o}this._time=n,r||(this.trigger("frame",a),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(sd(n),!r._paused&&r.update())}sd(n)},t.prototype.start=function(){this._running||(this._time=Bf(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Bf(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Bf()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var a=new Y0(r,n.loop);return this.addAnimator(a),a},t}(as);const A7=C7;var E7=300,A1=Nt.domSupported,E1=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=nt(e,function(a){var i=a.replace("mouse","pointer");return r.hasOwnProperty(i)?i:a});return{mouse:e,touch:t,pointer:n}}(),xD={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},bD=!1;function Cw(e){var t=e.pointerType;return t==="pen"||t==="touch"}function D7(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function D1(e){e&&(e.zrByTouch=!0)}function M7(e,t){return xi(e.dom,new P7(e,t),!0)}function n3(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var P7=function(){function e(t,r){this.stopPropagation=Za,this.stopImmediatePropagation=Za,this.preventDefault=Za,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e}(),lo={mousedown:function(e){e=xi(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=xi(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=xi(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=xi(this.dom,e);var t=e.toElement||e.relatedTarget;n3(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){bD=!0,e=xi(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){bD||(e=xi(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=xi(this.dom,e),D1(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),lo.mousemove.call(this,e),lo.mousedown.call(this,e)},touchmove:function(e){e=xi(this.dom,e),D1(e),this.handler.processGesture(e,"change"),lo.mousemove.call(this,e)},touchend:function(e){e=xi(this.dom,e),D1(e),this.handler.processGesture(e,"end"),lo.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<E7&&lo.click.call(this,e)},pointerdown:function(e){lo.mousedown.call(this,e)},pointermove:function(e){Cw(e)||lo.mousemove.call(this,e)},pointerup:function(e){lo.mouseup.call(this,e)},pointerout:function(e){Cw(e)||lo.mouseout.call(this,e)}};j(["click","dblclick","contextmenu"],function(e){lo[e]=function(t){t=xi(this.dom,t),this.trigger(e,t)}});var Aw={pointermove:function(e){Cw(e)||Aw.mousemove.call(this,e)},pointerup:function(e){Aw.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function L7(e,t){var r=t.domHandlers;Nt.pointerEventsSupported?j(E1.pointer,function(n){Bg(t,n,function(a){r[n].call(e,a)})}):(Nt.touchEventsSupported&&j(E1.touch,function(n){Bg(t,n,function(a){r[n].call(e,a),D7(t)})}),j(E1.mouse,function(n){Bg(t,n,function(a){a=pC(a),t.touching||r[n].call(e,a)})}))}function I7(e,t){Nt.pointerEventsSupported?j(xD.pointer,r):Nt.touchEventsSupported||j(xD.mouse,r);function r(n){function a(i){i=pC(i),n3(e,i.target)||(i=M7(e,i),t.domHandlers[n].call(e,i))}Bg(t,n,a,{capture:!0})}}function Bg(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,GY(e.domTarget,t,r,n)}function M1(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&$Y(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var wD=function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e}(),R7=function(e){Ar(t,e);function t(r,n){var a=e.call(this)||this;return a.__pointerCapturing=!1,a.dom=r,a.painterRoot=n,a._localHandlerScope=new wD(r,lo),A1&&(a._globalHandlerScope=new wD(document,Aw)),L7(a,a._localHandlerScope),a}return t.prototype.dispose=function(){M1(this._localHandlerScope),A1&&M1(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,A1&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?I7(this,n):M1(n)}},t}(as);const O7=R7;var a3=1;Nt.hasGlobalWindow&&(a3=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var wy=a3,Ew=.4,Dw="#333",Mw="#ccc",k7="#eee",SD=$0,TD=5e-5;function ou(e){return e>TD||e<-TD}var su=[],Jc=[],P1=od(),L1=Math.abs,N7=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return ou(this.rotation)||ou(this.x)||ou(this.y)||ou(this.scaleX-1)||ou(this.scaleY-1)||ou(this.skewX)||ou(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(SD(n),this.invTransform=null);return}n=n||od(),r?this.getLocalTransform(n):SD(n),t&&(r?ac(n,t,n):XY(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(su);var n=su[0]<0?-1:1,a=su[1]<0?-1:1,i=((su[0]-n)*r+n)/su[0]||0,o=((su[1]-a)*r+a)/su[1]||0;t[0]*=i,t[1]*=i,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||od(),Md(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],a=Math.atan2(t[1],t[0]),i=Math.PI/2+a-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(i),r=Math.sqrt(r),this.skewX=i,this.skewY=0,this.rotation=-a,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(ac(Jc,t.invTransform,r),r=Jc);var n=this.originX,a=this.originY;(n||a)&&(P1[4]=n,P1[5]=a,ac(Jc,r,P1),Jc[4]-=n,Jc[5]-=a,r=Jc),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],a=this.invTransform;return a&&fa(n,n,a),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],a=this.transform;return a&&fa(n,n,a),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&L1(t[0]-1)>1e-10&&L1(t[3]-1)>1e-10?Math.sqrt(L1(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){B7(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,a=t.originY||0,i=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,d=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;if(n||a||s||l){var v=n+s,p=a+l;r[4]=-v*i-d*p*o,r[5]=-p*o-h*v*i}else r[4]=r[5]=0;return r[0]=i,r[3]=o,r[1]=h*i,r[2]=d*o,u&&mC(r,r,u),r[4]+=n+c,r[5]+=a+f,r},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),ts=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function B7(e,t){for(var r=0;r<ts.length;r++){var n=ts[r];e[n]=t[n]}}const X0=N7;var CD={};function oi(e,t){t=t||pc;var r=CD[t];r||(r=CD[t]=new Pd(500));var n=r.get(e);return n==null&&(n=Ed.measureText(e,t).width,r.put(e,n)),n}function AD(e,t,r,n){var a=oi(e,t),i=yC(t),o=Yh(0,a,r),s=Nf(0,i,n),l=new Ut(o,s,a,i);return l}function gC(e,t,r,n){var a=((e||"")+"").split(`
`),i=a.length;if(i===1)return AD(a[0],t,r,n);for(var o=new Ut(0,0,0,0),s=0;s<a.length;s++){var l=AD(a[s],t,r,n);s===0?o.copy(l):o.union(l)}return o}function Yh(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function Nf(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function yC(e){return oi("",e)}function Vl(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Sy(e,t,r){var n=t.position||"inside",a=t.distance!=null?t.distance:5,i=r.height,o=r.width,s=i/2,l=r.x,u=r.y,c="left",f="top";if(n instanceof Array)l+=Vl(n[0],r.width),u+=Vl(n[1],r.height),c=null,f=null;else switch(n){case"left":l-=a,u+=s,c="right",f="middle";break;case"right":l+=a+o,u+=s,f="middle";break;case"top":l+=o/2,u-=a,c="center",f="bottom";break;case"bottom":l+=o/2,u+=i+a,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=a,u+=s,f="middle";break;case"insideRight":l+=o-a,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=a,c="center";break;case"insideBottom":l+=o/2,u+=i-a,c="center",f="bottom";break;case"insideTopLeft":l+=a,u+=a;break;case"insideTopRight":l+=o-a,u+=a,c="right";break;case"insideBottomLeft":l+=a,u+=i-a,f="bottom";break;case"insideBottomRight":l+=o-a,u+=i-a,c="right",f="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=f,e}var I1="__zr_normal__",R1=ts.concat(["ignore"]),V7=Jo(ts,function(e,t){return e[t]=!0,e},{ignore:!1}),ef={},F7=new Ut(0,0,0,0),_C=function(){function e(t){this.id=ON(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,a=n.local,i=r.innerTransformable,o=void 0,s=void 0,l=!1;i.parent=a?this:null;var u=!1;if(i.copyTransform(r),n.position!=null){var c=F7;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),a||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(ef,n,c):Sy(ef,n,c),i.x=ef.x,i.y=ef.y,o=ef.align,s=ef.verticalAlign;var f=n.origin;if(f&&n.rotation!=null){var d=void 0,h=void 0;f==="center"?(d=c.width*.5,h=c.height*.5):(d=Vl(f[0],c.width),h=Vl(f[1],c.height)),u=!0,i.originX=-i.x+d+(a?0:c.x),i.originY=-i.y+h+(a?0:c.y)}}n.rotation!=null&&(i.rotation=n.rotation);var v=n.offset;v&&(i.x+=v[0],i.y+=v[1],u||(i.originX=-v[0],i.originY=-v[1]));var p=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,y=void 0,_=void 0;p&&this.canBeInsideText()?(g=n.insideFill,y=n.insideStroke,(g==null||g==="auto")&&(g=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(g),_=!0)):(g=n.outsideFill,y=n.outsideStroke,(g==null||g==="auto")&&(g=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(g),_=!0)),g=g||"#000",(g!==m.fill||y!==m.stroke||_!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(l=!0,m.fill=g,m.stroke=y,m.autoStroke=_,m.align=o,m.verticalAlign=s,r.setDefaultTextStyle(m)),r.__dirty|=ai,l&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Mw:Dw},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&_o(r);n||(n=[255,255,255,1]);for(var a=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*a+(i?0:255)*(1-a);return n[3]=1,W0(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},De(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(lt(t))for(var n=t,a=ir(n),i=0;i<a.length;i++){var o=a[i];this.attrKV(o,t[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var a=this.animators[n],i=a.__fromStateTransition;if(!(a.getLoop()||i&&i!==I1)){var o=a.targetName,s=o?r[o]:r;a.saveTo(s)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,R1)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var a=0;a<n.length;a++){var i=n[a];t[i]!=null&&!(i in r)&&(r[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(I1,!1,t)},e.prototype.useState=function(t,r,n,a){var i=t===I1,o=this.hasState();if(!(!o&&i)){var s=this.currentStates,l=this.stateTransition;if(!($t(s,t)>=0&&(r||s.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!i){dC("State "+t+" not exists.");return}i||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||a);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(t,r,n,c),d&&d.useState(t,r,n,c),i?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ai),u}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var a=[],i=this.currentStates,o=t.length,s=o===i.length;if(s){for(var l=0;l<o;l++)if(t[l]!==i[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&a.push(c)}var f=a[o-1],d=!!(f&&f.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(a),v=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!r&&!this.__inHover&&v&&v.duration>0,v);var p=this._textContent,m=this._textGuide;p&&p.useStates(t,r,d),m&&m.useStates(t,r,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ai)}},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=$t(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var a=this.currentStates.slice(),i=$t(a,t),o=$t(a,r)>=0;i>=0?o?a.splice(i,1):a[i]=r:n&&!o&&a.push(r),this.useStates(a)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,a=0;a<t.length;a++){var i=t[a];De(r,i),i.textConfig&&(n=n||{},De(n,i.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,a,i,o){var s=!(r&&a);r&&r.textConfig?(this.textConfig=De({},a?this.textConfig:n.textConfig),De(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<R1.length;c++){var f=R1[c],d=i&&V7[f];r&&r[f]!=null?d?(u=!0,l[f]=r[f]):this[f]=r[f]:s&&n[f]!=null&&(d?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!i)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],v=h.targetName;h.getLoop()||h.__changeFinalValue(v?(r||n)[v]:r||n)}u&&this._transitionState(t,l,o)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new X0,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),De(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=ai;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var a=t?this[t]:this,i=new Y0(a,r,n);return t&&(i.targetName=t),this.addAnimator(i,t),i},e.prototype.addAnimator=function(t,r){var n=this.__zr,a=this;t.during(function(){a.updateDuringAnimation(r)}).done(function(){var i=a.animators,o=$t(i,t);o>=0&&i.splice(o,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,a=n.length,i=[],o=0;o<a;o++){var s=n[o];!t||t===s.scope?s.stop(r):i.push(s)}return this.animators=i,this},e.prototype.animateTo=function(t,r,n){O1(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){O1(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,a){for(var i=O1(this,r,n,a),o=0;o<i.length;o++)i[o].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=ai;function r(n,a,i,o){Object.defineProperty(t,n,{get:function(){if(!this[a]){var l=this[a]=[];s(this,l)}return this[a]},set:function(l){this[i]=l[0],this[o]=l[1],this[a]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[i]},set:function(c){l[i]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();li(_C,as);li(_C,X0);function O1(e,t,r,n,a){r=r||{};var i=[];i3(e,"",e,t,r,n,i,a);var o=i.length,s=!1,l=r.done,u=r.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),i.length>0&&r.during&&i[0].during(function(v,p){r.during(p)});for(var d=0;d<i.length;d++){var h=i[d];c&&h.done(c),f&&h.aborted(f),r.force&&h.duration(r.duration),h.start(r.easing)}return i}function k1(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function z7(e){return Ba(e[0])}function U7(e,t,r){if(Ba(t[r]))if(Ba(e[r])||(e[r]=[]),si(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),k1(e[r],t[r],n))}else{var a=t[r],i=e[r],o=a.length;if(z7(a))for(var s=a[0].length,l=0;l<o;l++)i[l]?k1(i[l],a[l],s):i[l]=Array.prototype.slice.call(a[l]);else k1(i,a,o);i.length=a.length}else e[r]=t[r]}function H7(e,t){return e===t||Ba(e)&&Ba(t)&&G7(e,t)}function G7(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function i3(e,t,r,n,a,i,o,s){for(var l=ir(n),u=a.duration,c=a.delay,f=a.additive,d=a.setToFinal,h=!lt(i),v=e.animators,p=[],m=0;m<l.length;m++){var g=l[m],y=n[g];if(y!=null&&r[g]!=null&&(h||i[g]))if(lt(y)&&!Ba(y)&&!H0(y)){if(t){s||(r[g]=y,e.updateDuringAnimation(t));continue}i3(e,g,r[g],y,a,i&&i[g],o,s)}else p.push(g);else s||(r[g]=y,e.updateDuringAnimation(t),p.push(g))}var _=p.length;if(!f&&_)for(var x=0;x<v.length;x++){var w=v[x];if(w.targetName===t){var b=w.stopTracks(p);if(b){var T=$t(v,w);v.splice(T,1)}}}if(a.force||(p=dn(p,function(C){return!H7(n[C],r[C])}),_=p.length),_>0||a.force&&!o.length){var S=void 0,A=void 0,M=void 0;if(s){A={},d&&(S={});for(var x=0;x<_;x++){var g=p[x];A[g]=r[g],d?S[g]=n[g]:r[g]=n[g]}}else if(d){M={};for(var x=0;x<_;x++){var g=p[x];M[g]=pv(r[g]),U7(r,n,g)}}var w=new Y0(r,!1,!1,f?dn(v,function(D){return D.targetName===t}):null);w.targetName=t,a.scope&&(w.scope=a.scope),d&&S&&w.whenWithKeys(0,S,p),M&&w.whenWithKeys(0,M,p),w.whenWithKeys(u??500,s?A:n,p).delay(c||0),e.addAnimator(w,t),o.push(w)}}const o3=_C;var s3=function(e){Ar(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,a=0;a<n.length;a++)if(n[a].name===r)return n[a]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var a=this._children,i=a.indexOf(n);i>=0&&(a.splice(i,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var a=$t(this._children,r);return a>=0&&this.replaceAt(n,a),this},t.prototype.replaceAt=function(r,n){var a=this._children,i=a[n];if(r&&r!==this&&r.parent!==this&&r!==i){a[n]=r,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,a=this._children,i=$t(a,r);return i<0?this:(a.splice(i,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,a=0;a<r.length;a++){var i=r[a];n&&i.removeSelfFromZr(n),i.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var a=this._children,i=0;i<a.length;i++){var o=a[i];r.call(n,o,i)}return this},t.prototype.traverse=function(r,n){for(var a=0;a<this._children.length;a++){var i=this._children[a],o=r.call(n,i);i.isGroup&&!o&&i.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new Ut(0,0,0,0),a=r||this._children,i=[],o=null,s=0;s<a.length;s++){var l=a[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(i);c?(Ut.applyTransform(n,u,c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}}return o||n},t}(o3);s3.prototype.type="group";const Kn=s3;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Vg={},l3={};function $7(e){delete l3[e]}function W7(e){if(!e)return!1;if(typeof e=="string")return by(e,1)<Ew;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,a=0;a<n;a++)r+=by(t[a].color,1);return r/=n,r<Ew}return!1}var Y7=function(){function e(t,r,n){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var i=new s7,o=n.renderer||"canvas";Vg[o]||(o=ir(Vg)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new Vg[o](r,i,n,t),l=n.ssr||s.ssrOnly;this.storage=i,this.painter=s;var u=!Nt.node&&!Nt.worker&&!l?new O7(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?Nt.touchEventsSupported:!!c,d=44,h;f&&(h=Ft(n.pointerSize,d)),this.handler=new r7(i,s,u,s.root,h),this.animation=new A7({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh()},e.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=W7(t)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(t){var r,n=Bf();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var a=Bf();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},e.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this.handler.off(t,r)},e.prototype.trigger=function(t,r){this.handler.trigger(t,r)},e.prototype.clear=function(){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof Kn&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,$7(this.id)},e}();function Pw(e,t){var r=new Y7(ON(),e,t);return l3[r.id]=r,r}function X7(e,t){Vg[e]=t}var ED=1e-4,u3=20;function j7(e){return e.replace(/^\s+|\s+$/g,"")}function Wv(e,t,r,n){var a=t[0],i=t[1],o=r[0],s=r[1],l=i-a,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(n)if(l>0){if(e<=a)return o;if(e>=i)return s}else{if(e>=a)return o;if(e<=i)return s}else{if(e===a)return o;if(e===i)return s}return(e-a)/l*u+o}function Sr(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return rt(e)?j7(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function Yr(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),u3),e=(+e).toFixed(t),r?e:+e}function Ss(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return xC(e)}function xC(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,a=r>0?r:t.length,i=t.indexOf("."),o=i<0?0:a-1-i;return Math.max(0,o-n)}function q7(e,t){var r=Math.log,n=Math.LN10,a=Math.floor(r(e[1]-e[0])/n),i=Math.round(r(Math.abs(t[1]-t[0]))/n),o=Math.min(Math.max(-a+i,0),20);return isFinite(o)?o:20}function Z7(e,t){var r=Jo(e,function(h,v){return h+(isNaN(v)?0:v)},0);if(r===0)return[];for(var n=Math.pow(10,t),a=nt(e,function(h){return(isNaN(h)?0:h)/r*n*100}),i=n*100,o=nt(a,function(h){return Math.floor(h)}),s=Jo(o,function(h,v){return h+v},0),l=nt(a,function(h,v){return h-o[v]});s<i;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return nt(o,function(h){return h/n})}function K7(e,t){var r=Math.max(Ss(e),Ss(t)),n=e+t;return r>u3?n:Yr(n,r)}function c3(e){var t=Math.PI*2;return(e%t+t)%t}function Ty(e){return e>-ED&&e<ED}var Q7=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function bo(e){if(e instanceof Date)return e;if(rt(e)){var t=Q7.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function J7(e){return Math.pow(10,bC(e))}function bC(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function f3(e,t){var r=bC(e),n=Math.pow(10,r),a=e/n,i;return t?a<1.5?i=1:a<2.5?i=2:a<4?i=3:a<7?i=5:i=10:a<1?i=1:a<2?i=2:a<3?i=3:a<5?i=5:i=10,e=i*n,r>=-20?+e.toFixed(r<0?-r:0):e}function Cy(e){var t=parseFloat(e);return t==e&&(t!==0||!rt(e)||e.indexOf("x")<=0)?t:NaN}function eX(e){return!isNaN(Cy(e))}function d3(){return Math.round(Math.random()*9)}function h3(e,t){return t===0?e:h3(t,e%t)}function DD(e,t){return e==null?t:t==null?e:e*t/h3(e,t)}function Wa(e){throw new Error(e)}function MD(e,t,r){return(t-e)*r+e}var v3="series\0",tX="\0_ec_\0";function $n(e){return e instanceof Array?e:e==null?[]:[e]}function Lw(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,a=r.length;n<a;n++){var i=r[n];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var PD=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Op(e){return lt(e)&&!Ne(e)&&!(e instanceof Date)?e.value:e}function rX(e){return lt(e)&&!(e instanceof Array)}function p3(e,t,r){var n=r==="normalMerge",a=r==="replaceMerge",i=r==="replaceAll";e=e||[],t=(t||[]).slice();var o=xt();j(t,function(l,u){if(!lt(l)){t[u]=null;return}});var s=nX(e,o,r);return(n||a)&&aX(s,e,o,t),n&&iX(s,t),n||a?oX(s,t,a):i&&sX(s,t),lX(s),s}function nX(e,t,r){var n=[];if(r==="replaceAll")return n;for(var a=0;a<e.length;a++){var i=e[a];i&&i.id!=null&&t.set(i.id,a),n.push({existing:r==="replaceMerge"||Yv(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return n}function aX(e,t,r,n){j(n,function(a,i){if(!(!a||a.id==null)){var o=mv(a.id),s=r.get(o);if(s!=null){var l=e[s];es(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=a,l.existing=t[s],n[i]=null}}})}function iX(e,t){j(t,function(r,n){if(!(!r||r.name==null))for(var a=0;a<e.length;a++){var i=e[a].existing;if(!e[a].newOption&&i&&(i.id==null||r.id==null)&&!Yv(r)&&!Yv(i)&&m3("name",i,r)){e[a].newOption=r,t[n]=null;return}}})}function oX(e,t,r){j(t,function(n){if(n){for(var a,i=0;(a=e[i])&&(a.newOption||Yv(a.existing)||a.existing&&n.id!=null&&!m3("id",n,a.existing));)i++;a?(a.newOption=n,a.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),i++}})}function sX(e,t){j(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function lX(e){var t=xt();j(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),j(e,function(r){var n=r.newOption;es(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),j(e,function(r,n){var a=r.existing,i=r.newOption,o=r.keyInfo;if(lt(i)){if(o.name=i.name!=null?mv(i.name):a?a.name:v3+n,a)o.id=mv(a.id);else if(i.id!=null)o.id=mv(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,r)}})}function m3(e,t,r){var n=ja(t[e],null),a=ja(r[e],null);return n!=null&&a!=null&&n===a}function mv(e){return ja(e,"")}function ja(e,t){return e==null?t:rt(e)?e:xr(e)||fw(e)?e+"":t}function wC(e){var t=e.name;return!!(t&&t.indexOf(v3))}function Yv(e){return e&&e.id!=null&&mv(e.id).indexOf(tX)===0}function uX(e,t,r){j(e,function(n){var a=n.newOption;lt(a)&&(n.keyInfo.mainType=t,n.keyInfo.subType=cX(t,a,n.existing,r))})}function cX(e,t,r,n){var a=t.type?t.type:r?r.subType:n.determineSubType(e,t);return a}function mc(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Ne(t.dataIndex)?nt(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Ne(t.name)?nt(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function Pr(){var e="__ec_inner_"+fX++;return function(t){return t[e]||(t[e]={})}}var fX=d3();function N1(e,t,r){var n=SC(t,r),a=n.mainTypeSpecified,i=n.queryOptionMap,o=n.others,s=o,l=r?r.defaultMainType:null;return!a&&l&&i.set(l,{}),i.each(function(u,c){var f=kp(e,c,u,{useDefault:l===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function SC(e,t){var r;if(rt(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var a=xt(),i={},o=!1;return j(r,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&$t(t.includeMainTypes,c)<0)){o=o||!!c;var d=a.get(c)||a.set(c,{});d[f]=s}}),{mainTypeSpecified:o,queryOptionMap:a,others:i}}var po={useDefault:!0,enableAll:!1,enableNone:!1};function kp(e,t,r,n){n=n||po;var a=r.index,i=r.id,o=r.name,s={models:null,specified:a!=null||i!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=e.getComponent(t))?[l]:[],s}return a==="none"||a===!1?(es(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(a==="all"&&(es(n.enableAll,'`"all"` is not a valid value on index option.'),a=i=o=null),s.models=e.queryComponents({mainType:t,index:a,id:i,name:o}),s)}function g3(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function dX(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function hX(e){return e==="auto"?Nt.domSupported?"html":"richText":e||"html"}function y3(e,t,r,n,a){var i=t==null||t==="auto";if(n==null)return n;if(xr(n)){var o=MD(r||0,n,a);return Yr(o,i?Math.max(Ss(r||0),Ss(n)):t)}else{if(rt(n))return a<1?r:n;for(var s=[],l=r,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=e.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(a<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,v=u[f],o=MD(h,v,a);s[f]=Yr(o,i?Math.max(Ss(h),Ss(v)):t)}}return s}}var vX=".",lu="___EC__COMPONENT__CONTAINER___",_3="___EC__EXTENDED_CLASS___";function Xo(e){var t={main:"",sub:""};if(e){var r=e.split(vX);t.main=r[0]||"",t.sub=r[1]||""}return t}function pX(e){es(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function mX(e){return!!(e&&e[_3])}function TC(e,t){e.$constructor=e,e.extend=function(r){var n=this,a;return gX(n)?a=function(i){ut(o,i);function o(){return i.apply(this,arguments)||this}return o}(n):(a=function(){(r.$constructor||n).apply(this,arguments)},hC(a,this)),De(a.prototype,r),a[_3]=!0,a.extend=this.extend,a.superCall=xX,a.superApply=bX,a.superClass=n,a}}function gX(e){return bt(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function x3(e,t){e.extend=t.extend}var yX=Math.round(Math.random()*10);function _X(e){var t=["__\0is_clz",yX++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function xX(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function bX(e,t,r){return this.superClass.prototype[t].apply(e,r)}function j0(e){var t={};e.registerClass=function(n){var a=n.type||n.prototype.type;if(a){pX(a),n.prototype.type=a;var i=Xo(a);if(!i.sub)t[i.main]=n;else if(i.sub!==lu){var o=r(i);o[i.sub]=n}}return n},e.getClass=function(n,a,i){var o=t[n];if(o&&o[lu]&&(o=a?o[a]:null),i&&!o)throw new Error(a?"Component "+n+"."+(a||"")+" is used but not imported.":n+".type should be specified.");return o},e.getClassesByMainType=function(n){var a=Xo(n),i=[],o=t[a.main];return o&&o[lu]?j(o,function(s,l){l!==lu&&i.push(s)}):i.push(o),i},e.hasClass=function(n){var a=Xo(n);return!!t[a.main]},e.getAllClassMainTypes=function(){var n=[];return j(t,function(a,i){n.push(i)}),n},e.hasSubTypes=function(n){var a=Xo(n),i=t[a.main];return i&&i[lu]};function r(n){var a=t[n.main];return(!a||!a[lu])&&(a=t[n.main]={},a[lu]=!0),a}}function Xv(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,a,i){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(a&&$t(a,l)>=0||i&&$t(i,l)<0)){var u=n.getShallow(l,t);u!=null&&(o[e[s][0]]=u)}}return o}}var wX=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],SX=Xv(wX),TX=function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return SX(this,t,r)},e}(),Iw=new Pd(50);function CX(e){if(typeof e=="string"){var t=Iw.get(e);return t&&t.image}else return e}function b3(e,t,r,n,a){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var i=Iw.get(e),o={hostEl:r,cb:n,cbPayload:a};return i?(t=i.image,!q0(t)&&i.pending.push(o)):(t=Ed.loadImage(e,LD,LD),t.__zrImageSrc=e,Iw.put(e,t.__cachedImgObj={image:t,pending:[o]})),t}else return e;else return t}function LD(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function q0(e){return e&&e.width&&e.height}var B1=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function AX(e,t,r,n,a){if(!t)return"";var i=(e+"").split(`
`);a=w3(t,r,n,a);for(var o=0,s=i.length;o<s;o++)i[o]=S3(i[o],a);return i.join(`
`)}function w3(e,t,r,n){n=n||{};var a=De({},n);a.font=t,r=Ft(r,"..."),a.maxIterations=Ft(n.maxIterations,2);var i=a.minChar=Ft(n.minChar,0);a.cnCharWidth=oi("",t);var o=a.ascCharWidth=oi("a",t);a.placeholder=Ft(n.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<i&&s>=o;l++)s-=o;var u=oi(r,t);return u>s&&(r="",u=0),s=e-u,a.ellipsis=r,a.ellipsisWidth=u,a.contentWidth=s,a.containerWidth=e,a}function S3(e,t){var r=t.containerWidth,n=t.font,a=t.contentWidth;if(!r)return"";var i=oi(e,n);if(i<=r)return e;for(var o=0;;o++){if(i<=a||o>=t.maxIterations){e+=t.ellipsis;break}var s=o===0?EX(e,a,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(e.length*a/i):0;e=e.substr(0,s),i=oi(e,n)}return e===""&&(e=t.placeholder),e}function EX(e,t,r,n){for(var a=0,i=0,o=e.length;i<o&&a<t;i++){var s=e.charCodeAt(i);a+=0<=s&&s<=127?r:n}return i}function DX(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,a=t.font,i=r==="truncate",o=yC(a),s=Ft(t.lineHeight,o),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",c=t.width,f;c!=null&&(r==="break"||r==="breakAll")?f=e?T3(e,t.font,c,r==="breakAll",0).lines:[]:f=e?e.split(`
`):[];var d=f.length*s,h=Ft(t.height,d);if(d>h&&u){var v=Math.floor(h/s);f=f.slice(0,v)}if(e&&i&&c!=null)for(var p=w3(c,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m=0;m<f.length;m++)f[m]=S3(f[m],p);for(var g=h,y=0,m=0;m<f.length;m++)y=Math.max(oi(f[m],a),y);c==null&&(c=y);var _=y;return n&&(g+=n[0]+n[2],_+=n[1]+n[3],c+=n[1]+n[3]),l&&(_=c),{lines:f,height:h,outerWidth:_,outerHeight:g,lineHeight:s,calculatedLineHeight:o,contentWidth:y,contentHeight:d,width:c}}var MX=function(){function e(){}return e}(),ID=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),PX=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function LX(e,t){var r=new PX;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,a=t.height,i=t.overflow,o=(i==="break"||i==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:i==="breakAll"}:null,s=B1.lastIndex=0,l;(l=B1.exec(e))!=null;){var u=l.index;u>s&&V1(r,e.substring(s,u),t,o),V1(r,l[2],t,o,l[1]),s=B1.lastIndex}s<e.length&&V1(r,e.substring(s,e.length),t,o);var c=[],f=0,d=0,h=t.padding,v=i==="truncate",p=t.lineOverflow==="truncate";function m(O,L,F){O.width=L,O.lineHeight=F,f+=F,d=Math.max(d,L)}e:for(var g=0;g<r.lines.length;g++){for(var y=r.lines[g],_=0,x=0,w=0;w<y.tokens.length;w++){var b=y.tokens[w],T=b.styleName&&t.rich[b.styleName]||{},S=b.textPadding=T.padding,A=S?S[1]+S[3]:0,M=b.font=T.font||t.font;b.contentHeight=yC(M);var C=Ft(T.height,b.contentHeight);if(b.innerHeight=C,S&&(C+=S[0]+S[2]),b.height=C,b.lineHeight=dv(T.lineHeight,t.lineHeight,C),b.align=T&&T.align||t.align,b.verticalAlign=T&&T.verticalAlign||"middle",p&&a!=null&&f+b.lineHeight>a){w>0?(y.tokens=y.tokens.slice(0,w),m(y,x,_),r.lines=r.lines.slice(0,g+1)):r.lines=r.lines.slice(0,g);break e}var D=T.width,P=D==null||D==="auto";if(typeof D=="string"&&D.charAt(D.length-1)==="%")b.percentWidth=D,c.push(b),b.contentWidth=oi(b.text,M);else{if(P){var I=T.backgroundColor,k=I&&I.image;k&&(k=CX(k),q0(k)&&(b.width=Math.max(b.width,k.width*C/k.height)))}var V=v&&n!=null?n-x:null;V!=null&&V<b.width?!P||V<A?(b.text="",b.width=b.contentWidth=0):(b.text=AX(b.text,V-A,M,t.ellipsis,{minChar:t.truncateMinChar}),b.width=b.contentWidth=oi(b.text,M)):b.contentWidth=oi(b.text,M)}b.width+=A,x+=b.width,T&&(_=Math.max(_,b.lineHeight))}m(y,x,_)}r.outerWidth=r.width=Ft(n,d),r.outerHeight=r.height=Ft(a,f),r.contentHeight=f,r.contentWidth=d,h&&(r.outerWidth+=h[1]+h[3],r.outerHeight+=h[0]+h[2]);for(var g=0;g<c.length;g++){var b=c[g],H=b.percentWidth;b.width=parseInt(H,10)/100*r.width}return r}function V1(e,t,r,n,a){var i=t==="",o=a&&r.rich[a]||{},s=e.lines,l=o.font||r.font,u=!1,c,f;if(n){var d=o.padding,h=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var v=Vl(o.width,n.width)+h;s.length>0&&v+n.accumWidth>n.width&&(c=t.split(`
`),u=!0),n.accumWidth=v}else{var p=T3(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=p.accumWidth+h,f=p.linesWidths,c=p.lines}}else c=t.split(`
`);for(var m=0;m<c.length;m++){var g=c[m],y=new MX;if(y.styleName=a,y.text=g,y.isLineHolder=!g&&!i,typeof o.width=="number"?y.width=o.width:y.width=f?f[m]:oi(g,l),!m&&!u){var _=(s[s.length-1]||(s[0]=new ID)).tokens,x=_.length;x===1&&_[0].isLineHolder?_[0]=y:(g||!x||i)&&_.push(y)}else s.push(new ID([y]))}}function IX(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var RX=Jo(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function OX(e){return IX(e)?!!RX[e]:!0}function T3(e,t,r,n,a){for(var i=[],o=[],s="",l="",u=0,c=0,f=0;f<e.length;f++){var d=e.charAt(f);if(d===`
`){l&&(s+=l,c+=u),i.push(s),o.push(c),s="",l="",u=0,c=0;continue}var h=oi(d,t),v=n?!1:!OX(d);if(i.length?c+h>r:a+c+h>r){c?(s||l)&&(v?(s||(s=l,l="",u=0,c=u),i.push(s),o.push(c-u),l+=d,u+=h,s="",c=u):(l&&(s+=l,l="",u=0),i.push(s),o.push(c),s=d,c=h)):v?(i.push(l),o.push(u),l=d,u=h):(i.push(d),o.push(h));continue}c+=h,v?(l+=d,u+=h):(l&&(s+=l,l="",u=0),s+=d)}return!i.length&&!s&&(s=e,l="",u=0),l&&(s+=l),s&&(i.push(s),o.push(c)),i.length===1&&(c+=a),{accumWidth:c,lines:i,linesWidths:o}}var Rw="__zr_style_"+Math.round(Math.random()*10),ic={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Z0={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ic[Rw]=!0;var RD=["z","z2","invisible"],kX=["invisible"],NX=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=ir(r),a=0;a<n.length;a++){var i=n[a];i==="style"?this.useStyle(r[i]):e.prototype.attrKV.call(this,i,r[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,a,i){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&BX(this,r,n)||o&&!o[0]&&!o[3])return!1;if(a&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();return i.contain(a[0],a[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,a=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,s=i.shadowOffsetX||0,l=i.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Ut(0,0,0,0)),n?Ut.applyTransform(r,a,n):r.copy(a),(o||s||l)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(l),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+l-o));var u=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-u),r.y=Math.floor(r.y-u),r.width=Math.ceil(r.width+1+u*2),r.height=Math.ceil(r.height+1+u*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Ut(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:De(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=$h,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&$h)},t.prototype.styleUpdated=function(){this.__dirty&=~$h},t.prototype.createStyle=function(r){return G0(ic,r)},t.prototype.useStyle=function(r){r[Rw]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[Rw]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,RD)},t.prototype._applyStateObj=function(r,n,a,i,o,s){e.prototype._applyStateObj.call(this,r,n,a,i,o,s);var l=!(n&&i),u;if(n&&n.style?o?i?u=n.style:(u=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:a.style),this._mergeStyle(u,n.style)):l&&(u=a.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=ir(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var v=ir(u),d=0;d<v.length;d++){var h=v[d];this.style[h]=this.style[h]}this._transitionState(r,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var p=this.__inHover?kX:RD,d=0;d<p.length;d++){var h=p[d];n&&n[h]!=null?this[h]=n[h]:l&&a[h]!=null&&(this[h]=a[h])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),a,i=0;i<r.length;i++){var o=r[i];o.style&&(a=a||{},this._mergeStyle(a,o.style))}return a&&(n.style=a),n},t.prototype._mergeStyle=function(r,n){return De(r,n),r},t.prototype.getAnimationStyleProps=function(){return Z0},t.initDefaultProps=function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=ai|$h}(),t}(o3),F1=new Ut(0,0,0,0),z1=new Ut(0,0,0,0);function BX(e,t,r){return F1.copy(e.getBoundingRect()),e.transform&&F1.applyTransform(e.transform),z1.width=t,z1.height=r,!F1.intersect(z1)}const Ic=NX;var Di=Math.min,Mi=Math.max,U1=Math.sin,H1=Math.cos,uu=Math.PI*2,gm=Dd(),ym=Dd(),_m=Dd();function OD(e,t,r,n,a,i){a[0]=Di(e,r),a[1]=Di(t,n),i[0]=Mi(e,r),i[1]=Mi(t,n)}var kD=[],ND=[];function VX(e,t,r,n,a,i,o,s,l,u){var c=qN,f=Mn,d=c(e,r,a,o,kD);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var v=f(e,r,a,o,kD[h]);l[0]=Di(v,l[0]),u[0]=Mi(v,u[0])}d=c(t,n,i,s,ND);for(var h=0;h<d;h++){var p=f(t,n,i,s,ND[h]);l[1]=Di(p,l[1]),u[1]=Mi(p,u[1])}l[0]=Di(e,l[0]),u[0]=Mi(e,u[0]),l[0]=Di(o,l[0]),u[0]=Mi(o,u[0]),l[1]=Di(t,l[1]),u[1]=Mi(t,u[1]),l[1]=Di(s,l[1]),u[1]=Mi(s,u[1])}function FX(e,t,r,n,a,i,o,s){var l=KN,u=aa,c=Mi(Di(l(e,r,a),1),0),f=Mi(Di(l(t,n,i),1),0),d=u(e,r,a,c),h=u(t,n,i,f);o[0]=Di(e,a,d),o[1]=Di(t,i,h),s[0]=Mi(e,a,d),s[1]=Mi(t,i,h)}function zX(e,t,r,n,a,i,o,s,l){var u=Gu,c=$u,f=Math.abs(a-i);if(f%uu<1e-4&&f>1e-4){s[0]=e-r,s[1]=t-n,l[0]=e+r,l[1]=t+n;return}if(gm[0]=H1(a)*r+e,gm[1]=U1(a)*n+t,ym[0]=H1(i)*r+e,ym[1]=U1(i)*n+t,u(s,gm,ym),c(l,gm,ym),a=a%uu,a<0&&(a=a+uu),i=i%uu,i<0&&(i=i+uu),a>i&&!o?i+=uu:a<i&&o&&(a+=uu),o){var d=i;i=a,a=d}for(var h=0;h<i;h+=Math.PI/2)h>a&&(_m[0]=H1(h)*r+e,_m[1]=U1(h)*n+t,u(s,_m,s),c(l,_m,l))}var dr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},cu=[],fu=[],Io=[],ol=[],Ro=[],Oo=[],G1=Math.min,$1=Math.max,du=Math.cos,hu=Math.sin,cs=Math.abs,Ow=Math.PI,wl=Ow*2,W1=typeof Float32Array<"u",uh=[];function Y1(e){var t=Math.round(e/Ow*1e8)/1e8;return t%2*Ow}function UX(e,t){var r=Y1(e[0]);r<0&&(r+=wl);var n=r-e[0],a=e[1];a+=n,!t&&a-r>=wl?a=r+wl:t&&r-a>=wl?a=r-wl:!t&&r>a?a=r+(wl-Y1(r-a)):t&&r<a&&(a=r-(wl-Y1(a-r))),e[0]=r,e[1]=a}var HX=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=cs(n/wy/t)||0,this._uy=cs(n/wy/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(dr.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=cs(t-this._xi),a=cs(r-this._yi),i=n>this._ux||a>this._uy;if(this.addData(dr.L,t,r),this._ctx&&i&&this._ctx.lineTo(t,r),i)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var o=n*n+a*a;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(t,r,n,a,i,o){return this._drawPendingPt(),this.addData(dr.C,t,r,n,a,i,o),this._ctx&&this._ctx.bezierCurveTo(t,r,n,a,i,o),this._xi=i,this._yi=o,this},e.prototype.quadraticCurveTo=function(t,r,n,a){return this._drawPendingPt(),this.addData(dr.Q,t,r,n,a),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,a),this._xi=n,this._yi=a,this},e.prototype.arc=function(t,r,n,a,i,o){this._drawPendingPt(),uh[0]=a,uh[1]=i,UX(uh,o),a=uh[0],i=uh[1];var s=i-a;return this.addData(dr.A,t,r,n,n,a,s,0,o?0:1),this._ctx&&this._ctx.arc(t,r,n,a,i,o),this._xi=du(i)*n+t,this._yi=hu(i)*n+r,this},e.prototype.arcTo=function(t,r,n,a,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,a,i),this},e.prototype.rect=function(t,r,n,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,a),this.addData(dr.R,t,r,n,a),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(dr.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&W1&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,a=this._len,i=0;i<r;i++)n+=t[i].len();W1&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+n));for(var i=0;i<r;i++)for(var o=t[i].data,s=0;s<o.length;s++)this.data[a++]=o[s];this._len=a},e.prototype.addData=function(t,r,n,a,i,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,W1&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Io[0]=Io[1]=Ro[0]=Ro[1]=Number.MAX_VALUE,ol[0]=ol[1]=Oo[0]=Oo[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,a=0,i=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(r=t[o],n=t[o+1],a=r,i=n),s){case dr.M:r=a=t[o++],n=i=t[o++],Ro[0]=a,Ro[1]=i,Oo[0]=a,Oo[1]=i;break;case dr.L:OD(r,n,t[o],t[o+1],Ro,Oo),r=t[o++],n=t[o++];break;case dr.C:VX(r,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],Ro,Oo),r=t[o++],n=t[o++];break;case dr.Q:FX(r,n,t[o++],t[o++],t[o],t[o+1],Ro,Oo),r=t[o++],n=t[o++];break;case dr.A:var u=t[o++],c=t[o++],f=t[o++],d=t[o++],h=t[o++],v=t[o++]+h;o+=1;var p=!t[o++];l&&(a=du(h)*f+u,i=hu(h)*d+c),zX(u,c,f,d,h,v,p,Ro,Oo),r=du(v)*f+u,n=hu(v)*d+c;break;case dr.R:a=r=t[o++],i=n=t[o++];var m=t[o++],g=t[o++];OD(a,i,a+m,i+g,Ro,Oo);break;case dr.Z:r=a,n=i;break}Gu(Io,Io,Ro),$u(ol,ol,Oo)}return o===0&&(Io[0]=Io[1]=ol[0]=ol[1]=0),new Ut(Io[0],Io[1],ol[0]-Io[0],ol[1]-Io[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,a=this._uy,i=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<r;){var h=t[d++],v=d===1;v&&(i=t[d],o=t[d+1],s=i,l=o);var p=-1;switch(h){case dr.M:i=s=t[d++],o=l=t[d++];break;case dr.L:{var m=t[d++],g=t[d++],y=m-i,_=g-o;(cs(y)>n||cs(_)>a||d===r-1)&&(p=Math.sqrt(y*y+_*_),i=m,o=g);break}case dr.C:{var x=t[d++],w=t[d++],m=t[d++],g=t[d++],b=t[d++],T=t[d++];p=l7(i,o,x,w,m,g,b,T,10),i=b,o=T;break}case dr.Q:{var x=t[d++],w=t[d++],m=t[d++],g=t[d++];p=c7(i,o,x,w,m,g,10),i=m,o=g;break}case dr.A:var S=t[d++],A=t[d++],M=t[d++],C=t[d++],D=t[d++],P=t[d++],I=P+D;d+=1,t[d++],v&&(s=du(D)*M+S,l=hu(D)*C+A),p=$1(M,C)*G1(wl,Math.abs(P)),i=du(I)*M+S,o=hu(I)*C+A;break;case dr.R:{s=i=t[d++],l=o=t[d++];var k=t[d++],V=t[d++];p=k*2+V*2;break}case dr.Z:{var y=s-i,_=l-o;p=Math.sqrt(y*y+_*_),i=s,o=l;break}}p>=0&&(u[f++]=p,c+=p)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,r){var n=this.data,a=this._ux,i=this._uy,o=this._len,s,l,u,c,f,d,h=r<1,v,p,m=0,g=0,y,_=0,x,w;if(!(h&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,p=this._pathLen,y=r*p,!y)))e:for(var b=0;b<o;){var T=n[b++],S=b===1;switch(S&&(u=n[b],c=n[b+1],s=u,l=c),T!==dr.L&&_>0&&(t.lineTo(x,w),_=0),T){case dr.M:s=u=n[b++],l=c=n[b++],t.moveTo(u,c);break;case dr.L:{f=n[b++],d=n[b++];var A=cs(f-u),M=cs(d-c);if(A>a||M>i){if(h){var C=v[g++];if(m+C>y){var D=(y-m)/C;t.lineTo(u*(1-D)+f*D,c*(1-D)+d*D);break e}m+=C}t.lineTo(f,d),u=f,c=d,_=0}else{var P=A*A+M*M;P>_&&(x=f,w=d,_=P)}break}case dr.C:{var I=n[b++],k=n[b++],V=n[b++],H=n[b++],O=n[b++],L=n[b++];if(h){var C=v[g++];if(m+C>y){var D=(y-m)/C;_y(u,I,V,O,D,cu),_y(c,k,H,L,D,fu),t.bezierCurveTo(cu[1],fu[1],cu[2],fu[2],cu[3],fu[3]);break e}m+=C}t.bezierCurveTo(I,k,V,H,O,L),u=O,c=L;break}case dr.Q:{var I=n[b++],k=n[b++],V=n[b++],H=n[b++];if(h){var C=v[g++];if(m+C>y){var D=(y-m)/C;xy(u,I,V,D,cu),xy(c,k,H,D,fu),t.quadraticCurveTo(cu[1],fu[1],cu[2],fu[2]);break e}m+=C}t.quadraticCurveTo(I,k,V,H),u=V,c=H;break}case dr.A:var F=n[b++],X=n[b++],Y=n[b++],G=n[b++],z=n[b++],N=n[b++],U=n[b++],Z=!n[b++],K=Y>G?Y:G,q=cs(Y-G)>.001,ue=z+N,se=!1;if(h){var C=v[g++];m+C>y&&(ue=z+N*(y-m)/C,se=!0),m+=C}if(q&&t.ellipse?t.ellipse(F,X,Y,G,U,z,ue,Z):t.arc(F,X,K,z,ue,Z),se)break e;S&&(s=du(z)*Y+F,l=hu(z)*G+X),u=du(ue)*Y+F,c=hu(ue)*G+X;break;case dr.R:s=u=n[b],l=c=n[b+1],f=n[b++],d=n[b++];var B=n[b++],$=n[b++];if(h){var C=v[g++];if(m+C>y){var Q=y-m;t.moveTo(f,d),t.lineTo(f+G1(Q,B),d),Q-=B,Q>0&&t.lineTo(f+B,d+G1(Q,$)),Q-=$,Q>0&&t.lineTo(f+$1(B-Q,0),d+$),Q-=B,Q>0&&t.lineTo(f,d+$1($-Q,0));break e}m+=C}t.rect(f,d,B,$);break;case dr.Z:if(h){var C=v[g++];if(m+C>y){var D=(y-m)/C;t.lineTo(u*(1-D)+s*D,c*(1-D)+l*D);break e}m+=C}t.closePath(),u=s,c=l}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=dr,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();const Fl=HX;function ku(e,t,r,n,a,i,o){if(a===0)return!1;var s=a,l=0,u=e;if(o>t+s&&o>n+s||o<t-s&&o<n-s||i>e+s&&i>r+s||i<e-s&&i<r-s)return!1;if(e!==r)l=(t-n)/(e-r),u=(e*n-r*t)/(e-r);else return Math.abs(i-e)<=s/2;var c=l*i-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function GX(e,t,r,n,a,i,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>n+f&&c>i+f&&c>s+f||c<t-f&&c<n-f&&c<i-f&&c<s-f||u>e+f&&u>r+f&&u>a+f&&u>o+f||u<e-f&&u<r-f&&u<a-f&&u<o-f)return!1;var d=ZN(e,t,r,n,a,i,o,s,u,c,null);return d<=f/2}function $X(e,t,r,n,a,i,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>n+u&&l>i+u||l<t-u&&l<n-u&&l<i-u||s>e+u&&s>r+u&&s>a+u||s<e-u&&s<r-u&&s<a-u)return!1;var c=QN(e,t,r,n,a,i,s,l,null);return c<=u/2}var BD=Math.PI*2;function Ts(e){return e%=BD,e<0&&(e+=BD),e}var ch=Math.PI*2;function WX(e,t,r,n,a,i,o,s,l){if(o===0)return!1;var u=o;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>r||c+u<r)return!1;if(Math.abs(n-a)%ch<1e-4)return!0;if(i){var f=n;n=Ts(a),a=Ts(f)}else n=Ts(n),a=Ts(a);n>a&&(a+=ch);var d=Math.atan2(l,s);return d<0&&(d+=ch),d>=n&&d<=a||d+ch>=n&&d+ch<=a}function gs(e,t,r,n,a,i){if(i>t&&i>n||i<t&&i<n||n===t)return 0;var o=(i-t)/(n-t),s=n<t?1:-1;(o===1||o===0)&&(s=n<t?.5:-.5);var l=o*(r-e)+e;return l===a?1/0:l>a?s:0}var sl=Fl.CMD,vu=Math.PI*2,YX=1e-4;function XX(e,t){return Math.abs(e-t)<YX}var Ca=[-1,-1,-1],Ti=[-1,-1];function jX(){var e=Ti[0];Ti[0]=Ti[1],Ti[1]=e}function qX(e,t,r,n,a,i,o,s,l,u){if(u>t&&u>n&&u>i&&u>s||u<t&&u<n&&u<i&&u<s)return 0;var c=yy(t,n,i,s,u,Ca);if(c===0)return 0;for(var f=0,d=-1,h=void 0,v=void 0,p=0;p<c;p++){var m=Ca[p],g=m===0||m===1?.5:1,y=Mn(e,r,a,o,m);y<l||(d<0&&(d=qN(t,n,i,s,Ti),Ti[1]<Ti[0]&&d>1&&jX(),h=Mn(t,n,i,s,Ti[0]),d>1&&(v=Mn(t,n,i,s,Ti[1]))),d===2?m<Ti[0]?f+=h<t?g:-g:m<Ti[1]?f+=v<h?g:-g:f+=s<v?g:-g:m<Ti[0]?f+=h<t?g:-g:f+=s<h?g:-g)}return f}function ZX(e,t,r,n,a,i,o,s){if(s>t&&s>n&&s>i||s<t&&s<n&&s<i)return 0;var l=u7(t,n,i,s,Ca);if(l===0)return 0;var u=KN(t,n,i);if(u>=0&&u<=1){for(var c=0,f=aa(t,n,i,u),d=0;d<l;d++){var h=Ca[d]===0||Ca[d]===1?.5:1,v=aa(e,r,a,Ca[d]);v<o||(Ca[d]<u?c+=f<t?h:-h:c+=i<f?h:-h)}return c}else{var h=Ca[0]===0||Ca[0]===1?.5:1,v=aa(e,r,a,Ca[0]);return v<o?0:i<t?h:-h}}function KX(e,t,r,n,a,i,o,s){if(s-=t,s>r||s<-r)return 0;var l=Math.sqrt(r*r-s*s);Ca[0]=-l,Ca[1]=l;var u=Math.abs(n-a);if(u<1e-4)return 0;if(u>=vu-1e-4){n=0,a=vu;var c=i?1:-1;return o>=Ca[0]+e&&o<=Ca[1]+e?c:0}if(n>a){var f=n;n=a,a=f}n<0&&(n+=vu,a+=vu);for(var d=0,h=0;h<2;h++){var v=Ca[h];if(v+e>o){var p=Math.atan2(s,v),c=i?1:-1;p<0&&(p=vu+p),(p>=n&&p<=a||p+vu>=n&&p+vu<=a)&&(p>Math.PI/2&&p<Math.PI*1.5&&(c=-c),d+=c)}}return d}function C3(e,t,r,n,a){for(var i=e.data,o=e.len(),s=0,l=0,u=0,c=0,f=0,d,h,v=0;v<o;){var p=i[v++],m=v===1;switch(p===sl.M&&v>1&&(r||(s+=gs(l,u,c,f,n,a))),m&&(l=i[v],u=i[v+1],c=l,f=u),p){case sl.M:c=i[v++],f=i[v++],l=c,u=f;break;case sl.L:if(r){if(ku(l,u,i[v],i[v+1],t,n,a))return!0}else s+=gs(l,u,i[v],i[v+1],n,a)||0;l=i[v++],u=i[v++];break;case sl.C:if(r){if(GX(l,u,i[v++],i[v++],i[v++],i[v++],i[v],i[v+1],t,n,a))return!0}else s+=qX(l,u,i[v++],i[v++],i[v++],i[v++],i[v],i[v+1],n,a)||0;l=i[v++],u=i[v++];break;case sl.Q:if(r){if($X(l,u,i[v++],i[v++],i[v],i[v+1],t,n,a))return!0}else s+=ZX(l,u,i[v++],i[v++],i[v],i[v+1],n,a)||0;l=i[v++],u=i[v++];break;case sl.A:var g=i[v++],y=i[v++],_=i[v++],x=i[v++],w=i[v++],b=i[v++];v+=1;var T=!!(1-i[v++]);d=Math.cos(w)*_+g,h=Math.sin(w)*x+y,m?(c=d,f=h):s+=gs(l,u,d,h,n,a);var S=(n-g)*x/_+g;if(r){if(WX(g,y,x,w,w+b,T,t,S,a))return!0}else s+=KX(g,y,x,w,w+b,T,S,a);l=Math.cos(w+b)*_+g,u=Math.sin(w+b)*x+y;break;case sl.R:c=l=i[v++],f=u=i[v++];var A=i[v++],M=i[v++];if(d=c+A,h=f+M,r){if(ku(c,f,d,f,t,n,a)||ku(d,f,d,h,t,n,a)||ku(d,h,c,h,t,n,a)||ku(c,h,c,f,t,n,a))return!0}else s+=gs(d,f,d,h,n,a),s+=gs(c,h,c,f,n,a);break;case sl.Z:if(r){if(ku(l,u,c,f,t,n,a))return!0}else s+=gs(l,u,c,f,n,a);l=c,u=f;break}}return!r&&!XX(u,f)&&(s+=gs(l,u,c,f,n,a)||0),s!==0}function QX(e,t,r){return C3(e,0,!1,t,r)}function JX(e,t,r,n){return C3(e,t,!0,r,n)}var A3=kt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ic),e9={style:kt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Z0.style)},X1=ts.concat(["invisible","culling","z","z2","zlevel","parent"]),t9=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var a=this._decalEl=this._decalEl||new t;a.buildPath===t.prototype.buildPath&&(a.buildPath=function(l){r.buildPath(l,r.shape)}),a.silent=!0;var i=a.style;for(var o in n)i[o]!==n[o]&&(i[o]=n[o]);i.fill=n.fill?n.decal:null,i.decal=null,i.shadowColor=null,n.strokeFirst&&(i.stroke=null);for(var s=0;s<X1.length;++s)a[X1[s]]=this[X1[s]];a.__dirty|=ai}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=ir(r);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var i=0;i<n.length;i++){var o=n[i],s=r[o];o==="style"?this.style?De(this.style,s):this.useStyle(s):o==="shape"?De(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(rt(r)){var n=by(r,0);return n>.5?Dw:n>.2?k7:Mw}else if(r)return Mw}return Dw},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(rt(n)){var a=this.__zr,i=!!(a&&a.isDarkMode()),o=by(r,0)<Ew;if(i===o)return n}},t.prototype.buildPath=function(r,n,a){},t.prototype.pathUpdated=function(){this.__dirty&=~kf},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new Fl(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,a=!r;if(a){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||this.__dirty&kf)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||a){s.copy(r);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return r},t.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect(),o=this.style;if(r=a[0],n=a[1],i.contain(r,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),JX(s,l/u,r,n)))return!0}if(this.hasFill())return QX(s,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=kf,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var a=this.shape;return a||(a=this.shape={}),typeof r=="string"?a[r]=n:De(a,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&kf)},t.prototype.createStyle=function(r){return G0(A3,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=De({},this.shape))},t.prototype._applyStateObj=function(r,n,a,i,o,s){e.prototype._applyStateObj.call(this,r,n,a,i,o,s);var l=!(n&&i),u;if(n&&n.shape?o?i?u=n.shape:(u=De({},a.shape),De(u,n.shape)):(u=De({},i?this.shape:a.shape),De(u,n.shape)):l&&(u=a.shape),u)if(o){this.shape=De({},this.shape);for(var c={},f=ir(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(r,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),a,i=0;i<r.length;i++){var o=r[i];o.shape&&(a=a||{},this._mergeStyle(a,o.shape))}return a&&(n.shape=a),n},t.prototype.getAnimationStyleProps=function(){return e9},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=function(i){Ar(o,i);function o(s){var l=i.call(this,s)||this;return r.init&&r.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return Kt(r.style)},o.prototype.getDefaultShape=function(){return Kt(r.shape)},o}(t);for(var a in r)typeof r[a]=="function"&&(n.prototype[a]=r[a]);return n},t.initDefaultProps=function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=ai|$h|kf}(),t}(Ic);const ur=t9;var r9=kt({strokeFirst:!0,font:pc,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},A3),E3=function(e){Ar(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return G0(r9,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var a=gC(n,r.font,r.textAlign,r.textBaseline);if(a.x+=r.x||0,a.y+=r.y||0,this.hasStroke()){var i=r.lineWidth;a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i}this._rect=a}return this._rect},t.initDefaultProps=function(){var r=t.prototype;r.dirtyRectTolerance=10}(),t}(Ic);E3.prototype.type="tspan";const kw=E3;var n9=kt({x:0,y:0},ic),a9={style:kt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Z0.style)};function i9(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var D3=function(e){Ar(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return G0(n9,r)},t.prototype._getSize=function(r){var n=this.style,a=n[r];if(a!=null)return a;var i=i9(n.image)?n.image:this.__image;if(!i)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?i[r]:i[r]/i[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return a9},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Ut(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Ic);D3.prototype.type="image";const $s=D3;function o9(e,t){var r=t.x,n=t.y,a=t.width,i=t.height,o=t.r,s,l,u,c;a<0&&(r=r+a,a=-a),i<0&&(n=n+i,i=-i),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>a&&(f=s+l,s*=a/f,l*=a/f),u+c>a&&(f=u+c,u*=a/f,c*=a/f),l+u>i&&(f=l+u,l*=i/f,u*=i/f),s+c>i&&(f=s+c,s*=i/f,c*=i/f),e.moveTo(r+s,n),e.lineTo(r+a-l,n),l!==0&&e.arc(r+a-l,n+l,l,-Math.PI/2,0),e.lineTo(r+a,n+i-u),u!==0&&e.arc(r+a-u,n+i-u,u,0,Math.PI/2),e.lineTo(r+c,n+i),c!==0&&e.arc(r+c,n+i-c,c,Math.PI/2,Math.PI),e.lineTo(r,n+s),s!==0&&e.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var Vf=Math.round;function M3(e,t,r){if(t){var n=t.x1,a=t.x2,i=t.y1,o=t.y2;e.x1=n,e.x2=a,e.y1=i,e.y2=o;var s=r&&r.lineWidth;return s&&(Vf(n*2)===Vf(a*2)&&(e.x1=e.x2=Wu(n,s,!0)),Vf(i*2)===Vf(o*2)&&(e.y1=e.y2=Wu(i,s,!0))),e}}function P3(e,t,r){if(t){var n=t.x,a=t.y,i=t.width,o=t.height;e.x=n,e.y=a,e.width=i,e.height=o;var s=r&&r.lineWidth;return s&&(e.x=Wu(n,s,!0),e.y=Wu(a,s,!0),e.width=Math.max(Wu(n+i,s,!1)-e.x,i===0?0:1),e.height=Math.max(Wu(a+o,s,!1)-e.y,o===0?0:1)),e}}function Wu(e,t,r){if(!t)return e;var n=Vf(e*2);return(n+Vf(t))%2===0?n/2:(n+(r?1:-1))/2}var s9=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),l9={},L3=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new s9},t.prototype.buildPath=function(r,n){var a,i,o,s;if(this.subPixelOptimize){var l=P3(l9,n,this.style);a=l.x,i=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else a=n.x,i=n.y,o=n.width,s=n.height;n.r?o9(r,n):r.rect(a,i,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(ur);L3.prototype.type="rect";const gn=L3;var VD={fill:"#000"},FD=2,u9={style:kt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Z0.style)},I3=function(e){Ar(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=VD,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,v9(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Ut(0,0,0,0),n=this._children,a=[],i=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),u=s.getLocalTransform(a);u?(r.copy(l),r.applyTransform(u),i=i||r.clone(),i.union(r)):(i=i||l.clone(),i.union(l))}this._rect=i||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||VD},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var a=n.rich,i=r.rich||a&&{};return De(r,n),a&&i?(this._mergeRich(i,a),r.rich=i):i&&(r.rich=i),r},t.prototype._mergeRich=function(r,n){for(var a=ir(n),i=0;i<a.length;i++){var o=a[i];r[o]=r[o]||{},De(r[o],n[o])}},t.prototype.getAnimationStyleProps=function(){return u9},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||pc,a=r.padding,i=YD(r),o=DX(i,r),s=j1(r),l=!!r.backgroundColor,u=o.outerHeight,c=o.outerWidth,f=o.contentWidth,d=o.lines,h=o.lineHeight,v=this._defaultStyle,p=r.x||0,m=r.y||0,g=r.align||v.align||"left",y=r.verticalAlign||v.verticalAlign||"top",_=p,x=Nf(m,o.contentHeight,y);if(s||a){var w=Yh(p,c,g),b=Nf(m,u,y);s&&this._renderBackground(r,r,w,b,c,u)}x+=h/2,a&&(_=WD(p,g,a),y==="top"?x+=a[0]:y==="bottom"&&(x-=a[2]));for(var T=0,S=!1,A=$D("fill"in r?r.fill:(S=!0,v.fill)),M=GD("stroke"in r?r.stroke:!l&&(!v.autoStroke||S)?(T=FD,v.stroke):null),C=r.textShadowBlur>0,D=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),P=o.calculatedLineHeight,I=0;I<d.length;I++){var k=this._getOrCreateChild(kw),V=k.createStyle();k.useStyle(V),V.text=d[I],V.x=_,V.y=x,g&&(V.textAlign=g),V.textBaseline="middle",V.opacity=r.opacity,V.strokeFirst=!0,C&&(V.shadowBlur=r.textShadowBlur||0,V.shadowColor=r.textShadowColor||"transparent",V.shadowOffsetX=r.textShadowOffsetX||0,V.shadowOffsetY=r.textShadowOffsetY||0),V.stroke=M,V.fill=A,M&&(V.lineWidth=r.lineWidth||T,V.lineDash=r.lineDash,V.lineDashOffset=r.lineDashOffset||0),V.font=n,UD(V,r),x+=h,D&&k.setBoundingRect(new Ut(Yh(V.x,r.width,V.textAlign),Nf(V.y,P,V.textBaseline),f,P))}},t.prototype._updateRichTexts=function(){var r=this.style,n=YD(r),a=LX(n,r),i=a.width,o=a.outerWidth,s=a.outerHeight,l=r.padding,u=r.x||0,c=r.y||0,f=this._defaultStyle,d=r.align||f.align,h=r.verticalAlign||f.verticalAlign,v=Yh(u,o,d),p=Nf(c,s,h),m=v,g=p;l&&(m+=l[3],g+=l[0]);var y=m+i;j1(r)&&this._renderBackground(r,r,v,p,o,s);for(var _=!!r.backgroundColor,x=0;x<a.lines.length;x++){for(var w=a.lines[x],b=w.tokens,T=b.length,S=w.lineHeight,A=w.width,M=0,C=m,D=y,P=T-1,I=void 0;M<T&&(I=b[M],!I.align||I.align==="left");)this._placeToken(I,r,S,g,C,"left",_),A-=I.width,C+=I.width,M++;for(;P>=0&&(I=b[P],I.align==="right");)this._placeToken(I,r,S,g,D,"right",_),A-=I.width,D-=I.width,P--;for(C+=(i-(C-m)-(y-D)-A)/2;M<=P;)I=b[M],this._placeToken(I,r,S,g,C+I.width/2,"center",_),C+=I.width,M++;g+=S}},t.prototype._placeToken=function(r,n,a,i,o,s,l){var u=n.rich[r.styleName]||{};u.text=r.text;var c=r.verticalAlign,f=i+a/2;c==="top"?f=i+r.height/2:c==="bottom"&&(f=i+a-r.height/2);var d=!r.isLineHolder&&j1(u);d&&this._renderBackground(u,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,f-r.height/2,r.width,r.height);var h=!!u.backgroundColor,v=r.textPadding;v&&(o=WD(o,s,v),f-=r.height/2-v[0]-r.innerHeight/2);var p=this._getOrCreateChild(kw),m=p.createStyle();p.useStyle(m);var g=this._defaultStyle,y=!1,_=0,x=$D("fill"in u?u.fill:"fill"in n?n.fill:(y=!0,g.fill)),w=GD("stroke"in u?u.stroke:"stroke"in n?n.stroke:!h&&!l&&(!g.autoStroke||y)?(_=FD,g.stroke):null),b=u.textShadowBlur>0||n.textShadowBlur>0;m.text=r.text,m.x=o,m.y=f,b&&(m.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,m.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=r.font||pc,m.opacity=dv(u.opacity,n.opacity,1),UD(m,u),w&&(m.lineWidth=dv(u.lineWidth,n.lineWidth,_),m.lineDash=Ft(u.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=w),x&&(m.fill=x);var T=r.contentWidth,S=r.contentHeight;p.setBoundingRect(new Ut(Yh(m.x,T,m.textAlign),Nf(m.y,S,m.textBaseline),T,S))},t.prototype._renderBackground=function(r,n,a,i,o,s){var l=r.backgroundColor,u=r.borderWidth,c=r.borderColor,f=l&&l.image,d=l&&!f,h=r.borderRadius,v=this,p,m;if(d||r.lineHeight||u&&c){p=this._getOrCreateChild(gn),p.useStyle(p.createStyle()),p.style.fill=null;var g=p.shape;g.x=a,g.y=i,g.width=o,g.height=s,g.r=h,p.dirtyShape()}if(d){var y=p.style;y.fill=l||null,y.fillOpacity=Ft(r.fillOpacity,1)}else if(f){m=this._getOrCreateChild($s),m.onload=function(){v.dirtyStyle()};var _=m.style;_.image=l.image,_.x=a,_.y=i,_.width=o,_.height=s}if(u&&c){var y=p.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=Ft(r.strokeOpacity,1),y.lineDash=r.borderDash,y.lineDashOffset=r.borderDashOffset||0,p.strokeContainThreshold=0,p.hasFill()&&p.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var x=(p||m).style;x.shadowBlur=r.shadowBlur||0,x.shadowColor=r.shadowColor||"transparent",x.shadowOffsetX=r.shadowOffsetX||0,x.shadowOffsetY=r.shadowOffsetY||0,x.opacity=dv(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return h9(r)&&(n=[r.fontStyle,r.fontWeight,d9(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&Yo(n)||r.textFont||r.font},t}(Ic),c9={left:!0,right:1,center:1},f9={top:1,bottom:1,middle:1},zD=["fontStyle","fontWeight","fontSize","fontFamily"];function d9(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?uC+"px":e+"px"}function UD(e,t){for(var r=0;r<zD.length;r++){var n=zD[r],a=t[n];a!=null&&(e[n]=a)}}function h9(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function v9(e){return HD(e),j(e.rich,HD),e}function HD(e){if(e){e.font=I3.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||c9[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||f9[r]?r:"top";var n=e.padding;n&&(e.padding=kN(e.padding))}}function GD(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function $D(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function WD(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function YD(e){var t=e.text;return t!=null&&(t+=""),t}function j1(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}const Kr=I3;var Wt=Pr(),p9=function(e,t,r,n){if(n){var a=Wt(n);a.dataIndex=r,a.dataType=t,a.seriesIndex=e,n.type==="group"&&n.traverse(function(i){var o=Wt(i);o.seriesIndex=e,o.dataIndex=r,o.dataType=t})}},XD=1,jD={},R3=Pr(),CC=Pr(),AC=0,K0=1,Q0=2,Wi=["emphasis","blur","select"],Ay=["normal","emphasis","blur","select"],m9=10,g9=9,oc="highlight",Fg="downplay",gv="select",zg="unselect",yv="toggleSelect";function tf(e){return e!=null&&e!=="none"}var qD=new Pd(100);function ZD(e){if(rt(e)){var t=qD.get(e);return t||(t=$v(e,-.1),qD.put(e,t)),t}else if(H0(e)){var r=De({},e);return r.colorStops=nt(e.colorStops,function(n){return{offset:n.offset,color:$v(n.color,-.1)}}),r}return e}function J0(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function O3(e){J0(e,"emphasis",Q0)}function k3(e){e.hoverState===Q0&&J0(e,"normal",AC)}function EC(e){J0(e,"blur",K0)}function N3(e){e.hoverState===K0&&J0(e,"normal",AC)}function y9(e){e.selected=!0}function _9(e){e.selected=!1}function KD(e,t,r){t(e,r)}function Ws(e,t,r){KD(e,t,r),e.isGroup&&e.traverse(function(n){KD(n,t,r)})}function QD(e,t){switch(t){case"emphasis":e.hoverState=Q0;break;case"normal":e.hoverState=AC;break;case"blur":e.hoverState=K0;break;case"select":e.selected=!0}}function x9(e,t,r,n){for(var a=e.style,i={},o=0;o<t.length;o++){var s=t[o],l=a[s];i[s]=l??(n&&n[s])}for(var o=0;o<e.animators.length;o++){var u=e.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"&&u.saveTo(i,t)}return i}function b9(e,t,r,n){var a=r&&$t(r,"select")>=0,i=!1;if(e instanceof ur){var o=R3(e),s=a&&o.selectFill||o.normalFill,l=a&&o.selectStroke||o.normalStroke;if(tf(s)||tf(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(i=!0,n=De({},n),u=De({},u),u.fill=s):!tf(u.fill)&&tf(s)?(i=!0,n=De({},n),u=De({},u),u.fill=ZD(s)):!tf(u.stroke)&&tf(l)&&(i||(n=De({},n),u=De({},u)),u.stroke=ZD(l)),n.style=u}}if(n&&n.z2==null){i||(n=De({},n));var c=e.z2EmphasisLift;n.z2=e.z2+(c??m9)}return n}function w9(e,t,r){if(r&&r.z2==null){r=De({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??g9)}return r}function S9(e,t,r){var n=$t(e.currentStates,t)>=0,a=e.style.opacity,i=n?null:x9(e,["opacity"],t,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=De({},r),o=De({opacity:n?a:i.opacity*.1},o),r.style=o),r}function q1(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return b9(this,e,t,r);if(e==="blur")return S9(this,e,r);if(e==="select")return w9(this,e,r)}return r}function T9(e){e.stateProxy=q1;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=q1),r&&(r.stateProxy=q1)}function JD(e,t){!z3(e,t)&&!e.__highByOuter&&Ws(e,O3)}function eM(e,t){!z3(e,t)&&!e.__highByOuter&&Ws(e,k3)}function Ey(e,t){e.__highByOuter|=1<<(t||0),Ws(e,O3)}function Dy(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Ws(e,k3)}function C9(e){Ws(e,EC)}function B3(e){Ws(e,N3)}function V3(e){Ws(e,y9)}function F3(e){Ws(e,_9)}function z3(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function U3(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(a,i){var o=CC(i),s=a==="series",l=s?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(u){N3(u)}),s&&r.push(i)),o.isBlured=!1}),j(n,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(r,!1,t)})}function Nw(e,t,r,n){var a=n.getModel();r=r||"coordinateSystem";function i(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&B3(d)}}if(e!=null&&!(!t||t==="none")){var o=a.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];a.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!d||t==="series"&&c)){var h=n.getViewOfSeriesModel(u);if(h.group.traverse(function(m){m.__highByOuter&&c&&t==="self"||EC(m)}),Ba(t))i(u.getData(),t);else if(lt(t))for(var v=ir(t),p=0;p<v.length;p++)i(u.getData(v[p]),t[v[p]]);l.push(u),CC(u).isBlured=!0}}),a.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,a)}})}}function Bw(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){CC(n).isBlured=!0;var a=r.getViewOfComponentModel(n);!a||!a.focusBlurEnabled||a.group.traverse(function(i){EC(i)})}}}function A9(e,t,r){var n=e.seriesIndex,a=e.getData(t.dataType);if(a){var i=mc(a,t);i=(Ne(i)?i[0]:i)||0;var o=a.getItemGraphicEl(i);if(!o)for(var s=a.count(),l=0;!o&&l<s;)o=a.getItemGraphicEl(l++);if(o){var u=Wt(o);Nw(n,u.focus,u.blurScope,r)}else{var c=e.get(["emphasis","focus"]),f=e.get(["emphasis","blurScope"]);c!=null&&Nw(n,c,f,r)}}}function DC(e,t,r,n){var a={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return a;var i=n.getModel().getComponent(e,t);if(!i)return a;var o=n.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return a;for(var s=o.findHighDownDispatchers(r),l,u=0;u<s.length;u++)if(Wt(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function E9(e,t,r){var n=Wt(e),a=DC(n.componentMainType,n.componentIndex,n.componentHighDownName,r),i=a.dispatchers,o=a.focusSelf;i?(o&&Bw(n.componentMainType,n.componentIndex,r),j(i,function(s){return JD(s,t)})):(Nw(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&Bw(n.componentMainType,n.componentIndex,r),JD(e,t))}function D9(e,t,r){U3(r);var n=Wt(e),a=DC(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;a?j(a,function(i){return eM(i,t)}):eM(e,t)}function M9(e,t,r){if(zw(t)){var n=t.dataType,a=e.getData(n),i=mc(a,t);Ne(i)||(i=[i]),e[t.type===yv?"toggleSelect":t.type===gv?"select":"unselect"](i,n)}}function tM(e){var t=e.getAllData();j(t,function(r){var n=r.data,a=r.type;n.eachItemGraphicEl(function(i,o){e.isSelected(o,a)?V3(i):F3(i)})})}function P9(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();j(n,function(a){a.data;var i=a.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};i!=null&&(s.dataType=i),t.push(s)}})}),t}function Vw(e,t,r){H3(e,!0),Ws(e,T9),I9(e,t,r)}function L9(e){H3(e,!1)}function jv(e,t,r,n){n?L9(e):Vw(e,t,r)}function I9(e,t,r){var n=Wt(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}var rM=["emphasis","blur","select"],R9={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function My(e,t,r,n){r=r||"itemStyle";for(var a=0;a<rM.length;a++){var i=rM[a],o=t.getModel([i,r]),s=e.ensureState(i);s.style=n?n(o):o[R9[r]]()}}function H3(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function Fw(e){return!!(e&&e.__highDownDispatcher)}function O9(e){var t=jD[e];return t==null&&XD<=32&&(t=jD[e]=XD++),t}function zw(e){var t=e.type;return t===gv||t===zg||t===yv}function nM(e){var t=e.type;return t===oc||t===Fg}function k9(e){var t=R3(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var rf=Fl.CMD,N9=[[],[],[]],aM=Math.sqrt,B9=Math.atan2;function V9(e,t){if(t){var r=e.data,n=e.len(),a,i,o,s,l,u,c=rf.M,f=rf.C,d=rf.L,h=rf.R,v=rf.A,p=rf.Q;for(o=0,s=0;o<n;){switch(a=r[o++],s=o,i=0,a){case c:i=1;break;case d:i=1;break;case f:i=3;break;case p:i=2;break;case v:var m=t[4],g=t[5],y=aM(t[0]*t[0]+t[1]*t[1]),_=aM(t[2]*t[2]+t[3]*t[3]),x=B9(-t[1]/_,t[0]/y);r[o]*=y,r[o++]+=m,r[o]*=_,r[o++]+=g,r[o++]*=y,r[o++]*=_,r[o++]+=x,r[o++]+=x,o+=2,s=o;break;case h:u[0]=r[o++],u[1]=r[o++],fa(u,u,t),r[s++]=u[0],r[s++]=u[1],u[0]+=r[o++],u[1]+=r[o++],fa(u,u,t),r[s++]=u[0],r[s++]=u[1]}for(l=0;l<i;l++){var w=N9[l];w[0]=r[o++],w[1]=r[o++],fa(w,w,t),r[s++]=w[0],r[s++]=w[1]}}e.increaseVersion()}}var Z1=Math.sqrt,xm=Math.sin,bm=Math.cos,fh=Math.PI;function iM(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Uw(e,t){return(e[0]*t[0]+e[1]*t[1])/(iM(e)*iM(t))}function oM(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Uw(e,t))}function sM(e,t,r,n,a,i,o,s,l,u,c){var f=l*(fh/180),d=bm(f)*(e-r)/2+xm(f)*(t-n)/2,h=-1*xm(f)*(e-r)/2+bm(f)*(t-n)/2,v=d*d/(o*o)+h*h/(s*s);v>1&&(o*=Z1(v),s*=Z1(v));var p=(a===i?-1:1)*Z1((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)))||0,m=p*o*h/s,g=p*-s*d/o,y=(e+r)/2+bm(f)*m-xm(f)*g,_=(t+n)/2+xm(f)*m+bm(f)*g,x=oM([1,0],[(d-m)/o,(h-g)/s]),w=[(d-m)/o,(h-g)/s],b=[(-1*d-m)/o,(-1*h-g)/s],T=oM(w,b);if(Uw(w,b)<=-1&&(T=fh),Uw(w,b)>=1&&(T=0),T<0){var S=Math.round(T/fh*1e6)/1e6;T=fh*2+S%2*fh}c.addData(u,y,_,o,s,x,T,f,i)}var F9=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,z9=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function U9(e){var t=new Fl;if(!e)return t;var r=0,n=0,a=r,i=n,o,s=Fl.CMD,l=e.match(F9);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(z9)||[],v=h.length,p=0;p<v;p++)h[p]=parseFloat(h[p]);for(var m=0;m<v;){var g=void 0,y=void 0,_=void 0,x=void 0,w=void 0,b=void 0,T=void 0,S=r,A=n,M=void 0,C=void 0;switch(f){case"l":r+=h[m++],n+=h[m++],d=s.L,t.addData(d,r,n);break;case"L":r=h[m++],n=h[m++],d=s.L,t.addData(d,r,n);break;case"m":r+=h[m++],n+=h[m++],d=s.M,t.addData(d,r,n),a=r,i=n,f="l";break;case"M":r=h[m++],n=h[m++],d=s.M,t.addData(d,r,n),a=r,i=n,f="L";break;case"h":r+=h[m++],d=s.L,t.addData(d,r,n);break;case"H":r=h[m++],d=s.L,t.addData(d,r,n);break;case"v":n+=h[m++],d=s.L,t.addData(d,r,n);break;case"V":n=h[m++],d=s.L,t.addData(d,r,n);break;case"C":d=s.C,t.addData(d,h[m++],h[m++],h[m++],h[m++],h[m++],h[m++]),r=h[m-2],n=h[m-1];break;case"c":d=s.C,t.addData(d,h[m++]+r,h[m++]+n,h[m++]+r,h[m++]+n,h[m++]+r,h[m++]+n),r+=h[m-2],n+=h[m-1];break;case"S":g=r,y=n,M=t.len(),C=t.data,o===s.C&&(g+=r-C[M-4],y+=n-C[M-3]),d=s.C,S=h[m++],A=h[m++],r=h[m++],n=h[m++],t.addData(d,g,y,S,A,r,n);break;case"s":g=r,y=n,M=t.len(),C=t.data,o===s.C&&(g+=r-C[M-4],y+=n-C[M-3]),d=s.C,S=r+h[m++],A=n+h[m++],r+=h[m++],n+=h[m++],t.addData(d,g,y,S,A,r,n);break;case"Q":S=h[m++],A=h[m++],r=h[m++],n=h[m++],d=s.Q,t.addData(d,S,A,r,n);break;case"q":S=h[m++]+r,A=h[m++]+n,r+=h[m++],n+=h[m++],d=s.Q,t.addData(d,S,A,r,n);break;case"T":g=r,y=n,M=t.len(),C=t.data,o===s.Q&&(g+=r-C[M-4],y+=n-C[M-3]),r=h[m++],n=h[m++],d=s.Q,t.addData(d,g,y,r,n);break;case"t":g=r,y=n,M=t.len(),C=t.data,o===s.Q&&(g+=r-C[M-4],y+=n-C[M-3]),r+=h[m++],n+=h[m++],d=s.Q,t.addData(d,g,y,r,n);break;case"A":_=h[m++],x=h[m++],w=h[m++],b=h[m++],T=h[m++],S=r,A=n,r=h[m++],n=h[m++],d=s.A,sM(S,A,r,n,b,T,_,x,w,d,t);break;case"a":_=h[m++],x=h[m++],w=h[m++],b=h[m++],T=h[m++],S=r,A=n,r+=h[m++],n+=h[m++],d=s.A,sM(S,A,r,n,b,T,_,x,w,d,t);break}}(f==="z"||f==="Z")&&(d=s.Z,t.addData(d),r=a,n=i),o=d}return t.toStatic(),t}var G3=function(e){Ar(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t}(ur);function $3(e){return e.setData!=null}function W3(e,t){var r=U9(e),n=De({},t);return n.buildPath=function(a){if($3(a)){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i,1)}else{var i=a;r.rebuildPath(i,1)}},n.applyTransform=function(a){V9(r,a),this.dirtyShape()},n}function H9(e,t){return new G3(W3(e,t))}function G9(e,t){var r=W3(e,t),n=function(a){Ar(i,a);function i(o){var s=a.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return i}(G3);return n}function $9(e,t){for(var r=[],n=e.length,a=0;a<n;a++){var i=e[a];r.push(i.getUpdatedPathProxy(!0))}var o=new ur(t);return o.createPathProxy(),o.buildPath=function(s){if($3(s)){s.appendPath(r);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}var W9=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),Y3=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new W9},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(ur);Y3.prototype.type="circle";const MC=Y3;var Y9=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),X3=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Y9},t.prototype.buildPath=function(r,n){var a=.5522848,i=n.cx,o=n.cy,s=n.rx,l=n.ry,u=s*a,c=l*a;r.moveTo(i-s,o),r.bezierCurveTo(i-s,o-c,i-u,o-l,i,o-l),r.bezierCurveTo(i+u,o-l,i+s,o-c,i+s,o),r.bezierCurveTo(i+s,o+c,i+u,o+l,i,o+l),r.bezierCurveTo(i-u,o+l,i-s,o+c,i-s,o),r.closePath()},t}(ur);X3.prototype.type="ellipse";const j3=X3;var q3=Math.PI,K1=q3*2,pu=Math.sin,nf=Math.cos,X9=Math.acos,ta=Math.atan2,lM=Math.abs,_v=Math.sqrt,Xh=Math.max,ko=Math.min,oo=1e-4;function j9(e,t,r,n,a,i,o,s){var l=r-e,u=n-t,c=o-a,f=s-i,d=f*l-c*u;if(!(d*d<oo))return d=(c*(t-i)-f*(e-a))/d,[e+d*l,t+d*u]}function wm(e,t,r,n,a,i,o){var s=e-r,l=t-n,u=(o?i:-i)/_v(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,v=r+c,p=n+f,m=(d+v)/2,g=(h+p)/2,y=v-d,_=p-h,x=y*y+_*_,w=a-i,b=d*p-v*h,T=(_<0?-1:1)*_v(Xh(0,w*w*x-b*b)),S=(b*_-y*T)/x,A=(-b*y-_*T)/x,M=(b*_+y*T)/x,C=(-b*y+_*T)/x,D=S-m,P=A-g,I=M-m,k=C-g;return D*D+P*P>I*I+k*k&&(S=M,A=C),{cx:S,cy:A,x0:-c,y0:-f,x1:S*(a/w-1),y1:A*(a/w-1)}}function q9(e){var t;if(Ne(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function Z9(e,t){var r,n=Xh(t.r,0),a=Xh(t.r0||0,0),i=n>0,o=a>0;if(!(!i&&!o)){if(i||(n=a,a=0),a>n){var s=n;n=a,a=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,d=!!t.clockwise,h=lM(u-l),v=h>K1&&h%K1;if(v>oo&&(h=v),!(n>oo))e.moveTo(c,f);else if(h>K1-oo)e.moveTo(c+n*nf(l),f+n*pu(l)),e.arc(c,f,n,l,u,!d),a>oo&&(e.moveTo(c+a*nf(u),f+a*pu(u)),e.arc(c,f,a,u,l,d));else{var p=void 0,m=void 0,g=void 0,y=void 0,_=void 0,x=void 0,w=void 0,b=void 0,T=void 0,S=void 0,A=void 0,M=void 0,C=void 0,D=void 0,P=void 0,I=void 0,k=n*nf(l),V=n*pu(l),H=a*nf(u),O=a*pu(u),L=h>oo;if(L){var F=t.cornerRadius;F&&(r=q9(F),p=r[0],m=r[1],g=r[2],y=r[3]);var X=lM(n-a)/2;if(_=ko(X,g),x=ko(X,y),w=ko(X,p),b=ko(X,m),A=T=Xh(_,x),M=S=Xh(w,b),(T>oo||S>oo)&&(C=n*nf(u),D=n*pu(u),P=a*nf(l),I=a*pu(l),h<q3)){var Y=j9(k,V,P,I,C,D,H,O);if(Y){var G=k-Y[0],z=V-Y[1],N=C-Y[0],U=D-Y[1],Z=1/pu(X9((G*N+z*U)/(_v(G*G+z*z)*_v(N*N+U*U)))/2),K=_v(Y[0]*Y[0]+Y[1]*Y[1]);A=ko(T,(n-K)/(Z+1)),M=ko(S,(a-K)/(Z-1))}}}if(!L)e.moveTo(c+k,f+V);else if(A>oo){var q=ko(g,A),ue=ko(y,A),se=wm(P,I,k,V,n,q,d),B=wm(C,D,H,O,n,ue,d);e.moveTo(c+se.cx+se.x0,f+se.cy+se.y0),A<T&&q===ue?e.arc(c+se.cx,f+se.cy,A,ta(se.y0,se.x0),ta(B.y0,B.x0),!d):(q>0&&e.arc(c+se.cx,f+se.cy,q,ta(se.y0,se.x0),ta(se.y1,se.x1),!d),e.arc(c,f,n,ta(se.cy+se.y1,se.cx+se.x1),ta(B.cy+B.y1,B.cx+B.x1),!d),ue>0&&e.arc(c+B.cx,f+B.cy,ue,ta(B.y1,B.x1),ta(B.y0,B.x0),!d))}else e.moveTo(c+k,f+V),e.arc(c,f,n,l,u,!d);if(!(a>oo)||!L)e.lineTo(c+H,f+O);else if(M>oo){var q=ko(p,M),ue=ko(m,M),se=wm(H,O,C,D,a,-ue,d),B=wm(k,V,P,I,a,-q,d);e.lineTo(c+se.cx+se.x0,f+se.cy+se.y0),M<S&&q===ue?e.arc(c+se.cx,f+se.cy,M,ta(se.y0,se.x0),ta(B.y0,B.x0),!d):(ue>0&&e.arc(c+se.cx,f+se.cy,ue,ta(se.y0,se.x0),ta(se.y1,se.x1),!d),e.arc(c,f,a,ta(se.cy+se.y1,se.cx+se.x1),ta(B.cy+B.y1,B.cx+B.x1),d),q>0&&e.arc(c+B.cx,f+B.cy,q,ta(B.y1,B.x1),ta(B.y0,B.x0),!d))}else e.lineTo(c+H,f+O),e.arc(c,f,a,u,l,d)}e.closePath()}}}var K9=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),Z3=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new K9},t.prototype.buildPath=function(r,n){Z9(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(ur);Z3.prototype.type="sector";const Rc=Z3;var Q9=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),K3=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Q9},t.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.PI*2;r.moveTo(a+n.r,i),r.arc(a,i,n.r,0,o,!1),r.moveTo(a+n.r0,i),r.arc(a,i,n.r0,0,o,!0)},t}(ur);K3.prototype.type="ring";const Q3=K3;function J9(e,t,r,n){var a=[],i=[],o=[],s=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=e.length;d<h;d++)Gu(c,c,e[d]),$u(f,f,e[d]);Gu(c,c,n[0]),$u(f,f,n[1])}for(var d=0,h=e.length;d<h;d++){var v=e[d];if(r)l=e[d?d-1:h-1],u=e[(d+1)%h];else if(d===0||d===h-1){a.push(CY(e[d]));continue}else l=e[d-1],u=e[d+1];AY(i,u,l),v1(i,i,t);var p=vw(v,l),m=vw(v,u),g=p+m;g!==0&&(p/=g,m/=g),v1(o,i,-p),v1(s,i,m);var y=rD([],v,o),_=rD([],v,s);n&&($u(y,y,c),Gu(y,y,f),$u(_,_,c),Gu(_,_,f)),a.push(y),a.push(_)}return r&&a.push(a.shift()),a}function J3(e,t,r){var n=t.smooth,a=t.points;if(a&&a.length>=2){if(n){var i=J9(a,n,r,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var o=a.length,s=0;s<(r?o:o-1);s++){var l=i[s*2],u=i[s*2+1],c=a[(s+1)%o];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(a[0][0],a[0][1]);for(var s=1,f=a.length;s<f;s++)e.lineTo(a[s][0],a[s][1])}r&&e.closePath()}}var ej=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),eB=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new ej},t.prototype.buildPath=function(r,n){J3(r,n,!0)},t}(ur);eB.prototype.type="polygon";const tB=eB;var tj=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),rB=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new tj},t.prototype.buildPath=function(r,n){J3(r,n,!1)},t}(ur);rB.prototype.type="polyline";const e_=rB;var rj={},nj=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),nB=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new nj},t.prototype.buildPath=function(r,n){var a,i,o,s;if(this.subPixelOptimize){var l=M3(rj,n,this.style);a=l.x1,i=l.y1,o=l.x2,s=l.y2}else a=n.x1,i=n.y1,o=n.x2,s=n.y2;var u=n.percent;u!==0&&(r.moveTo(a,i),u<1&&(o=a*(1-u)+o*u,s=i*(1-u)+s*u),r.lineTo(o,s))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t}(ur);nB.prototype.type="line";const gc=nB;var za=[],aj=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function uM(e,t,r){var n=e.cpx2,a=e.cpy2;return n!=null||a!=null?[(r?hD:Mn)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?hD:Mn)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?vD:aa)(e.x1,e.cpx1,e.x2,t),(r?vD:aa)(e.y1,e.cpy1,e.y2,t)]}var aB=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new aj},t.prototype.buildPath=function(r,n){var a=n.x1,i=n.y1,o=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,d=n.percent;d!==0&&(r.moveTo(a,i),c==null||f==null?(d<1&&(xy(a,l,o,d,za),l=za[1],o=za[2],xy(i,u,s,d,za),u=za[1],s=za[2]),r.quadraticCurveTo(l,u,o,s)):(d<1&&(_y(a,l,c,o,d,za),l=za[1],c=za[2],o=za[3],_y(i,u,f,s,d,za),u=za[1],f=za[2],s=za[3]),r.bezierCurveTo(l,u,c,f,o,s)))},t.prototype.pointAt=function(r){return uM(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=uM(this.shape,r,!0);return MY(n,n)},t}(ur);aB.prototype.type="bezier-curve";const iB=aB;var ij=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),oB=function(e){Ar(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ij},t.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(s),f=Math.sin(s);r.moveTo(c*o+a,f*o+i),r.arc(a,i,o,s,l,!u)},t}(ur);oB.prototype.type="arc";const PC=oB;var oj=function(e){Ar(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),a=0;a<r.length;a++)n=n||r[a].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),a=0;a<r.length;a++)r[a].path||r[a].createPathProxy(),r[a].path.setScale(n[0],n[1],r[a].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var a=n.paths||[],i=0;i<a.length;i++)a[i].buildPath(r,a[i].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),ur.prototype.getBoundingRect.call(this)},t}(ur);const sj=oj;var lj=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e}();const sB=lj;var uj=function(e){Ar(t,e);function t(r,n,a,i,o,s){var l=e.call(this,o)||this;return l.x=r??0,l.y=n??0,l.x2=a??1,l.y2=i??0,l.type="linear",l.global=s||!1,l}return t}(sB);const lB=uj;var cj=function(e){Ar(t,e);function t(r,n,a,i,o){var s=e.call(this,i)||this;return s.x=r??.5,s.y=n??.5,s.r=a??.5,s.type="radial",s.global=o||!1,s}return t}(sB);const fj=cj;var mu=[0,0],gu=[0,0],Sm=new pt,Tm=new pt,dj=function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new pt;for(var n=0;n<2;n++)this._axes[n]=new pt;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,a=this._axes,i=t.x,o=t.y,s=i+t.width,l=o+t.height;if(n[0].set(i,o),n[1].set(s,o),n[2].set(s,l),n[3].set(i,l),r)for(var u=0;u<4;u++)n[u].transform(r);pt.sub(a[0],n[1],n[0]),pt.sub(a[1],n[3],n[0]),a[0].normalize(),a[1].normalize();for(var u=0;u<2;u++)this._origin[u]=a[u].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,a=!r;return Sm.set(1/0,1/0),Tm.set(0,0),!this._intersectCheckOneSide(this,t,Sm,Tm,a,1)&&(n=!1,a)||!this._intersectCheckOneSide(t,this,Sm,Tm,a,-1)&&(n=!1,a)||a||pt.copy(r,n?Sm:Tm),n},e.prototype._intersectCheckOneSide=function(t,r,n,a,i,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,mu),this._getProjMinMaxOnAxis(l,r._corners,gu),mu[1]<gu[0]||mu[0]>gu[1]){if(s=!1,i)return s;var c=Math.abs(gu[0]-mu[1]),f=Math.abs(mu[0]-gu[1]);Math.min(c,f)>a.len()&&(c<f?pt.scale(a,u,-c*o):pt.scale(a,u,f*o))}else if(n){var c=Math.abs(gu[0]-mu[1]),f=Math.abs(mu[0]-gu[1]);Math.min(c,f)<n.len()&&(c<f?pt.scale(n,u,c*o):pt.scale(n,u,-f*o))}}return s},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var a=this._axes[t],i=this._origin,o=r[0].dot(a)+i[t],s=o,l=o,u=1;u<r.length;u++){var c=r[u].dot(a)+i[t];s=Math.min(c,s),l=Math.max(c,l)}n[0]=s,n[1]=l},e}();const Py=dj;var hj=[],vj=function(e){Ar(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var a=0;a<r.length;a++)this.addDisplayable(r[a],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Ut(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var a=this._displayables[n],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(hj)),r.union(i)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();if(i.contain(a[0],a[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},t}(Ic);const pj=vj;var mj=Pr();function LC(e,t,r,n,a){var i;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();i=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=e==="update";if(s){var u=void 0,c=void 0,f=void 0;n?(u=Ft(n.duration,200),c=Ft(n.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(f=i.delay)),bt(f)&&(f=f(r,a)),bt(u)&&(u=u(r));var d={duration:u||0,delay:f,easing:c};return d}else return null}function IC(e,t,r,n,a,i,o){var s=!1,l;bt(a)?(o=i,i=a,a=null):lt(a)&&(i=a.cb,o=a.during,s=a.isFrom,l=a.removeOpt,a=a.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=LC(e,n,a,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,a):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,v={duration:f,delay:d||0,easing:h,done:i,force:!!i||!!o,setToFinal:!u,scope:e,during:o};s?t.animateFrom(r,v):t.animateTo(r,v)}else t.stopAnimation(),!s&&t.attr(r),o&&o(1),i&&i()}function On(e,t,r,n,a,i){IC("update",e,t,r,n,a,i)}function ka(e,t,r,n,a,i){IC("enter",e,t,r,n,a,i)}function jf(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function Ly(e,t,r,n,a,i){jf(e)||IC("leave",e,t,r,n,a,i)}function cM(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),Ly(e,{style:{opacity:0}},t,r,n)}function Iy(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(a){a.isGroup||cM(a,t,r,n)}):cM(e,t,r,n)}function RC(e){mj(e).oldStyle=e.style}var Ry=Math.max,Oy=Math.min,Hw={};function gj(e){return ur.extend(e)}var yj=G9;function _j(e,t){return yj(e,t)}function To(e,t){Hw[e]=t}function uB(e){if(Hw.hasOwnProperty(e))return Hw[e]}function OC(e,t,r,n){var a=H9(e,t);return r&&(n==="center"&&(r=fB(r,a.getBoundingRect())),dB(a,r)),a}function cB(e,t,r){var n=new $s({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(r==="center"){var i={width:a.width,height:a.height};n.setStyle(fB(t,i))}}});return n}function fB(e,t){var r=t.width/t.height,n=e.height*r,a;n<=e.width?a=e.height:(n=e.width,a=n/r);var i=e.x+e.width/2,o=e.y+e.height/2;return{x:i-n/2,y:o-a/2,width:n,height:a}}var xj=$9;function dB(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function qv(e,t){return M3(e,e,{lineWidth:t}),e}function bj(e){return P3(e.shape,e.shape,e.style),e}var wj=Wu;function Sj(e,t){for(var r=$0([]);e&&e!==t;)ac(r,e.getLocalTransform(),r),e=e.parent;return r}function kC(e,t,r){return t&&!Ba(t)&&(t=X0.getLocalTransform(t)),r&&(t=Md([],t)),fa([],e,t)}function Tj(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),i=[e==="left"?-n:e==="right"?n:0,e==="top"?-a:e==="bottom"?a:0];return i=kC(i,t,r),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function fM(e){return!e.isGroup}function Cj(e){return e.shape!=null}function hB(e,t,r){if(!e||!t)return;function n(o){var s={};return o.traverse(function(l){fM(l)&&l.anid&&(s[l.anid]=l)}),s}function a(o){var s={x:o.x,y:o.y,rotation:o.rotation};return Cj(o)&&(s.shape=De({},o.shape)),s}var i=n(e);t.traverse(function(o){if(fM(o)&&o.anid){var s=i[o.anid];if(s){var l=a(o);o.attr(a(s)),On(o,l,r,Wt(o).dataIndex)}}})}function Aj(e,t){return nt(e,function(r){var n=r[0];n=Ry(n,t.x),n=Oy(n,t.x+t.width);var a=r[1];return a=Ry(a,t.y),a=Oy(a,t.y+t.height),[n,a]})}function Ej(e,t){var r=Ry(e.x,t.x),n=Oy(e.x+e.width,t.x+t.width),a=Ry(e.y,t.y),i=Oy(e.y+e.height,t.y+t.height);if(n>=r&&i>=a)return{x:r,y:a,width:n-r,height:i-a}}function NC(e,t,r){var n=De({rectHover:!0},t),a=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),kt(a,r),new $s(n)):OC(e.replace("path://",""),n,r,"center")}function Dj(e,t,r,n,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var s=a[i];if(vB(e,t,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function vB(e,t,r,n,a,i,o,s){var l=r-e,u=n-t,c=o-a,f=s-i,d=Q1(c,f,l,u);if(Mj(d))return!1;var h=e-a,v=t-i,p=Q1(h,v,l,u)/d;if(p<0||p>1)return!1;var m=Q1(h,v,c,f)/d;return!(m<0||m>1)}function Q1(e,t,r,n){return e*n-r*t}function Mj(e){return e<=1e-6&&e>=-1e-6}function t_(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,a=rt(t)?{formatter:t}:t,i=r.mainType,o=r.componentIndex,s={componentType:i,name:n,$vars:["name"]};s[i+"Index"]=o;var l=e.formatterParamsExtra;l&&j(ir(l),function(c){At(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=Wt(e.el);u.componentMainType=i,u.componentIndex=o,u.tooltipConfig={name:n,option:kt({content:n,formatterParams:s},a)}}function dM(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function r_(e,t){if(e)if(Ne(e))for(var r=0;r<e.length;r++)dM(e[r],t);else dM(e,t)}To("circle",MC);To("ellipse",j3);To("sector",Rc);To("ring",Q3);To("polygon",tB);To("polyline",e_);To("rect",gn);To("line",gc);To("bezierCurve",iB);To("arc",PC);const Pj=Object.freeze(Object.defineProperty({__proto__:null,Arc:PC,BezierCurve:iB,BoundingRect:Ut,Circle:MC,CompoundPath:sj,Ellipse:j3,Group:Kn,Image:$s,IncrementalDisplayable:pj,Line:gc,LinearGradient:lB,OrientedBoundingRect:Py,Path:ur,Point:pt,Polygon:tB,Polyline:e_,RadialGradient:fj,Rect:gn,Ring:Q3,Sector:Rc,Text:Kr,applyTransform:kC,clipPointsByRect:Aj,clipRectByRect:Ej,createIcon:NC,extendPath:_j,extendShape:gj,getShapeClass:uB,getTransform:Sj,groupTransition:hB,initProps:ka,isElementRemoved:jf,lineLineIntersect:vB,linePolygonIntersect:Dj,makeImage:cB,makePath:OC,mergePath:xj,registerShape:To,removeElement:Ly,removeElementWithFadeOut:Iy,resizePath:dB,setTooltipConfig:t_,subPixelOptimize:wj,subPixelOptimizeLine:qv,subPixelOptimizeRect:bj,transformDirection:Tj,traverseElements:r_,updateProps:On},Symbol.toStringTag,{value:"Module"}));var n_={};function pB(e,t){for(var r=0;r<Wi.length;r++){var n=Wi[r],a=t[n],i=e.ensureState(n);i.style=i.style||{},i.style.text=a}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function Gw(e,t,r){var n=e.labelFetcher,a=e.labelDataIndex,i=e.labelDimIndex,o=t.normal,s;n&&(s=n.getFormattedLabel(a,"normal",null,i,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=bt(e.defaultText)?e.defaultText(a,e,r):e.defaultText);for(var l={normal:s},u=0;u<Wi.length;u++){var c=Wi[u],f=t[c];l[c]=Ft(n?n.getFormattedLabel(a,c,null,i,f&&f.get("formatter")):null,s)}return l}function Np(e,t,r,n){r=r||n_;for(var a=e instanceof Kr,i=!1,o=0;o<Ay.length;o++){var s=t[Ay[o]];if(s&&s.getShallow("show")){i=!0;break}}var l=a?e:e.getTextContent();if(i){a||(l||(l=new Kr,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=Gw(r,t),c=t.normal,f=!!c.getShallow("show"),d=Yi(c,n&&n.normal,r,!1,!a);d.text=u.normal,a||e.setTextConfig(hM(c,r,!1));for(var o=0;o<Wi.length;o++){var h=Wi[o],s=t[h];if(s){var v=l.ensureState(h),p=!!Ft(s.getShallow("show"),f);if(p!==f&&(v.ignore=!p),v.style=Yi(s,n&&n[h],r,!0,!a),v.style.text=u[h],!a){var m=e.ensureState(h);m.textConfig=hM(s,r,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),r.enableTextSetter&&(Ld(l).setLabelText=function(g){var y=Gw(r,t,g);pB(l,y)})}else l&&(l.ignore=!0);e.dirty()}function Bp(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<Wi.length;n++){var a=Wi[n];r[a]=e.getModel([a,t])}return r}function Yi(e,t,r,n,a){var i={};return Lj(i,e,r,n,a),t&&De(i,t),i}function hM(e,t,r){t=t||{};var n={},a,i=e.getShallow("rotate"),o=Ft(e.getShallow("distance"),r?null:5),s=e.getShallow("offset");return a=e.getShallow("position")||(r?null:"inside"),a==="outside"&&(a=t.defaultOutsidePosition||"top"),a!=null&&(n.position=a),s!=null&&(n.offset=s),i!=null&&(i*=Math.PI/180,n.rotation=i),o!=null&&(n.distance=o),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",n}function Lj(e,t,r,n,a){r=r||n_;var i=t.ecModel,o=i&&i.option.textStyle,s=Ij(t),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);gM(l[u]={},c,o,r,n,a,!1,!0)}}l&&(e.rich=l);var f=t.get("overflow");f&&(e.overflow=f);var d=t.get("minMargin");d!=null&&(e.margin=d),gM(e,t,o,r,n,a,!0,!1)}function Ij(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||n_).rich;if(r){t=t||{};for(var n=ir(r),a=0;a<n.length;a++){var i=n[a];t[i]=1}}e=e.parentModel}return t}var vM=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],pM=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],mM=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function gM(e,t,r,n,a,i,o,s){r=!a&&r||n_;var l=n&&n.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),f=Ft(t.getShallow("opacity"),r.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),i||(u=u||r.color,c=c||r.textBorderColor),u!=null&&(e.fill=u),c!=null&&(e.stroke=c);var d=Ft(t.getShallow("textBorderWidth"),r.textBorderWidth);d!=null&&(e.lineWidth=d);var h=Ft(t.getShallow("textBorderType"),r.textBorderType);h!=null&&(e.lineDash=h);var v=Ft(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);v!=null&&(e.lineDashOffset=v),!a&&f==null&&!s&&(f=n&&n.defaultOpacity),f!=null&&(e.opacity=f),!a&&!i&&e.fill==null&&n.inheritColor&&(e.fill=n.inheritColor);for(var p=0;p<vM.length;p++){var m=vM[p],g=Ft(t.getShallow(m),r[m]);g!=null&&(e[m]=g)}for(var p=0;p<pM.length;p++){var m=pM[p],g=t.getShallow(m);g!=null&&(e[m]=g)}if(e.verticalAlign==null){var y=t.getShallow("baseline");y!=null&&(e.verticalAlign=y)}if(!o||!n.disableBox){for(var p=0;p<mM.length;p++){var m=mM[p],g=t.getShallow(m);g!=null&&(e[m]=g)}var _=t.getShallow("borderType");_!=null&&(e.borderDash=_),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function Rj(e,t){var r=t&&t.getModel("textStyle");return Yo([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ld=Pr();function Oj(e,t,r,n){if(e){var a=Ld(e);a.prevValue=a.value,a.value=r;var i=t.normal;a.valueAnimation=i.get("valueAnimation"),a.valueAnimation&&(a.precision=i.get("precision"),a.defaultInterpolatedText=n,a.statesModels=t)}}function kj(e,t,r,n,a){var i=Ld(e);if(!i.valueAnimation||i.prevValue===i.value)return;var o=i.defaultInterpolatedText,s=Ft(i.interpolatedValue,i.prevValue),l=i.value;function u(c){var f=y3(r,i.precision,s,l,c);i.interpolatedValue=c===1?null:f;var d=Gw({labelDataIndex:t,labelFetcher:a,defaultText:o?o(f):f+""},i.statesModels,f);pB(e,d)}e.percent=0,(i.prevValue==null?ka:On)(e,{percent:1},n,t,null,u)}var Nj=["textStyle","color"],J1=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],ex=new Kr,Bj=function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(Nj):null)},e.prototype.getFont=function(){return Rj({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<J1.length;n++)r[J1[n]]=this.getShallow(J1[n]);return ex.useStyle(r),ex.update(),ex.getBoundingRect()},e}();const Vj=Bj;var mB=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Fj=Xv(mB),zj=function(){function e(){}return e.prototype.getLineStyle=function(t){return Fj(this,t)},e}(),gB=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Uj=Xv(gB),Hj=function(){function e(){}return e.prototype.getItemStyle=function(t,r){return Uj(this,t,r)},e}(),Oc=function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){je(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,a=n==null?n:n[t];if(a==null&&!r){var i=this.parentModel;i&&(a=i.getShallow(t))}return a},e.prototype.getModel=function(t,r){var n=t!=null,a=n?this.parsePath(t):null,i=n?this._doGet(a):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new e(i,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(Kt(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Nt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var a=0;a<t.length&&!(t[a]&&(n=n&&typeof n=="object"?n[t[a]]:null,n==null));a++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e}();TC(Oc);_X(Oc);li(Oc,zj);li(Oc,Hj);li(Oc,TX);li(Oc,Vj);const on=Oc;var Gj=Math.round(Math.random()*10);function a_(e){return[e||"",Gj++].join("_")}function $j(e){var t={};e.registerSubTypeDefaulter=function(r,n){var a=Xo(r);t[a.main]=n},e.determineSubType=function(r,n){var a=n.type;if(!a){var i=Xo(r).main;e.hasSubTypes(r)&&t[i]&&(a=t[i](n))}return a}}function Wj(e,t){e.topologicalTravel=function(i,o,s,l){if(!i.length)return;var u=r(o),c=u.graph,f=u.noEntryList,d={};for(j(i,function(y){d[y]=!0});f.length;){var h=f.pop(),v=c[h],p=!!d[h];p&&(s.call(l,h,v.originalDeps.slice()),delete d[h]),j(v.successor,p?g:m)}j(d,function(){var y="";throw new Error(y)});function m(y){c[y].entryCount--,c[y].entryCount===0&&f.push(y)}function g(y){d[y]=!0,m(y)}};function r(i){var o={},s=[];return j(i,function(l){var u=n(o,l),c=u.originalDeps=t(l),f=a(c,i);u.entryCount=f.length,u.entryCount===0&&s.push(l),j(f,function(d){$t(u.predecessor,d)<0&&u.predecessor.push(d);var h=n(o,d);$t(h.successor,d)<0&&h.successor.push(l)})}),{graph:o,noEntryList:s}}function n(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var s=[];return j(i,function(l){$t(o,l)>=0&&s.push(l)}),s}}function yB(e,t){return je(je({},e,!0),t,!0)}const Yj={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Xj={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var ky="ZH",BC="EN",Zv=BC,Ug={},VC={},_B=Nt.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return e.indexOf(ky)>-1?ky:Zv}():Zv;function xB(e,t){e=e.toUpperCase(),VC[e]=new on(t),Ug[e]=t}function jj(e){if(rt(e)){var t=Ug[e.toUpperCase()]||{};return e===ky||e===BC?Kt(t):je(Kt(t),Kt(Ug[Zv]),!1)}else return je(Kt(e),Kt(Ug[Zv]),!1)}function qj(e){return VC[e]}function Zj(){return VC[Zv]}xB(BC,Yj);xB(ky,Xj);var FC=1e3,zC=FC*60,xv=zC*60,Ri=xv*24,yM=Ri*365,jh={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Cm="{yyyy}-{MM}-{dd}",_M={year:"{yyyy}",month:"{yyyy}-{MM}",day:Cm,hour:Cm+" "+jh.hour,minute:Cm+" "+jh.minute,second:Cm+" "+jh.second,millisecond:jh.none},tx=["year","month","day","hour","minute","second","millisecond"],bB=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Aa(e,t){return e+="","0000".substr(0,t-e.length)+e}function qf(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function Kj(e){return e===qf(e)}function Qj(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function i_(e,t,r,n){var a=bo(e),i=a[UC(r)](),o=a[Zf(r)]()+1,s=Math.floor((o-1)/3)+1,l=a[o_(r)](),u=a["get"+(r?"UTC":"")+"Day"](),c=a[Kv(r)](),f=(c-1)%12+1,d=a[s_(r)](),h=a[l_(r)](),v=a[u_(r)](),p=n instanceof on?n:qj(n||_B)||Zj(),m=p.getModel("time"),g=m.get("month"),y=m.get("monthAbbr"),_=m.get("dayOfWeek"),x=m.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,Aa(i%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,g[o-1]).replace(/{MMM}/g,y[o-1]).replace(/{MM}/g,Aa(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Aa(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Aa(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Aa(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Aa(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Aa(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Aa(v,3)).replace(/{S}/g,v+"")}function Jj(e,t,r,n,a){var i=null;if(rt(r))i=r;else if(bt(r))i=r(e.value,t,{level:e.level});else{var o=De({},jh);if(e.level>0)for(var s=0;s<tx.length;++s)o[tx[s]]="{primary|"+o[tx[s]]+"}";var l=r?r.inherit===!1?r:kt(r,o):o,u=wB(e.value,a);if(l[u])i=l[u];else if(l.inherit){for(var c=bB.indexOf(u),s=c-1;s>=0;--s)if(l[u]){i=l[u];break}i=i||o.none}if(Ne(i)){var f=e.level==null?0:e.level>=0?e.level:i.length+e.level;f=Math.min(f,i.length-1),i=i[f]}}return i_(new Date(e.value),i,a,n)}function wB(e,t){var r=bo(e),n=r[Zf(t)]()+1,a=r[o_(t)](),i=r[Kv(t)](),o=r[s_(t)](),s=r[l_(t)](),l=r[u_(t)](),u=l===0,c=u&&s===0,f=c&&o===0,d=f&&i===0,h=d&&a===1,v=h&&n===1;return v?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function xM(e,t,r){var n=xr(e)?bo(e):e;switch(t=t||wB(e,r),t){case"year":return n[UC(r)]();case"half-year":return n[Zf(r)]()>=6?1:0;case"quarter":return Math.floor((n[Zf(r)]()+1)/4);case"month":return n[Zf(r)]();case"day":return n[o_(r)]();case"half-day":return n[Kv(r)]()/24;case"hour":return n[Kv(r)]();case"minute":return n[s_(r)]();case"second":return n[l_(r)]();case"millisecond":return n[u_(r)]()}}function UC(e){return e?"getUTCFullYear":"getFullYear"}function Zf(e){return e?"getUTCMonth":"getMonth"}function o_(e){return e?"getUTCDate":"getDate"}function Kv(e){return e?"getUTCHours":"getHours"}function s_(e){return e?"getUTCMinutes":"getMinutes"}function l_(e){return e?"getUTCSeconds":"getSeconds"}function u_(e){return e?"getUTCMilliseconds":"getMilliseconds"}function eq(e){return e?"setUTCFullYear":"setFullYear"}function SB(e){return e?"setUTCMonth":"setMonth"}function TB(e){return e?"setUTCDate":"setDate"}function CB(e){return e?"setUTCHours":"setHours"}function AB(e){return e?"setUTCMinutes":"setMinutes"}function EB(e){return e?"setUTCSeconds":"setSeconds"}function DB(e){return e?"setUTCMilliseconds":"setMilliseconds"}function Ny(e){if(!eX(e))return rt(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function MB(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var c_=kN;function $w(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(c){return c&&Yo(c)?c:"-"}function i(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=e instanceof Date;if(o||s){var l=o?bo(e):e;if(isNaN(+l)){if(s)return"-"}else return i_(l,n,r)}if(t==="ordinal")return fw(e)?a(e):xr(e)&&i(e)?e+"":"-";var u=Cy(e);return i(u)?Ny(u):fw(e)?a(e):typeof e=="boolean"?e+"":"-"}var bM=["a","b","c","d","e","f","g"],rx=function(e,t){return"{"+e+(t??"")+"}"};function HC(e,t,r){Ne(t)||(t=[t]);var n=t.length;if(!n)return"";for(var a=t[0].$vars||[],i=0;i<a.length;i++){var o=bM[i];e=e.replace(rx(o),rx(o,0))}for(var s=0;s<n;s++)for(var l=0;l<a.length;l++){var u=t[s][a[l]];e=e.replace(rx(bM[l],s),r?zn(u):u)}return e}function PB(e,t){var r=rt(e)?{color:e,extraCssText:t}:e||{},n=r.color,a=r.type;t=r.extraCssText;var i=r.renderMode||"html";if(!n)return"";if(i==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+zn(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+zn(n)+";"+(t||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:i,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function tq(e,t,r){(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var n=bo(t),a=r?"getUTC":"get",i=n[a+"FullYear"](),o=n[a+"Month"]()+1,s=n[a+"Date"](),l=n[a+"Hours"](),u=n[a+"Minutes"](),c=n[a+"Seconds"](),f=n[a+"Milliseconds"]();return e=e.replace("MM",Aa(o,2)).replace("M",o).replace("yyyy",i).replace("yy",Aa(i%100+"",2)).replace("dd",Aa(s,2)).replace("d",s).replace("hh",Aa(l,2)).replace("h",l).replace("mm",Aa(u,2)).replace("m",u).replace("ss",Aa(c,2)).replace("s",c).replace("SSS",Aa(f,3)),e}function yc(e,t){return t=t||"transparent",rt(e)?e:lt(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function wM(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location.href=e}else window.open(e,t)}var Hg=j,LB=["left","right","top","bottom","width","height"],Am=[["width","left","right"],["height","top","bottom"]];function GC(e,t,r,n,a){var i=0,o=0;n==null&&(n=1/0),a==null&&(a=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),d=f&&f.getBoundingRect(),h,v;if(e==="horizontal"){var p=c.width+(d?-d.x+c.x:0);h=i+p,h>n||l.newline?(i=0,h=p,o+=s+r,s=c.height):s=Math.max(s,c.height)}else{var m=c.height+(d?-d.y+c.y:0);v=o+m,v>a||l.newline?(i+=s+r,o=0,v=m,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=i,l.y=o,l.markRedraw(),e==="horizontal"?i=h+r:o=v+r)})}var bv=GC;zr(GC,"vertical");zr(GC,"horizontal");function wo(e,t,r){r=c_(r||0);var n=t.width,a=t.height,i=Sr(e.left,n),o=Sr(e.top,a),s=Sr(e.right,n),l=Sr(e.bottom,a),u=Sr(e.width,n),c=Sr(e.height,a),f=r[2]+r[0],d=r[1]+r[3],h=e.aspect;switch(isNaN(u)&&(u=n-s-d-i),isNaN(c)&&(c=a-l-f-o),h!=null&&(isNaN(u)&&isNaN(c)&&(h>n/a?u=n*.8:c=a*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(i)&&(i=n-s-u-d),isNaN(o)&&(o=a-l-c-f),e.left||e.right){case"center":i=n/2-u/2-r[3];break;case"right":i=n-u-d;break}switch(e.top||e.bottom){case"middle":case"center":o=a/2-c/2-r[0];break;case"bottom":o=a-c-f;break}i=i||0,o=o||0,isNaN(u)&&(u=n-d-i-(s||0)),isNaN(c)&&(c=a-f-o-(l||0));var v=new Ut(i+r[3],o+r[0],u,c);return v.margin=r,v}function rq(e,t,r,n,a,i){var o=!a||!a.hv||a.hv[0],s=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all";if(i=i||e,i.x=e.x,i.y=e.y,!o&&!s)return!1;var u;if(l==="raw")u=e.type==="group"?new Ut(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=wo(kt({width:u.width,height:u.height},t),r,n),d=o?f.x-u.x:0,h=s?f.y-u.y:0;return l==="raw"?(i.x=d,i.y=h):(i.x+=d,i.y+=h),i===e&&e.markRedraw(),!0}function Qv(e){var t=e.layoutMode||e.constructor.layoutMode;return lt(t)?t:t?{type:t}:null}function _c(e,t,r){var n=r&&r.ignoreSize;!Ne(n)&&(n=[n,n]);var a=o(Am[0],0),i=o(Am[1],1);u(Am[0],e,a),u(Am[1],e,i);function o(c,f){var d={},h=0,v={},p=0,m=2;if(Hg(c,function(_){v[_]=e[_]}),Hg(c,function(_){s(t,_)&&(d[_]=v[_]=t[_]),l(d,_)&&h++,l(v,_)&&p++}),n[f])return l(t,c[1])?v[c[2]]=null:l(t,c[2])&&(v[c[1]]=null),v;if(p===m||!h)return v;if(h>=m)return d;for(var g=0;g<c.length;g++){var y=c[g];if(!s(d,y)&&s(e,y)){d[y]=e[y];break}}return d}function s(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,d){Hg(c,function(h){f[h]=d[h]})}}function f_(e){return IB({},e)}function IB(e,t){return t&&e&&Hg(LB,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var nq=Pr(),Id=function(e){ut(t,e);function t(r,n,a){var i=e.call(this,r,n,a)||this;return i.uid=a_("ec_cpt_model"),i}return t.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a)},t.prototype.mergeDefaultAndTheme=function(r,n){var a=Qv(this),i=a?f_(r):{},o=n.getTheme();je(r,o.get(this.mainType)),je(r,this.getDefaultOption()),a&&_c(r,i,a)},t.prototype.mergeOption=function(r,n){je(this.option,r,!0);var a=Qv(this);a&&_c(this.option,r,a)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!mX(r))return r.defaultOption;var n=nq(this);if(!n.defaultOption){for(var a=[],i=r;i;){var o=i.prototype.defaultOption;o&&a.push(o),i=i.superClass}for(var s={},l=a.length-1;l>=0;l--)s=je(s,a[l],!0);n.defaultOption=s}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var a=r+"Index",i=r+"Id";return kp(this.ecModel,r,{index:this.get(a,!0),id:this.get(i,!0)},n)},t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),t}(on);x3(Id,on);j0(Id);$j(Id);Wj(Id,aq);function aq(e){var t=[];return j(Id.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=nt(t,function(r){return Xo(r).main}),e!=="dataset"&&$t(t,"dataset")<=0&&t.unshift("dataset"),t}const nr=Id;var RB="";typeof navigator<"u"&&(RB=navigator.platform||"");var af="rgba(0, 0, 0, 0.2)";const iq={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:af,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:af,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:af,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:af,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:af,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:af,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:RB.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var OB=xt(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Zi="original",ei="arrayRows",Co="objectRows",is="keyedColumns",Nl="typedArray",kB="unknown",Zo="column",Rd="row",Zn={Must:1,Might:2,Not:3},NB=Pr();function oq(e){NB(e).datasetMap=xt()}function sq(e,t,r){var n={},a=$C(t);if(!a||!e)return n;var i=[],o=[],s=t.ecModel,l=NB(s).datasetMap,u=a.uid+"_"+r.seriesLayoutBy,c,f;e=e.slice(),j(e,function(p,m){var g=lt(p)?p:e[m]={name:p};g.type==="ordinal"&&c==null&&(c=m,f=v(g)),n[g.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});j(e,function(p,m){var g=p.name,y=v(p);if(c==null){var _=d.valueWayDim;h(n[g],_,y),h(o,_,y),d.valueWayDim+=y}else if(c===m)h(n[g],0,y),h(i,0,y);else{var _=d.categoryWayDim;h(n[g],_,y),h(o,_,y),d.categoryWayDim+=y}});function h(p,m,g){for(var y=0;y<g;y++)p.push(m+y)}function v(p){var m=p.dimsDef;return m?m.length:1}return i.length&&(n.itemName=i),o.length&&(n.seriesName=o),n}function lq(e,t,r){var n={},a=$C(e);if(!a)return n;var i=t.sourceFormat,o=t.dimensionsDefine,s;(i===Co||i===is)&&j(o,function(c,f){(lt(c)?c.name:c)==="name"&&(s=f)});var l=function(){for(var c={},f={},d=[],h=0,v=Math.min(5,r);h<v;h++){var p=VB(t.data,i,t.seriesLayoutBy,o,t.startIndex,h);d.push(p);var m=p===Zn.Not;if(m&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!m&&d[c.n]===Zn.Not)&&(c.n=h),g(c)&&d[c.n]!==Zn.Not)return c;m||(p===Zn.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function g(y){return y.v!=null&&y.n!=null}return g(c)?c:g(f)?f:null}();if(l){n.value=[l.v];var u=s??l.n;n.itemName=[u],n.seriesName=[u]}return n}function $C(e){var t=e.get("data",!0);if(!t)return kp(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},po).models[0]}function uq(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:kp(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},po).models}function BB(e,t){return VB(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function VB(e,t,r,n,a,i){var o,s=5;if(si(e))return Zn.Not;var l,u;if(n){var c=n[i];lt(c)?(l=c.name,u=c.type):rt(c)&&(l=c)}if(u!=null)return u==="ordinal"?Zn.Must:Zn.Not;if(t===ei){var f=e;if(r===Rd){for(var d=f[i],h=0;h<(d||[]).length&&h<s;h++)if((o=x(d[a+h]))!=null)return o}else for(var h=0;h<f.length&&h<s;h++){var v=f[a+h];if(v&&(o=x(v[i]))!=null)return o}}else if(t===Co){var p=e;if(!l)return Zn.Not;for(var h=0;h<p.length&&h<s;h++){var m=p[h];if(m&&(o=x(m[l]))!=null)return o}}else if(t===is){var g=e;if(!l)return Zn.Not;var d=g[l];if(!d||si(d))return Zn.Not;for(var h=0;h<d.length&&h<s;h++)if((o=x(d[h]))!=null)return o}else if(t===Zi)for(var y=e,h=0;h<y.length&&h<s;h++){var m=y[h],_=Op(m);if(!Ne(_))return Zn.Not;if((o=x(_[i]))!=null)return o}function x(w){var b=rt(w);if(w!=null&&isFinite(w)&&w!=="")return b?Zn.Might:Zn.Not;if(b&&w!=="-")return Zn.Must}return Zn.Not}var cq=xt();function fq(e,t,r){var n=cq.get(t);if(!n)return r;var a=n(e);return a?r.concat(a):r}var SM=Pr();Pr();var WC=function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var a=$n(this.get("color",!0)),i=this.get("colorLayer",!0);return hq(this,SM,a,i,t,r,n)},e.prototype.clearColorPalette=function(){vq(this,SM)},e}();function dq(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function hq(e,t,r,n,a,i,o){i=i||e;var s=t(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a))return u[a];var c=o==null||!n?r:dq(n,o);if(c=c||r,!(!c||!c.length)){var f=c[l];return a&&(u[a]=f),s.paletteIdx=(l+1)%c.length,f}}function vq(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var Em,dh,TM,CM="\0_ec_inner",pq=1,FB=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,a,i,o,s){i=i||{},this.option=null,this._theme=new on(i),this._locale=new on(o),this._optionManager=s},t.prototype.setOption=function(r,n,a){var i=DM(n);this._optionManager.setOption(r,a,i),this._resetOption(null,i)},t.prototype.resetOption=function(r,n){return this._resetOption(r,DM(n))},t.prototype._resetOption=function(r,n){var a=!1,i=this._optionManager;if(!r||r==="recreate"){var o=i.mountOption(r==="recreate");!this.option||r==="recreate"?TM(this,o):(this.restoreData(),this._mergeOption(o,n)),a=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=i.getTimelineOption(this);s&&(a=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var l=i.getMediaOption(this);l.length&&j(l,function(u){a=!0,this._mergeOption(u,n)},this)}return a},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var a=this.option,i=this._componentsMap,o=this._componentsCount,s=[],l=xt(),u=n&&n.replaceMergeMainTypeMap;oq(this),j(r,function(f,d){f!=null&&(nr.hasClass(d)?d&&(s.push(d),l.set(d,!0)):a[d]=a[d]==null?Kt(f):je(a[d],f,!0))}),u&&u.each(function(f,d){nr.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),nr.topologicalTravel(s,nr.getAllClassMainTypes(),c,this);function c(f){var d=fq(this,f,$n(r[f])),h=i.get(f),v=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",p=p3(h,d,v);uX(p,f,nr),a[f]=null,i.set(f,null),o.set(f,0);var m=[],g=[],y=0,_;j(p,function(x,w){var b=x.existing,T=x.newOption;if(!T)b&&(b.mergeOption({},this),b.optionUpdated({},!1));else{var S=f==="series",A=nr.getClass(f,x.keyInfo.subType,!S);if(!A)return;if(f==="tooltip"){if(_)return;_=!0}if(b&&b.constructor===A)b.name=x.keyInfo.name,b.mergeOption(T,this),b.optionUpdated(T,!1);else{var M=De({componentIndex:w},x.keyInfo);b=new A(T,this,this,M),De(b,M),x.brandNew&&(b.__requireNewView=!0),b.init(T,this,this),b.optionUpdated(null,!0)}}b?(m.push(b.option),g.push(b),y++):(m.push(void 0),g.push(void 0))},this),a[f]=m,i.set(f,g),o.set(f,y),f==="series"&&Em(this)}this._seriesIndices||Em(this)},t.prototype.getOption=function(){var r=Kt(this.option);return j(r,function(n,a){if(nr.hasClass(a)){for(var i=$n(n),o=i.length,s=!1,l=o-1;l>=0;l--)i[l]&&!Yv(i[l])?s=!0:(i[l]=null,!s&&o--);i.length=o,r[a]=i}}),delete r[CM],r},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var a=this._componentsMap.get(r);if(a){var i=a[n||0];if(i)return i;if(n==null){for(var o=0;o<a.length;o++)if(a[o])return a[o]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var a=r.index,i=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return a!=null?(l=[],j($n(a),function(u){s[u]&&l.push(s[u])})):i!=null?l=AM("id",i,s):o!=null?l=AM("name",o,s):l=dn(s,function(u){return!!u}),EM(l,r)},t.prototype.findComponents=function(r){var n=r.query,a=r.mainType,i=s(n),o=i?this.queryComponents(i):dn(this._componentsMap.get(a),function(u){return!!u});return l(EM(o,r));function s(u){var c=a+"Index",f=a+"Id",d=a+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:a,index:u[c],id:u[f],name:u[d]}:null}function l(u){return r.filter?dn(u,r.filter):u}},t.prototype.eachComponent=function(r,n,a){var i=this._componentsMap;if(bt(r)){var o=n,s=r;i.each(function(f,d){for(var h=0;f&&h<f.length;h++){var v=f[h];v&&s.call(o,d,v,v.componentIndex)}})}else for(var l=rt(r)?i.get(r):lt(r)?this.findComponents(r):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(a,c,c.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=ja(r,null);return dn(this._componentsMap.get("series"),function(a){return!!a&&n!=null&&a.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return dn(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return dn(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){dh(this),j(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];r.call(n,i,a)},this)},t.prototype.eachRawSeries=function(r,n){j(this._componentsMap.get("series"),function(a){a&&r.call(n,a,a.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,a){dh(this),j(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===r&&n.call(a,o,i)},this)},t.prototype.eachRawSeriesByType=function(r,n,a){return j(this.getSeriesByType(r),n,a)},t.prototype.isSeriesFiltered=function(r){return dh(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){dh(this);var a=[];j(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];r.call(n,o,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=xt(a)},t.prototype.restoreData=function(r){Em(this);var n=this._componentsMap,a=[];n.each(function(i,o){nr.hasClass(o)&&a.push(o)}),nr.topologicalTravel(a,nr.getAllClassMainTypes(),function(i){j(n.get(i),function(o){o&&(i!=="series"||!mq(o,r))&&o.restoreData()})})},t.internalField=function(){Em=function(r){var n=r._seriesIndices=[];j(r._componentsMap.get("series"),function(a){a&&n.push(a.componentIndex)}),r._seriesIndicesMap=xt(n)},dh=function(r){},TM=function(r,n){r.option={},r.option[CM]=pq,r._componentsMap=xt({series:[]}),r._componentsCount=xt();var a=n.aria;lt(a)&&a.enabled==null&&(a.enabled=!0),gq(n,r._theme.option),je(n,iq,!1),r._mergeOption(n,null)}}(),t}(on);function mq(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,a=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||a!=null&&e.name!==a}}function gq(e,t){var r=e.color&&!e.colorLayer;j(t,function(n,a){a==="colorLayer"&&r||nr.hasClass(a)||(typeof n=="object"?e[a]=e[a]?je(e[a],n,!1):Kt(n):e[a]==null&&(e[a]=n))})}function AM(e,t,r){if(Ne(t)){var n=xt();return j(t,function(i){if(i!=null){var o=ja(i,null);o!=null&&n.set(i,!0)}}),dn(r,function(i){return i&&n.get(i[e])})}else{var a=ja(t,null);return dn(r,function(i){return i&&a!=null&&i[e]===a})}}function EM(e,t){return t.hasOwnProperty("subType")?dn(e,function(r){return r&&r.subType===t.subType}):e}function DM(e){var t=xt();return e&&j($n(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}li(FB,WC);const zB=FB;var yq=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],_q=function(){function e(t){j(yq,function(r){this[r]=Or(t[r],t)},this)}return e}();const UB=_q;var nx={},xq=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,r){var n=[];j(nx,function(a,i){var o=a.create(t,r);n=n.concat(o||[])}),this._coordinateSystems=n},e.prototype.update=function(t,r){j(this._coordinateSystems,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,r){nx[t]=r},e.get=function(t){return nx[t]},e}();const d_=xq;var bq=/^(min|max)?(.+)$/,wq=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(j($n(t.series),function(o){o&&o.data&&si(o.data)&&my(o.data)}),j($n(t.dataset),function(o){o&&o.source&&si(o.source)&&my(o.source)})),t=Kt(t);var a=this._optionBackup,i=Sq(t,r,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],Kt(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var a=t.getComponent("timeline");a&&(r=Kt(n[a.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!a.length&&!i)return s;for(var l=0,u=a.length;l<u;l++)Tq(a[l].query,r,n)&&o.push(l);return!o.length&&i&&(o=[-1]),o.length&&!Aq(o,this._currentMediaIndices)&&(s=nt(o,function(c){return Kt(c===-1?i.option:a[c].option)})),this._currentMediaIndices=o,s},e}();function Sq(e,t,r){var n=[],a,i,o=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,f=!!(l||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((f||c)&&(e.options=e.media=null),i=e),c&&Ne(u)&&j(u,function(h){h&&h.option&&(h.query?n.push(h):a||(a=h))}),d(i),j(l,function(h){return d(h)}),j(n,function(h){return d(h.option)});function d(h){j(t,function(v){v(h,r)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:a,mediaList:n}}function Tq(e,t,r){var n={width:t,height:r,aspectratio:t/r},a=!0;return j(e,function(i,o){var s=o.match(bq);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();Cq(n[u],i,l)||(a=!1)}}),a}function Cq(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function Aq(e,t){return e.join(",")===t.join(",")}const Eq=wq;var no=j,Jv=lt,MM=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ax(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=MM.length;r<n;r++){var a=MM[r],i=t.normal,o=t.emphasis;i&&i[a]&&(e[a]=e[a]||{},e[a].normal?je(e[a].normal,i[a]):e[a].normal=i[a],i[a]=null),o&&o[a]&&(e[a]=e[a]||{},e[a].emphasis?je(e[a].emphasis,o[a]):e[a].emphasis=o[a],o[a]=null)}}function ia(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,a=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,kt(e[t],n)):e[t]=n),a&&(e.emphasis=e.emphasis||{},e.emphasis[t]=a,a.focus&&(e.emphasis.focus=a.focus),a.blurScope&&(e.emphasis.blurScope=a.blurScope))}}function qh(e){ia(e,"itemStyle"),ia(e,"lineStyle"),ia(e,"areaStyle"),ia(e,"label"),ia(e,"labelLine"),ia(e,"upperLabel"),ia(e,"edgeLabel")}function fn(e,t){var r=Jv(e)&&e[t],n=Jv(r)&&r.textStyle;if(n)for(var a=0,i=PD.length;a<i;a++){var o=PD[a];n.hasOwnProperty(o)&&(r[o]=n[o])}}function bi(e){e&&(qh(e),fn(e,"label"),e.emphasis&&fn(e.emphasis,"label"))}function Dq(e){if(Jv(e)){ax(e),qh(e),fn(e,"label"),fn(e,"upperLabel"),fn(e,"edgeLabel"),e.emphasis&&(fn(e.emphasis,"label"),fn(e.emphasis,"upperLabel"),fn(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(ax(t),bi(t));var r=e.markLine;r&&(ax(r),bi(r));var n=e.markArea;n&&bi(n);var a=e.data;if(e.type==="graph"){a=a||e.nodes;var i=e.links||e.edges;if(i&&!si(i))for(var o=0;o<i.length;o++)bi(i[o]);j(e.categories,function(u){qh(u)})}if(a&&!si(a))for(var o=0;o<a.length;o++)bi(a[o]);if(t=e.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)bi(s[o]);if(r=e.markLine,r&&r.data)for(var l=r.data,o=0;o<l.length;o++)Ne(l[o])?(bi(l[o][0]),bi(l[o][1])):bi(l[o]);e.type==="gauge"?(fn(e,"axisLabel"),fn(e,"title"),fn(e,"detail")):e.type==="treemap"?(ia(e.breadcrumb,"itemStyle"),j(e.levels,function(u){qh(u)})):e.type==="tree"&&qh(e.leaves)}}function fs(e){return Ne(e)?e:e?[e]:[]}function PM(e){return(Ne(e)?e[0]:e)||{}}function Mq(e,t){no(fs(e.series),function(n){Jv(n)&&Dq(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),no(r,function(n){no(fs(e[n]),function(a){a&&(fn(a,"axisLabel"),fn(a.axisPointer,"label"))})}),no(fs(e.parallel),function(n){var a=n&&n.parallelAxisDefault;fn(a,"axisLabel"),fn(a&&a.axisPointer,"label")}),no(fs(e.calendar),function(n){ia(n,"itemStyle"),fn(n,"dayLabel"),fn(n,"monthLabel"),fn(n,"yearLabel")}),no(fs(e.radar),function(n){fn(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),no(fs(e.geo),function(n){Jv(n)&&(bi(n),no(fs(n.regions),function(a){bi(a)}))}),no(fs(e.timeline),function(n){bi(n),ia(n,"label"),ia(n,"itemStyle"),ia(n,"controlStyle",!0);var a=n.data;Ne(a)&&j(a,function(i){lt(i)&&(ia(i,"label"),ia(i,"itemStyle"))})}),no(fs(e.toolbox),function(n){ia(n,"iconStyle"),no(n.feature,function(a){ia(a,"iconStyle")})}),fn(PM(e.axisPointer),"label"),fn(PM(e.tooltip).axisPointer,"label")}function Pq(e,t){for(var r=t.split(","),n=e,a=0;a<r.length&&(n=n&&n[r[a]],n!=null);a++);return n}function Lq(e,t,r,n){for(var a=t.split(","),i=e,o,s=0;s<a.length-1;s++)o=a[s],i[o]==null&&(i[o]={}),i=i[o];(n||i[a[s]]==null)&&(i[a[s]]=r)}function LM(e){e&&j(Iq,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Iq=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Rq=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],ix=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function hh(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<ix.length;r++){var n=ix[r][1],a=ix[r][0];t[n]!=null&&(t[a]=t[n])}}function IM(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function RM(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function Oq(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function HB(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&HB(e[r].children,t)}function GB(e,t){Mq(e,t),e.series=$n(e.series),j(e.series,function(r){if(lt(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),IM(r.label);var a=r.data;if(a&&!si(a))for(var i=0;i<a.length;i++)IM(a[i]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=Pq(r,"pointer.color");o!=null&&Lq(r,"itemStyle.color",o)}else if(n==="bar"){hh(r),hh(r.backgroundStyle),hh(r.emphasis);var a=r.data;if(a&&!si(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(hh(a[i]),hh(a[i]&&a[i].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),RM(r),HB(r.data,RM)}else n==="graph"||n==="sankey"?Oq(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&kt(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),LM(r)}}),e.dataRange&&(e.visualMap=e.dataRange),j(Rq,function(r){var n=e[r];n&&(Ne(n)||(n=[n]),j(n,function(a){LM(a)}))})}function kq(e){var t=xt();e.eachSeries(function(r){var n=r.get("stack");if(n){var a=t.get(n)||t.set(n,[]),i=r.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),t.each(Nq)}function Nq(e){j(e,function(t,r){var n=[],a=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(u,c,f){var d=o.get(t.stackedDimension,f);if(isNaN(d))return a;var h,v;s?v=o.getRawIndex(f):h=o.get(t.stackedByDimension,f);for(var p=NaN,m=r-1;m>=0;m--){var g=e[m];if(s||(v=g.data.rawIndexOf(g.stackedByDimension,h)),v>=0){var y=g.data.getByRawIndex(g.stackResultDimension,v);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&d>=0&&y>0||l==="samesign"&&d<=0&&y<0){d=K7(d,y),p=y;break}}}return n[0]=d,n[1]=p,n})})}var h_=function(){function e(t){this.data=t.data||(t.sourceFormat===is?{}:[]),this.sourceFormat=t.sourceFormat||kB,this.seriesLayoutBy=t.seriesLayoutBy||Zo,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var a=r[n];a.type==null&&BB(this,n)===Zn.Must&&(a.type="ordinal")}}return e}();function YC(e){return e instanceof h_}function Ww(e,t,r){r=r||$B(e);var n=t.seriesLayoutBy,a=Vq(e,r,n,t.sourceHeader,t.dimensions),i=new h_({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:Kt(t)});return i}function XC(e){return new h_({data:e,sourceFormat:si(e)?Nl:Zi})}function Bq(e){return new h_({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:Kt(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function $B(e){var t=kB;if(si(e))t=Nl;else if(Ne(e)){e.length===0&&(t=ei);for(var r=0,n=e.length;r<n;r++){var a=e[r];if(a!=null){if(Ne(a)){t=ei;break}else if(lt(a)){t=Co;break}}}}else if(lt(e)){for(var i in e)if(At(e,i)&&Ba(e[i])){t=is;break}}return t}function Vq(e,t,r,n,a){var i,o;if(!e)return{dimensionsDefine:OM(a),startIndex:o,dimensionsDetectedCount:i};if(t===ei){var s=e;n==="auto"||n==null?kM(function(u){u!=null&&u!=="-"&&(rt(u)?o==null&&(o=1):o=0)},r,s,10):o=xr(n)?n:n?1:0,!a&&o===1&&(a=[],kM(function(u,c){a[c]=u!=null?u+"":""},r,s,1/0)),i=a?a.length:r===Rd?s.length:s[0]?s[0].length:null}else if(t===Co)a||(a=Fq(e));else if(t===is)a||(a=[],j(e,function(u,c){a.push(c)}));else if(t===Zi){var l=Op(e[0]);i=Ne(l)&&l.length||1}return{startIndex:o,dimensionsDefine:OM(a),dimensionsDetectedCount:i}}function Fq(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r)return ir(r)}function OM(e){if(e){var t=xt();return nt(e,function(r,n){r=lt(r)?r:{name:r};var a={name:r.name,displayName:r.displayName,type:r.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=t.get(a.name);return i?a.name+="-"+i.count++:t.set(a.name,{count:1}),a})}}function kM(e,t,r,n){if(t===Rd)for(var a=0;a<r.length&&a<n;a++)e(r[a]?r[a][0]:null,a);else for(var i=r[0]||[],a=0;a<i.length&&a<n;a++)e(i[a],a)}function WB(e){var t=e.sourceFormat;return t===Co||t===is}var yu,_u,xu,NM,BM,YB=function(){function e(t,r){var n=YC(t)?t:XC(t);this._source=n;var a=this._data=n.data;n.sourceFormat===Nl&&(this._offset=0,this._dimSize=r,this._data=a),BM(this,a,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;BM=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=NM[jC(u,c)];if(De(o,h),u===Nl)o.getItem=r,o.count=a,o.fillStorage=n;else{var v=XB(u,c);o.getItem=Or(v,null,s,f,d);var p=jB(u,c);o.count=Or(p,null,s,f,d)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},n=function(o,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],v=h[0]==null?1/0:h[0],p=h[1]==null?-1/0:h[1],m=s-o,g=l[d],y=0;y<m;y++){var _=c[y*f+d];g[o+y]=_,_<v&&(v=_),_>p&&(p=_)}h[0]=v,h[1]=p}},a=function(){return this._data?this._data.length/this._dimSize:0};NM=(t={},t[ei+"_"+Zo]={pure:!0,appendData:i},t[ei+"_"+Rd]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Co]={pure:!0,appendData:i},t[is]={pure:!0,appendData:function(o){var s=this._data;j(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[Zi]={appendData:i},t[Nl]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),e}(),VM=function(e,t,r,n){return e[n]},zq=(yu={},yu[ei+"_"+Zo]=function(e,t,r,n){return e[n+t]},yu[ei+"_"+Rd]=function(e,t,r,n,a){n+=t;for(var i=a||[],o=e,s=0;s<o.length;s++){var l=o[s];i[s]=l?l[n]:null}return i},yu[Co]=VM,yu[is]=function(e,t,r,n,a){for(var i=a||[],o=0;o<r.length;o++){var s=r[o].name,l=e[s];i[o]=l?l[n]:null}return i},yu[Zi]=VM,yu);function XB(e,t){var r=zq[jC(e,t)];return r}var FM=function(e,t,r){return e.length},Uq=(_u={},_u[ei+"_"+Zo]=function(e,t,r){return Math.max(0,e.length-t)},_u[ei+"_"+Rd]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},_u[Co]=FM,_u[is]=function(e,t,r){var n=r[0].name,a=e[n];return a?a.length:0},_u[Zi]=FM,_u);function jB(e,t){var r=Uq[jC(e,t)];return r}var ox=function(e,t,r){return e[t]},Hq=(xu={},xu[ei]=ox,xu[Co]=function(e,t,r){return e[r]},xu[is]=ox,xu[Zi]=function(e,t,r){var n=Op(e);return n instanceof Array?n[t]:n},xu[Nl]=ox,xu);function qB(e){var t=Hq[e];return t}function jC(e,t){return e===ei?e+"_"+t:e}function ld(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var a=e.getStore(),i=a.getSource().sourceFormat;if(r!=null){var o=e.getDimensionIndex(r),s=a.getDimensionProperty(o);return qB(i)(n,o,s)}else{var l=n;return i===Zi&&(l=Op(n)),l}}}}var Gq=/\{@(.+?)\}/g,$q=function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),a=this.getRawValue(t,r),i=n.getRawIndex(t),o=n.getName(t),s=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:i,data:s,dataType:r,value:a,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,a,i,o){r=r||"normal";var s=this.getData(n),l=this.getDataParams(t,n);if(o&&(l.value=o.interpolatedValue),a!=null&&Ne(l.value)&&(l.value=l.value[a]),!i){var u=s.getItemModel(t);i=u.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(bt(i))return l.status=r,l.dimensionIndex=a,i(l);if(rt(i)){var c=HC(i,l);return c.replace(Gq,function(f,d){var h=d.length,v=d;v.charAt(0)==="["&&v.charAt(h-1)==="]"&&(v=+v.slice(1,h-1));var p=ld(s,t,v);if(o&&Ne(o.interpolatedValue)){var m=s.getDimensionIndex(v);m>=0&&(p=o.interpolatedValue[m])}return p!=null?p+"":""})}},e.prototype.getRawValue=function(t,r){return ld(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e}();function zM(e){var t,r;return lt(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function wv(e){return new Wq(e)}var Wq=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var a=this.context;a.data=a.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!n&&(i=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(i="reset");function c(y){return!(y>=1)&&(y=1),y}var f;(this._dirty||i==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var d=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,v=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!n&&(f||h<v)){var p=this._progress;if(Ne(p))for(var m=0;m<p.length;m++)this._doProgress(p[m],h,v,l,u);else this._doProgress(p,h,v,l,u)}this._dueIndex=v;var g=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,a,i){UM.reset(r,n,a,i),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:UM.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),Ne(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),UM=function(){var e,t,r,n,a,i={reset:function(l,u,c,f){t=l,e=u,r=c,n=f,a=Math.ceil(n/r),i.next=r>1&&n>0?s:o}};return i;function o(){return t<e?t++:null}function s(){var l=t%a*r+Math.ceil(t/a),u=t>=e?null:l<n?l:t;return t++,u}}();function Gg(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!xr(e)&&e!=null&&e!=="-"&&(e=+bo(e)),e==null||e===""?NaN:+e)}xt({number:function(e){return parseFloat(e)},time:function(e){return+bo(e)},trim:function(e){return rt(e)?Yo(e):e}});var Yq=function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=xr(t)?t:Cy(t),a=xr(r)?r:Cy(r),i=isNaN(n),o=isNaN(a);if(i&&(n=this._incomparable),o&&(a=this._incomparable),i&&o){var s=rt(t),l=rt(r);s&&(n=l?t:0),l&&(a=s?r:0)}return n<a?this._resultLT:n>a?-this._resultLT:0},e}(),Xq=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return Gg(t,r)},e}();function jq(e,t){var r=new Xq,n=e.data,a=r.sourceFormat=e.sourceFormat,i=e.startIndex,o="";e.seriesLayoutBy!==Zo&&Wa(o);var s=[],l={},u=e.dimensionsDefine;if(u)j(u,function(p,m){var g=p.name,y={index:m,name:g,displayName:p.displayName};if(s.push(y),g!=null){var _="";At(l,g)&&Wa(_),l[g]=y}});else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var f=XB(a,Zo);t.__isBuiltIn&&(r.getRawDataItem=function(p){return f(n,i,s,p)},r.getRawData=Or(qq,null,e)),r.cloneRawData=Or(Zq,null,e);var d=jB(a,Zo);r.count=Or(d,null,n,i,s);var h=qB(a);r.retrieveValue=function(p,m){var g=f(n,i,s,p);return v(g,m)};var v=r.retrieveValueFromItem=function(p,m){if(p!=null){var g=s[m];if(g)return h(p,m,g.name)}};return r.getDimensionInfo=Or(Kq,null,s,l),r.cloneAllDimensionInfo=Or(Qq,null,s),r}function qq(e){var t=e.sourceFormat;if(!qC(t)){var r="";Wa(r)}return e.data}function Zq(e){var t=e.sourceFormat,r=e.data;if(!qC(t)){var n="";Wa(n)}if(t===ei){for(var a=[],i=0,o=r.length;i<o;i++)a.push(r[i].slice());return a}else if(t===Co){for(var a=[],i=0,o=r.length;i<o;i++)a.push(De({},r[i]));return a}}function Kq(e,t,r){if(r!=null){if(xr(r)||!isNaN(r)&&!At(t,r))return e[r];if(At(t,r))return t[r]}}function Qq(e){return Kt(e)}var ZB=xt();function Jq(e){e=Kt(e);var t=e.type,r="";t||Wa(r);var n=t.split(":");n.length!==2&&Wa(r);var a=!1;n[0]==="echarts"&&(t=n[1],a=!0),e.__isBuiltIn=a,ZB.set(t,e)}function eZ(e,t,r){var n=$n(e),a=n.length,i="";a||Wa(i);for(var o=0,s=a;o<s;o++){var l=n[o];t=tZ(l,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function tZ(e,t,r,n){var a="";t.length||Wa(a),lt(e)||Wa(a);var i=e.type,o=ZB.get(i);o||Wa(a);var s=nt(t,function(u){return jq(u,o)}),l=$n(o.transform({upstream:s[0],upstreamList:s,config:Kt(e.config)}));return nt(l,function(u,c){var f="";lt(u)||Wa(f),u.data||Wa(f);var d=$B(u.data);qC(d)||Wa(f);var h,v=t[0];if(v&&c===0&&!u.dimensions){var p=v.startIndex;p&&(u.data=v.data.slice(0,p).concat(u.data)),h={seriesLayoutBy:Zo,sourceHeader:p,dimensions:v.metaRawOption.dimensions}}else h={seriesLayoutBy:Zo,sourceHeader:0,dimensions:u.dimensions};return Ww(u.data,h,null)})}function qC(e){return e===ei||e===Co}var v_="undefined",rZ=typeof Uint32Array===v_?Array:Uint32Array,nZ=typeof Uint16Array===v_?Array:Uint16Array,KB=typeof Int32Array===v_?Array:Int32Array,HM=typeof Float64Array===v_?Array:Float64Array,QB={float:HM,int:KB,ordinal:Array,number:Array,time:HM},sx;function vh(e){return e>65535?rZ:nZ}function of(){return[1/0,-1/0]}function aZ(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function GM(e,t,r,n,a){var i=QB[r||"float"];if(a){var o=e[t],s=o&&o.length;if(s!==n){for(var l=new i(n),u=0;u<s;u++)l[u]=o[u];e[t]=l}}else e[t]=new i(n)}var Yw=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=xt()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=t.getSource(),i=this.defaultDimValueGetter=sx[a.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[],WB(a),this._dimensions=nt(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,a=this._dimensions,i=n.get(t);if(i!=null){if(a[i].type===r)return i}else i=a.length;return a[i]={type:r},n.set(t,i),this._chunks[i]=new QB[r||"float"](this._rawCount),this._rawExtent[i]=of(),i},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],a=this._dimensions[t],i=this._rawExtent,o=a.ordinalOffset||0,s=n.length;o===0&&(i[t]=of());for(var l=i[t],u=o;u<s;u++){var c=n[u]=r.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}a.ordinalMeta=r,a.ordinalOffset=s,a.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var a=r.count();return r.persistent||(a+=n),n<a&&this._initDataFromProvider(n,a,!0),[n,a]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,a=this._dimensions,i=a.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,r||0),u=0;u<i;u++){var c=a[u];GM(n,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,v=0;v<i;v++){var c=a[v],p=sx.arrayRows.call(this,t[h]||f,c.property,h,v);n[v][d]=p;var m=o[v];p<m[0]&&(m[0]=p),p>m[1]&&(m[1]=p)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(t,r,n){for(var a=this._provider,i=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=nt(o,function(y){return y.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=of()),GM(i,c,f.type,r,n)}if(a.fillStorage)a.fillStorage(t,r,i,l);else for(var d=[],h=t;h<r;h++){d=a.getItem(h,d);for(var v=0;v<s;v++){var p=i[v],m=this._dimValueGetter(d,u[v],h,v);p[h]=m;var g=l[v];m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],a=[];if(r==null){r=t,t=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=t;for(var i=0,o=a.length;i<o;i++)n.push(this.get(a[i],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var a=0,i=this.count();a<i;a++){var o=this.get(t,a);isNaN(o)||(n+=o)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(i){isNaN(i)||r.push(i)});var n=r.sort(function(i,o){return i-o}),a=this.count();return a===0?0:a%2===1?n[(a-1)/2]:(n[a/2]+n[a/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var a=0,i=this._count-1;a<=i;){var o=(a+i)/2|0;if(r[o]<t)a=o+1;else if(r[o]>t)i=o-1;else return o}return-1},e.prototype.indicesOfNearest=function(t,r,n){var a=this._chunks,i=a[t],o=[];if(!i)return o;n==null&&(n=1/0);for(var s=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var d=this.getRawIndex(c),h=r-i[d],v=Math.abs(h);v<=n&&((v<s||v===s&&h>=0&&l<0)&&(s=v,l=h,u=0),h===l&&(o[u++]=c))}return o.length=u,o},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,a=this._count;if(n===Array){t=new n(a);for(var i=0;i<a;i++)t[i]=r[i]}else t=new n(r.buffer,0,a)}else{var n=vh(this._rawCount);t=new n(this.count());for(var i=0;i<t.length;i++)t[i]=i}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),a=n.count(),i=vh(n._rawCount),o=new i(a),s=[],l=t.length,u=0,c=t[0],f=n._chunks,d=0;d<a;d++){var h=void 0,v=n.getRawIndex(d);if(l===0)h=r(d);else if(l===1){var p=f[c][v];h=r(p,d)}else{for(var m=0;m<l;m++)s[m]=f[t[m]][v];s[m]=d,h=r.apply(null,s)}h&&(o[u++]=v)}return u<a&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var a=ir(t),i=a.length;if(!i)return this;var o=r.count(),s=vh(r._rawCount),l=new s(o),u=0,c=a[0],f=t[c][0],d=t[c][1],h=r._chunks,v=!1;if(!r._indices){var p=0;if(i===1){for(var m=h[a[0]],g=0;g<n;g++){var y=m[g];(y>=f&&y<=d||isNaN(y))&&(l[u++]=p),p++}v=!0}else if(i===2){for(var m=h[a[0]],_=h[a[1]],x=t[a[1]][0],w=t[a[1]][1],g=0;g<n;g++){var y=m[g],b=_[g];(y>=f&&y<=d||isNaN(y))&&(b>=x&&b<=w||isNaN(b))&&(l[u++]=p),p++}v=!0}}if(!v)if(i===1)for(var g=0;g<o;g++){var T=r.getRawIndex(g),y=h[a[0]][T];(y>=f&&y<=d||isNaN(y))&&(l[u++]=T)}else for(var g=0;g<o;g++){for(var S=!0,T=r.getRawIndex(g),A=0;A<i;A++){var M=a[A],y=h[M][T];(y<t[M][0]||y>t[M][1])&&(S=!1)}S&&(l[u++]=r.getRawIndex(g))}return u<o&&(r._indices=l),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var a=t._chunks,i=[],o=r.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<r.length;c++)u[r[c]]=of();for(var f=0;f<s;f++){for(var d=t.getRawIndex(f),h=0;h<o;h++)l[h]=a[r[h]][d];l[o]=f;var v=n&&n.apply(null,l);if(v!=null){typeof v!="object"&&(i[0]=v,v=i);for(var c=0;c<v.length;c++){var p=r[c],m=v[c],g=u[p],y=a[p];y&&(y[d]=m),m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),a=n._chunks,i=a[t],o=this.count(),s=0,l=Math.floor(1/r),u=this.getRawIndex(0),c,f,d,h=new(vh(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));h[s++]=u;for(var v=1;v<o-1;v+=l){for(var p=Math.min(v+l,o-1),m=Math.min(v+l*2,o),g=(m+p)/2,y=0,_=p;_<m;_++){var x=this.getRawIndex(_),w=i[x];isNaN(w)||(y+=w)}y/=m-p;var b=v,T=Math.min(v+l,o),S=v-1,A=i[u];c=-1,d=b;for(var M=-1,C=0,_=b;_<T;_++){var x=this.getRawIndex(_),w=i[x];if(isNaN(w)){C++,M<0&&(M=x);continue}f=Math.abs((S-g)*(w-A)-(S-_)*(y-A)),f>c&&(c=f,d=x)}C>0&&C<T-b&&(h[s++]=Math.min(M,d),d=Math.max(M,d)),h[s++]=d,u=d}return h[s++]=this.getRawIndex(o-1),n._count=s,n._indices=h,n.getRawIndex=this._getRawIdx,n},e.prototype.downSample=function(t,r,n,a){for(var i=this.clone([t],!0),o=i._chunks,s=[],l=Math.floor(1/r),u=o[t],c=this.count(),f=i._rawExtent[t]=of(),d=new(vh(this._rawCount))(Math.ceil(c/l)),h=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,s.length=l);for(var p=0;p<l;p++){var m=this.getRawIndex(v+p);s[p]=u[m]}var g=n(s),y=this.getRawIndex(Math.min(v+a(s,g)||0,c-1));u[y]=g,g<f[0]&&(f[0]=g),g>f[1]&&(f[1]=g),d[h++]=y}return i._count=h,i._indices=d,i._updateGetRawIdx(),i},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,a=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(n){case 0:r(i);break;case 1:r(a[t[0]][s],i);break;case 2:r(a[t[0]][s],a[t[1]][s],i);break;default:for(var l=0,u=[];l<n;l++)u[l]=a[t[l]][s];u[l]=i,r.apply(null,u)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=of();if(!r)return n;var a=this.count(),i=!this._indices,o;if(i)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=n;for(var s=o[0],l=o[1],u=0;u<a;u++){var c=this.getRawIndex(u),f=r[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[t]=o,o},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],a=this._chunks,i=0;i<a.length;i++)n.push(a[i][r]);return n},e.prototype.clone=function(t,r){var n=new e,a=this._chunks,i=t&&Jo(t,function(s,l){return s[l]=!0,s},{});if(i)for(var o=0;o<a.length;o++)n._chunks[o]=i[o]?aZ(a[o]):a[o];else n._chunks=a;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Kt(this._extent),t._rawExtent=Kt(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var a=0;a<n;a++)r[a]=this._indices[a]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(r,n,a,i){return Gg(r[i],this._dimensions[i])}sx={arrayRows:t,objectRows:function(r,n,a,i){return Gg(r[n],this._dimensions[i])},keyedColumns:t,original:function(r,n,a,i){var o=r&&(r.value==null?r:r.value);return Gg(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(r,n,a,i){return r[i]}}}(),e}(),JB=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,a,i;if(Dm(t)){var o=t,s=void 0,l=void 0,u=void 0;if(n){var c=r[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,i=[c._getVersionSign()]}else s=o.get("data",!0),l=si(s)?Nl:Zi,i=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=Ft(f.seriesLayoutBy,d.seriesLayoutBy)||null,v=Ft(f.sourceHeader,d.sourceHeader),p=Ft(f.dimensions,d.dimensions),m=h!==d.seriesLayoutBy||!!v!=!!d.sourceHeader||p;a=m?[Ww(s,{seriesLayoutBy:h,sourceHeader:v,dimensions:p},l)]:[]}else{var g=t;if(n){var y=this._applyTransform(r);a=y.sourceList,i=y.upstreamSignList}else{var _=g.get("source",!0);a=[Ww(_,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(a,i)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),a=r.get("fromTransformResult",!0);if(a!=null){var i="";t.length!==1&&WM(i)}var o,s=[],l=[];return j(t,function(u){u.prepareSource();var c=u.getSource(a||0),f="";a!=null&&!c&&WM(f),s.push(c),l.push(u._getVersionSign())}),n?o=eZ(n,s,{datasetIndex:r.componentIndex}):a!=null&&(o=[Bq(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var a=0,i=this._storeList,o=i[a];o||(o=i[a]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];Dm(this._sourceHost)&&l?s=l._innerGetDataStore(t,r,n):(s=new Yw,s.initData(new YB(r,t.length),t)),o[n]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Dm(t)){var r=$C(t);return r?[r.getSourceManager()]:[]}else return nt(uq(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,a;if(Dm(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),a=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=t;r=i.get("seriesLayoutBy",!0),n=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:a}},e}();function $M(e){var t=e.option.transform;t&&my(e.option.transform)}function Dm(e){return e.mainType==="series"}function WM(e){throw new Error(e)}var eV="line-height:1";function tV(e,t){var r=e.color||"#6e7079",n=e.fontSize||12,a=e.fontWeight||"400",i=e.color||"#464646",o=e.fontSize||14,s=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+zn(n+"")+"px;color:"+zn(r)+";font-weight:"+zn(a+""),valueStyle:"font-size:"+zn(o+"")+"px;color:"+zn(i)+";font-weight:"+zn(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:a},valueStyle:{fontSize:o,fill:i,fontWeight:s}}}var iZ=[0,10,20,30],oZ=["",`
`,`

`,`


`];function ep(e,t){return t.type=e,t}function Xw(e){return e.type==="section"}function rV(e){return Xw(e)?sZ:lZ}function nV(e){if(Xw(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return j(e.blocks,function(a){var i=nV(a);i>=t&&(t=i+ +(n&&(!i||Xw(a)&&!a.noHeader)))}),t}return 0}function sZ(e,t,r,n){var a=t.noHeader,i=uZ(nV(t)),o=[],s=t.blocks||[];es(!s||Ne(s)),s=s||[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(At(u,l)){var c=new Yq(u[l],null);s.sort(function(v,p){return c.evaluate(v.sortParam,p.sortParam)})}else l==="seriesDesc"&&s.reverse()}j(s,function(v,p){var m=t.valueFormatter,g=rV(v)(m?De(De({},e),{valueFormatter:m}):e,v,p>0?i.html:0,n);g!=null&&o.push(g)});var f=e.renderMode==="richText"?o.join(i.richText):jw(o.join(""),a?r:i.html);if(a)return f;var d=$w(t.header,"ordinal",e.useUTC),h=tV(n,e.renderMode).nameStyle;return e.renderMode==="richText"?aV(e,d,h)+i.richText+f:jw('<div style="'+h+";"+eV+';">'+zn(d)+"</div>"+f,r)}function lZ(e,t,r,n){var a=e.renderMode,i=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(x){return x=Ne(x)?x:[x],nt(x,function(w,b){return $w(w,Ne(h)?h[b]:h,u)})};if(!(i&&o)){var f=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",a),d=i?"":$w(l,"ordinal",u),h=t.valueType,v=o?[]:c(t.value),p=!s||!i,m=!s&&i,g=tV(n,a),y=g.nameStyle,_=g.valueStyle;return a==="richText"?(s?"":f)+(i?"":aV(e,d,y))+(o?"":dZ(e,v,p,m,_)):jw((s?"":f)+(i?"":cZ(d,!s,y))+(o?"":fZ(v,p,m,_)),r)}}function YM(e,t,r,n,a,i){if(e){var o=rV(e),s={useUTC:a,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return o(s,e,0,i)}}function uZ(e){return{html:iZ[e],richText:oZ[e]}}function jw(e,t){var r='<div style="clear:both"></div>',n="margin: "+t+"px 0 0";return'<div style="'+n+";"+eV+';">'+e+r+"</div>"}function cZ(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+zn(e)+"</span>"}function fZ(e,t,r,n){var a=r?"10px":"20px",i=t?"float:right;margin-left:"+a:"";return e=Ne(e)?e:[e],'<span style="'+i+";"+n+'">'+nt(e,function(o){return zn(o)}).join("&nbsp;&nbsp;")+"</span>"}function aV(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function dZ(e,t,r,n,a){var i=[a],o=n?10:20;return r&&i.push({padding:[0,0,0,o],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(Ne(t)?t.join("  "):t,i)}function hZ(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return yc(n)}function iV(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var lx=function(){function e(){this.richTextStyles={},this._nextStyleNameId=d3()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var a=n==="richText"?this._generateStyleName():null,i=PB({color:r,type:t,renderMode:n,markerId:a});return rt(i)?i:(this.richTextStyles[a]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};Ne(r)?j(r,function(i){return De(n,i)}):De(n,r);var a=this._generateStyleName();return this.richTextStyles[a]=n,"{"+a+"|"+t+"}"},e}();function vZ(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,a=t.getData(),i=a.mapDimensionsAll("defaultedTooltip"),o=i.length,s=t.getRawValue(r),l=Ne(s),u=hZ(t,r),c,f,d,h;if(o>1||l&&!o){var v=pZ(s,t,r,i,u);c=v.inlineValues,f=v.inlineValueTypes,d=v.blocks,h=v.inlineValues[0]}else if(o){var p=a.getDimensionInfo(i[0]);h=c=ld(a,r,i[0]),f=p.type}else h=c=l?s[0]:s;var m=wC(t),g=m&&t.name||"",y=a.getName(r),_=n?g:y;return ep("section",{header:g,noHeader:n||!m,sortParam:h,blocks:[ep("nameValue",{markerType:"item",markerColor:u,name:_,noName:!Yo(_),value:c,valueType:f})].concat(d||[])})}function pZ(e,t,r,n,a){var i=t.getData(),o=Jo(e,function(f,d,h){var v=i.getDimensionInfo(h);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],l=[],u=[];n.length?j(n,function(f){c(ld(i,r,f),f)}):j(e,c);function c(f,d){var h=i.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(o?u.push(ep("nameValue",{markerType:"subItem",markerColor:a,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var ll=Pr();function Mm(e,t){return e.getName(t)||e.getId(t)}var mZ="__universalTransitionEnabled",p_=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,a){this.seriesIndex=this.componentIndex,this.dataTask=wv({count:yZ,reset:_Z}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,a);var i=ll(this).sourceManager=new JB(this);i.prepareSource();var o=this.getInitialData(r,a);jM(o,this),this.dataTask.context.data=o,ll(this).dataBeforeProcessed=o,XM(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(r,n){var a=Qv(this),i=a?f_(r):{},o=this.subType;nr.hasClass(o)&&(o+="Series"),je(r,n.getTheme().get(this.subType)),je(r,this.getDefaultOption()),Lw(r,"label",["show"]),this.fillDataTextStyle(r.data),a&&_c(r,i,a)},t.prototype.mergeOption=function(r,n){r=je(this.option,r,!0),this.fillDataTextStyle(r.data);var a=Qv(this);a&&_c(this.option,r,a);var i=ll(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(r,n);jM(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,ll(this).dataBeforeProcessed=o,XM(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(r){if(r&&!si(r))for(var n=["show"],a=0;a<r.length;a++)r[a]&&r[a].label&&Lw(r[a],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=qw(this);if(n){var a=n.context.data;return r==null?a:a.getLinkedData(r)}else return ll(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=qw(this);if(n){var a=n.context;a.outputData=r,n!==this.dataTask&&(a.data=r)}ll(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return xt(r)},t.prototype.getSourceManager=function(){return ll(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return ll(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.formatTooltip=function(r,n,a){return vZ({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Nt.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,a){var i=this.ecModel,o=WC.prototype.getColorFromPalette.call(this,r,n,a);return o||(o=i.getColorFromPalette(r,n,a)),o},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,o=this.getData(n);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var l=r[s],u=Mm(o,l);a[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(r,n){for(var a=[],i=0;i<r.length;i++)a[0]=r[i],this.isSelected(r[i],n)?this.unselect(a,n):this.select(a,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=ir(r),a=[],i=0;i<n.length;i++){var o=r[n[i]];o>=0&&a.push(o)}return a},t.prototype.isSelected=function(r,n){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(n);return(a==="all"||a[Mm(i,r)])&&!i.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[mZ])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var a,i,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){lt(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=n[c],d=Mm(r,f);u[d]=!0,this._selectedDataIndicesMap[d]=r.getRawIndex(f)}}else if(s==="single"||s===!0){var h=n[l-1],d=Mm(r,h);o.selectedMap=(a={},a[d]=!0,a),this._selectedDataIndicesMap=(i={},i[d]=r.getRawIndex(h),i)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(a){var i=r.getRawDataItem(a);i&&i.selected&&n.push(a)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return nr.registerClass(r)},t.protoInitialize=function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),t}(nr);li(p_,$q);li(p_,WC);x3(p_,nr);function XM(e){var t=e.name;wC(e)||(e.name=gZ(e)||t)}function gZ(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return j(r,function(a){var i=t.getDimensionInfo(a);i.displayName&&n.push(i.displayName)}),n.join(" ")}function yZ(e){return e.model.getRawData().count()}function _Z(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),xZ}function xZ(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function jM(e,t){j(dw(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,zr(bZ,t))})}function bZ(e,t){var r=qw(e);return r&&r.setOutputEnd((t||this).count()),t}function qw(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(e.uid))}return n}}const kn=p_;var ZC=function(){function e(){this.group=new Kn,this.uid=a_("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,a){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,a){},e.prototype.updateLayout=function(t,r,n,a){},e.prototype.updateVisual=function(t,r,n,a){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e}();TC(ZC);j0(ZC);const va=ZC;function KC(){var e=Pr();return function(t){var r=e(t),n=t.pipelineContext,a=!!r.large,i=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(a!==o||i!==s)&&"reset"}}var oV=Pr(),wZ=KC(),QC=function(){function e(){this.group=new Kn,this.uid=a_("viewChart"),this.renderTask=wv({plan:SZ,reset:TZ}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,a){},e.prototype.highlight=function(t,r,n,a){var i=t.getData(a&&a.dataType);i&&ZM(i,a,"emphasis")},e.prototype.downplay=function(t,r,n,a){var i=t.getData(a&&a.dataType);i&&ZM(i,a,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,a){this.render(t,r,n,a)},e.prototype.updateLayout=function(t,r,n,a){this.render(t,r,n,a)},e.prototype.updateVisual=function(t,r,n,a){this.render(t,r,n,a)},e.prototype.eachRendered=function(t){r_(this.group,t)},e.markUpdateMethod=function(t,r){oV(t).updateMethod=r},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function qM(e,t,r){e&&Fw(e)&&(t==="emphasis"?Ey:Dy)(e,r)}function ZM(e,t,r){var n=mc(e,t),a=t&&t.highlightKey!=null?O9(t.highlightKey):null;n!=null?j($n(n),function(i){qM(e.getItemGraphicEl(i),r,a)}):e.eachItemGraphicEl(function(i){qM(i,r,a)})}TC(QC);j0(QC);function SZ(e){return wZ(e.model)}function TZ(e){var t=e.model,r=e.ecModel,n=e.api,a=e.payload,i=t.pipelineContext.progressiveRender,o=e.view,s=a&&oV(a).updateMethod,l=i?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,r,n,a),CZ[l]}var CZ={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const yn=QC;var By="\0__throttleOriginMethod",KM="\0__throttleRate",QM="\0__throttleType";function m_(e,t,r){var n,a=0,i=0,o=null,s,l,u,c;t=t||0;function f(){i=new Date().getTime(),o=null,e.apply(l,u||[])}var d=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];n=new Date().getTime(),l=this,u=h;var p=c||t,m=c||r;c=null,s=n-(m?a:i)-p,clearTimeout(o),m?o=setTimeout(f,p):s>=0?f():o=setTimeout(f,-s),a=n};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(h){c=h},d}function sV(e,t,r,n){var a=e[t];if(a){var i=a[By]||a,o=a[QM],s=a[KM];if(s!==r||o!==n){if(r==null||!n)return e[t]=i;a=e[t]=m_(i,r,n==="debounce"),a[By]=i,a[QM]=n,a[KM]=r}return a}}function Zw(e,t){var r=e[t];r&&r[By]&&(r.clear&&r.clear(),e[t]=r[By])}var JM=Pr(),eP={itemStyle:Xv(gB,!0),lineStyle:Xv(mB,!0)},AZ={lineStyle:"stroke",itemStyle:"fill"};function lV(e,t){var r=e.visualStyleMapper||eP[t];return r||(console.warn("Unknown style type '"+t+"'."),eP.itemStyle)}function uV(e,t){var r=e.visualDrawType||AZ[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var EZ={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",a=e.getModel(n),i=lV(e,n),o=i(a),s=a.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var l=uV(e,n),u=o[l],c=bt(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var d=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[l]||(o[l]=d,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||bt(o.fill)?d:o.fill,o.stroke=o.stroke==="auto"||bt(o.stroke)?d:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(h,v){var p=e.getDataParams(v),m=De({},o);m[l]=c(p),h.setItemVisual(v,"style",m)}}}},ph=new on,DZ={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",a=lV(e,n),i=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){ph.option=l[n];var u=a(ph),c=o.ensureUniqueItemVisual(s,"style");De(c,u),ph.option.decal&&(o.setItemVisual(s,"decal",ph.option.decal),ph.option.decal.dirty=!0),i in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},MZ={performRawSeries:!0,overallReset:function(e){var t=xt();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var a=r.type+"-"+n,i=t.get(a);i||(i={},t.set(a,i)),JM(r).scope=i}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),a={},i=r.getData(),o=JM(r).scope,s=r.visualStyleAccessPath||"itemStyle",l=uV(r,s);i.each(function(u){var c=i.getRawIndex(u);a[c]=u}),n.each(function(u){var c=a[u],f=i.getItemVisual(c,"colorFromPalette");if(f){var d=i.ensureUniqueItemVisual(c,"style"),h=n.getName(u)||u+"",v=n.count();d[l]=r.getColorFromPalette(h,o,v)}})}})}},Pm=Math.PI;function PZ(e,t){t=t||{},kt(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Kn,n=new gn({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var a=new Kr({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),i=new gn({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(i);var o;return t.showSpinner&&(o=new PC({shape:{startAngle:-Pm/2,endAngle:-Pm/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Pm*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Pm*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=a.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=e.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var LZ=function(){function e(t,r,n,a){this._stageTaskMap=xt(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=n.concat(a)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var a=n.overallTask;a&&a.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),a=n.context,i=!r&&n.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=i?n.step:null,s=a&&a.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),a=t.getData(),i=a.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&i>=n.threshold,s=t.get("large")&&i>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?i:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=xt();t.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;n.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),r._pipe(a,a.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;j(this._allHandlers,function(a){var i=t.get(a.uid)||t.set(a.uid,{}),o="";es(!(a.reset&&a.overallReset),o),a.reset&&this._createSeriesStageTask(a,i,r,n),a.overallReset&&this._createOverallStageTask(a,i,r,n)},this)},e.prototype.prepareView=function(t,r,n,a){var i=t.renderTask,o=i.context;o.model=r,o.ecModel=n,o.api=a,i.__block=!t.incrementalPrepareRender,this._pipe(r,i)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,a){a=a||{};var i=!1,o=this;j(t,function(l,u){if(!(a.visualType&&a.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,v=d.agentStubMap;v.each(function(m){s(a,m)&&(m.dirty(),h=!0)}),h&&d.dirty(),o.updatePayload(d,n);var p=o.getPerformArgs(d,a.block);v.each(function(m){m.perform(p)}),d.perform(p)&&(i=!0)}else f&&f.each(function(m,g){s(a,m)&&m.dirty();var y=o.getPerformArgs(m,a.block);y.skip=!l.performRawSeries&&r.isSeriesFiltered(m.context.model),o.updatePayload(m,n),m.perform(y)&&(i=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,a){var i=this,o=r.seriesTaskMap,s=r.seriesTaskMap=xt(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,a).each(c);function c(f){var d=f.uid,h=s.set(d,o&&o.get(d)||wv({plan:NZ,reset:BZ,count:FZ}));h.context={model:f,ecModel:n,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(f,h)}},e.prototype._createOverallStageTask=function(t,r,n,a){var i=this,o=r.overallTask=r.overallTask||wv({reset:IZ});o.context={ecModel:n,api:a,overallReset:t.overallReset,scheduler:i};var s=o.agentStubMap,l=o.agentStubMap=xt(),u=t.seriesType,c=t.getTargetSeries,f=!0,d=!1,h="";es(!t.createOnAllSeries,h),u?n.eachRawSeriesByType(u,v):c?c(n,a).each(v):(f=!1,j(n.getSeries(),v));function v(p){var m=p.uid,g=l.set(m,s&&s.get(m)||(d=!0,wv({reset:RZ,onDirty:kZ})));g.context={model:p,overallProgress:f},g.agent=o,g.__block=f,i._pipe(p,g)}d&&o.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,a=this._pipelineMap.get(n);!a.head&&(a.head=r),a.tail&&a.tail.pipe(r),a.tail=r,r.__idxInPipeline=a.count++,r.__pipeline=a},e.wrapStageHandler=function(t,r){return bt(t)&&(t={overallReset:t,seriesType:zZ(t)}),t.uid=a_("stageHandler"),r&&(t.visualType=r),t},e}();function IZ(e){e.overallReset(e.ecModel,e.api,e.payload)}function RZ(e){return e.overallProgress&&OZ}function OZ(){this.agent.dirty(),this.getDownstream().dirty()}function kZ(){this.agent&&this.agent.dirty()}function NZ(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function BZ(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=$n(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?nt(t,function(r,n){return cV(n)}):VZ}var VZ=cV(0);function cV(e){return function(t,r){var n=r.data,a=r.resetDefines[e];if(a&&a.dataEach)for(var i=t.start;i<t.end;i++)a.dataEach(n,i);else a&&a.progress&&a.progress(t,n)}}function FZ(e){return e.data.count()}function zZ(e){Vy=null;try{e(tp,fV)}catch{}return Vy}var tp={},fV={},Vy;dV(tp,zB);dV(fV,UB);tp.eachSeriesByType=tp.eachRawSeriesByType=function(e){Vy=e};tp.eachComponent=function(e){e.mainType==="series"&&e.subType&&(Vy=e.subType)};function dV(e,t){for(var r in t.prototype)e[r]=Za}const hV=LZ;var tP=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const UZ={color:tP,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],tP]};var Ta="#B9B8CE",rP="#100C2A",Lm=function(){return{axisLine:{lineStyle:{color:Ta}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},nP=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],vV={darkMode:!0,color:nP,backgroundColor:rP,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Ta}},textStyle:{color:Ta},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Ta}},dataZoom:{borderColor:"#71708A",textStyle:{color:Ta},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Ta}},timeline:{lineStyle:{color:Ta},label:{color:Ta},controlStyle:{color:Ta,borderColor:Ta}},calendar:{itemStyle:{color:rP},dayLabel:{color:Ta},monthLabel:{color:Ta},yearLabel:{color:Ta}},timeAxis:Lm(),logAxis:Lm(),valueAxis:Lm(),categoryAxis:Lm(),line:{symbol:"circle"},graph:{color:nP},gauge:{title:{color:Ta},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Ta},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};vV.categoryAxis.splitLine.show=!1;const HZ=vV;var GZ=function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},a={};if(rt(t)){var i=Xo(t);r.mainType=i.main||null,r.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};j(t,function(l,u){for(var c=!1,f=0;f<o.length;f++){var d=o[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var v=u.slice(0,h);v!=="data"&&(r.mainType=v,r[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(a[u]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:a}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var a=n.targetEl,i=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=r.cptQuery,u=r.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,r.otherQuery,a,i));function c(f,d,h,v){return f[h]==null||d[v||h]===f[h]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),Kw=["symbol","symbolSize","symbolRotate","symbolOffset"],aP=Kw.concat(["symbolKeepAspect"]),$Z={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},a={},i=!1,o=0;o<Kw.length;o++){var s=Kw[o],l=e.get(s);bt(l)?(i=!0,a[s]=l):n[s]=l}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(De({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var u=ir(a);function c(f,d){for(var h=e.getRawValue(d),v=e.getDataParams(d),p=0;p<u.length;p++){var m=u[p];f.setItemVisual(d,m,a[m](h,v))}}return{dataEach:i?c:null}}},WZ={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(a,i){for(var o=a.getItemModel(i),s=0;s<aP.length;s++){var l=aP[s],u=o.getShallow(l,!0);u!=null&&a.setItemVisual(i,l,u)}}return{dataEach:r.hasItemOption?n:null}}};function YZ(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function XZ(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function jZ(e,t){function r(n,a){var i=[];return n.eachComponent({mainType:"series",subType:e,query:a},function(o){i.push(o.seriesIndex)}),i}j([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(n){t(n[0],function(a,i,o){a=De({},a),o.dispatchAction(De(a,{type:n[1],seriesIndex:r(i,a)}))})})}function sf(e,t,r,n,a){var i=e+t;r.isSilent(i)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=a.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),d=mc(f,a.fromActionPayload);r.trigger(i,{type:i,seriesId:o.id,name:Ne(d)?f.getName(d[0]):f.getName(d),selected:rt(l)?l:De({},l)})}})}function qZ(e,t,r){e.on("selectchanged",function(n){var a=r.getModel();n.isFromClick?(sf("map","selectchanged",t,a,n),sf("pie","selectchanged",t,a,n)):n.fromAction==="select"?(sf("map","selected",t,a,n),sf("pie","selected",t,a,n)):n.fromAction==="unselect"&&(sf("map","unselected",t,a,n),sf("pie","unselected",t,a,n))})}function Zh(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var ZZ=Math.round(Math.random()*9),KZ=typeof Object.defineProperty=="function",QZ=function(){function e(){this._id="__ec_inner_"+ZZ++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return KZ?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}();const JZ=QZ;var eK=ur.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,a=t.width/2,i=t.height/2;e.moveTo(r,n-i),e.lineTo(r+a,n+i),e.lineTo(r-a,n+i),e.closePath()}}),tK=ur.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,a=t.width/2,i=t.height/2;e.moveTo(r,n-i),e.lineTo(r+a,n),e.lineTo(r,n+i),e.lineTo(r-a,n),e.closePath()}}),rK=ur.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,a=t.width/5*3,i=Math.max(a,t.height),o=a/2,s=o*o/(i-o),l=n-i+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),d=Math.cos(u),h=o*.6,v=o*.7;e.moveTo(r-c,l+s),e.arc(r,l,o,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(r+c-f*h,l+s+d*h,r,n-v,r,n),e.bezierCurveTo(r,n-v,r-c+f*h,l+s+d*h,r-c,l+s),e.closePath()}}),nK=ur.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,a=t.x,i=t.y,o=n/3*2;e.moveTo(a,i),e.lineTo(a+o,i+r),e.lineTo(a,i+r/4*3),e.lineTo(a-o,i+r),e.lineTo(a,i),e.closePath()}}),aK={line:gc,rect:gn,roundRect:gn,square:gn,circle:MC,diamond:tK,pin:rK,arrow:nK,triangle:eK},iK={line:function(e,t,r,n,a){a.x1=e,a.y1=t+n/2,a.x2=e+r,a.y2=t+n/2},rect:function(e,t,r,n,a){a.x=e,a.y=t,a.width=r,a.height=n},roundRect:function(e,t,r,n,a){a.x=e,a.y=t,a.width=r,a.height=n,a.r=Math.min(r,n)/4},square:function(e,t,r,n,a){var i=Math.min(r,n);a.x=e,a.y=t,a.width=i,a.height=i},circle:function(e,t,r,n,a){a.cx=e+r/2,a.cy=t+n/2,a.r=Math.min(r,n)/2},diamond:function(e,t,r,n,a){a.cx=e+r/2,a.cy=t+n/2,a.width=r,a.height=n},pin:function(e,t,r,n,a){a.x=e+r/2,a.y=t+n/2,a.width=r,a.height=n},arrow:function(e,t,r,n,a){a.x=e+r/2,a.y=t+n/2,a.width=r,a.height=n},triangle:function(e,t,r,n,a){a.cx=e+r/2,a.cy=t+n/2,a.width=r,a.height=n}},Qw={};j(aK,function(e,t){Qw[t]=new e});var oK=ur.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=Sy(e,t,r),a=this.shape;return a&&a.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var a=Qw[n];a||(n="rect",a=Qw[n]),iK[n](t.x,t.y,t.width,t.height,a.shape),a.buildPath(e,a.shape,r)}}});function sK(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function xc(e,t,r,n,a,i,o){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=cB(e.slice(8),new Ut(t,r,n,a),o?"center":"cover"):e.indexOf("path://")===0?l=OC(e.slice(7),{},new Ut(t,r,n,a),o?"center":"cover"):l=new oK({shape:{symbolType:e,x:t,y:r,width:n,height:a}}),l.__isEmptyBrush=s,l.setColor=sK,i&&l.setColor(i),l}function lK(e){return Ne(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function pV(e,t){if(e!=null)return Ne(e)||(e=[e,e]),[Sr(e[0],t[0])||0,Sr(Ft(e[1],e[0]),t[1])||0]}function Yu(e){return isFinite(e)}function uK(e,t,r){var n=t.x==null?0:t.x,a=t.x2==null?1:t.x2,i=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,a=a*r.width+r.x,i=i*r.height+r.y,o=o*r.height+r.y),n=Yu(n)?n:0,a=Yu(a)?a:1,i=Yu(i)?i:0,o=Yu(o)?o:0;var s=e.createLinearGradient(n,i,a,o);return s}function cK(e,t,r){var n=r.width,a=r.height,i=Math.min(n,a),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*n+r.x,s=s*a+r.y,l=l*i),o=Yu(o)?o:.5,s=Yu(s)?s:.5,l=l>=0&&Yu(l)?l:.5;var u=e.createRadialGradient(o,s,0,o,s,l);return u}function Jw(e,t,r){for(var n=t.type==="radial"?cK(e,t,r):uK(e,t,r),a=t.colorStops,i=0;i<a.length;i++)n.addColorStop(a[i].offset,a[i].color);return n}function fK(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function Im(e){return parseInt(e,10)}function Rm(e,t,r){var n=["width","height"][t],a=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(e);return(e[a]||Im(s[n])||Im(e.style[n]))-(Im(s[i])||0)-(Im(s[o])||0)|0}function dK(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:xr(e)?[e]:Ne(e)?e:null}function mV(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&dK(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var a=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;a&&a!==1&&(r=nt(r,function(i){return i/a}),n/=a)}return[r,n]}var hK=new Fl(!0);function Fy(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function iP(e){return typeof e=="string"&&e!=="none"}function zy(e){var t=e.fill;return t!=null&&t!=="none"}function oP(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function sP(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function eS(e,t,r){var n=b3(t.image,t.__image,r);if(q0(n)){var a=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var i=new DOMMatrix;i.translateSelf(t.x||0,t.y||0),i.rotateSelf(0,0,(t.rotation||0)*TY),i.scaleSelf(t.scaleX||1,t.scaleY||1),a.setTransform(i)}return a}}function vK(e,t,r,n){var a,i=Fy(r),o=zy(r),s=r.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||hK,f=t.__dirty;if(!n){var d=r.fill,h=r.stroke,v=o&&!!d.colorStops,p=i&&!!h.colorStops,m=o&&!!d.image,g=i&&!!h.image,y=void 0,_=void 0,x=void 0,w=void 0,b=void 0;(v||p)&&(b=t.getBoundingRect()),v&&(y=f?Jw(e,d,b):t.__canvasFillGradient,t.__canvasFillGradient=y),p&&(_=f?Jw(e,h,b):t.__canvasStrokeGradient,t.__canvasStrokeGradient=_),m&&(x=f||!t.__canvasFillPattern?eS(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=x),g&&(w=f||!t.__canvasStrokePattern?eS(e,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=x),v?e.fillStyle=y:m&&(x?e.fillStyle=x:o=!1),p?e.strokeStyle=_:g&&(w?e.strokeStyle=w:i=!1)}var T=t.getGlobalScale();c.setScale(T[0],T[1],t.segmentIgnoreThreshold);var S,A;e.setLineDash&&r.lineDash&&(a=mV(t),S=a[0],A=a[1]);var M=!0;(u||f&kf)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),M=!1),c.reset(),t.buildPath(c,t.shape,n),c.toStatic(),t.pathUpdated()),M&&c.rebuildPath(e,l?s:1),S&&(e.setLineDash(S),e.lineDashOffset=A),n||(r.strokeFirst?(i&&sP(e,r),o&&oP(e,r)):(o&&oP(e,r),i&&sP(e,r))),S&&e.setLineDash([])}function pK(e,t,r){var n=t.__image=b3(r.image,t.__image,t,t.onload);if(!(!n||!q0(n))){var a=r.x||0,i=r.y||0,o=t.getWidth(),s=t.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var u=r.sx||0,c=r.sy||0;e.drawImage(n,u,c,r.sWidth,r.sHeight,a,i,o,s)}else if(r.sx&&r.sy){var u=r.sx,c=r.sy,f=o-u,d=s-c;e.drawImage(n,u,c,f,d,a,i,o,s)}else e.drawImage(n,a,i,o,s)}}function mK(e,t,r){var n,a=r.text;if(a!=null&&(a+=""),a){e.font=r.font||pc,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var i=void 0,o=void 0;e.setLineDash&&r.lineDash&&(n=mV(t),i=n[0],o=n[1]),i&&(e.setLineDash(i),e.lineDashOffset=o),r.strokeFirst?(Fy(r)&&e.strokeText(a,r.x,r.y),zy(r)&&e.fillText(a,r.x,r.y)):(zy(r)&&e.fillText(a,r.x,r.y),Fy(r)&&e.strokeText(a,r.x,r.y)),i&&e.setLineDash([])}}var lP=["shadowBlur","shadowOffsetX","shadowOffsetY"],uP=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function gV(e,t,r,n,a){var i=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){Xa(e,a),i=!0;var o=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(o)?ic.opacity:o}(n||t.blend!==r.blend)&&(i||(Xa(e,a),i=!0),e.globalCompositeOperation=t.blend||ic.blend);for(var s=0;s<lP.length;s++){var l=lP[s];(n||t[l]!==r[l])&&(i||(Xa(e,a),i=!0),e[l]=e.dpr*(t[l]||0))}return(n||t.shadowColor!==r.shadowColor)&&(i||(Xa(e,a),i=!0),e.shadowColor=t.shadowColor||ic.shadowColor),i}function cP(e,t,r,n,a){var i=rp(t,a.inHover),o=n?null:r&&rp(r,a.inHover)||{};if(i===o)return!1;var s=gV(e,i,o,n,a);if((n||i.fill!==o.fill)&&(s||(Xa(e,a),s=!0),iP(i.fill)&&(e.fillStyle=i.fill)),(n||i.stroke!==o.stroke)&&(s||(Xa(e,a),s=!0),iP(i.stroke)&&(e.strokeStyle=i.stroke)),(n||i.opacity!==o.opacity)&&(s||(Xa(e,a),s=!0),e.globalAlpha=i.opacity==null?1:i.opacity),t.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(Xa(e,a),s=!0),e.lineWidth=u)}for(var c=0;c<uP.length;c++){var f=uP[c],d=f[0];(n||i[d]!==o[d])&&(s||(Xa(e,a),s=!0),e[d]=i[d]||f[1])}return s}function gK(e,t,r,n,a){return gV(e,rp(t,a.inHover),r&&rp(r,a.inHover),n,a)}function yV(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function yK(e,t,r){for(var n=!1,a=0;a<e.length;a++){var i=e[a];n=n||i.isZeroArea(),yV(t,i),t.beginPath(),i.buildPath(t,i.shape),t.clip()}r.allClipped=n}function _K(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var fP=1,dP=2,hP=3,vP=4;function xK(e){var t=zy(e),r=Fy(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function Xa(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function rp(e,t){return t&&e.__hoverStyle||e.style}function g_(e,t){Xu(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Xu(e,t,r,n){var a=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=~ai,t.__isRendered=!1;return}var i=t.__clipPaths,o=r.prevElClipPaths,s=!1,l=!1;if((!o||fK(i,o))&&(o&&o.length&&(Xa(e,r),e.restore(),l=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),i&&i.length&&(Xa(e,r),e.save(),yK(i,e,r),s=!0),r.prevElClipPaths=i),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=r.prevEl;u||(l=s=!0);var c=t instanceof ur&&t.autoBatch&&xK(t.style);s||_K(a,u.transform)?(Xa(e,r),yV(e,t)):c||Xa(e,r);var f=rp(t,r.inHover);t instanceof ur?(r.lastDrawType!==fP&&(l=!0,r.lastDrawType=fP),cP(e,t,u,l,r),(!c||!r.batchFill&&!r.batchStroke)&&e.beginPath(),vK(e,t,f,c),c&&(r.batchFill=f.fill||"",r.batchStroke=f.stroke||"")):t instanceof kw?(r.lastDrawType!==hP&&(l=!0,r.lastDrawType=hP),cP(e,t,u,l,r),mK(e,t,f)):t instanceof $s?(r.lastDrawType!==dP&&(l=!0,r.lastDrawType=dP),gK(e,t,u,l,r),pK(e,t,f)):t.getTemporalDisplayables&&(r.lastDrawType!==vP&&(l=!0,r.lastDrawType=vP),bK(e,t,r)),c&&n&&Xa(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function bK(e,t,r){var n=t.getDisplayables(),a=t.getTemporalDisplayables();e.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=t.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Xu(e,l,i,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,c=a.length;u<c;u++){var l=a[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Xu(e,l,i,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var ux=new JZ,pP=new Pd(100),mP=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function tS(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),a=n.painter.type==="svg";e.dirty&&ux.delete(e);var i=ux.get(e);if(i)return i;var o=kt(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=a?1:1/r,ux.set(e,s),e.dirty=!1,s;function l(u){for(var c=[r],f=!0,d=0;d<mP.length;++d){var h=o[mP[d]];if(h!=null&&!Ne(h)&&!rt(h)&&!xr(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var v;if(f){v=c.join(",")+(a?"-svg":"");var p=pP.get(v);p&&(a?u.svgElement=p:u.image=p)}var m=xV(o.dashArrayX),g=wK(o.dashArrayY),y=_V(o.symbol),_=SK(m),x=bV(g),w=!a&&Ed.createCanvas(),b=a&&{tag:"g",attrs:{},key:"dcl",children:[]},T=A(),S;w&&(w.width=T.width*r,w.height=T.height*r,S=w.getContext("2d")),M(),f&&pP.put(v,w||b),u.image=w,u.svgElement=b,u.svgWidth=T.width,u.svgHeight=T.height;function A(){for(var C=1,D=0,P=_.length;D<P;++D)C=DD(C,_[D]);for(var I=1,D=0,P=y.length;D<P;++D)I=DD(I,y[D].length);C*=I;var k=x*_.length*y.length;return{width:Math.max(1,Math.min(C,o.maxTileWidth)),height:Math.max(1,Math.min(k,o.maxTileHeight))}}function M(){S&&(S.clearRect(0,0,w.width,w.height),o.backgroundColor&&(S.fillStyle=o.backgroundColor,S.fillRect(0,0,w.width,w.height)));for(var C=0,D=0;D<g.length;++D)C+=g[D];if(C<=0)return;for(var P=-x,I=0,k=0,V=0;P<T.height;){if(I%2===0){for(var H=k/2%y.length,O=0,L=0,F=0;O<T.width*2;){for(var X=0,D=0;D<m[V].length;++D)X+=m[V][D];if(X<=0)break;if(L%2===0){var Y=(1-o.symbolSize)*.5,G=O+m[V][L]*Y,z=P+g[I]*Y,N=m[V][L]*o.symbolSize,U=g[I]*o.symbolSize,Z=F/2%y[H].length;K(G,z,N,U,y[H][Z])}O+=m[V][L],++F,++L,L===m[V].length&&(L=0)}++V,V===m.length&&(V=0)}P+=g[I],++k,++I,I===g.length&&(I=0)}function K(q,ue,se,B,$){var Q=a?1:r,re=xc($,q*Q,ue*Q,se*Q,B*Q,o.color,o.symbolKeepAspect);if(a){var le=n.painter.renderOneToVNode(re);le&&b.children.push(le)}else g_(S,re)}}}}function _V(e){if(!e||e.length===0)return[["rect"]];if(rt(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!rt(e[r])){t=!1;break}if(t)return _V([e]);for(var n=[],r=0;r<e.length;++r)rt(e[r])?n.push([e[r]]):n.push(e[r]);return n}function xV(e){if(!e||e.length===0)return[[0,0]];if(xr(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!xr(e[n])){r=!1;break}if(r)return xV([e]);for(var a=[],n=0;n<e.length;++n)if(xr(e[n])){var t=Math.ceil(e[n]);a.push([t,t])}else{var t=nt(e[n],function(s){return Math.ceil(s)});t.length%2===1?a.push(t.concat(t)):a.push(t)}return a}function wK(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(xr(e)){var t=Math.ceil(e);return[t,t]}var r=nt(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function SK(e){return nt(e,function(t){return bV(t)})}function bV(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function TK(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=tS(s,t)}});var a=n.getVisual("decal");if(a){var i=n.getVisual("style");i.decal=tS(a,t)}}})}var CK=new as;const uo=CK;var wV={};function AK(e,t){wV[e]=t}function SV(e){return wV[e]}var EK=1,DK=800,MK=900,PK=1e3,LK=2e3,IK=5e3,TV=1e3,RK=1100,JC=2e3,CV=3e3,OK=4e3,y_=4500,kK=4600,NK=5e3,BK=6e3,AV=7e3,VK={PROCESSOR:{FILTER:PK,SERIES_FILTER:DK,STATISTIC:IK},VISUAL:{LAYOUT:TV,PROGRESSIVE_LAYOUT:RK,GLOBAL:JC,CHART:CV,POST_CHART_LAYOUT:kK,COMPONENT:OK,BRUSH:NK,CHART_ITEM:y_,ARIA:BK,DECAL:AV}},ra="__flagInMainProcess",Ua="__pendingUpdate",cx="__needsUpdateStatus",gP=/^[a-zA-Z0-9_]+$/,fx="__connectUpdateStatus",yP=0,FK=1,zK=2;function EV(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return MV(this,e,t)}}function DV(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return MV(this,e,t)}}function MV(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),as.prototype[t].apply(e,r)}var PV=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(as),LV=PV.prototype;LV.on=DV("on");LV.off=DV("off");var lf,dx,Om,ul,hx,vx,px,mh,gh,_P,xP,mx,bP,km,wP,IV,mi,SP,RV=function(e){ut(t,e);function t(r,n,a){var i=e.call(this,new GZ)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},rt(n)&&(n=OV[n]),i._dom=r;var o="canvas",s="auto",l=!1,u=i._zr=Pw(r,{renderer:a.renderer||o,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:Ft(a.useDirtyRect,l),useCoarsePointer:Ft(a.useCoarsePointer,s),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=m_(Or(u.flush,u),17),n=Kt(n),n&&GB(n,!0),i._theme=n,i._locale=jj(a.locale||_B),i._coordSysMgr=new d_;var c=i._api=wP(i);function f(d,h){return d.__prio-h.__prio}return Rg(Hy,f),Rg(rS,f),i._scheduler=new hV(i,c,rS,Hy),i._messageCenter=new PV,i._initEvents(),i.resize=Or(i.resize,i),u.animation.on("frame",i._onframe,i),_P(u,i),xP(u,i),my(i),i}return t.prototype._onframe=function(){if(!this._disposed){SP(this);var r=this._scheduler;if(this[Ua]){var n=this[Ua].silent;this[ra]=!0;try{lf(this),ul.update.call(this,null,this[Ua].updateParams)}catch(l){throw this[ra]=!1,this[Ua]=null,l}this._zr.flush(),this[ra]=!1,this[Ua]=null,mh.call(this,n),gh.call(this,n)}else if(r.unfinished){var a=EK,i=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(i),r.performDataProcessorTasks(i),vx(this,i),r.performVisualTasks(i),km(this,this._model,o,"remain",{}),a-=+new Date-s}while(a>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,a){if(!this[ra]){if(this._disposed){this.id;return}var i,o,s;if(lt(n)&&(a=n.lazyUpdate,i=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[ra]=!0,!this._model||n){var l=new Eq(this._api),u=this._theme,c=this._model=new zB;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(r,{replaceMerge:o},nS);var f={seriesTransition:s,optionChanged:!0};if(a)this[Ua]={silent:i,updateParams:f},this[ra]=!1,this.getZr().wakeUp();else{try{lf(this),ul.update.call(this,null,f)}catch(d){throw this[Ua]=null,this[ra]=!1,d}this._ssr||this._zr.flush(),this[Ua]=null,this[ra]=!1,mh.call(this,i),gh.call(this,i)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Nt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){if(Nt.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return j(n,function(a){a.stopAnimation(null,!0)}),r.painter.toDataURL()}},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,a=this._model,i=[],o=this;j(n,function(l){a.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(i.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return j(i,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",a=this.group,i=Math.min,o=Math.max,s=1/0;if(TP[a]){var l=s,u=s,c=-s,f=-s,d=[],h=r&&r.pixelRatio||this.getDevicePixelRatio();j(Tv,function(_,x){if(_.group===a){var w=n?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(Kt(r)),b=_.getDom().getBoundingClientRect();l=i(b.left,l),u=i(b.top,u),c=o(b.right,c),f=o(b.bottom,f),d.push({dom:w,left:b.left,top:b.top})}}),l*=h,u*=h,c*=h,f*=h;var v=c-l,p=f-u,m=Ed.createCanvas(),g=Pw(m,{renderer:n?"svg":"canvas"});if(g.resize({width:v,height:p}),n){var y="";return j(d,function(_){var x=_.left-l,w=_.top-u;y+='<g transform="translate('+x+","+w+')">'+_.dom+"</g>"}),g.painter.getSvgRoot().innerHTML=y,r.connectedBackgroundColor&&g.painter.setBackgroundColor(r.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}else return r.connectedBackgroundColor&&g.add(new gn({shape:{x:0,y:0,width:v,height:p},style:{fill:r.connectedBackgroundColor}})),j(d,function(_){var x=new $s({style:{x:_.left*h-l,y:_.top*h-u,image:_.dom}});g.add(x)}),g.refreshImmediately(),m.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n){return hx(this,"convertToPixel",r,n)},t.prototype.convertFromPixel=function(r,n){return hx(this,"convertFromPixel",r,n)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var a=this._model,i,o=N1(a,r);return j(o,function(s,l){l.indexOf("Models")>=0&&j(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)i=i||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(i=i||f.containPoint(n,u))}},this)},this),!!i},t.prototype.getVisual=function(r,n){var a=this._model,i=N1(a,r,{defaultMainType:"series"}),o=i.seriesModel,s=o.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return l!=null?YZ(s,l,n):XZ(s,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;j(UK,function(n){var a=function(i){var o=r.getModel(),s=i.target,l,u=n==="globalout";if(u?l={}:s&&Zh(s,function(v){var p=Wt(v);if(p&&p.dataIndex!=null){var m=p.dataModel||o.getSeriesByIndex(p.seriesIndex);return l=m&&m.getDataParams(p.dataIndex,p.dataType,s)||{},!0}else if(p.eventData)return l=De({},p.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var d=c&&f!=null&&o.getComponent(c,f),h=d&&r[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];l.event=i,l.type=n,r._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:d,view:h},r.trigger(n,l)}};a.zrEventfulCallAtLast=!0,r._zr.on(n,a,r)}),j(Sv,function(n,a){r._messageCenter.on(a,function(i){this.trigger(a,i)},r)}),j(["selectchanged"],function(n){r._messageCenter.on(n,function(a){this.trigger(n,a)},r)}),qZ(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&g3(this.getDom(),t2,"");var n=this,a=n._api,i=n._model;j(n._componentsViews,function(o){o.dispose(i,a)}),j(n._chartsViews,function(o){o.dispose(i,a)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Tv[n.id]},t.prototype.resize=function(r){if(!this[ra]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var a=n.resetOption("media"),i=r&&r.silent;this[Ua]&&(i==null&&(i=this[Ua].silent),a=!0,this[Ua]=null),this[ra]=!0;try{a&&lf(this),ul.update.call(this,{type:"resize",animation:De({duration:0},r&&r.animation)})}catch(o){throw this[ra]=!1,o}this[ra]=!1,mh.call(this,i),gh.call(this,i)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(lt(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!aS[r]){var a=aS[r](this._api,n),i=this._zr;this._loadingFX=a,i.add(a)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=De({},r);return n.type=Sv[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(lt(n)||(n={silent:!!n}),!!Uy[r.type]&&this._model){if(this[ra]){this._pendingActions.push(r);return}var a=n.silent;px.call(this,r,a);var i=n.flush;i?this._zr.flush():i!==!1&&Nt.browser.weChat&&this._throttledZrFlush(),mh.call(this,a),gh.call(this,a)}},t.prototype.updateLabelLayout=function(){uo.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(n);i.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){lf=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),dx(f,!0),dx(f,!1),d.plan()},dx=function(f,d){for(var h=f._model,v=f._scheduler,p=d?f._componentsViews:f._chartsViews,m=d?f._componentsMap:f._chartsMap,g=f._zr,y=f._api,_=0;_<p.length;_++)p[_].__alive=!1;d?h.eachComponent(function(b,T){b!=="series"&&x(T)}):h.eachSeries(x);function x(b){var T=b.__requireNewView;b.__requireNewView=!1;var S="_ec_"+b.id+"_"+b.type,A=!T&&m[S];if(!A){var M=Xo(b.type),C=d?va.getClass(M.main,M.sub):yn.getClass(M.sub);A=new C,A.init(h,y),m[S]=A,p.push(A),g.add(A.group)}b.__viewId=A.__id=S,A.__alive=!0,A.__model=b,A.group.__ecComponentInfo={mainType:b.mainType,index:b.componentIndex},!d&&v.prepareView(A,b,h,y)}for(var _=0;_<p.length;){var w=p[_];w.__alive?_++:(!d&&w.renderTask.dispose(),g.remove(w.group),w.dispose(h,y),p.splice(_,1),m[w.__id]===w&&delete m[w.__id],w.__id=w.group.__ecComponentInfo=null)}},Om=function(f,d,h,v,p){var m=f._model;if(m.setUpdatePayload(h),!v){j([].concat(f._componentsViews).concat(f._chartsViews),w);return}var g={};g[v+"Id"]=h[v+"Id"],g[v+"Index"]=h[v+"Index"],g[v+"Name"]=h[v+"Name"];var y={mainType:v,query:g};p&&(y.subType=p);var _=h.excludeSeriesId,x;_!=null&&(x=xt(),j($n(_),function(b){var T=ja(b,null);T!=null&&x.set(T,!0)})),m&&m.eachComponent(y,function(b){var T=x&&x.get(b.id)!=null;if(!T)if(nM(h))if(b instanceof kn)h.type===oc&&!h.notBlur&&!b.get(["emphasis","disabled"])&&A9(b,h,f._api);else{var S=DC(b.mainType,b.componentIndex,h.name,f._api),A=S.focusSelf,M=S.dispatchers;h.type===oc&&A&&!h.notBlur&&Bw(b.mainType,b.componentIndex,f._api),M&&j(M,function(C){h.type===oc?Ey(C):Dy(C)})}else zw(h)&&b instanceof kn&&(M9(b,h,f._api),tM(b),mi(f))},f),m&&m.eachComponent(y,function(b){var T=x&&x.get(b.id)!=null;T||w(f[v==="series"?"_chartsMap":"_componentsMap"][b.__viewId])},f);function w(b){b&&b.__alive&&b[d]&&b[d](b.__model,m,f._api,h)}},ul={prepareAndUpdate:function(f){lf(this),ul.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,v=this._api,p=this._zr,m=this._coordSysMgr,g=this._scheduler;if(h){h.setUpdatePayload(f),g.restoreData(h,f),g.performSeriesTasks(h),m.create(h,v),g.performDataProcessorTasks(h,f),vx(this,h),m.update(h,v),r(h),g.performVisualTasks(h,f),mx(this,h,v,f,d);var y=h.get("backgroundColor")||"transparent",_=h.get("darkMode");p.setBackgroundColor(y),_!=null&&_!=="auto"&&p.setDarkMode(_),uo.trigger("afterupdate",h,v)}},updateTransform:function(f){var d=this,h=this._model,v=this._api;if(h){h.setUpdatePayload(f);var p=[];h.eachComponent(function(g,y){if(g!=="series"){var _=d.getViewOfComponentModel(y);if(_&&_.__alive)if(_.updateTransform){var x=_.updateTransform(y,h,v,f);x&&x.update&&p.push(_)}else p.push(_)}});var m=xt();h.eachSeries(function(g){var y=d._chartsMap[g.__viewId];if(y.updateTransform){var _=y.updateTransform(g,h,v,f);_&&_.update&&m.set(g.uid,1)}else m.set(g.uid,1)}),r(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:m}),km(this,h,v,f,{},m),uo.trigger("afterupdate",h,v)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),yn.markUpdateMethod(f,"updateView"),r(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),mx(this,d,this._api,f,{}),uo.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(v){v.getData().clearAllVisual()}),yn.markUpdateMethod(f,"updateVisual"),r(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(v,p){if(v!=="series"){var m=d.getViewOfComponentModel(p);m&&m.__alive&&m.updateVisual(p,h,d._api,f)}}),h.eachSeries(function(v){var p=d._chartsMap[v.__viewId];p.updateVisual(v,h,d._api,f)}),uo.trigger("afterupdate",h,this._api))},updateLayout:function(f){ul.update.call(this,f)}},hx=function(f,d,h,v){if(f._disposed){f.id;return}for(var p=f._model,m=f._coordSysMgr.getCoordinateSystems(),g,y=N1(p,h),_=0;_<m.length;_++){var x=m[_];if(x[d]&&(g=x[d](p,y,v))!=null)return g}},vx=function(f,d){var h=f._chartsMap,v=f._scheduler;d.eachSeries(function(p){v.updateStreamModes(p,h[p.__viewId])})},px=function(f,d){var h=this,v=this.getModel(),p=f.type,m=f.escapeConnect,g=Uy[p],y=g.actionInfo,_=(y.update||"update").split(":"),x=_.pop(),w=_[0]!=null&&Xo(_[0]);this[ra]=!0;var b=[f],T=!1;f.batch&&(T=!0,b=nt(f.batch,function(I){return I=kt(De({},I),f),I.batch=null,I}));var S=[],A,M=zw(f),C=nM(f);if(C&&U3(this._api),j(b,function(I){if(A=g.action(I,h._model,h._api),A=A||De({},I),A.type=y.event||A.type,S.push(A),C){var k=SC(f),V=k.queryOptionMap,H=k.mainTypeSpecified,O=H?V.keys()[0]:"series";Om(h,x,I,O),mi(h)}else M?(Om(h,x,I,"series"),mi(h)):w&&Om(h,x,I,w.main,w.sub)}),x!=="none"&&!C&&!M&&!w)try{this[Ua]?(lf(this),ul.update.call(this,f),this[Ua]=null):ul[x].call(this,f)}catch(I){throw this[ra]=!1,I}if(T?A={type:y.event||p,escapeConnect:m,batch:S}:A=S[0],this[ra]=!1,!d){var D=this._messageCenter;if(D.trigger(A.type,A),M){var P={type:"selectchanged",escapeConnect:m,selected:P9(v),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};D.trigger(P.type,P)}}},mh=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();px.call(this,h,f)}},gh=function(f){!f&&this.trigger("updated")},_P=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[Ua]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},xP=function(f,d){f.on("mouseover",function(h){var v=h.target,p=Zh(v,Fw);p&&(E9(p,h,d._api),mi(d))}).on("mouseout",function(h){var v=h.target,p=Zh(v,Fw);p&&(D9(p,h,d._api),mi(d))}).on("click",function(h){var v=h.target,p=Zh(v,function(y){return Wt(y).dataIndex!=null},!0);if(p){var m=p.selected?"unselect":"select",g=Wt(p);d._api.dispatchAction({type:m,dataType:g.dataType,dataIndexInside:g.dataIndex,seriesIndex:g.seriesIndex,isFromClick:!0})}})};function r(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function n(f){var d=[],h=[],v=!1;if(f.eachComponent(function(y,_){var x=_.get("zlevel")||0,w=_.get("z")||0,b=_.getZLevelKey();v=v||!!b,(y==="series"?h:d).push({zlevel:x,z:w,idx:_.componentIndex,type:y,key:b})}),v){var p=d.concat(h),m,g;Rg(p,function(y,_){return y.zlevel===_.zlevel?y.z-_.z:y.zlevel-_.zlevel}),j(p,function(y){var _=f.getComponent(y.type,y.idx),x=y.zlevel,w=y.key;m!=null&&(x=Math.max(m,x)),w?(x===m&&w!==g&&x++,g=w):g&&(x===m&&x++,g=""),m=x,_.setZLevel(x)})}}mx=function(f,d,h,v,p){n(d),bP(f,d,h,v,p),j(f._chartsViews,function(m){m.__alive=!1}),km(f,d,h,v,p),j(f._chartsViews,function(m){m.__alive||m.remove(d,h)})},bP=function(f,d,h,v,p,m){j(m||f._componentsViews,function(g){var y=g.__model;u(y,g),g.render(y,d,h,v),s(y,g),c(y,g)})},km=function(f,d,h,v,p,m){var g=f._scheduler;p=De(p||{},{updatedSeries:d.getSeries()}),uo.trigger("series:beforeupdate",d,h,p);var y=!1;d.eachSeries(function(_){var x=f._chartsMap[_.__viewId];x.__alive=!0;var w=x.renderTask;g.updatePayload(w,v),u(_,x),m&&m.get(_.uid)&&w.dirty(),w.perform(g.getPerformArgs(w))&&(y=!0),x.group.silent=!!_.get("silent"),o(_,x),tM(_)}),g.unfinished=y||g.unfinished,uo.trigger("series:layoutlabels",d,h,p),uo.trigger("series:transition",d,h,p),d.eachSeries(function(_){var x=f._chartsMap[_.__viewId];s(_,x),c(_,x)}),i(f,d),uo.trigger("series:afterupdate",d,h,p)},mi=function(f){f[cx]=!0,f.getZr().wakeUp()},SP=function(f){f[cx]&&(f.getZr().storage.traverse(function(d){jf(d)||a(d)}),f[cx]=!1)};function a(f){for(var d=[],h=f.currentStates,v=0;v<h.length;v++){var p=h[v];p==="emphasis"||p==="blur"||p==="select"||d.push(p)}f.selected&&f.states.select&&d.push("select"),f.hoverState===Q0&&f.states.emphasis?d.push("emphasis"):f.hoverState===K0&&f.states.blur&&d.push("blur"),f.useStates(d)}function i(f,d){var h=f._zr,v=h.storage,p=0;v.traverse(function(m){m.isGroup||p++}),p>d.get("hoverLayerThreshold")&&!Nt.node&&!Nt.worker&&d.eachSeries(function(m){if(!m.preventUsingHoverLayer){var g=f._chartsMap[m.__viewId];g.__alive&&g.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function o(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(v){v.isGroup||(v.style.blend=h)})}function s(f,d){if(!f.preventAutoZ){var h=f.get("z")||0,v=f.get("zlevel")||0;d.eachRendered(function(p){return l(p,h,v,-1/0),!0})}}function l(f,d,h,v){var p=f.getTextContent(),m=f.getTextGuideLine(),g=f.isGroup;if(g)for(var y=f.childrenRef(),_=0;_<y.length;_++)v=Math.max(l(y[_],d,h,v),v);else f.z=d,f.zlevel=h,v=Math.max(f.z2,v);if(p&&(p.z=d,p.zlevel=h,isFinite(v)&&(p.z2=v+2)),m){var x=f.textGuideLineConfig;m.z=d,m.zlevel=h,isFinite(v)&&(m.z2=v+(x&&x.showAbove?1:-1))}return v}function u(f,d){d.eachRendered(function(h){if(!jf(h)){var v=h.getTextContent(),p=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),p=h.get("duration"),m=p>0?{duration:p,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(g){if(g.states&&g.states.emphasis){if(jf(g))return;if(g instanceof ur&&k9(g),g.__dirty){var y=g.prevStates;y&&g.useStates(y)}if(v){g.stateTransition=m;var _=g.getTextContent(),x=g.getTextGuideLine();_&&(_.stateTransition=m),x&&(x.stateTransition=m)}g.__dirty&&a(g)}})}wP=function(f){return new(function(d){ut(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(v){for(;v;){var p=v.__ecComponentInfo;if(p!=null)return f._model.getComponent(p.mainType,p.index);v=v.parent}},h.prototype.enterEmphasis=function(v,p){Ey(v,p),mi(f)},h.prototype.leaveEmphasis=function(v,p){Dy(v,p),mi(f)},h.prototype.enterBlur=function(v){C9(v),mi(f)},h.prototype.leaveBlur=function(v){B3(v),mi(f)},h.prototype.enterSelect=function(v){V3(v),mi(f)},h.prototype.leaveSelect=function(v){F3(v),mi(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},h.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},h}(UB))(f)},IV=function(f){function d(h,v){for(var p=0;p<h.length;p++){var m=h[p];m[fx]=v}}j(Sv,function(h,v){f._messageCenter.on(v,function(p){if(TP[f.group]&&f[fx]!==yP){if(p&&p.escapeConnect)return;var m=f.makeActionFromEvent(p),g=[];j(Tv,function(y){y!==f&&y.group===f.group&&g.push(y)}),d(g,yP),j(g,function(y){y[fx]!==FK&&y.dispatchAction(m)}),d(g,zK)}})})}}(),t}(as),e2=RV.prototype;e2.on=EV("on");e2.off=EV("off");e2.one=function(e,t,r){var n=this;function a(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t&&t.apply&&t.apply(this,i),n.off(e,a)}this.on.call(this,e,a,r)};var UK=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Uy={},Sv={},rS=[],nS=[],Hy=[],OV={},aS={},Tv={},TP={},HK=+new Date-0,t2="_echarts_instance_";function GK(e,t,r){var n=!(r&&r.ssr);if(n){var a=$K(e);if(a)return a}var i=new RV(e,t,r);return i.id="ec_"+HK++,Tv[i.id]=i,n&&g3(e,t2,i.id),IV(i),uo.trigger("afterinit",i),i}function $K(e){return Tv[dX(e,t2)]}function kV(e,t){OV[e]=t}function r2(e){$t(nS,e)<0&&nS.push(e)}function NV(e,t){a2(rS,e,t,LK)}function BV(e){n2("afterinit",e)}function VV(e){n2("afterupdate",e)}function n2(e,t){uo.on(e,t)}function Od(e,t,r){bt(t)&&(r=t,t="");var n=lt(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,!Sv[t]&&(es(gP.test(n)&&gP.test(t)),Uy[n]||(Uy[n]={action:r,actionInfo:e}),Sv[t]=n)}function WK(e,t){d_.register(e,t)}function FV(e){var t=d_.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function YK(e,t){a2(Hy,e,t,TV,"layout")}function kc(e,t){a2(Hy,e,t,CV,"visual")}var CP=[];function a2(e,t,r,n,a){if((bt(t)||lt(t))&&(r=t,t=n),!($t(CP,r)>=0)){CP.push(r);var i=hV.wrapStageHandler(r,a);i.__prio=t,i.__raw=r,e.push(i)}}function zV(e,t){aS[e]=t}function XK(e,t,r){var n=SV("registerMap");n&&n(e,t,r)}function iS(e){var t=SV("getMap");return t&&t(e)}var jK=Jq;kc(JC,EZ);kc(y_,DZ);kc(y_,MZ);kc(JC,$Z);kc(y_,WZ);kc(AV,TK);r2(GB);NV(MK,kq);zV("default",PZ);Od({type:oc,event:oc,update:oc},Za);Od({type:Fg,event:Fg,update:Fg},Za);Od({type:gv,event:gv,update:gv},Za);Od({type:zg,event:zg,update:zg},Za);Od({type:yv,event:yv,update:yv},Za);kV("light",UZ);kV("dark",HZ);function yh(e){return e==null?0:e.length||1}function AP(e){return e}var qK=function(){function e(t,r,n,a,i,o){this._old=t,this._new=r,this._oldKeyGetter=n||AP,this._newKeyGetter=a||AP,this.context=i,this._diffModeMultiple=o==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},a=new Array(t.length),i=new Array(r.length);this._initIndexMap(t,null,a,"_oldKeyGetter"),this._initIndexMap(r,n,i,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=a[o],l=n[s],u=yh(l);if(u>1){var c=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(c,o)}else u===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(i,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},a={},i=[],o=[];this._initIndexMap(t,n,i,"_oldKeyGetter"),this._initIndexMap(r,a,o,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=i[s],u=n[l],c=a[l],f=yh(u),d=yh(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),a[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),a[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),a[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),a[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,a)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var a=t[n],i=r[a],o=yh(i);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(i[s]);else o===1&&this._add&&this._add(i);r[a]=null}},e.prototype._initIndexMap=function(t,r,n,a){for(var i=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[a](t[o],o);if(i||(n[o]=s),!!r){var l=r[s],u=yh(l);u===0?(r[s]=o,i&&n.push(s)):u===1?r[s]=[l,o]:l.push(o)}}},e}();const ZK=qK;var KK=function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function QK(e,t){var r={},n=r.encode={},a=xt(),i=[],o=[],s={};j(e.dimensions,function(d){var h=e.getDimensionInfo(d),v=h.coordDim;if(v){var p=h.coordDimIndex;gx(n,v)[p]=d,h.isExtraCoord||(a.set(v,1),eQ(h.type)&&(i[0]=d),gx(s,v)[p]=e.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(d)}OB.each(function(m,g){var y=gx(n,g),_=h.otherDims[g];_!=null&&_!==!1&&(y[_]=h.name)})});var l=[],u={};a.each(function(d,h){var v=n[h];u[h]=v[0],l=l.concat(v)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=nt(l,function(d){return e.getDimensionInfo(d).storeDimIndex}),r.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(i=c.slice());var f=n.tooltip;return f&&f.length?o=f.slice():o.length||(o=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=o,r.userOutput=new KK(s,t),r}function gx(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function JK(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function eQ(e){return!(e==="ordinal"||e==="time")}var tQ=function(){function e(t){this.otherDims={},t!=null&&De(this,t)}return e}();const $g=tQ;var rQ=Pr(),nQ={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},UV=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=$V(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return Ft(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=WB(this.source),n=!WV(t),a="",i=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=r?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=r?d.name:null,u=d.type)}i.push({property:l,type:u,ordinalMeta:c}),r&&l!=null&&(!f||!f.isCalculationCoord)&&(a+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=nQ[u]||"f",c&&(a+=c.uid),a+="$"}var h=this.source,v=[h.seriesLayoutBy,h.startIndex,a].join("$$");return{dimensions:i,hash:v}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var a=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===r)i.isCalculationCoord||(a=i.name),n++;else{var o=this.getSourceDimension(r);o&&(a=o.name)}t.push(a)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function HV(e){return e instanceof UV}function GV(e){for(var t=xt(),r=0;r<(e||[]).length;r++){var n=e[r],a=lt(n)?n.name:n;a!=null&&t.get(a)==null&&t.set(a,r)}return t}function $V(e){var t=rQ(e);return t.dimNameMap||(t.dimNameMap=GV(e.dimensionsDefine))}function WV(e){return e>30}var _h=lt,cl=nt,aQ=typeof Int32Array>"u"?Array:Int32Array,iQ="e\0\0",EP=-1,oQ=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],sQ=["_approximateExtent"],DP,Nm,xh,bh,yx,Bm,_x,lQ=function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,a=!1;HV(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(a=!0,n=t),n=n||["x","y"];for(var i={},o=[],s={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],d=rt(f)?new $g({name:f}):f instanceof $g?f:new $g(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var v=d.otherDims=d.otherDims||{};o.push(h),i[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]),v.itemName===0&&(this._nameDimIdx=c),v.itemId===0&&(this._idDimIdx=c),a&&(d.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var p=this._dimIdxToName=xt();j(o,function(m){p.set(i[m].storeDimIndex,m)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var a=this._schema.getSourceDimension(r);if(a)return a.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(xr(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var a=n.encode[t];return a?a[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var a=this,i;if(t instanceof Yw&&(i=t),!i){var o=this.dimensions,s=YC(t)||Ba(t)?new YB(t,o.length):t;i=new Yw;var l=cl(o,function(u){return{type:a._dimInfos[u].type,property:u}});i.initData(s,l,n)}this._store=i,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=QK(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r.length),a=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=a;s<i;s++){var l=s-a;this._nameList[s]=r[l],o&&_x(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var a=this._dimInfos[r[n]];a.ordinalMeta&&t.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Nl&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,a=n.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList,s=a.getSource().sourceFormat,l=s===Zi;if(l&&!a.pure)for(var u=[],c=t;c<r;c++){var f=a.getItem(c,u);if(!this.hasItemOption&&rX(f)&&(this.hasItemOption=!0),f){var d=f.name;i[c]==null&&d!=null&&(i[c]=ja(d,null));var h=f.id;o[c]==null&&h!=null&&(o[c]=ja(h,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<r;c++)_x(this,c);DP(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){_h(t)?De(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=xh(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),a=this._store.getOrdinalMeta(t);return a?a.categories[n]:n},e.prototype.getId=function(t){return Nm(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,a=this._dimInfos[t];if(a)return n.get(a.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,a=this._dimInfos[t];if(a)return n.getByRawIndex(a.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,a=this._store;return Ne(t)?a.getValues(cl(t,function(i){return n._getStoreDimIndex(i)}),r):a.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,a=r.length;n<a;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],a=n[r];return a==null||isNaN(a)?EP:a},e.prototype.indicesOfNearest=function(t,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,n)},e.prototype.each=function(t,r,n){bt(t)&&(n=r,r=t,t=[]);var a=n||this,i=cl(bh(t),this._getStoreDimIndex,this);this._store.each(i,a?Or(r,a):r)},e.prototype.filterSelf=function(t,r,n){bt(t)&&(n=r,r=t,t=[]);var a=n||this,i=cl(bh(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?Or(r,a):r),this},e.prototype.selectRange=function(t){var r=this,n={},a=ir(t);return j(a,function(i){var o=r._getStoreDimIndex(i);n[o]=t[i]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){bt(t)&&(n=r,r=t,t=[]),n=n||this;var a=[];return this.each(t,function(){a.push(r&&r.apply(this,arguments))},n),a},e.prototype.map=function(t,r,n,a){var i=n||a||this,o=cl(bh(t),this._getStoreDimIndex,this),s=Bm(this);return s._store=this._store.map(o,i?Or(r,i):r),s},e.prototype.modify=function(t,r,n,a){var i=n||a||this,o=cl(bh(t),this._getStoreDimIndex,this);this._store.modify(o,i?Or(r,i):r)},e.prototype.downSample=function(t,r,n,a){var i=Bm(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),r,n,a),i},e.prototype.lttbDownSample=function(t,r){var n=Bm(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new on(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new ZK(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Nm(t,n)},function(n){return Nm(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},_h(t)?De(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],a=n&&n[r];return a??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,a=n[t];a||(a=n[t]={});var i=a[r];return i==null&&(i=this.getVisual(r),Ne(i)?i=i.slice():_h(i)&&(i=De({},i)),a[r]=i),i},e.prototype.setItemVisual=function(t,r,n){var a=this._itemVisuals[t]||{};this._itemVisuals[t]=a,_h(r)?De(a,r):a[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){_h(t)?De(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?De(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;p9(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){j(this._graphicEls,function(n,a){n&&t&&t.call(r,n,a)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:cl(this.dimensions,this._getDimInfo,this),this.hostModel)),yx(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];bt(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var a=n.apply(this,arguments);return r.apply(this,[a].concat(vC(arguments)))})},e.internalField=function(){DP=function(t){var r=t._invertedIndicesMap;j(r,function(n,a){var i=t._dimInfos[a],o=i.ordinalMeta,s=t._store;if(o){n=r[a]=new aQ(o.categories.length);for(var l=0;l<n.length;l++)n[l]=EP;for(var l=0;l<s.count();l++)n[s.get(i.storeDimIndex,l)]=l}})},xh=function(t,r,n){return ja(t._getCategory(r,n),null)},Nm=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=xh(t,t._idDimIdx,r)),n==null&&(n=iQ+r),n},bh=function(t){return Ne(t)||(t=t!=null?[t]:[]),t},Bm=function(t){var r=new e(t._schema?t._schema:cl(t.dimensions,t._getDimInfo,t),t.hostModel);return yx(r,t),r},yx=function(t,r){j(oQ.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,j(sQ,function(n){t[n]=Kt(r[n])}),t._calculationInfo=De({},r._calculationInfo)},_x=function(t,r){var n=t._nameList,a=t._idList,i=t._nameDimIdx,o=t._idDimIdx,s=n[r],l=a[r];if(s==null&&i!=null&&(n[r]=s=xh(t,i,r)),l==null&&o!=null&&(a[r]=l=xh(t,o,r)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),a[r]=l}}}(),e}();const Xi=lQ;function Vp(e,t){return i2(e,t).dimensions}function i2(e,t){YC(e)||(e=XC(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],a=xt(),i=[],o=cQ(e,r,n,t.dimensionsCount),s=t.canOmitUnusedDimensions&&WV(o),l=n===e.dimensionsDefine,u=l?$V(e):GV(n),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,o));for(var f=xt(c),d=new KB(o),h=0;h<d.length;h++)d[h]=-1;function v(A){var M=d[A];if(M<0){var C=n[A],D=lt(C)?C:{name:C},P=new $g,I=D.name;I!=null&&u.get(I)!=null&&(P.name=P.displayName=I),D.type!=null&&(P.type=D.type),D.displayName!=null&&(P.displayName=D.displayName);var k=i.length;return d[A]=k,P.storeDimIndex=A,i.push(P),P}return i[M]}if(!s)for(var h=0;h<o;h++)v(h);f.each(function(A,M){var C=$n(A).slice();if(C.length===1&&!rt(C[0])&&C[0]<0){f.set(M,!1);return}var D=f.set(M,[]);j(C,function(P,I){var k=rt(P)?u.get(P):P;k!=null&&k<o&&(D[I]=k,m(v(k),M,I))})});var p=0;j(r,function(A){var M,C,D,P;if(rt(A))M=A,P={};else{P=A,M=P.name;var I=P.ordinalMeta;P.ordinalMeta=null,P=De({},P),P.ordinalMeta=I,C=P.dimsDef,D=P.otherDims,P.name=P.coordDim=P.coordDimIndex=P.dimsDef=P.otherDims=null}var k=f.get(M);if(k!==!1){if(k=$n(k),!k.length)for(var V=0;V<(C&&C.length||1);V++){for(;p<o&&v(p).coordDim!=null;)p++;p<o&&k.push(p++)}j(k,function(H,O){var L=v(H);if(l&&P.type!=null&&(L.type=P.type),m(kt(L,P),M,O),L.name==null&&C){var F=C[O];!lt(F)&&(F={name:F}),L.name=L.displayName=F.name,L.defaultTooltip=F.defaultTooltip}D&&kt(L.otherDims,D)})}});function m(A,M,C){OB.get(M)!=null?A.otherDims[M]=C:(A.coordDim=M,A.coordDimIndex=C,a.set(M,!0))}var g=t.generateCoord,y=t.generateCoordCount,_=y!=null;y=g?y||1:0;var x=g||"value";function w(A){A.name==null&&(A.name=A.coordDim)}if(s)j(i,function(A){w(A)}),i.sort(function(A,M){return A.storeDimIndex-M.storeDimIndex});else for(var b=0;b<o;b++){var T=v(b),S=T.coordDim;S==null&&(T.coordDim=fQ(x,a,_),T.coordDimIndex=0,(!g||y<=0)&&(T.isExtraCoord=!0),y--),w(T),T.type==null&&(BB(e,b)===Zn.Must||T.isExtraCoord&&(T.otherDims.itemName!=null||T.otherDims.seriesName!=null))&&(T.type="ordinal")}return uQ(i),new UV({source:e,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function uQ(e){for(var t=xt(),r=0;r<e.length;r++){var n=e[r],a=n.name,i=t.get(a)||0;i>0&&(n.name=a+(i-1)),i++,t.set(a,i)}}function cQ(e,t,r,n){var a=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return j(t,function(i){var o;lt(i)&&(o=i.dimsDef)&&(a=Math.max(a,o.length))}),a}function fQ(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var dQ=function(){function e(t){this.coordSysDims=[],this.axisMap=xt(),this.categoryAxisMap=xt(),this.coordSysName=t}return e}();function hQ(e){var t=e.get("coordinateSystem"),r=new dQ(t),n=vQ[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var vQ={cartesian2d:function(e,t,r,n){var a=e.getReferringComponents("xAxis",po).models[0],i=e.getReferringComponents("yAxis",po).models[0];t.coordSysDims=["x","y"],r.set("x",a),r.set("y",i),uf(a)&&(n.set("x",a),t.firstCategoryDimIndex=0),uf(i)&&(n.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var a=e.getReferringComponents("singleAxis",po).models[0];t.coordSysDims=["single"],r.set("single",a),uf(a)&&(n.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var a=e.getReferringComponents("polar",po).models[0],i=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",i),r.set("angle",o),uf(i)&&(n.set("radius",i),t.firstCategoryDimIndex=0),uf(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var a=e.ecModel,i=a.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();j(i.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),c=o[l];r.set(c,u),uf(u)&&(n.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function uf(e){return e.get("type")==="category"}function YV(e,t,r){r=r||{};var n=r.byIndex,a=r.stackedCoordDimension,i,o,s;pQ(t)?i=t:(o=t.schema,i=o.dimensions,s=t.store);var l=!!(e&&e.get("stack")),u,c,f,d;if(j(i,function(y,_){rt(y)&&(i[_]=y={name:y}),l&&!y.isExtraCoord&&(!n&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!a||a===y.coordDim)&&(c=y))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,v=c.type,p=0;j(i,function(y){y.coordDim===h&&p++});var m={name:f,coordDim:h,coordDimIndex:p,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},g={name:d,coordDim:d,coordDimIndex:p+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(d,v),g.storeDimIndex=s.ensureCalculationDimension(f,v)),o.appendCalculationDimension(m),o.appendCalculationDimension(g)):(i.push(m),i.push(g))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:d,stackResultDimension:f}}function pQ(e){return!HV(e.schema)}function bc(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function XV(e,t){return bc(e,t)?e.getCalculationInfo("stackResultDimension"):t}function mQ(e,t){var r=e.get("coordinateSystem"),n=d_.get(r),a;return t&&t.coordSysDims&&(a=nt(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var l=s.get("type");o.type=JK(l)}return o})),a||(a=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),a}function gQ(e,t,r){var n,a;return r&&j(e,function(i,o){var s=i.coordDim,l=r.categoryAxisMap.get(s);l&&(n==null&&(n=o),i.ordinalMeta=l.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&n!=null&&(e[n].otherDims.itemName=0),n}function __(e,t,r){r=r||{};var n=t.getSourceManager(),a,i=!1;e?(i=!0,a=XC(e)):(a=n.getSource(),i=a.sourceFormat===Zi);var o=hQ(t),s=mQ(t,o),l=r.useEncodeDefaulter,u=bt(l)?l:l?zr(sq,s,t):null,c={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},f=i2(a,c),d=gQ(f.dimensions,r.createInvertedIndices,o),h=i?null:n.getSharedDataStore(f),v=YV(t,{schema:f,store:h}),p=new Xi(f,t);p.setCalculationInfo(v);var m=d!=null&&yQ(a)?function(g,y,_,x){return x===d?_:this.defaultDimValueGetter(g,y,_,x)}:null;return p.hasItemOption=!1,p.initData(i?a:h,null,m),p}function yQ(e){if(e.sourceFormat===Zi){var t=_Q(e.data||[]);return!Ne(Op(t))}}function _Q(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var jV=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();j0(jV);const Ys=jV;var xQ=0,bQ=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++xQ}return e.createByAxisModel=function(t){var r=t.option,n=r.data,a=n&&nt(n,wQ);return new e({categories:a,needCollect:!a,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!rt(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var a=this._getOrCreateMap();return r=a.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,a.set(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=xt(this.categories))},e}();function wQ(e){return lt(e)&&e.value!=null?e.value:e+""}const Gy=bQ;function oS(e){return e.type==="interval"||e.type==="log"}function SQ(e,t,r,n){var a={},i=e[1]-e[0],o=a.interval=f3(i/t,!0);r!=null&&o<r&&(o=a.interval=r),n!=null&&o>n&&(o=a.interval=n);var s=a.intervalPrecision=qV(o),l=a.niceTickExtent=[Yr(Math.ceil(e[0]/o)*o,s),Yr(Math.floor(e[1]/o)*o,s)];return TQ(l,e),a}function xx(e){var t=Math.pow(10,bC(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Yr(r*t)}function qV(e){return Ss(e)+2}function MP(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function TQ(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),MP(e,0,t),MP(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function x_(e,t){return e>=t[0]&&e<=t[1]}function b_(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function w_(e,t){return e*(t[1]-t[0])+t[0]}var ZV=function(e){ut(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var a=n.getSetting("ordinalMeta");return a||(a=new Gy({})),Ne(a)&&(a=new Gy({categories:nt(a,function(i){return lt(i)?i.value:i})})),n._ordinalMeta=a,n._extent=n.getSetting("extent")||[0,a.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:rt(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return r=this.parse(r),x_(r,this._extent)&&this._ordinalMeta.categories[r]!=null},t.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),b_(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(w_(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,a=n[0];a<=n[1];)r.push({value:a}),a++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var u=n[o];a[o]=u,i[u]=o}for(var c=0;o<s;++o){for(;i[c]!=null;)c++;a.push(c),i[c]=o}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),a=this._ordinalMeta.categories[n];return a==null?"":a+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Ys);Ys.registerClass(ZV);const KV=ZV;var bu=Yr,QV=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return x_(r,this._extent)},t.prototype.normalize=function(r){return b_(r,this._extent)},t.prototype.scale=function(r){return w_(r,this._extent)},t.prototype.setExtent=function(r,n){var a=this._extent;isNaN(r)||(a[0]=parseFloat(r)),isNaN(n)||(a[1]=parseFloat(n))},t.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=qV(r)},t.prototype.getTicks=function(r){var n=this._interval,a=this._extent,i=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var l=1e4;a[0]<i[0]&&(r?s.push({value:bu(i[0]-n,o)}):s.push({value:a[0]}));for(var u=i[0];u<=i[1]&&(s.push({value:u}),u=bu(u+n,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:i[1];return a[1]>c&&(r?s.push({value:bu(c+n,o)}):s.push({value:a[1]})),s},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),a=[],i=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],l=n[o-1],u=0,c=[],f=s.value-l.value,d=f/r;u<r-1;){var h=bu(l.value+(u+1)*d);h>i[0]&&h<i[1]&&c.push(h),u++}a.push(c)}return a},t.prototype.getLabel=function(r,n){if(r==null)return"";var a=n&&n.precision;a==null?a=Ss(r.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=bu(r.value,a,!0);return Ny(i)},t.prototype.calcNiceTicks=function(r,n,a){r=r||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var s=SQ(i,r,n,a);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var a=Math.abs(n[0]);r.fixMax||(n[1]+=a/2),n[0]-=a/2}else n[1]=1;var i=n[1]-n[0];isFinite(i)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval;r.fixMin||(n[0]=bu(Math.floor(n[0]/o)*o)),r.fixMax||(n[1]=bu(Math.ceil(n[1]/o)*o))},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t}(Ys);Ys.registerClass(QV);const Fp=QV;var JV=typeof Float32Array<"u",CQ=JV?Float32Array:Array;function Cs(e){return Ne(e)?JV?new Float32Array(e):e:new CQ(e)}var AQ="__ec_stack_";function o2(e){return e.get("stack")||AQ+e.seriesIndex}function s2(e){return e.dim+e.index}function eF(e,t){var r=[];return t.eachSeriesByType(e,function(n){rF(n)&&r.push(n)}),r}function EQ(e){var t={};j(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),p=0,m=v.count();p<m;++p){var g=v.get(h,p);t[d]?t[d].push(g):t[d]=[g]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];if(a){a.sort(function(l,u){return l-u});for(var i=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(i=i===null?s:Math.min(i,s))}r[n]=i}}return r}function tF(e){var t=EQ(e),r=[];return j(e,function(n){var a=n.coordinateSystem,i=a.getBaseAxis(),o=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=t[l],c=Math.abs(o[1]-o[0]),f=i.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var h=n.getData();s=Math.abs(o[1]-o[0])/h.count()}var v=Sr(n.get("barWidth"),s),p=Sr(n.get("barMaxWidth"),s),m=Sr(n.get("barMinWidth")||(nF(n)?.5:1),s),g=n.get("barGap"),y=n.get("barCategoryGap");r.push({bandWidth:s,barWidth:v,barMaxWidth:p,barMinWidth:m,barGap:g,barCategoryGap:y,axisKey:s2(i),stackId:o2(n)})}),DQ(r)}function DQ(e){var t={};j(e,function(n,a){var i=n.axisKey,o=n.bandWidth,s=t[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[i]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var d=n.barMinWidth;d&&(l[u].minWidth=d);var h=n.barGap;h!=null&&(s.gap=h);var v=n.barCategoryGap;v!=null&&(s.categoryGap=v)});var r={};return j(t,function(n,a){r[a]={};var i=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=ir(i).length;s=Math.max(35-l*4,15)+"%"}var u=Sr(s,o),c=Sr(n.gap,1),f=n.remainedWidth,d=n.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),j(i,function(g){var y=g.maxWidth,_=g.minWidth;if(g.width){var x=g.width;y&&(x=Math.min(x,y)),_&&(x=Math.max(x,_)),g.width=x,f-=x+c*x,d--}else{var x=h;y&&y<x&&(x=Math.min(y,f)),_&&_>x&&(x=_),x!==h&&(g.width=x,f-=x+c*x,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var v=0,p;j(i,function(g,y){g.width||(g.width=h),p=g,v+=g.width*(1+c)}),p&&(v-=p.width*c);var m=-v/2;j(i,function(g,y){r[a][y]=r[a][y]||{bandWidth:o,offset:m,width:g.width},m+=g.width*(1+c)})}),r}function MQ(e,t,r){if(e&&t){var n=e[s2(t)];return n!=null&&r!=null?n[o2(r)]:n}}function PQ(e,t){var r=eF(e,t),n=tF(r);j(r,function(a){var i=a.getData(),o=a.coordinateSystem,s=o.getBaseAxis(),l=o2(a),u=n[s2(s)][l],c=u.offset,f=u.width;i.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function LQ(e){return{seriesType:e,plan:KC(),reset:function(t){if(rF(t)){var r=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),i=n.getOtherAxis(a),o=r.getDimensionIndex(r.mapDimension(i.dim)),s=r.getDimensionIndex(r.mapDimension(a.dim)),l=t.get("showBackground",!0),u=r.mapDimension(i.dim),c=r.getCalculationInfo("stackResultDimension"),f=bc(r,u)&&!!r.getCalculationInfo("stackedOnSeries"),d=i.isHorizontal(),h=IQ(a,i),v=nF(t),p=t.get("barMinHeight")||0,m=c&&r.getDimensionIndex(c),g=r.getLayout("size"),y=r.getLayout("offset");return{progress:function(_,x){for(var w=_.count,b=v&&Cs(w*3),T=v&&l&&Cs(w*3),S=v&&Cs(w),A=n.master.getRect(),M=d?A.width:A.height,C,D=x.getStore(),P=0;(C=_.next())!=null;){var I=D.get(f?m:o,C),k=D.get(s,C),V=h,H=void 0;f&&(H=+I-D.get(o,C));var O=void 0,L=void 0,F=void 0,X=void 0;if(d){var Y=n.dataToPoint([I,k]);if(f){var G=n.dataToPoint([H,k]);V=G[0]}O=V,L=Y[1]+y,F=Y[0]-V,X=g,Math.abs(F)<p&&(F=(F<0?-1:1)*p)}else{var Y=n.dataToPoint([k,I]);if(f){var G=n.dataToPoint([k,H]);V=G[1]}O=Y[0]+y,L=V,F=g,X=Y[1]-V,Math.abs(X)<p&&(X=(X<=0?-1:1)*p)}v?(b[P]=O,b[P+1]=L,b[P+2]=d?F:X,T&&(T[P]=d?A.x:O,T[P+1]=d?L:A.y,T[P+2]=M),S[C]=C):x.setItemLayout(C,{x:O,y:L,width:F,height:X}),P+=3}v&&x.setLayout({largePoints:b,largeDataIndices:S,largeBackgroundPoints:T,valueAxisHorizontal:d})}}}}}}function rF(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function nF(e){return e.pipelineContext&&e.pipelineContext.large}function IQ(e,t){return t.toGlobalCoord(t.dataToCoord(t.type==="log"?1:0))}var RQ=function(e,t,r,n){for(;r<n;){var a=r+n>>>1;e[a][1]<t?r=a+1:n=a}return r},aF=function(e){ut(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return i_(r.value,_M[Qj(qf(this._minLevelUnit))]||_M.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,a){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return Jj(r,n,a,o,i)},t.prototype.getTicks=function(){var r=this._interval,n=this._extent,a=[];if(!r)return a;a.push({value:n[0],level:0});var i=this.getSetting("useUTC"),o=zQ(this._minLevelUnit,this._approxInterval,i,n);return a=a.concat(o),a.push({value:n[1],level:0}),a},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Ri,n[1]+=Ri),n[1]===-1/0&&n[0]===1/0){var a=new Date;n[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),n[0]=n[1]-Ri}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,a){r=r||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=Vm.length,l=Math.min(RQ(Vm,this._approxInterval,0,s),s-1);this._interval=Vm[l][1],this._minLevelUnit=Vm[Math.max(l-1,0)][0]},t.prototype.parse=function(r){return xr(r)?r:+bo(r)},t.prototype.contain=function(r){return x_(this.parse(r),this._extent)},t.prototype.normalize=function(r){return b_(this.parse(r),this._extent)},t.prototype.scale=function(r){return w_(r,this._extent)},t.type="time",t}(Fp),Vm=[["second",FC],["minute",zC],["hour",xv],["quarter-day",xv*6],["half-day",xv*12],["day",Ri*1.2],["half-week",Ri*3.5],["week",Ri*7],["month",Ri*31],["quarter",Ri*95],["half-year",yM/2],["year",yM]];function OQ(e,t,r,n){var a=bo(t),i=bo(r),o=function(v){return xM(a,v,n)===xM(i,v,n)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},f=function(){return c()&&o("minute")},d=function(){return f()&&o("second")},h=function(){return d()&&o("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return d();case"millisecond":return h()}}function kQ(e,t){return e/=Ri,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function NQ(e){var t=30*Ri;return e/=t,e>6?6:e>3?3:e>2?2:1}function BQ(e){return e/=xv,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function PP(e,t){return e/=t?zC:FC,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function VQ(e){return f3(e,!0)}function FQ(e,t,r){var n=new Date(e);switch(qf(t)){case"year":case"month":n[SB(r)](0);case"day":n[TB(r)](1);case"hour":n[CB(r)](0);case"minute":n[AB(r)](0);case"second":n[EB(r)](0),n[DB(r)](0)}return n.getTime()}function zQ(e,t,r,n){var a=1e4,i=bB,o=0;function s(M,C,D,P,I,k,V){for(var H=new Date(C),O=C,L=H[P]();O<D&&O<=n[1];)V.push({value:O}),L+=M,H[I](L),O=H.getTime();V.push({value:O,notAdd:!0})}function l(M,C,D){var P=[],I=!C.length;if(!OQ(qf(M),n[0],n[1],r)){I&&(C=[{value:FQ(new Date(n[0]),M,r)},{value:n[1]}]);for(var k=0;k<C.length-1;k++){var V=C[k].value,H=C[k+1].value;if(V!==H){var O=void 0,L=void 0,F=void 0,X=!1;switch(M){case"year":O=Math.max(1,Math.round(t/Ri/365)),L=UC(r),F=eq(r);break;case"half-year":case"quarter":case"month":O=NQ(t),L=Zf(r),F=SB(r);break;case"week":case"half-week":case"day":O=kQ(t),L=o_(r),F=TB(r),X=!0;break;case"half-day":case"quarter-day":case"hour":O=BQ(t),L=Kv(r),F=CB(r);break;case"minute":O=PP(t,!0),L=s_(r),F=AB(r);break;case"second":O=PP(t,!1),L=l_(r),F=EB(r);break;case"millisecond":O=VQ(t),L=u_(r),F=DB(r);break}s(O,V,H,L,F,X,P),M==="year"&&D.length>1&&k===0&&D.unshift({value:D[0].value-O})}}for(var k=0;k<P.length;k++)D.push(P[k]);return P}}for(var u=[],c=[],f=0,d=0,h=0;h<i.length&&o++<a;++h){var v=qf(i[h]);if(Kj(i[h])){l(i[h],u[u.length-1]||[],c);var p=i[h+1]?qf(i[h+1]):null;if(v!==p){if(c.length){d=f,c.sort(function(M,C){return M.value-C.value});for(var m=[],g=0;g<c.length;++g){var y=c[g].value;(g===0||c[g-1].value!==y)&&(m.push(c[g]),y>=n[0]&&y<=n[1]&&f++)}var _=(n[1]-n[0])/t;if(f>_*1.5&&d>_/1.5||(u.push(m),f>_||e===i[h]))break}c=[]}}}for(var x=dn(nt(u,function(M){return dn(M,function(C){return C.value>=n[0]&&C.value<=n[1]&&!C.notAdd})}),function(M){return M.length>0}),w=[],b=x.length-1,h=0;h<x.length;++h)for(var T=x[h],S=0;S<T.length;++S)w.push({value:T[S].value,level:b-h});w.sort(function(M,C){return M.value-C.value});for(var A=[],h=0;h<w.length;++h)(h===0||w[h].value!==w[h-1].value)&&A.push(w[h]);return A}Ys.registerClass(aF);const UQ=aF;var LP=Ys.prototype,Cv=Fp.prototype,HQ=Yr,GQ=Math.floor,$Q=Math.ceil,Fm=Math.pow,ao=Math.log,l2=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Fp,r._interval=0,r}return t.prototype.getTicks=function(r){var n=this._originalScale,a=this._extent,i=n.getExtent(),o=Cv.getTicks.call(this,r);return nt(o,function(s){var l=s.value,u=Yr(Fm(this.base,l));return u=l===a[0]&&this._fixMin?zm(u,i[0]):u,u=l===a[1]&&this._fixMax?zm(u,i[1]):u,{value:u}},this)},t.prototype.setExtent=function(r,n){var a=ao(this.base);r=ao(Math.max(0,r))/a,n=ao(Math.max(0,n))/a,Cv.setExtent.call(this,r,n)},t.prototype.getExtent=function(){var r=this.base,n=LP.getExtent.call(this);n[0]=Fm(r,n[0]),n[1]=Fm(r,n[1]);var a=this._originalScale,i=a.getExtent();return this._fixMin&&(n[0]=zm(n[0],i[0])),this._fixMax&&(n[1]=zm(n[1],i[1])),n},t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=ao(r[0])/ao(n),r[1]=ao(r[1])/ao(n),LP.unionExtent.call(this,r)},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,a=n[1]-n[0];if(!(a===1/0||a<=0)){var i=J7(a),o=r/a*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[Yr($Q(n[0]/i)*i),Yr(GQ(n[1]/i)*i)];this._interval=i,this._niceExtent=s}},t.prototype.calcNiceExtent=function(r){Cv.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return r=ao(r)/ao(this.base),x_(r,this._extent)},t.prototype.normalize=function(r){return r=ao(r)/ao(this.base),b_(r,this._extent)},t.prototype.scale=function(r){return r=w_(r,this._extent),Fm(this.base,r)},t.type="log",t}(Ys),iF=l2.prototype;iF.getMinorTicks=Cv.getMinorTicks;iF.getLabel=Cv.getLabel;function zm(e,t){return HQ(e,Ss(t))}Ys.registerClass(l2);const WQ=l2;var YQ=function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var a=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var i=this._modelMinRaw=r.get("min",!0);bt(i)?this._modelMinNum=Um(t,i({min:n[0],max:n[1]})):i!=="dataMin"&&(this._modelMinNum=Um(t,i));var o=this._modelMaxRaw=r.get("max",!0);if(bt(o)?this._modelMaxNum=Um(t,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=Um(t,o)),a)this._axisDataLen=r.getCategories().length;else{var s=r.get("boundaryGap"),l=Ne(s)?s:[s||0,s||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Vl(l[0],1),Vl(l[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,o=t?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?a?0:NaN:r-i[0]*o),l==null&&(l=t?a?a-1:NaN:n+i[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=py(s)||py(l)||t&&!a;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(s=d,u=!0),h!=null&&(l=h,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},e.prototype.modifyDataMinMax=function(t,r){this[jQ[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=XQ[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e}(),XQ={min:"_determinedMin",max:"_determinedMax"},jQ={min:"_dataMin",max:"_dataMax"};function qQ(e,t,r){var n=e.rawExtentInfo;return n||(n=new YQ(e,t,r),e.rawExtentInfo=n,n)}function Um(e,t){return t==null?null:py(t)?NaN:e.parse(t)}function oF(e,t){var r=e.type,n=qQ(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var a=n.min,i=n.max,o=t.ecModel;if(o&&r==="time"){var s=eF("bar",o),l=!1;if(j(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=tF(s),c=ZQ(a,i,t,u);a=c.min,i=c.max}}return{extent:[a,i],fixMin:n.minFixed,fixMax:n.maxFixed}}function ZQ(e,t,r,n){var a=r.axis.getExtent(),i=a[1]-a[0],o=MQ(n,r.axis);if(o===void 0)return{min:e,max:t};var s=1/0;j(o,function(h){s=Math.min(h.offset,s)});var l=-1/0;j(o,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,f=1-(s+l)/i,d=c/f-c;return t+=d*(l/u),e-=d*(s/u),{min:e,max:t}}function sS(e,t){var r=t,n=oF(e,r),a=n.extent,i=r.get("splitNumber");e instanceof WQ&&(e.base=r.get("logBase"));var o=e.type,s=r.get("interval"),l=o==="interval"||o==="time";e.setExtent(a[0],a[1]),e.calcNiceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),s!=null&&e.setInterval&&e.setInterval(s)}function sF(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new KV({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new UQ({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Ys.getClass(t)||Fp)}}function KQ(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function zp(e){var t=e.getLabelModel().get("formatter"),r=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(n){return function(a,i){return e.scale.getFormattedLabel(a,i,n)}}(t):rt(t)?function(n){return function(a){var i=e.scale.getLabel(a),o=n.replace("{value}",i??"");return o}}(t):bt(t)?function(n){return function(a,i){return r!=null&&(i=a.value-r),n(u2(e,a),i,a.level!=null?{level:a.level}:null)}}(t):function(n){return e.scale.getLabel(n)}}function u2(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function QQ(e){var t=e.model,r=e.scale;if(!(!t.get(["axisLabel","show"])||r.isBlank())){var n,a,i=r.getExtent();r instanceof KV?a=r.count():(n=r.getTicks(),a=n.length);var o=e.getLabelModel(),s=zp(e),l,u=1;a>40&&(u=Math.ceil(a/40));for(var c=0;c<a;c+=u){var f=n?n[c]:{value:i[0]+c},d=s(f,c),h=o.getTextRect(d),v=JQ(h,o.get("rotate")||0);l?l.union(v):l=v}return l}}function JQ(e,t){var r=t*Math.PI/180,n=e.width,a=e.height,i=n*Math.abs(Math.cos(r))+Math.abs(a*Math.sin(r)),o=n*Math.abs(Math.sin(r))+Math.abs(a*Math.cos(r)),s=new Ut(e.x,e.y,i,o);return s}function c2(e){var t=e.get("interval");return t??"auto"}function lF(e){return e.type==="category"&&c2(e.getLabelModel())===0}function eJ(e,t){var r={};return j(e.mapDimensionsAll(t),function(n){r[XV(e,n)]=!0}),ir(r)}var uF=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}();function tJ(e){return __(null,e)}var f2={isDimensionStacked:bc,enableDataStack:YV,getStackedDimension:XV};function d2(e,t){var r=t;t instanceof on||(r=new on(t));var n=sF(r);return n.setExtent(e[0],e[1]),sS(n,r),n}function rJ(e){li(e,uF)}var IP=[],nJ={registerPreprocessor:r2,registerProcessor:NV,registerPostInit:BV,registerPostUpdate:VV,registerUpdateLifecycle:n2,registerAction:Od,registerCoordinateSystem:WK,registerLayout:YK,registerVisual:kc,registerTransform:jK,registerLoading:zV,registerMap:XK,registerImpl:AK,PRIORITY:VK,ComponentModel:nr,ComponentView:va,SeriesModel:kn,ChartView:yn,registerComponentModel:function(e){nr.registerClass(e)},registerComponentView:function(e){va.registerClass(e)},registerSeriesModel:function(e){kn.registerClass(e)},registerChartView:function(e){yn.registerClass(e)},registerSubTypeDefaulter:function(e,t){nr.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){X7(e,t)}};function vr(e){if(Ne(e)){j(e,function(t){vr(t)});return}$t(IP,e)>=0||(IP.push(e),bt(e)&&(e={install:e}),e.install(nJ))}var aJ=1e-8;function RP(e,t){return Math.abs(e-t)<aJ}function OP(e,t,r){var n=0,a=e[0];if(!a)return!1;for(var i=1;i<e.length;i++){var o=e[i];n+=gs(a[0],a[1],o[0],o[1],t,r),a=o}var s=e[0];return(!RP(a[0],s[0])||!RP(a[1],s[1]))&&(n+=gs(a[0],a[1],s[0],s[1],t,r)),n!==0}var iJ=[];function bx(e,t){for(var r=0;r<e.length;r++)fa(e[r],e[r],t)}function kP(e,t,r,n){for(var a=0;a<e.length;a++){var i=e[a];n&&(i=n.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(Gu(t,t,i),$u(r,r,i))}}function oJ(e){for(var t=0,r=0,n=0,a=e.length,i=e[a-1][0],o=e[a-1][1],s=0;s<a;s++){var l=e[s][0],u=e[s][1],c=i*u-l*o;t+=c,r+=(i+l)*c,n+=(o+u)*c,i=l,o=u}return t?[r/t/3,n/t/3,t]:[e[0][0]||0,e[0][1]||0]}var cF=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),NP=function(){function e(t,r){this.type="polygon",this.exterior=t,this.interiors=r}return e}(),BP=function(){function e(t){this.type="linestring",this.points=t}return e}(),sJ=function(e){ut(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.type="geoJSON",i.geometries=n,i._center=a&&[a[0],a[1]],i}return t.prototype.calcCenter=function(){for(var r=this.geometries,n,a=0,i=0;i<r.length;i++){var o=r[i],s=o.exterior,l=s&&s.length;l>a&&(n=o,a=l)}if(n)return oJ(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(r){var n=this._rect;if(n&&!r)return n;var a=[1/0,1/0],i=[-1/0,-1/0],o=this.geometries;return j(o,function(s){s.type==="polygon"?kP(s.exterior,a,i,r):j(s.points,function(l){kP(l,a,i,r)})}),isFinite(a[0])&&isFinite(a[1])&&isFinite(i[0])&&isFinite(i[1])||(a[0]=a[1]=i[0]=i[1]=0),n=new Ut(a[0],a[1],i[0]-a[0],i[1]-a[1]),r||(this._rect=n),n},t.prototype.contain=function(r){var n=this.getBoundingRect(),a=this.geometries;if(!n.contain(r[0],r[1]))return!1;e:for(var i=0,o=a.length;i<o;i++){var s=a[i];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(OP(l,r[0],r[1])){for(var c=0;c<(u?u.length:0);c++)if(OP(u[c],r[0],r[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(r,n,a,i){var o=this.getBoundingRect(),s=o.width/o.height;a?i||(i=a/s):a=s*i;for(var l=new Ut(r,n,a,i),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(bx(d.exterior,u),j(d.interiors,function(h){bx(h,u)})):j(d.points,function(h){bx(h,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(r){r==null&&(r=this.name);var n=new t(r,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(cF);(function(e){ut(t,e);function t(r,n){var a=e.call(this,r)||this;return a.type="geoSVG",a._elOnlyForCalculate=n,a}return t.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,n=r.getBoundingRect(),a=[n.x+n.width/2,n.y+n.height/2],i=$0(iJ),o=r;o&&!o.isGeoSVGGraphicRoot;)ac(i,o.getLocalTransform(),i),o=o.parent;return Md(i,i),fa(a,a,i),a},t})(cF);function lJ(e){if(!e.UTF8Encoding)return e;var t=e,r=t.UTF8Scale;r==null&&(r=1024);var n=t.features;return j(n,function(a){var i=a.geometry,o=i.encodeOffsets,s=i.coordinates;if(o)switch(i.type){case"LineString":i.coordinates=fF(s,o,r);break;case"Polygon":Sx(s,o,r);break;case"MultiLineString":Sx(s,o,r);break;case"MultiPolygon":j(s,function(l,u){return Sx(l,o[u],r)})}}),t.UTF8Encoding=!1,t}function Sx(e,t,r){for(var n=0;n<e.length;n++)e[n]=fF(e[n],t[n],r)}function fF(e,t,r){for(var n=[],a=t[0],i=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=a,l+=i,a=s,i=l,n.push([s/r,l/r])}return n}function VP(e,t){return e=lJ(e),nt(dn(e.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var n=r.properties,a=r.geometry,i=[];switch(a.type){case"Polygon":var o=a.coordinates;i.push(new NP(o[0],o.slice(1)));break;case"MultiPolygon":j(a.coordinates,function(l){l[0]&&i.push(new NP(l[0],l.slice(1)))});break;case"LineString":i.push(new BP([a.coordinates]));break;case"MultiLineString":i.push(new BP(a.coordinates))}var s=new sJ(n[t||"name"],i,n.cp);return s.properties=n,s})}var np=Pr();function uJ(e){return e.type==="category"?fJ(e):hJ(e)}function cJ(e,t){return e.type==="category"?dJ(e,t):{ticks:nt(e.scale.getTicks(),function(r){return r.value})}}function fJ(e){var t=e.getLabelModel(),r=dF(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function dF(e,t){var r=hF(e,"labels"),n=c2(t),a=vF(r,n);if(a)return a;var i,o;return bt(n)?i=gF(e,n):(o=n==="auto"?vJ(e):n,i=mF(e,o)),pF(r,n,{labels:i,labelCategoryInterval:o})}function dJ(e,t){var r=hF(e,"ticks"),n=c2(t),a=vF(r,n);if(a)return a;var i,o;if((!t.get("show")||e.scale.isBlank())&&(i=[]),bt(n))i=gF(e,n,!0);else if(n==="auto"){var s=dF(e,e.getLabelModel());o=s.labelCategoryInterval,i=nt(s.labels,function(l){return l.tickValue})}else o=n,i=mF(e,o,!0);return pF(r,n,{ticks:i,tickCategoryInterval:o})}function hJ(e){var t=e.scale.getTicks(),r=zp(e);return{labels:nt(t,function(n,a){return{level:n.level,formattedLabel:r(n,a),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function hF(e,t){return np(e)[t]||(np(e)[t]=[])}function vF(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function pF(e,t,r){return e.push({key:t,value:r}),r}function vJ(e){var t=np(e).autoInterval;return t??(np(e).autoInterval=e.calculateCategoryInterval())}function pJ(e){var t=mJ(e),r=zp(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,a=e.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=i[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(n)),f=Math.abs(u*Math.sin(n)),d=0,h=0;l<=i[1];l+=s){var v=0,p=0,m=gC(r({value:l}),t.font,"center","top");v=m.width*1.3,p=m.height*1.3,d=Math.max(d,v,7),h=Math.max(h,p,7)}var g=d/c,y=h/f;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(g,y))),x=np(e.model),w=e.getExtent(),b=x.lastAutoInterval,T=x.lastTickCount;return b!=null&&T!=null&&Math.abs(b-_)<=1&&Math.abs(T-o)<=1&&b>_&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?_=b:(x.lastTickCount=o,x.lastAutoInterval=_,x.axisExtent0=w[0],x.axisExtent1=w[1]),_}function mJ(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function mF(e,t,r){var n=zp(e),a=e.scale,i=a.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=i[0],c=a.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=lF(e),d=o.get("showMinLabel")||f,h=o.get("showMaxLabel")||f;d&&u!==i[0]&&p(i[0]);for(var v=u;v<=i[1];v+=l)p(v);h&&v-l!==i[1]&&p(i[1]);function p(m){var g={value:m};s.push(r?m:{formattedLabel:n(g),rawLabel:a.getLabel(g),tickValue:m})}return s}function gF(e,t,r){var n=e.scale,a=zp(e),i=[];return j(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;t(o.value,s)&&i.push(r?l:{formattedLabel:a(o),rawLabel:s,tickValue:l})}),i}var FP=[0,1],gJ=function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return t>=n&&t<=a},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return q7(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type==="ordinal"&&(n=n.slice(),zP(n,a.count())),Wv(t,FP,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(n=n.slice(),zP(n,a.count()));var i=Wv(t,n,FP,r);return this.scale.scale(i)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=cJ(this,r),a=n.ticks,i=nt(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return yJ(this,i,o,t.clamp),i},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),a=nt(n,function(i){return nt(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},e.prototype.getViewLabels=function(){return uJ(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/n},e.prototype.calculateCategoryInterval=function(){return pJ(this)},e}();function zP(e,t){var r=e[1]-e[0],n=t,a=r/n/2;e[0]+=a,e[1]-=a}function yJ(e,t,r,n){var a=t.length;if(!e.onBand||r||!a)return;var i=e.getExtent(),o,s;if(a===1)t[0].coord=i[0],o=t[1]={coord:i[1]};else{var l=t[a-1].tickValue-t[0].tickValue,u=(t[a-1].coord-t[0].coord)/l;j(t,function(h){h.coord-=u/2});var c=e.scale.getExtent();s=1+c[1]-t[a-1].tickValue,o={coord:t[a-1].coord+u*s},t.push(o)}var f=i[0]>i[1];d(t[0].coord,i[0])&&(n?t[0].coord=i[0]:t.shift()),n&&d(i[0],t[0].coord)&&t.unshift({coord:i[0]}),d(i[1],o.coord)&&(n?o.coord=i[1]:t.pop()),n&&d(o.coord,i[1])&&t.push({coord:i[1]});function d(h,v){return h=Yr(h),v=Yr(v),f?h>v:h<v}}const Up=gJ;var wh=Math.PI*2,wu=Fl.CMD,_J=["top","right","bottom","left"];function xJ(e,t,r,n,a){var i=r.width,o=r.height;switch(e){case"top":n.set(r.x+i/2,r.y-t),a.set(0,-1);break;case"bottom":n.set(r.x+i/2,r.y+o+t),a.set(0,1);break;case"left":n.set(r.x-t,r.y+o/2),a.set(-1,0);break;case"right":n.set(r.x+i+t,r.y+o/2),a.set(1,0);break}}function bJ(e,t,r,n,a,i,o,s,l){o-=e,s-=t;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*r+e,f=s*r+t;if(Math.abs(n-a)%wh<1e-4)return l[0]=c,l[1]=f,u-r;if(i){var d=n;n=Ts(a),a=Ts(d)}else n=Ts(n),a=Ts(a);n>a&&(a+=wh);var h=Math.atan2(s,o);if(h<0&&(h+=wh),h>=n&&h<=a||h+wh>=n&&h+wh<=a)return l[0]=c,l[1]=f,u-r;var v=r*Math.cos(n)+e,p=r*Math.sin(n)+t,m=r*Math.cos(a)+e,g=r*Math.sin(a)+t,y=(v-o)*(v-o)+(p-s)*(p-s),_=(m-o)*(m-o)+(g-s)*(g-s);return y<_?(l[0]=v,l[1]=p,Math.sqrt(y)):(l[0]=m,l[1]=g,Math.sqrt(_))}function $y(e,t,r,n,a,i,o,s){var l=a-e,u=i-t,c=r-e,f=n-t,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,v=h/d;s&&(v=Math.min(Math.max(v,0),1)),v*=d;var p=o[0]=e+v*c,m=o[1]=t+v*f;return Math.sqrt((p-a)*(p-a)+(m-i)*(m-i))}function yF(e,t,r,n,a,i,o){r<0&&(e=e+r,r=-r),n<0&&(t=t+n,n=-n);var s=e+r,l=t+n,u=o[0]=Math.min(Math.max(a,e),s),c=o[1]=Math.min(Math.max(i,t),l);return Math.sqrt((u-a)*(u-a)+(c-i)*(c-i))}var co=[];function wJ(e,t,r){var n=yF(t.x,t.y,t.width,t.height,e.x,e.y,co);return r.set(co[0],co[1]),n}function SJ(e,t,r){for(var n=0,a=0,i=0,o=0,s,l,u=1/0,c=t.data,f=e.x,d=e.y,h=0;h<c.length;){var v=c[h++];h===1&&(n=c[h],a=c[h+1],i=n,o=a);var p=u;switch(v){case wu.M:i=c[h++],o=c[h++],n=i,a=o;break;case wu.L:p=$y(n,a,c[h],c[h+1],f,d,co,!0),n=c[h++],a=c[h++];break;case wu.C:p=ZN(n,a,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,co),n=c[h++],a=c[h++];break;case wu.Q:p=QN(n,a,c[h++],c[h++],c[h],c[h+1],f,d,co),n=c[h++],a=c[h++];break;case wu.A:var m=c[h++],g=c[h++],y=c[h++],_=c[h++],x=c[h++],w=c[h++];h+=1;var b=!!(1-c[h++]);s=Math.cos(x)*y+m,l=Math.sin(x)*_+g,h<=1&&(i=s,o=l);var T=(f-m)*_/y+m;p=bJ(m,g,_,x,x+w,b,T,d,co),n=Math.cos(x+w)*y+m,a=Math.sin(x+w)*_+g;break;case wu.R:i=n=c[h++],o=a=c[h++];var S=c[h++],A=c[h++];p=yF(i,o,S,A,f,d,co);break;case wu.Z:p=$y(n,a,i,o,f,d,co,!0),n=i,a=o;break}p<u&&(u=p,r.set(co[0],co[1]))}return u}var mo=new pt,mr=new pt,rn=new pt,jo=new pt,Ho=new pt;function UP(e,t){if(e){var r=e.getTextGuideLine(),n=e.getTextContent();if(n&&r){var a=e.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],o=a.candidates||_J,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=a.anchor,c=e.getComputedTransform(),f=c&&Md([],c),d=t.get("length2")||0;u&&rn.copy(u);for(var h=0;h<o.length;h++){var v=o[h];xJ(v,0,s,mo,jo),pt.scaleAndAdd(mr,mo,jo,d),mr.transform(f);var p=e.getBoundingRect(),m=u?u.distance(mr):e instanceof ur?SJ(mr,e.path,rn):wJ(mr,p,rn);m<l&&(l=m,mr.transform(c),rn.transform(c),rn.toArray(i[0]),mr.toArray(i[1]),mo.toArray(i[2]))}_F(i,t.get("minTurnAngle")),r.setShape({points:i})}}}var Wy=[],Ea=new pt;function _F(e,t){if(t<=180&&t>0){t=t/180*Math.PI,mo.fromArray(e[0]),mr.fromArray(e[1]),rn.fromArray(e[2]),pt.sub(jo,mo,mr),pt.sub(Ho,rn,mr);var r=jo.len(),n=Ho.len();if(!(r<.001||n<.001)){jo.scale(1/r),Ho.scale(1/n);var a=jo.dot(Ho),i=Math.cos(t);if(i<a){var o=$y(mr.x,mr.y,rn.x,rn.y,mo.x,mo.y,Wy,!1);Ea.fromArray(Wy),Ea.scaleAndAdd(Ho,o/Math.tan(Math.PI-t));var s=rn.x!==mr.x?(Ea.x-mr.x)/(rn.x-mr.x):(Ea.y-mr.y)/(rn.y-mr.y);if(isNaN(s))return;s<0?pt.copy(Ea,mr):s>1&&pt.copy(Ea,rn),Ea.toArray(e[1])}}}}function TJ(e,t,r){if(r<=180&&r>0){r=r/180*Math.PI,mo.fromArray(e[0]),mr.fromArray(e[1]),rn.fromArray(e[2]),pt.sub(jo,mr,mo),pt.sub(Ho,rn,mr);var n=jo.len(),a=Ho.len();if(!(n<.001||a<.001)){jo.scale(1/n),Ho.scale(1/a);var i=jo.dot(t),o=Math.cos(r);if(i<o){var s=$y(mr.x,mr.y,rn.x,rn.y,mo.x,mo.y,Wy,!1);Ea.fromArray(Wy);var l=Math.PI/2,u=Math.acos(Ho.dot(t)),c=l+u-r;if(c>=l)pt.copy(Ea,rn);else{Ea.scaleAndAdd(Ho,s/Math.tan(Math.PI/2-c));var f=rn.x!==mr.x?(Ea.x-mr.x)/(rn.x-mr.x):(Ea.y-mr.y)/(rn.y-mr.y);if(isNaN(f))return;f<0?pt.copy(Ea,mr):f>1&&pt.copy(Ea,rn)}Ea.toArray(e[1])}}}}function HP(e,t,r,n){var a=r==="normal",i=a?e:e.ensureState(r);i.ignore=t;var o=n.get("smooth");o&&o===!0&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();a?e.useStyle(s):i.style=s}function CJ(e,t){var r=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var a=pw(n[0],n[1]),i=pw(n[1],n[2]);if(!a||!i){e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]);return}var o=Math.min(a,i)*r,s=p1([],n[1],n[0],o/a),l=p1([],n[1],n[2],o/i),u=p1([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)e.lineTo(n[c][0],n[c][1])}function xF(e,t,r){var n=e.getTextGuideLine(),a=e.getTextContent();if(!a){n&&e.removeTextGuideLine();return}for(var i=t.normal,o=i.get("show"),s=a.ignore,l=0;l<Ay.length;l++){var u=Ay[l],c=t[u],f=u==="normal";if(c){var d=c.get("show"),h=f?s:Ft(a.states[u]&&a.states[u].ignore,s);if(h||!Ft(d,o)){var v=f?n:n&&n.states[u];v&&(v.ignore=!0);continue}n||(n=new e_,e.setTextGuideLine(n),!f&&(s||!o)&&HP(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),HP(n,!1,u,c)}}if(n){kt(n.style,r),n.style.fill=null;var p=i.get("showAbove"),m=e.textGuideLineConfig=e.textGuideLineConfig||{};m.showAbove=p||!1,n.buildPath=CJ}}function bF(e,t){t=t||"labelLine";for(var r={normal:e.getModel(t)},n=0;n<Wi.length;n++){var a=Wi[n];r[a]=e.getModel([a,t])}return r}function wF(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n.defaultAttr.ignore){var a=n.label,i=a.getComputedTransform(),o=a.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,l=a.style.margin||0,u=o.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new Py(o,i):null;t.push({label:a,labelLine:n.labelLine,rect:u,localRect:o,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:i})}}return t}function SF(e,t,r,n,a,i){var o=e.length;if(o<2)return;e.sort(function(S,A){return S.rect[t]-A.rect[t]});for(var s=0,l,u=!1,c=0,f=0;f<o;f++){var d=e[f],h=d.rect;l=h[t]-s,l<0&&(h[t]-=l,d.label[t]-=l,u=!0);var v=Math.max(-l,0);c+=v,s=h[t]+h[r]}c>0&&i&&w(-c/o,0,o);var p=e[0],m=e[o-1],g,y;_(),g<0&&b(-g,.8),y<0&&b(y,.8),_(),x(g,y,1),x(y,g,-1),_(),g<0&&T(-g),y<0&&T(y);function _(){g=p.rect[t]-n,y=a-m.rect[t]-m.rect[r]}function x(S,A,M){if(S<0){var C=Math.min(A,-S);if(C>0){w(C*M,0,o);var D=C+S;D<0&&b(-D*M,1)}else b(-S*M,1)}}function w(S,A,M){S!==0&&(u=!0);for(var C=A;C<M;C++){var D=e[C],P=D.rect;P[t]+=S,D.label[t]+=S}}function b(S,A){for(var M=[],C=0,D=1;D<o;D++){var P=e[D-1].rect,I=Math.max(e[D].rect[t]-P[t]-P[r],0);M.push(I),C+=I}if(C){var k=Math.min(Math.abs(S)/C,A);if(S>0)for(var D=0;D<o-1;D++){var V=M[D]*k;w(V,0,D+1)}else for(var D=o-1;D>0;D--){var V=M[D-1]*k;w(-V,D,o)}}}function T(S){var A=S<0?-1:1;S=Math.abs(S);for(var M=Math.ceil(S/(o-1)),C=0;C<o-1;C++)if(A>0?w(M,0,C+1):w(-M,o-C-1,o),S-=M,S<=0)return}return u}function AJ(e,t,r,n){return SF(e,"x","width",t,r,n)}function TF(e,t,r,n){return SF(e,"y","height",t,r,n)}function CF(e){var t=[];e.sort(function(p,m){return m.priority-p.priority});var r=new Ut(0,0,0,0);function n(p){if(!p.ignore){var m=p.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}p.ignore=!0}for(var a=0;a<e.length;a++){var i=e[a],o=i.axisAligned,s=i.localRect,l=i.transform,u=i.label,c=i.labelLine;r.copy(i.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var f=i.obb,d=!1,h=0;h<t.length;h++){var v=t[h];if(r.intersect(v.rect)){if(o&&v.axisAligned){d=!0;break}if(v.obb||(v.obb=new Py(v.localRect,v.transform)),f||(f=new Py(s,l)),f.intersect(v.obb)){d=!0;break}}}d?(n(u),c&&n(c)):(u.attr("ignore",i.defaultAttr.ignore),c&&c.attr("ignore",i.defaultAttr.labelGuideIgnore),t.push(i))}}function EJ(e){if(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].slice());return t}}function DJ(e,t){var r=e.label,n=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:EJ(n&&n.shape.points)}}var GP=["align","verticalAlign","width","height","fontSize"],xa=new X0,Tx=Pr(),MJ=Pr();function Hm(e,t,r){for(var n=0;n<r.length;n++){var a=r[n];t[a]!=null&&(e[a]=t[a])}}var Gm=["x","y","rotation"],PJ=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,r,n,a,i){var o=a.style,s=a.__hostTarget,l=s.textConfig||{},u=a.getComputedTransform(),c=a.getBoundingRect().plain();Ut.applyTransform(c,c,u),u?xa.setLocalTransform(u):(xa.x=xa.y=xa.rotation=xa.originX=xa.originY=0,xa.scaleX=xa.scaleY=1),xa.rotation=Ts(xa.rotation);var f=a.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();Ut.applyTransform(d,d,h)}var v=d&&f.getTextGuideLine();this._labelList.push({label:a,labelLine:v,seriesModel:n,dataIndex:t,dataType:r,layoutOption:i,computedLayoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:v&&v.ignore,x:xa.x,y:xa.y,scaleX:xa.scaleX,scaleY:xa.scaleY,rotation:xa.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:a.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var r=this;this._chartViewList.push(t);var n=t.__model,a=n.get("labelLayout");(bt(a)||ir(a).length)&&t.group.traverse(function(i){if(i.ignore)return!0;var o=i.getTextContent(),s=Wt(i);o&&!o.disableLabelLayout&&r._addLabel(s.dataIndex,s.dataType,n,o,a)})},e.prototype.updateLayoutConfig=function(t){var r=t.getWidth(),n=t.getHeight();function a(_,x){return function(){UP(_,x)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;bt(o.layoutOption)?c=o.layoutOption(DJ(o,l)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=Sr(c.x,r),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=Sr(c.y,n),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var v=Tx(s);v.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var p=0;p<GP.length;p++){var m=GP[p];s.setStyle(m,c[m]!=null?c[m]:u.style[m])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var g=o.seriesModel;if(o.dataIndex!=null){var y=o.seriesModel.getData(o.dataType);g=y.getItemModel(o.dataIndex)}s.on("drag",a(l,g.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},e.prototype.layout=function(t){var r=t.getWidth(),n=t.getHeight(),a=wF(this._labelList),i=dn(a,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=dn(a,function(l){return l.layoutOption.moveOverlap==="shiftY"});AJ(i,0,r),TF(o,0,n);var s=dn(a,function(l){return l.layoutOption.hideOverlap});CF(s)},e.prototype.processLabelsOverall=function(){var t=this;j(this._chartViewList,function(r){var n=r.__model,a=r.ignoreLabelLineUpdate,i=n.isAnimationEnabled();r.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!a,l=o.getTextContent();!s&&l&&(s=Tx(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,n),i&&t._animateLabels(o,n)})})},e.prototype._updateLabelLine=function(t,r){var n=t.getTextContent(),a=Wt(t),i=a.dataIndex;if(n&&i!=null){var o=r.getData(a.dataType),s=o.getItemModel(i),l={},u=o.getItemVisual(i,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");xF(t,bF(s),l),UP(t,f)}},e.prototype._animateLabels=function(t,r){var n=t.getTextContent(),a=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!jf(t))){var i=Tx(n),o=i.oldLayout,s=Wt(t),l=s.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=r.getData(s.dataType);if(o){n.attr(o);var d=t.prevStates;d&&($t(d,"select")>=0&&n.attr(i.oldLayoutSelect),$t(d,"emphasis")>=0&&n.attr(i.oldLayoutEmphasis)),On(n,u,r,l)}else if(n.attr(u),!Ld(n).valueAnimation){var f=Ft(n.style.opacity,1);n.style.opacity=0,ka(n,{style:{opacity:f}},r,l)}if(i.oldLayout=u,n.states.select){var h=i.oldLayoutSelect={};Hm(h,u,Gm),Hm(h,n.states.select,Gm)}if(n.states.emphasis){var v=i.oldLayoutEmphasis={};Hm(v,u,Gm),Hm(v,n.states.emphasis,Gm)}kj(n,l,c,r,r)}if(a&&!a.ignore&&!a.invisible){var i=MJ(a),o=i.oldLayout,p={points:a.shape.points};o?(a.attr({shape:o}),On(a,{shape:p},r)):(a.setShape(p),a.style.strokePercent=0,ka(a,{style:{strokePercent:1}},r)),i.oldLayout=p}},e}();const LJ=PJ;var Cx=Pr();function IJ(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){var a=Cx(r).labelManager;a||(a=Cx(r).labelManager=new LJ),a.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,r,n){var a=Cx(r).labelManager;n.updatedSeries.forEach(function(i){a.addLabelsOfSeries(r.getViewOfSeriesModel(i))}),a.updateLayoutConfig(r),a.layout(r),a.processLabelsOverall()})}var RJ=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r){return __(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(r){var n=new Kn,a=xc("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(a),a.setStyle(r.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=r.itemHeight*.8,u=xc(s,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(u),u.setStyle(r.itemStyle);var c=r.iconRotate==="inherit"?o:r.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(kn);const OJ=RJ;function h2(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var a=ld(e,t,r[0]);return a!=null?a+"":null}else if(n){for(var i=[],o=0;o<r.length;o++)i.push(ld(e,t,r[o]));return i.join(" ")}}function AF(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!Ne(t))return t+"";for(var n=[],a=0;a<r.length;a++){var i=e.getDimensionIndex(r[a]);i>=0&&n.push(t[i])}return n.join(" ")}var kJ=function(e){ut(t,e);function t(r,n,a,i){var o=e.call(this)||this;return o.updateData(r,n,a,i),o}return t.prototype._createSymbol=function(r,n,a,i,o){this.removeAll();var s=xc(r,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=NJ,this._symbolType=r,this.add(s)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Ey(this.childAt(0))},t.prototype.downplay=function(){Dy(this.childAt(0))},t.prototype.setZ=function(r,n){var a=this.childAt(0);a.zlevel=r,a.z=n},t.prototype.setDraggable=function(r,n){var a=this.childAt(0);a.draggable=r,a.cursor=!n&&r?"move":a.cursor},t.prototype.updateData=function(r,n,a,i){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,l=t.getSymbolSize(r,n),u=o!==this._symbolType,c=i&&i.disableAnimation;if(u){var f=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,l,f)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};c?d.attr(h):On(d,h,s,n),RC(d)}if(this._updateCommon(r,n,l,a,i),u){var d=this.childAt(0);if(!c){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,ka(d,h,s,n)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,a,i,o){var s=this.childAt(0),l=r.hostModel,u,c,f,d,h,v,p,m,g;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,f=i.selectItemStyle,d=i.focus,h=i.blurScope,p=i.labelStatesModels,m=i.hoverScale,g=i.cursorStyle,v=i.emphasisDisabled),!i||r.hasItemOption){var y=i&&i.itemModel?i.itemModel:r.getItemModel(n),_=y.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),d=_.get("focus"),h=_.get("blurScope"),v=_.get("disabled"),p=Bp(y),m=_.getShallow("scale"),g=y.getShallow("cursor")}var x=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var w=pV(r.getItemVisual(n,"symbolOffset"),a);w&&(s.x=w[0],s.y=w[1]),g&&s.attr("cursor",g);var b=r.getItemVisual(n,"style"),T=b.fill;if(s instanceof $s){var S=s.style;s.useStyle(De({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},b))}else s.__isEmptyBrush?s.useStyle(De({},b)):s.useStyle(b),s.style.decal=null,s.setColor(T,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var A=r.getItemVisual(n,"liftZ"),M=this._z2;A!=null?M==null&&(this._z2=s.z2,s.z2+=A):M!=null&&(s.z2=M,this._z2=null);var C=o&&o.useNameLabel;Np(s,p,{labelFetcher:l,labelDataIndex:n,defaultText:D,inheritColor:T,defaultOpacity:b.opacity});function D(k){return C?r.getName(k):h2(r,k)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var P=s.ensureState("emphasis");P.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var I=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;P.scaleX=this._sizeX*I,P.scaleY=this._sizeY*I,this.setSymbolScale(1),jv(this,d,h,v)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,a){var i=this.childAt(0),o=Wt(this).dataIndex,s=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var l=i.getTextContent();l&&Ly(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Ly(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},t.getSymbolSize=function(r,n){return lK(r.getItemVisual(n,"symbolSize"))},t}(Kn);function NJ(e,t){this.parent.drift(e,t)}const v2=kJ;function Ax(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function $P(e){return e!=null&&!lt(e)&&(e={isIgnore:e}),e||{}}function WP(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Bp(t),cursorStyle:t.get("cursor")}}var BJ=function(){function e(t){this.group=new Kn,this._SymbolCtor=t||v2}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=$P(r);var n=this.group,a=t.hostModel,i=this._data,o=this._SymbolCtor,s=r.disableAnimation,l=WP(t),u={disableAnimation:s},c=r.getSymbolPoint||function(f){return t.getItemLayout(f)};i||n.removeAll(),t.diff(i).add(function(f){var d=c(f);if(Ax(t,d,f,r)){var h=new o(t,f,l,u);h.setPosition(d),t.setItemGraphicEl(f,h),n.add(h)}}).update(function(f,d){var h=i.getItemGraphicEl(d),v=c(f);if(!Ax(t,v,f,r)){n.remove(h);return}var p=t.getItemVisual(f,"symbol")||"circle",m=h&&h.getSymbolType&&h.getSymbolType();if(!h||m&&m!==p)n.remove(h),h=new o(t,f,l,u),h.setPosition(v);else{h.updateData(t,f,l,u);var g={x:v[0],y:v[1]};s?h.attr(g):On(h,g,a)}n.add(h),t.setItemGraphicEl(f,h)}).remove(function(f){var d=i.getItemGraphicEl(f);d&&d.fadeOut(function(){n.remove(d)},a)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,a){var i=t._getSymbolPoint(a);n.setPosition(i),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=WP(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=$P(n);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=r.getItemLayout(i);if(Ax(r,o,i,n)){var s=new this._SymbolCtor(r,i,this._seriesScope);s.traverse(a),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(t){r_(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(a){a.fadeOut(function(){r.remove(a)},n.hostModel)}):r.removeAll()},e}();const VJ=BJ;function EF(e,t,r){var n=e.getBaseAxis(),a=e.getOtherAxis(n),i=FJ(a,r),o=n.dim,s=a.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=nt(e.dimensions,function(v){return t.mapDimension(v)}),d=!1,h=t.getCalculationInfo("stackResultDimension");return bc(t,f[0])&&(d=!0,f[0]=h),bc(t,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function FJ(e,t){var r=0,n=e.scale.getExtent();return t==="start"?r=n[0]:t==="end"?r=n[1]:xr(t)&&!isNaN(t)?r=t:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function DF(e,t,r,n){var a=NaN;e.stacked&&(a=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=e.valueStart);var i=e.baseDataOffset,o=[];return o[i]=r.get(e.baseDim,n),o[1-i]=a,t.dataToPoint(o)}function zJ(e,t){var r=[];return t.diff(e).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,a){r.push({cmd:"=",idx:a,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function UJ(e,t,r,n,a,i,o,s){for(var l=zJ(e,t),u=[],c=[],f=[],d=[],h=[],v=[],p=[],m=EF(a,t,o),g=e.getLayout("points")||[],y=t.getLayout("points")||[],_=0;_<l.length;_++){var x=l[_],w=!0,b=void 0,T=void 0;switch(x.cmd){case"=":b=x.idx*2,T=x.idx1*2;var S=g[b],A=g[b+1],M=y[T],C=y[T+1];(isNaN(S)||isNaN(A))&&(S=M,A=C),u.push(S,A),c.push(M,C),f.push(r[b],r[b+1]),d.push(n[T],n[T+1]),p.push(t.getRawIndex(x.idx1));break;case"+":var D=x.idx,P=m.dataDimsForPoint,I=a.dataToPoint([t.get(P[0],D),t.get(P[1],D)]);T=D*2,u.push(I[0],I[1]),c.push(y[T],y[T+1]);var k=DF(m,a,t,D);f.push(k[0],k[1]),d.push(n[T],n[T+1]),p.push(t.getRawIndex(D));break;case"-":w=!1}w&&(h.push(x),v.push(v.length))}v.sort(function(N,U){return p[N]-p[U]});for(var V=u.length,H=Cs(V),O=Cs(V),L=Cs(V),F=Cs(V),X=[],_=0;_<v.length;_++){var Y=v[_],G=_*2,z=Y*2;H[G]=u[z],H[G+1]=u[z+1],O[G]=c[z],O[G+1]=c[z+1],L[G]=f[z],L[G+1]=f[z+1],F[G]=d[z],F[G+1]=d[z+1],X[_]=h[Y]}return{current:H,next:O,stackedOnCurrent:L,stackedOnNext:F,status:X}}var fl=Math.min,dl=Math.max;function sc(e,t){return isNaN(e)||isNaN(t)}function lS(e,t,r,n,a,i,o,s,l){for(var u,c,f,d,h,v,p=r,m=0;m<n;m++){var g=t[p*2],y=t[p*2+1];if(p>=a||p<0)break;if(sc(g,y)){if(l){p+=i;continue}break}if(p===r)e[i>0?"moveTo":"lineTo"](g,y),f=g,d=y;else{var _=g-u,x=y-c;if(_*_+x*x<.5){p+=i;continue}if(o>0){for(var w=p+i,b=t[w*2],T=t[w*2+1];b===g&&T===y&&m<n;)m++,w+=i,p+=i,b=t[w*2],T=t[w*2+1],g=t[p*2],y=t[p*2+1],_=g-u,x=y-c;var S=m+1;if(l)for(;sc(b,T)&&S<n;)S++,w+=i,b=t[w*2],T=t[w*2+1];var A=.5,M=0,C=0,D=void 0,P=void 0;if(S>=n||sc(b,T))h=g,v=y;else{M=b-u,C=T-c;var I=g-u,k=b-g,V=y-c,H=T-y,O=void 0,L=void 0;if(s==="x"){O=Math.abs(I),L=Math.abs(k);var F=M>0?1:-1;h=g-F*O*o,v=y,D=g+F*L*o,P=y}else if(s==="y"){O=Math.abs(V),L=Math.abs(H);var X=C>0?1:-1;h=g,v=y-X*O*o,D=g,P=y+X*L*o}else O=Math.sqrt(I*I+V*V),L=Math.sqrt(k*k+H*H),A=L/(L+O),h=g-M*o*(1-A),v=y-C*o*(1-A),D=g+M*o*A,P=y+C*o*A,D=fl(D,dl(b,g)),P=fl(P,dl(T,y)),D=dl(D,fl(b,g)),P=dl(P,fl(T,y)),M=D-g,C=P-y,h=g-M*O/L,v=y-C*O/L,h=fl(h,dl(u,g)),v=fl(v,dl(c,y)),h=dl(h,fl(u,g)),v=dl(v,fl(c,y)),M=g-h,C=y-v,D=g+M*L/O,P=y+C*L/O}e.bezierCurveTo(f,d,h,v,g,y),f=D,d=P}else e.lineTo(g,y)}u=g,c=y,p+=i}return m}var MF=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),HJ=function(e){ut(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new MF},t.prototype.buildPath=function(r,n){var a=n.points,i=0,o=a.length/2;if(n.connectNulls){for(;o>0&&sc(a[o*2-2],a[o*2-1]);o--);for(;i<o&&sc(a[i*2],a[i*2+1]);i++);}for(;i<o;)i+=lS(r,a,i,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,o=Fl.CMD,s,l,u=n==="x",c=[],f=0;f<i.length;){var d=i[f++],h=void 0,v=void 0,p=void 0,m=void 0,g=void 0,y=void 0,_=void 0;switch(d){case o.M:s=i[f++],l=i[f++];break;case o.L:if(h=i[f++],v=i[f++],_=u?(r-s)/(h-s):(r-l)/(v-l),_<=1&&_>=0){var x=u?(v-l)*_+l:(h-s)*_+s;return u?[r,x]:[x,r]}s=h,l=v;break;case o.C:h=i[f++],v=i[f++],p=i[f++],m=i[f++],g=i[f++],y=i[f++];var w=u?yy(s,h,p,g,r,c):yy(l,v,m,y,r,c);if(w>0)for(var b=0;b<w;b++){var T=c[b];if(T<=1&&T>=0){var x=u?Mn(l,v,m,y,T):Mn(s,h,p,g,T);return u?[r,x]:[x,r]}}s=g,l=y;break}}},t}(ur),GJ=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(MF),$J=function(e){ut(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new GJ},t.prototype.buildPath=function(r,n){var a=n.points,i=n.stackedOnPoints,o=0,s=a.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&sc(a[s*2-2],a[s*2-1]);s--);for(;o<s&&sc(a[o*2],a[o*2+1]);o++);}for(;o<s;){var u=lS(r,a,o,s,s,1,n.smooth,l,n.connectNulls);lS(r,i,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,r.closePath()}},t}(ur);function PF(e,t,r,n,a){var i=e.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,c=r.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,l+=c,u+=c,o=Math.floor(o),l=Math.round(l);var f=new gn({shape:{x:o,y:s,width:l,height:u}});if(t){var d=e.getBaseAxis(),h=d.isHorizontal(),v=d.inverse;h?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0);var p=bt(a)?function(m){a(m,f)}:null;ka(f,{shape:{width:l,height:u,x:o,y:s}},r,null,n,p)}return f}function LF(e,t,r){var n=e.getArea(),a=Yr(n.r0,1),i=Yr(n.r,1),o=new Rc({shape:{cx:Yr(e.cx,1),cy:Yr(e.cy,1),r0:a,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=a,ka(o,{shape:{endAngle:n.endAngle,r:i}},r)}return o}function WJ(e,t,r,n,a){if(e){if(e.type==="polar")return LF(e,t,r);if(e.type==="cartesian2d")return PF(e,t,r,n,a)}else return null;return null}function p2(e,t){return e.type===t}function YP(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return;return!0}}function XP(e){for(var t=1/0,r=1/0,n=-1/0,a=-1/0,i=0;i<e.length;){var o=e[i++],s=e[i++];isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n)),isNaN(s)||(r=Math.min(s,r),a=Math.max(s,a))}return[[t,r],[n,a]]}function jP(e,t){var r=XP(e),n=r[0],a=r[1],i=XP(t),o=i[0],s=i[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function qP(e){return xr(e)?e:e?.5:0}function YJ(e,t,r){if(!r.valueDim)return[];for(var n=t.count(),a=Cs(n*2),i=0;i<n;i++){var o=DF(r,e,t,i);a[i*2]=o[0],a[i*2+1]=o[1]}return a}function hl(e,t,r,n){var a=t.getBaseAxis(),i=a.dim==="x"||a.dim==="radius"?0:1,o=[],s=0,l=[],u=[],c=[],f=[];if(n){for(s=0;s<e.length;s+=2)!isNaN(e[s])&&!isNaN(e[s+1])&&f.push(e[s],e[s+1]);e=f}for(s=0;s<e.length-2;s+=2)switch(c[0]=e[s+2],c[1]=e[s+3],u[0]=e[s],u[1]=e[s+1],o.push(u[0],u[1]),r){case"end":l[i]=c[i],l[1-i]=u[1-i],o.push(l[0],l[1]);break;case"middle":var d=(u[i]+c[i])/2,h=[];l[i]=h[i]=d,l[1-i]=u[1-i],h[1-i]=c[1-i],o.push(l[0],l[1]),o.push(h[0],h[1]);break;default:l[i]=u[i],l[1-i]=c[1-i],o.push(l[0],l[1])}return o.push(e[s++],e[s++]),o}function XJ(e,t){var r=[],n=e.length,a,i;function o(c,f,d){var h=c.coord,v=(d-h)/(f.coord-h),p=m7(v,[c.color,f.color]);return{coord:d,color:p}}for(var s=0;s<n;s++){var l=e[s],u=l.coord;if(u<0)a=l;else if(u>t){i?r.push(o(i,l,t)):a&&r.push(o(a,l,0),o(a,l,t));break}else a&&(r.push(o(a,l,0)),a=null),r.push(l),i=l}return r}function jJ(e,t,r){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&t.type==="cartesian2d"){for(var a,i,o=n.length-1;o>=0;o--){var s=e.getDimensionInfo(n[o].dimension);if(a=s&&s.coordDim,a==="x"||a==="y"){i=n[o];break}}if(i){var l=t.getAxis(a),u=nt(i.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),c=u.length,f=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=XJ(u,a==="x"?r.getWidth():r.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var v=10,p=d[0].coord-v,m=d[h-1].coord+v,g=m-p;if(g<.001)return"transparent";j(d,function(_){_.offset=(_.coord-p)/g}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var y=new lB(0,0,0,0,d,!0);return y[a]=p,y[a+"2"]=m,y}}}function qJ(e,t,r){var n=e.get("showAllSymbol"),a=n==="auto";if(!(n&&!a)){var i=r.getAxesByScale("ordinal")[0];if(i&&!(a&&ZJ(i,t))){var o=t.mapDimension(i.dim),s={};return j(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function ZJ(e,t){var r=e.getExtent(),n=Math.abs(r[1]-r[0])/e.scale.count();isNaN(n)&&(n=0);for(var a=t.count(),i=Math.max(1,Math.round(a/5)),o=0;o<a;o+=i)if(v2.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function KJ(e,t){return isNaN(e)||isNaN(t)}function QJ(e){for(var t=e.length/2;t>0&&KJ(e[t*2-2],e[t*2-1]);t--);return t-1}function ZP(e,t){return[e[t*2],e[t*2+1]]}function JJ(e,t,r){for(var n=e.length/2,a=r==="x"?0:1,i,o,s=0,l=-1,u=0;u<n;u++)if(o=e[u*2+a],!(isNaN(o)||isNaN(e[u*2+1-a]))){if(u===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){l=u;break}s=u,i=o}return{range:[s,l],t:(t-i)/(o-i)}}function IF(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Wi.length;t++)if(e.get([Wi[t],"endLabel","show"]))return!0;return!1}function Ex(e,t,r,n){if(p2(t,"cartesian2d")){var a=n.getModel("endLabel"),i=a.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=IF(n)?function(h,v){e._endLabelOnDuring(h,v,o,s,i,a,t)}:null,u=t.getBaseAxis().isHorizontal(),c=PF(t,r,n,function(){var h=e._endLabel;h&&r&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return LF(t,r,n)}function eee(e,t){var r=t.getBaseAxis(),n=r.isHorizontal(),a=r.inverse,i=n?a?"right":"left":"center",o=n?"middle":a?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||o}}}var tee=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var r=new Kn,n=new VJ;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r},t.prototype.render=function(r,n,a){var i=this,o=r.coordinateSystem,s=this.group,l=r.getData(),u=r.getModel("lineStyle"),c=r.getModel("areaStyle"),f=l.getLayout("points")||[],d=o.type==="polar",h=this._coordSys,v=this._symbolDraw,p=this._polyline,m=this._polygon,g=this._lineGroup,y=!n.ssr&&r.isAnimationEnabled(),_=!c.isEmpty(),x=c.get("origin"),w=EF(o,l,x),b=_&&YJ(o,l,w),T=r.get("showSymbol"),S=r.get("connectNulls"),A=T&&!d&&qJ(r,l,o),M=this._data;M&&M.eachItemGraphicEl(function(U,Z){U.__temp&&(s.remove(U),M.setItemGraphicEl(Z,null))}),T||v.remove(),s.add(g);var C=d?!1:r.get("step"),D;o&&o.getArea&&r.get("clip",!0)&&(D=o.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var P=jJ(l,o,a)||l.getVisual("style")[l.getVisual("drawType")];if(!(p&&h.type===o.type&&C===this._step))T&&v.updateData(l,{isIgnore:A,clipShape:D,disableAnimation:!0,getSymbolPoint:function(U){return[f[U*2],f[U*2+1]]}}),y&&this._initSymbolLabelAnimation(l,o,D),C&&(f=hl(f,o,C,S),b&&(b=hl(b,o,C,S))),p=this._newPolyline(f),_?m=this._newPolygon(f,b):m&&(g.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(r,o,yc(P)),g.setClipPath(Ex(this,o,!0,r));else{_&&!m?m=this._newPolygon(f,b):m&&!_&&(g.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(r,o,yc(P));var I=g.getClipPath();if(I){var k=Ex(this,o,!1,r);ka(I,{shape:k.shape},r)}else g.setClipPath(Ex(this,o,!0,r));T&&v.updateData(l,{isIgnore:A,clipShape:D,disableAnimation:!0,getSymbolPoint:function(U){return[f[U*2],f[U*2+1]]}}),(!YP(this._stackedOnPoints,b)||!YP(this._points,f))&&(y?this._doUpdateAnimation(l,b,o,a,C,x,S):(C&&(f=hl(f,o,C,S),b&&(b=hl(b,o,C,S))),p.setShape({points:f}),m&&m.setShape({points:f,stackedOnPoints:b})))}var V=r.getModel("emphasis"),H=V.get("focus"),O=V.get("blurScope"),L=V.get("disabled");if(p.useStyle(kt(u.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),My(p,r,"lineStyle"),p.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var F=p.getState("emphasis").style;F.lineWidth=+p.style.lineWidth+1}Wt(p).seriesIndex=r.seriesIndex,jv(p,H,O,L);var X=qP(r.get("smooth")),Y=r.get("smoothMonotone");if(p.setShape({smooth:X,smoothMonotone:Y,connectNulls:S}),m){var G=l.getCalculationInfo("stackedOnSeries"),z=0;m.useStyle(kt(c.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),G&&(z=qP(G.get("smooth"))),m.setShape({smooth:X,stackedOnSmooth:z,smoothMonotone:Y,connectNulls:S}),My(m,r,"areaStyle"),Wt(m).seriesIndex=r.seriesIndex,jv(m,H,O,L)}var N=function(U){i._changePolyState(U)};l.eachItemGraphicEl(function(U){U&&(U.onHoverStateChange=N)}),this._polyline.onHoverStateChange=N,this._data=l,this._coordSys=o,this._stackedOnPoints=b,this._points=f,this._step=C,this._valueOrigin=x,r.get("triggerLineEvent")&&(this.packEventData(r,p),m&&this.packEventData(r,m))},t.prototype.packEventData=function(r,n){Wt(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},t.prototype.highlight=function(r,n,a,i){var o=r.getData(),s=mc(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=r.get("zlevel")||0,h=r.get("z")||0;u=new v2(o,s),u.x=c,u.y=f,u.setZ(d,h);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=d,v.z=h,v.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else yn.prototype.highlight.call(this,r,n,a,i)},t.prototype.downplay=function(r,n,a,i){var o=r.getData(),s=mc(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else yn.prototype.downplay.call(this,r,n,a,i)},t.prototype._changePolyState=function(r){var n=this._polygon;QD(this._polyline,r),n&&QD(n,r)},t.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new HJ({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(r,n){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new $J({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(r,n,a){var i,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):n.type==="polar"&&(i=s.dim==="angle",o=!0);var u=r.hostModel,c=u.get("animationDuration");bt(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=bt(f)?f(null):f;r.eachItemGraphicEl(function(h,v){var p=h;if(p){var m=[h.x,h.y],g=void 0,y=void 0,_=void 0;if(a)if(o){var x=a,w=n.pointToCoord(m);i?(g=x.startAngle,y=x.endAngle,_=-w[1]/180*Math.PI):(g=x.r0,y=x.r,_=w[0])}else{var b=a;i?(g=b.x,y=b.x+b.width,_=h.x):(g=b.y+b.height,y=b.y,_=h.y)}var T=y===g?0:(_-g)/(y-g);l&&(T=1-T);var S=bt(f)?f(v):c*T+d,A=p.getSymbolPath(),M=A.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:S}),M&&M.animateFrom({style:{opacity:0}},{duration:300,delay:S}),A.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(r,n,a){var i=r.getModel("endLabel");if(IF(r)){var o=r.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Kr({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=QJ(l);c>=0&&(Np(s,Bp(r,"endLabel"),{inheritColor:a,labelFetcher:r,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?AF(o,h):h2(o,f)},enableTextSetter:!0},eee(i,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(r,n,a,i,o,s,l){var u=this._endLabel,c=this._polyline;if(u){r<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var f=a.getLayout("points"),d=a.hostModel,h=d.get("connectNulls"),v=s.get("precision"),p=s.get("distance")||0,m=l.getBaseAxis(),g=m.isHorizontal(),y=m.inverse,_=n.shape,x=y?g?_.x:_.y+_.height:g?_.x+_.width:_.y,w=(g?p:0)*(y?-1:1),b=(g?0:-p)*(y?-1:1),T=g?"x":"y",S=JJ(f,x,T),A=S.range,M=A[1]-A[0],C=void 0;if(M>=1){if(M>1&&!h){var D=ZP(f,A[0]);u.attr({x:D[0]+w,y:D[1]+b}),o&&(C=d.getRawValue(A[0]))}else{var D=c.getPointOn(x,T);D&&u.attr({x:D[0]+w,y:D[1]+b});var P=d.getRawValue(A[0]),I=d.getRawValue(A[1]);o&&(C=y3(a,v,P,I,S.t))}i.lastFrameIndex=A[0]}else{var k=r===1||i.lastFrameIndex>0?A[0]:0,D=ZP(f,k);o&&(C=d.getRawValue(k)),u.attr({x:D[0]+w,y:D[1]+b})}if(o){var V=Ld(u);typeof V.setLabelText=="function"&&V.setLabelText(C)}}},t.prototype._doUpdateAnimation=function(r,n,a,i,o,s,l){var u=this._polyline,c=this._polygon,f=r.hostModel,d=UJ(this._data,r,this._stackedOnPoints,n,this._coordSys,a,this._valueOrigin),h=d.current,v=d.stackedOnCurrent,p=d.next,m=d.stackedOnNext;if(o&&(h=hl(d.current,a,o,l),v=hl(d.stackedOnCurrent,a,o,l),p=hl(d.next,a,o,l),m=hl(d.stackedOnNext,a,o,l)),jP(h,p)>3e3||c&&jP(v,m)>3e3){u.stopAnimation(),u.setShape({points:p}),c&&(c.stopAnimation(),c.setShape({points:p,stackedOnPoints:m}));return}u.shape.__points=d.current,u.shape.points=h;var g={shape:{points:p}};d.current!==h&&(g.shape.__points=d.next),u.stopAnimation(),On(u,g,f),c&&(c.setShape({points:h,stackedOnPoints:v}),c.stopAnimation(),On(c,{shape:{stackedOnPoints:m}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],_=d.status,x=0;x<_.length;x++){var w=_[x].cmd;if(w==="="){var b=r.getItemGraphicEl(_[x].idx1);b&&y.push({el:b,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var T=u.shape.__points,S=0;S<y.length;S++){var A=y[S].el,M=y[S].ptIdx*2;A.x=T[M],A.y=T[M+1],A.markRedraw()}})},t.prototype.remove=function(r){var n=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,o){i.__temp&&(n.remove(i),a.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(yn);const ree=tee;function nee(e,t){return{seriesType:e,plan:KC(),reset:function(r){var n=r.getData(),a=r.coordinateSystem,i=r.pipelineContext,o=t||i.large;if(a){var s=nt(a.dimensions,function(h){return n.mapDimension(h)}).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");bc(n,s[0])&&(s[0]=u),bc(n,s[1])&&(s[1]=u);var c=n.getStore(),f=n.getDimensionIndex(s[0]),d=n.getDimensionIndex(s[1]);return l&&{progress:function(h,v){for(var p=h.end-h.start,m=o&&Cs(p*l),g=[],y=[],_=h.start,x=0;_<h.end;_++){var w=void 0;if(l===1){var b=c.get(f,_);w=a.dataToPoint(b,null,y)}else g[0]=c.get(f,_),g[1]=c.get(d,_),w=a.dataToPoint(g,null,y);o?(m[x++]=w[0],m[x++]=w[1]):v.setItemLayout(_,w.slice())}o&&v.setLayout("points",m)}}}}}}var aee={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},iee=function(e){return Math.round(e.length/2)};function RF(e){return{seriesType:e,reset:function(t,r,n){var a=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(s/d);if(isFinite(h)&&h>1){i==="lttb"&&t.setData(a.lttbDownSample(a.mapDimension(u.dim),1/h));var v=void 0;rt(i)?v=aee[i]:bt(i)&&(v=i),v&&t.setData(a.downSample(a.mapDimension(u.dim),1/h,v,iee))}}}}}function oee(e){e.registerChartView(ree),e.registerSeriesModel(OJ),e.registerLayout(nee("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,RF("line"))}var OF=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return __(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(r,n,a){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(r),s=i.dataToPoint(o);if(a)j(i.getAxes(),function(d,h){if(d.type==="category"&&n!=null){var v=d.getTicksCoords(),p=o[h],m=n[h]==="x1"||n[h]==="y1";if(m&&(p+=1),v.length<2)return;if(v.length===2){s[h]=d.toGlobalCoord(d.getExtent()[m?1:0]);return}for(var g=void 0,y=void 0,_=1,x=0;x<v.length;x++){var w=v[x].coord,b=x===v.length-1?v[x-1].tickValue+_:v[x].tickValue;if(b===p){y=w;break}else if(b<p)g=w;else if(g!=null&&b>p){y=(w+g)/2;break}x===1&&(_=b-v[0].tickValue)}y==null&&(g?g&&(y=v[v.length-1].coord):y=v[0].coord),s[h]=d.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=i.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(kn);kn.registerClass(OF);const KP=OF;var see=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(){return __(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},t.prototype.brushSelector=function(r,n,a){return a.rect(n.getItemLayout(r))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=yB(KP.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(KP);const lee=see;var uee=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),cee=function(e){ut(t,e);function t(r){var n=e.call(this,r)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new uee},t.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=(s-o)*.5,u=o+l,c=n.startAngle,f=n.endAngle,d=n.clockwise,h=Math.PI*2,v=d?f-c<h:c-f<h;v||(c=f-(d?h:-h));var p=Math.cos(c),m=Math.sin(c),g=Math.cos(f),y=Math.sin(f);v?(r.moveTo(p*o+a,m*o+i),r.arc(p*u+a,m*u+i,l,-Math.PI+c,c,!d)):r.moveTo(p*s+a,m*s+i),r.arc(a,i,s,c,f,!d),r.arc(g*u+a,y*u+i,l,f-Math.PI*2,f-Math.PI,!d),o!==0&&r.arc(a,i,o,f,c,d)},t}(ur);const QP=cee;function fee(e,t){t=t||{};var r=t.isRoundCap;return function(n,a,i){var o=a.position;if(!o||o instanceof Array)return Sy(n,a,i);var s=e(o),l=a.distance!=null?a.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,v=(d+h)/2,p=u.startAngle,m=u.endAngle,g=(p+m)/2,y=r?Math.abs(d-h)/2:0,_=Math.cos,x=Math.sin,w=c+d*_(p),b=f+d*x(p),T="left",S="top";switch(s){case"startArc":w=c+(h-l)*_(g),b=f+(h-l)*x(g),T="center",S="top";break;case"insideStartArc":w=c+(h+l)*_(g),b=f+(h+l)*x(g),T="center",S="bottom";break;case"startAngle":w=c+v*_(p)+$m(p,l+y,!1),b=f+v*x(p)+Wm(p,l+y,!1),T="right",S="middle";break;case"insideStartAngle":w=c+v*_(p)+$m(p,-l+y,!1),b=f+v*x(p)+Wm(p,-l+y,!1),T="left",S="middle";break;case"middle":w=c+v*_(g),b=f+v*x(g),T="center",S="middle";break;case"endArc":w=c+(d+l)*_(g),b=f+(d+l)*x(g),T="center",S="bottom";break;case"insideEndArc":w=c+(d-l)*_(g),b=f+(d-l)*x(g),T="center",S="top";break;case"endAngle":w=c+v*_(m)+$m(m,l+y,!0),b=f+v*x(m)+Wm(m,l+y,!0),T="left",S="middle";break;case"insideEndAngle":w=c+v*_(m)+$m(m,-l+y,!0),b=f+v*x(m)+Wm(m,-l+y,!0),T="right",S="middle";break;default:return Sy(n,a,i)}return n=n||{},n.x=w,n.y=b,n.align=T,n.verticalAlign=S,n}}function dee(e,t,r,n){if(xr(n)){e.setTextConfig({rotation:n});return}else if(Ne(t)){e.setTextConfig({rotation:0});return}var a=e.shape,i=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(i+o)/2,l,u=r(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function $m(e,t,r){return t*Math.sin(e)*(r?-1:1)}function Wm(e,t,r){return t*Math.cos(e)*(r?1:-1)}function Kh(e,t,r){var n=e.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;Ne(n)||(n=[n,n,n,n]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:nt(n,function(i){return Vl(i,a)})}}var Dx=Math.max,Mx=Math.min;function hee(e,t){var r=e.getArea&&e.getArea();if(p2(e,"cartesian2d")){var n=e.getBaseAxis();if(n.type!=="category"||!n.onBand){var a=t.getLayout("bandWidth");n.isHorizontal()?(r.x-=a,r.width+=a*2):(r.y-=a,r.height+=a*2)}}return r}var vee=function(e){ut(t,e);function t(){var r=e.call(this)||this;return r.type=t.type,r._isFirstFrame=!0,r}return t.prototype.render=function(r,n,a,i){this._model=r,this._removeOnRenderedListener(a),this._updateDrawMode(r);var o=r.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,a):this._renderNormal(r,n,a,i))},t.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},t.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},t.prototype.eachRendered=function(r){r_(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r,n,a,i){var o=this.group,s=r.getData(),l=this._data,u=r.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=r.isAnimationEnabled()?r:null,h=pee(r,u);h&&this._enableRealtimeSort(h,s,a);var v=r.get("clip",!0)||h,p=hee(u,s);o.removeClipPath();var m=r.get("roundCap",!0),g=r.get("showBackground",!0),y=r.getModel("backgroundStyle"),_=y.get("borderRadius")||0,x=[],w=this._backgroundEls,b=i&&i.isInitSort,T=i&&i.type==="changeAxisOrder";function S(C){var D=Ym[u.type](s,C),P=wee(u,f,D);return P.useStyle(y.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",_):P.setShape("cornerRadius",_),x[C]=P,P}s.diff(l).add(function(C){var D=s.getItemModel(C),P=Ym[u.type](s,C,D);if(g&&S(C),!(!s.hasValue(C)||!nL[u.type](P))){var I=!1;v&&(I=JP[u.type](p,P));var k=eL[u.type](r,s,C,P,f,d,c.model,!1,m);h&&(k.forceLabelAnimation=!0),aL(k,s,C,D,P,r,f,u.type==="polar"),b?k.attr({shape:P}):h?tL(h,d,k,P,C,f,!1,!1):ka(k,{shape:P},r,C),s.setItemGraphicEl(C,k),o.add(k),k.ignore=I}}).update(function(C,D){var P=s.getItemModel(C),I=Ym[u.type](s,C,P);if(g){var k=void 0;w.length===0?k=S(D):(k=w[D],k.useStyle(y.getItemStyle()),u.type==="cartesian2d"?k.setShape("r",_):k.setShape("cornerRadius",_),x[C]=k);var V=Ym[u.type](s,C),H=NF(f,V,u);On(k,{shape:H},d,C)}var O=l.getItemGraphicEl(D);if(!s.hasValue(C)||!nL[u.type](I)){o.remove(O);return}var L=!1;if(v&&(L=JP[u.type](p,I),L&&o.remove(O)),O?RC(O):O=eL[u.type](r,s,C,I,f,d,c.model,!!O,m),h&&(O.forceLabelAnimation=!0),T){var F=O.getTextContent();if(F){var X=Ld(F);X.prevValue!=null&&(X.prevValue=X.value)}}else aL(O,s,C,P,I,r,f,u.type==="polar");b?O.attr({shape:I}):h?tL(h,d,O,I,C,f,!0,T):On(O,{shape:I},r,C,null),s.setItemGraphicEl(C,O),O.ignore=L,o.add(O)}).remove(function(C){var D=l.getItemGraphicEl(C);D&&Iy(D,r,C)}).execute();var A=this._backgroundGroup||(this._backgroundGroup=new Kn);A.removeAll();for(var M=0;M<x.length;++M)A.add(x[M]);o.add(A),this._backgroundEls=x,this._data=s},t.prototype._renderLarge=function(r,n,a){this._clear(),oL(r,this.group),this._updateLargeClip(r)},t.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),oL(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&WJ(r.coordinateSystem,!1,r),a=this.group;n?a.setClipPath(n):a.removeClipPath()},t.prototype._enableRealtimeSort=function(r,n,a){var i=this;if(n.count()){var o=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,a),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(n,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(r,n,a){var i=[];return r.each(r.mapDimension(n.dim),function(o,s){var l=a(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:nt(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(r,n,a){for(var i=a.scale,o=r.mapDimension(a.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=r.rawIndexOf(o,i.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(r.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(r,n){for(var a=n.scale,i=a.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(r.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(r,n,a,i){if(this._isOrderChangedWithinSameData(r,n,a)){var o=this._dataSort(r,a,n);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(r,n,a){var i=n.baseAxis,o=this._dataSort(r,i,function(s){return r.get(r.mapDimension(n.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(r){var n=this.group,a=this._data;r&&r.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){Iy(i,r,Wt(i).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(yn),JP={cartesian2d:function(e,t){var r=t.width<0?-1:1,n=t.height<0?-1:1;r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var a=e.x+e.width,i=e.y+e.height,o=Dx(t.x,e.x),s=Mx(t.x+t.width,a),l=Dx(t.y,e.y),u=Mx(t.y+t.height,i),c=s<o,f=u<l;return t.x=c&&o>a?s:o,t.y=f&&l>i?u:l,t.width=c?0:s-o,t.height=f?0:u-l,r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}var a=Mx(t.r,e.r),i=Dx(t.r0,e.r0);t.r=a,t.r0=i;var o=a-i<0;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}return o}},eL={cartesian2d:function(e,t,r,n,a,i,o,s,l){var u=new gn({shape:De({},n),z2:1});if(u.__dataIndex=r,u.name="item",i){var c=u.shape,f=a?"height":"width";c[f]=0}return u},polar:function(e,t,r,n,a,i,o,s,l){var u=!a&&l?QP:Rc,c=new u({shape:n,z2:1});c.name="item";var f=kF(a);if(c.calculateTextPosition=fee(f,{isRoundCap:u===QP}),i){var d=c.shape,h=a?"r":"endAngle",v={};d[h]=a?n.r0:n.startAngle,v[h]=n[h],(s?On:ka)(c,{shape:v},i)}return c}};function pee(e,t){var r=e.get("realtimeSort",!0),n=t.getBaseAxis();if(r&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function tL(e,t,r,n,a,i,o,s){var l,u;i?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?On:ka)(r,{shape:l},t,a,null);var c=t?e.baseAxis.model:null;(o?On:ka)(r,{shape:u},c,a)}function rL(e,t){for(var r=0;r<t.length;r++)if(!isFinite(e[t[r]]))return!0;return!1}var mee=["x","y","width","height"],gee=["cx","cy","r","startAngle","endAngle"],nL={cartesian2d:function(e){return!rL(e,mee)},polar:function(e){return!rL(e,gee)}},Ym={cartesian2d:function(e,t,r){var n=e.getItemLayout(t),a=r?_ee(r,n):0,i=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+i*a/2,y:n.y+o*a/2,width:n.width-i*a,height:n.height-o*a}},polar:function(e,t,r){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function yee(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function kF(e){return function(t){var r=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(e)}function aL(e,t,r,n,a,i,o,s){var l=t.getItemVisual(r,"style");if(s){if(!i.get("roundCap")){var c=e.shape,f=Kh(n.getModel("itemStyle"),c,!0);De(c,f),e.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var d=n.getShallow("cursor");d&&e.attr("cursor",d);var h=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",v=Bp(n);Np(e,v,{labelFetcher:i,labelDataIndex:r,defaultText:h2(i.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=e.getTextContent();if(s&&p){var m=n.get(["label","position"]);e.textConfig.inside=m==="middle"?!0:null,dee(e,m==="outside"?h:m,kF(o),n.get(["label","rotate"]))}Oj(p,v,i.getRawValue(r),function(y){return AF(t,y)});var g=n.getModel(["emphasis"]);jv(e,g.get("focus"),g.get("blurScope"),g.get("disabled")),My(e,n),yee(a)&&(e.style.fill="none",e.style.stroke="none",j(e.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function _ee(e,t){var r=e.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=e.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,a,i)}var xee=function(){function e(){}return e}(),iL=function(e){ut(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new xee},t.prototype.buildPath=function(r,n){for(var a=n.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<a.length;c+=3)l[i]=u,l[o]=a[c+2],s[i]=a[c+i],s[o]=a[c+o],r.rect(s[0],s[1],l[0],l[1])},t}(ur);function oL(e,t,r,n){var a=e.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),l=e.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var c=new iL({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),r&&r.push(c)}var f=new iL({shape:{points:a.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(a.getVisual("style")),Wt(f).seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",sL),f.on("mousemove",sL)),r&&r.push(f)}var sL=m_(function(e){var t=this,r=bee(t,e.offsetX,e.offsetY);Wt(t).dataIndex=r>=0?r:null},30,!1);function bee(e,t,r){for(var n=e.baseDimIdx,a=1-n,i=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,f=i.length/3;c<f;c++){var d=c*3;if(l[n]=u,l[a]=i[d+2],s[n]=i[d+n],s[a]=i[d+a],l[a]<0&&(s[a]+=l[a],l[a]=-l[a]),t>=s[0]&&t<=s[0]+l[0]&&r>=s[1]&&r<=s[1]+l[1])return o[c]}return-1}function NF(e,t,r){if(p2(r,"cartesian2d")){var n=t,a=r.getArea();return{x:e?n.x:a.x,y:e?a.y:n.y,width:e?n.width:a.width,height:e?a.height:n.height}}else{var a=r.getArea(),i=t;return{cx:a.cx,cy:a.cy,r0:e?a.r0:i.r0,r:e?a.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:Math.PI*2}}}function wee(e,t,r){var n=e.type==="polar"?Rc:gn;return new n({shape:NF(t,r,e),silent:!0,z2:0})}const See=vee;function BF(e){e.registerChartView(See),e.registerSeriesModel(lee),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,zr(PQ,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,LQ("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,RF("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,r){var n=t.componentType||"series";r.eachComponent({mainType:n,query:t},function(a){t.sortInfo&&a.axis.setCategorySortInfo(t.sortInfo)})})}var Xm=Math.PI*2,lL=Math.PI/180;function VF(e,t){return wo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function FF(e,t){var r=VF(e,t),n=e.get("center"),a=e.get("radius");Ne(a)||(a=[0,a]);var i=Sr(r.width,t.getWidth()),o=Sr(r.height,t.getHeight()),s=Math.min(i,o),l=Sr(a[0],s/2),u=Sr(a[1],s/2),c,f,d=e.coordinateSystem;if(d){var h=d.dataToPoint(n);c=h[0]||0,f=h[1]||0}else Ne(n)||(n=[n,n]),c=Sr(n[0],i)+r.x,f=Sr(n[1],o)+r.y;return{cx:c,cy:f,r0:l,r:u}}function Tee(e,t,r){t.eachSeriesByType(e,function(n){var a=n.getData(),i=a.mapDimension("value"),o=VF(n,r),s=FF(n,r),l=s.cx,u=s.cy,c=s.r,f=s.r0,d=-n.get("startAngle")*lL,h=n.get("minAngle")*lL,v=0;a.each(i,function(M){!isNaN(M)&&v++});var p=a.getSum(i),m=Math.PI/(p||v)*2,g=n.get("clockwise"),y=n.get("roseType"),_=n.get("stillShowZeroSum"),x=a.getDataExtent(i);x[0]=0;var w=Xm,b=0,T=d,S=g?1:-1;if(a.setLayout({viewRect:o,r:c}),a.each(i,function(M,C){var D;if(isNaN(M)){a.setItemLayout(C,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:l,cy:u,r0:f,r:y?NaN:c});return}y!=="area"?D=p===0&&_?m:M*m:D=Xm/v,D<h?(D=h,w-=h):b+=M;var P=T+S*D;a.setItemLayout(C,{angle:D,startAngle:T,endAngle:P,clockwise:g,cx:l,cy:u,r0:f,r:y?Wv(M,x,[f,c]):c}),T=P}),w<Xm&&v)if(w<=.001){var A=Xm/v;a.each(i,function(M,C){if(!isNaN(M)){var D=a.getItemLayout(C);D.angle=A,D.startAngle=d+S*C*A,D.endAngle=d+S*(C+1)*A}})}else m=w/b,T=d,a.each(i,function(M,C){if(!isNaN(M)){var D=a.getItemLayout(C),P=D.angle===h?h:M*m;D.startAngle=T,D.endAngle=T+S*P,T+=S*P}})})}function Cee(e){return{seriesType:e,reset:function(t,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var a=t.getData();a.filterSelf(function(i){for(var o=a.getName(i),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var Aee=Math.PI/180;function uL(e,t,r,n,a,i,o,s,l,u){if(e.length<2)return;function c(p){for(var m=p.rB,g=m*m,y=0;y<p.list.length;y++){var _=p.list[y],x=Math.abs(_.label.y-r),w=n+_.len,b=w*w,T=Math.sqrt((1-Math.abs(x*x/g))*b),S=t+(T+_.len2)*a,A=S-_.label.x,M=_.targetTextWidth-A*a;zF(_,M,!0),_.label.x=S}}function f(p){for(var m={list:[],maxY:0},g={list:[],maxY:0},y=0;y<p.length;y++)if(p[y].labelAlignTo==="none"){var _=p[y],x=_.label.y>r?g:m,w=Math.abs(_.label.y-r);if(w>=x.maxY){var b=_.label.x-t-_.len2*a,T=n+_.len,S=Math.abs(b)<T?Math.sqrt(w*w/(1-b*b/T/T)):T;x.rB=S,x.maxY=w}x.list.push(_)}c(m),c(g)}for(var d=e.length,h=0;h<d;h++)if(e[h].position==="outer"&&e[h].labelAlignTo==="labelLine"){var v=e[h].label.x-u;e[h].linePoints[1][0]+=v,e[h].label.x=u}TF(e,l,l+o)&&f(e)}function Eee(e,t,r,n,a,i,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;Px(e[d])||(h.x<t?(c=Math.min(c,h.x),l.push(e[d])):(f=Math.max(f,h.x),u.push(e[d])))}for(var d=0;d<e.length;d++){var v=e[d];if(!Px(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var h=v.label,p=v.linePoints,m=void 0;v.labelAlignTo==="edge"?h.x<t?m=p[2][0]-v.labelDistance-o-v.edgeDistance:m=o+a-v.edgeDistance-p[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?h.x<t?m=c-o-v.bleedMargin:m=o+a-f-v.bleedMargin:h.x<t?m=h.x-o-v.bleedMargin:m=o+a-h.x-v.bleedMargin,v.targetTextWidth=m,zF(v,m)}}uL(u,t,r,n,1,a,i,o,s,f),uL(l,t,r,n,-1,a,i,o,s,c);for(var d=0;d<e.length;d++){var v=e[d];if(!Px(v)&&v.linePoints){var h=v.label,p=v.linePoints,g=v.labelAlignTo==="edge",y=h.style.padding,_=y?y[1]+y[3]:0,x=h.style.backgroundColor?0:_,w=v.rect.width+x,b=p[1][0]-p[2][0];g?h.x<t?p[2][0]=o+v.edgeDistance+w+v.labelDistance:p[2][0]=o+a-v.edgeDistance-w-v.labelDistance:(h.x<t?p[2][0]=h.x+v.labelDistance:p[2][0]=h.x-v.labelDistance,p[1][0]=p[2][0]+b),p[1][1]=p[2][1]=h.y}}}function zF(e,t,r){if(r===void 0&&(r=!1),e.labelStyleWidth==null){var n=e.label,a=n.style,i=e.rect,o=a.backgroundColor,s=a.padding,l=s?s[1]+s[3]:0,u=a.overflow,c=i.width+(o?0:l);if(t<c||r){var f=i.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var d=n.getBoundingRect();n.setStyle("width",Math.ceil(d.width)),n.setStyle("backgroundColor",o)}else{var h=t-l,v=t<c?h:r?h>e.unconstrainedWidth?null:h:null;n.setStyle("width",v)}var p=n.getBoundingRect();i.width=p.width;var m=(n.style.margin||0)+2.1;i.height=p.height+m,i.y-=(i.height-f)/2}}}function Px(e){return e.position==="center"}function Dee(e){var t=e.getData(),r=[],n,a,i=!1,o=(e.get("minShowLabelAngle")||0)*Aee,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function h(b){b.ignore=!0}function v(b){if(!b.ignore)return!0;for(var T in b.states)if(b.states[T].ignore===!1)return!0;return!1}t.each(function(b){var T=t.getItemGraphicEl(b),S=T.shape,A=T.getTextContent(),M=T.getTextGuideLine(),C=t.getItemModel(b),D=C.getModel("label"),P=D.get("position")||C.get(["emphasis","label","position"]),I=D.get("distanceToLabelLine"),k=D.get("alignTo"),V=Sr(D.get("edgeDistance"),u),H=D.get("bleedMargin"),O=C.getModel("labelLine"),L=O.get("length");L=Sr(L,u);var F=O.get("length2");if(F=Sr(F,u),Math.abs(S.endAngle-S.startAngle)<o){j(A.states,h),A.ignore=!0,M&&(j(M.states,h),M.ignore=!0);return}if(v(A)){var X=(S.startAngle+S.endAngle)/2,Y=Math.cos(X),G=Math.sin(X),z,N,U,Z;n=S.cx,a=S.cy;var K=P==="inside"||P==="inner";if(P==="center")z=S.cx,N=S.cy,Z="center";else{var q=(K?(S.r+S.r0)/2*Y:S.r*Y)+n,ue=(K?(S.r+S.r0)/2*G:S.r*G)+a;if(z=q+Y*3,N=ue+G*3,!K){var se=q+Y*(L+l-S.r),B=ue+G*(L+l-S.r),$=se+(Y<0?-1:1)*F,Q=B;k==="edge"?z=Y<0?c+V:c+u-V:z=$+(Y<0?-I:I),N=Q,U=[[q,ue],[se,B],[$,Q]]}Z=K?"center":k==="edge"?Y>0?"right":"left":Y>0?"left":"right"}var re=Math.PI,le=0,de=D.get("rotate");if(xr(de))le=de*(re/180);else if(P==="center")le=0;else if(de==="radial"||de===!0){var Ae=Y<0?-X+re:-X;le=Ae}else if(de==="tangential"&&P!=="outside"&&P!=="outer"){var we=Math.atan2(Y,G);we<0&&(we=re*2+we);var Ie=G>0;Ie&&(we=re+we),le=we-re}if(i=!!le,A.x=z,A.y=N,A.rotation=le,A.setStyle({verticalAlign:"middle"}),K){A.setStyle({align:Z});var ge=A.states.select;ge&&(ge.x+=A.x,ge.y+=A.y)}else{var oe=A.getBoundingRect().clone();oe.applyTransform(A.getComputedTransform());var me=(A.style.margin||0)+2.1;oe.y-=me/2,oe.height+=me,r.push({label:A,labelLine:M,position:P,len:L,len2:F,minTurnAngle:O.get("minTurnAngle"),maxSurfaceAngle:O.get("maxSurfaceAngle"),surfaceNormal:new pt(Y,G),linePoints:U,textAlign:Z,labelDistance:I,labelAlignTo:k,edgeDistance:V,bleedMargin:H,rect:oe,unconstrainedWidth:oe.width,labelStyleWidth:A.style.width})}T.setTextConfig({inside:K})}}),!i&&e.get("avoidLabelOverlap")&&Eee(r,n,a,l,u,d,c,f);for(var p=0;p<r.length;p++){var m=r[p],g=m.label,y=m.labelLine,_=isNaN(g.x)||isNaN(g.y);if(g){g.setStyle({align:m.textAlign}),_&&(j(g.states,h),g.ignore=!0);var x=g.states.select;x&&(x.x+=g.x,x.y+=g.y)}if(y){var w=m.linePoints;_||!w?(j(y.states,h),y.ignore=!0):(_F(w,m.minTurnAngle),TJ(w,m.surfaceNormal,m.maxSurfaceAngle),y.setShape({points:w}),g.__hostTarget.textGuideLineConfig={anchor:new pt(w[0][0],w[0][1])})}}}var Mee=function(e){ut(t,e);function t(r,n,a){var i=e.call(this)||this;i.z2=2;var o=new Kr;return i.setTextContent(o),i.updateData(r,n,a,!0),i}return t.prototype.updateData=function(r,n,a,i){var o=this,s=r.hostModel,l=r.getItemModel(n),u=l.getModel("emphasis"),c=r.getItemLayout(n),f=De(Kh(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(i){o.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(ka(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):d==="scale"?(o.shape.r=c.r0,ka(o,{shape:{r:c.r}},s,n)):a!=null?(o.setShape({startAngle:a,endAngle:a}),ka(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,On(o,{shape:{endAngle:c.endAngle}},s,n))}else RC(o),On(o,{shape:f},s,n);o.useStyle(r.getItemVisual(n,"style")),My(o,l);var h=(c.startAngle+c.endAngle)/2,v=s.get("selectedOffset"),p=Math.cos(h)*v,m=Math.sin(h)*v,g=l.getShallow("cursor");g&&o.attr("cursor",g),this._updateLabel(s,r,n),o.ensureState("emphasis").shape=De({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Kh(u.getModel("itemStyle"),c)),De(o.ensureState("select"),{x:p,y:m,shape:Kh(l.getModel(["select","itemStyle"]),c)}),De(o.ensureState("blur"),{shape:Kh(l.getModel(["blur","itemStyle"]),c)});var y=o.getTextGuideLine(),_=o.getTextContent();y&&De(y.ensureState("select"),{x:p,y:m}),De(_.ensureState("select"),{x:p,y:m}),jv(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r,n,a){var i=this,o=n.getItemModel(a),s=o.getModel("labelLine"),l=n.getItemVisual(a,"style"),u=l&&l.fill,c=l&&l.opacity;Np(i,Bp(o),{labelFetcher:n.hostModel,labelDataIndex:a,inheritColor:u,defaultOpacity:c,defaultText:r.getFormattedLabel(a,"normal")||n.getName(a)});var f=i.getTextContent();i.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=r.get(["label","position"]);if(d!=="outside"&&d!=="outer")i.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new e_,this.setTextGuideLine(h)),xF(this,bF(o),{stroke:u,opacity:dv(s.get(["lineStyle","opacity"]),c,1)})}},t}(Rc),Pee=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,a,i){var o=r.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&r.get("showEmptyCircle")){var d=new Rc({shape:FF(r,a)});d.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}o.diff(s).add(function(h){var v=new Mee(o,h,u);o.setItemGraphicEl(h,v),l.add(v)}).update(function(h,v){var p=s.getItemGraphicEl(v);p.updateData(o,h,u),p.off("click"),l.add(p),o.setItemGraphicEl(h,p)}).remove(function(h){var v=s.getItemGraphicEl(h);Iy(v,r,h)}).execute(),Dee(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(r,n){var a=n.getData(),i=a.getItemLayout(0);if(i){var o=r[0]-i.cx,s=r[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="pie",t}(yn);const Lee=Pee;function Iee(e,t,r){t=Ne(t)&&{coordDimensions:t}||De({encodeDefine:e.getEncode()},t);var n=e.getSource(),a=i2(n,t).dimensions,i=new Xi(a,e);return i.initData(n,r),i}var Ree=function(){function e(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var r=this._getRawData();return r.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var r=this._getDataWithEncodedVisual();return r.indexOfName(t)},e.prototype.getItemVisual=function(t,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,r)},e}();const Oee=Ree;var kee=Pr(),Nee=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Oee(Or(this.getData,this),Or(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Iee(this,{coordDimensions:["value"],encodeDefaulter:zr(lq,this)})},t.prototype.getDataParams=function(r){var n=this.getData(),a=kee(n),i=a.seats;if(!i){var o=[];n.each(n.mapDimension("value"),function(l){o.push(l)}),i=a.seats=Z7(o,n.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,r);return s.percent=i[r]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(r){Lw(r,"labelLine",["show"]);var n=r.labelLine,a=r.emphasis.labelLine;n.show=n.show&&r.label.show,a.show=a.show&&r.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(kn);const Bee=Nee;function Vee(e){return{seriesType:e,reset:function(t,r){var n=t.getData();n.filterSelf(function(a){var i=n.mapDimension("value"),o=n.get(i,a);return!(xr(o)&&!isNaN(o)&&o<0)})}}}function Fee(e){e.registerChartView(Lee),e.registerSeriesModel(Bee),jZ("pie",e.registerAction),e.registerLayout(zr(Tee,"pie")),e.registerProcessor(Cee("pie")),e.registerProcessor(Vee("pie"))}var zee=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(nr);const Uee=zee;var uS=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",po).models[0]},t.type="cartesian2dAxis",t}(nr);li(uS,uF);var UF={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Hee=je({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},UF),m2=je({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},UF),Gee=je({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},m2),$ee=kt({logBase:10},m2);const Wee={category:Hee,value:m2,time:Gee,log:$ee};var Yee={value:1,category:1,time:1,log:1};function cL(e,t,r,n){j(Yee,function(a,i){var o=je(je({},Wee[i],!0),n,!0),s=function(l){ut(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=Qv(this),h=d?f_(c):{},v=f.getTheme();je(c,v.get(i+"Axis")),je(c,this.getDefaultOption()),c.type=fL(c),d&&_c(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Gy.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+i,u.defaultOption=o,u}(r);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",fL)}function fL(e){return e.type||(e.data?"category":"value")}var Xee=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return nt(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),dn(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e}();const g2=Xee;var cS=["x","y"];function dL(e){return e.type==="interval"||e.type==="time"}var jee=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=cS,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!dL(r)||!dL(n))){var a=r.getExtent(),i=n.getExtent(),o=this.dataToPoint([a[0],i[0]]),s=this.dataToPoint([a[1],i[1]]),l=a[1]-a[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,d=o[0]-a[0]*c,h=o[1]-i[0]*f,v=this._transform=[c,0,0,f,d,h];this._invTransform=Md([],v)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),a=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&a.contain(a.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var a=this.dataToPoint(r),i=this.dataToPoint(n),o=this.getArea(),s=new Ut(a[0],a[1],i[0]-a[0],i[1]-a[1]);return o.intersect(s)},t.prototype.dataToPoint=function(r,n,a){a=a||[];var i=r[0],o=r[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return fa(a,r,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(i,n)),a[1]=l.toGlobalCoord(l.dataToCoord(o,n)),a},t.prototype.clampData=function(r,n){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,o=a.getExtent(),s=i.getExtent(),l=a.parse(r[0]),u=i.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(r,n){var a=[];if(this._invTransform)return fa(a,r,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(r[0]),n),a[1]=o.coordToData(o.toLocalCoord(r[1]),n),a},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1]),i=Math.min(n[0],n[1]),o=Math.max(r[0],r[1])-a,s=Math.max(n[0],n[1])-i;return new Ut(a,i,o,s)},t}(g2),qee=function(e){ut(t,e);function t(r,n,a,i,o){var s=e.call(this,r,n,a)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t}(Up);const Zee=qee;function fS(e,t,r){r=r||{};var n=e.coordinateSystem,a=t.axis,i={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,u=a.dim,c=n.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,v=u==="x"?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));v[d.onZero]=Math.max(Math.min(p,v[1]),v[0])}i.position=[u==="y"?v[d[l]]:f[0],u==="x"?v[d[l]]:f[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=m[s],i.labelOffset=o?v[d[s]]-v[d.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Gv(r.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var g=t.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-g:g,i.z2=1,i}function hL(e){return e.get("coordinateSystem")==="cartesian2d"}function vL(e){var t={xAxisModel:null,yAxisModel:null};return j(t,function(r,n){var a=n.replace(/Model$/,""),i=e.getReferringComponents(a,po).models[0];t[n]=i}),t}var Lx=Math.log;function Kee(e,t,r){var n=Fp.prototype,a=n.getTicks.call(r),i=n.getTicks.call(r,!0),o=a.length-1,s=n.getInterval.call(r),l=oF(e,t),u=l.extent,c=l.fixMin,f=l.fixMax;if(e.type==="log"){var d=Lx(e.base);u=[Lx(u[0])/d,Lx(u[1])/d]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var h=n.getExtent.call(e);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var v=n.getInterval.call(e),p=u[0],m=u[1];if(c&&f)v=(m-p)/o;else if(c)for(m=u[0]+v*o;m<u[1]&&isFinite(m)&&isFinite(u[1]);)v=xx(v),m=u[0]+v*o;else if(f)for(p=u[1]-v*o;p>u[0]&&isFinite(p)&&isFinite(u[0]);)v=xx(v),p=u[1]-v*o;else{var g=e.getTicks().length-1;g>o&&(v=xx(v));var y=v*o;m=Math.ceil(u[1]/v)*v,p=Yr(m-y),p<0&&u[0]>=0?(p=0,m=Yr(y)):m>0&&u[1]<=0&&(m=0,p=-Yr(y))}var _=(a[0].value-i[0].value)/s,x=(a[o].value-i[o].value)/s;n.setExtent.call(e,p+v*_,m+v*x),n.setInterval.call(e,v),(_||x)&&n.setNiceExtent.call(e,p+v,m-v)}var Qee=function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cS,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function a(o){var s,l=ir(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=o[d],v=h.model,p=h.scale;oS(p)&&v.get("alignTicks")&&v.get("interval")==null?c.push(h):(sS(p,v),oS(p)&&(s=h))}c.length&&(s||(s=c.pop(),sS(s.scale,s.model)),j(c,function(m){Kee(m.scale,m.model,s.scale)}))}}a(n.x),a(n.y);var i={};j(n.x,function(o){pL(n,"y",o,i)}),j(n.y,function(o){pL(n,"x",o,i)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var a=t.getBoxLayoutParams(),i=!n&&t.get("containLabel"),o=wo(a,{width:r.getWidth(),height:r.getHeight()});this._rect=o;var s=this._axesList;l(),i&&(j(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=QQ(u);if(c){var f=u.isHorizontal()?"height":"width",d=u.model.get(["axisLabel","margin"]);o[f]-=c[f]+d,u.position==="top"?o.y+=c.height+d:u.position==="left"&&(o.x+=c.width+d)}}}),l()),j(this._coordsList,function(u){u.calcAffineTransform()});function l(){j(s,function(u){var c=u.isHorizontal(),f=c?[0,o.width]:[0,o.height],d=u.inverse?1:0;u.setExtent(f[d],f[1-d]),Jee(u,c?o.x:o.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}lt(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===t||i[a].getAxis("y").index===r)return i[a]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",po).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",po).models[0],i=t.gridModel,o=this._coordsList,s,l;if(r)s=r.coordinateSystem,$t(o,s)<0&&(s=null);else if(n&&a)s=this.getCartesian(n.componentIndex,a.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var a=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",u("x"),this),r.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,j(s.x,function(c,f){j(s.y,function(d,h){var v="x"+f+"y"+h,p=new jee(v);p.master=a,p.model=t,a._coordsMap[v]=p,a._coordsList.push(p),p.addAxis(c),p.addAxis(d)})});function u(c){return function(f,d){if(Ix(f,t)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var v=new Zee(c,sF(f),[0,0],f.get("type"),h),p=v.type==="category";v.onBand=p&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=i,v.index=d,i._axesList.push(v),s[c][d]=v,l[c]++}}}},e.prototype._updateScale=function(t,r){j(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),t.eachSeries(function(a){if(hL(a)){var i=vL(a),o=i.xAxisModel,s=i.yAxisModel;if(!Ix(o,r)||!Ix(s,r))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(a,i){j(eJ(a,i.dim),function(o){i.scale.unionExtentFromData(a,o)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return j(this.getCartesians(),function(a){var i=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),o=a.getOtherAxis(i);$t(r,i)<0&&r.push(i),$t(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(a,i){var o=new e(a,t,r);o.name="grid_"+i,o.resize(a,r,!0),a.coordinateSystem=o,n.push(o)}),t.eachSeries(function(a){if(hL(a)){var i=vL(a),o=i.xAxisModel,s=i.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),n},e.dimensions=cS,e}();function Ix(e,t){return e.getCoordSysModel()===t}function pL(e,t,r,n){r.getAxesOnZeroOf=function(){return i?[i]:[]};var a=e[t],i,o=r.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)mL(a[l])&&(i=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&mL(a[u])&&!n[c(a[u])]){i=a[u];break}i&&(n[c(i)]=!0);function c(f){return f.dim+"_"+f.index}}function mL(e){return e&&e.type!=="category"&&e.type!=="time"&&KQ(e)}function Jee(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(a){return a+t}:function(a){return n-a+t},e.toLocalCoord=e.dim==="x"?function(a){return a-t}:function(a){return n-a+t}}const ete=Qee;var Dl=Math.PI,lc=function(){function e(t,r){this.group=new Kn,this.opt=r,this.axisModel=t,kt(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Kn({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(t){return!!gL[t]},e.prototype.add=function(t){gL[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,r,n){var a=c3(r-t),i,o;return Ty(a)?(o=n>0?"top":"bottom",i="center"):Ty(a-Dl)?(o=n>0?"bottom":"top",i="center"):(o="middle",a>0&&a<Dl?i=n>0?"right":"left":i=n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e}(),gL={axisLine:function(e,t,r,n){var a=t.get(["axisLine","show"]);if(a==="auto"&&e.handleAutoShown&&(a=e.handleAutoShown("axisLine")),!!a){var i=t.axis.getExtent(),o=n.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];o&&(fa(s,s,o),fa(l,l,o));var c=De({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new gc({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});qv(f.shape,f.style.lineWidth),f.anid="line",r.add(f);var d=t.get(["axisLine","symbol"]);if(d!=null){var h=t.get(["axisLine","symbolSize"]);rt(d)&&(d=[d,d]),(rt(h)||xr(h))&&(h=[h,h]);var v=pV(t.get(["axisLine","symbolOffset"])||0,h),p=h[0],m=h[1];j([{rotate:e.rotation+Math.PI/2,offset:v[0],r:0},{rotate:e.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(g,y){if(d[y]!=="none"&&d[y]!=null){var _=xc(d[y],-p/2,-m/2,p,m,c.stroke,!0),x=g.r+g.offset,w=u?l:s;_.attr({rotation:g.rotate,x:w[0]+x*Math.cos(e.rotation),y:w[1]-x*Math.sin(e.rotation),silent:!0,z2:11}),r.add(_)}})}}},axisTickLabel:function(e,t,r,n){var a=nte(r,n,t,e),i=ite(r,n,t,e);if(rte(t,i,a),ate(r,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=wF(nt(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));CF(o)}},axisName:function(e,t,r,n){var a=Gv(e.axisName,t.get("name"));if(a){var i=t.get("nameLocation"),o=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[i==="start"?u[0]-c*l:i==="end"?u[1]+c*l:(u[0]+u[1])/2,_L(i)?e.labelOffset+o*l:0],d,h=t.get("nameRotate");h!=null&&(h=h*Dl/180);var v;_L(i)?d=lc.innerTextLayout(e.rotation,h??e.rotation,o):(d=tte(e.rotation,i,h||0,u),v=e.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(d.rotation)),!isFinite(v)&&(v=null)));var p=s.getFont(),m=t.get("nameTruncate",!0)||{},g=m.ellipsis,y=Gv(e.nameTruncateMaxWidth,m.maxWidth,v),_=new Kr({x:f[0],y:f[1],rotation:d.rotation,silent:lc.isLabelSilent(t),style:Yi(s,{text:a,font:p,overflow:"truncate",width:y,ellipsis:g,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(t_({el:_,componentModel:t,itemName:a}),_.__fullText=a,_.anid="name",t.get("triggerEvent")){var x=lc.makeAxisEventDataBase(t);x.targetType="axisName",x.name=a,Wt(_).eventData=x}n.add(_),_.updateTransform(),r.add(_),_.decomposeTransform()}}};function tte(e,t,r,n){var a=c3(r-e),i,o,s=n[0]>n[1],l=t==="start"&&!s||t!=="start"&&s;return Ty(a-Dl/2)?(o=l?"bottom":"top",i="center"):Ty(a-Dl*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",a<Dl*1.5&&a>Dl/2?i=l?"left":"right":i=l?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:o}}function rte(e,t,r){if(!lF(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),a=e.get(["axisLabel","showMaxLabel"]);t=t||[],r=r||[];var i=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=r[0],c=r[1],f=r[r.length-1],d=r[r.length-2];n===!1?(gi(i),gi(u)):yL(i,o)&&(n?(gi(o),gi(c)):(gi(i),gi(u))),a===!1?(gi(s),gi(f)):yL(l,s)&&(a?(gi(l),gi(d)):(gi(s),gi(f)))}}function gi(e){e&&(e.ignore=!0)}function yL(e,t){var r=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!r||!n)){var a=$0([]);return mC(a,a,-e.rotation),r.applyTransform(ac([],a,e.getLocalTransform())),n.applyTransform(ac([],a,t.getLocalTransform())),r.intersect(n)}}function _L(e){return e==="middle"||e==="center"}function HF(e,t,r,n,a){for(var i=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=r,t&&(fa(o,o,t),fa(s,s,t));var c=new gc({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});qv(c.shape,c.style.lineWidth),c.anid=a+"_"+e[l].tickValue,i.push(c)}return i}function nte(e,t,r,n){var a=r.axis,i=r.getModel("axisTick"),o=i.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||a.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=n.tickDirection*i.get("length"),u=a.getTicksCoords(),c=HF(u,t.transform,l,kt(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}}function ate(e,t,r,n){var a=r.axis,i=r.getModel("minorTick");if(!(!i.get("show")||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=n*i.get("length"),u=kt(s.getLineStyle(),kt(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var f=HF(o[c],t.transform,l,u,"minorticks_"+c),d=0;d<f.length;d++)e.add(f[d])}}function ite(e,t,r,n){var a=r.axis,i=Gv(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!i||a.scale.isBlank())){var o=r.getModel("axisLabel"),s=o.get("margin"),l=a.getViewLabels(),u=(Gv(n.labelRotate,o.get("rotate"))||0)*Dl/180,c=lc.innerTextLayout(n.rotation,u,n.labelDirection),f=r.getCategories&&r.getCategories(!0),d=[],h=lc.isLabelSilent(r),v=r.get("triggerEvent");return j(l,function(p,m){var g=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,y=p.formattedLabel,_=p.rawLabel,x=o;if(f&&f[g]){var w=f[g];lt(w)&&w.textStyle&&(x=new on(w.textStyle,o,r.ecModel))}var b=x.getTextColor()||r.get(["axisLine","lineStyle","color"]),T=a.dataToCoord(g),S=new Kr({x:T,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:h,z2:10+(p.level||0),style:Yi(x,{text:y,align:x.getShallow("align",!0)||c.textAlign,verticalAlign:x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,fill:bt(b)?b(a.type==="category"?_:a.type==="value"?g+"":g,m):b})});if(S.anid="label_"+g,v){var A=lc.makeAxisEventDataBase(r);A.targetType="axisLabel",A.value=_,A.tickIndex=m,a.type==="category"&&(A.dataIndex=g),Wt(S).eventData=A}t.add(S),S.updateTransform(),d.push(S),e.add(S),S.decomposeTransform()}),d}}const GF=lc;function ote(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ste(r,e,t),r.seriesInvolved&&ute(r,e),r}function ste(e,t,r){var n=t.getComponent("tooltip"),a=t.getComponent("axisPointer"),i=a.get("link",!0)||[],o=[];j(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=ap(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",n);if(j(s.getAxes(),zr(p,!1,null)),s.getTooltipAxes&&n&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&j(v.baseAxes,zr(p,h?"cross":!0,d)),h&&j(v.otherAxes,zr(p,"cross",!1))}function p(m,g,y){var _=y.model.getModel("axisPointer",a),x=_.get("show");if(!(!x||x==="auto"&&!m&&!dS(_))){g==null&&(g=_.get("triggerTooltip")),_=m?lte(y,f,a,t,m,g):_;var w=_.get("snap"),b=_.get("triggerEmphasis"),T=ap(y.model),S=g||w||y.type==="category",A=e.axesInfo[T]={key:T,axis:y,coordSys:s,axisPointerModel:_,triggerTooltip:g,triggerEmphasis:b,involveSeries:S,snap:w,useHandle:dS(_),seriesModels:[],linkGroup:null};u[T]=A,e.seriesInvolved=e.seriesInvolved||S;var M=cte(i,y);if(M!=null){var C=o[M]||(o[M]={axesInfo:{}});C.axesInfo[T]=A,C.mapper=i[M].mapper,A.linkGroup=C}}}})}function lte(e,t,r,n,a,i){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};j(s,function(d){l[d]=Kt(o.get(d))}),l.snap=e.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!i){var f=l.lineStyle=o.get("crossStyle");f&&kt(u,f.textStyle)}}return e.model.getModel("axisPointer",new on(l,r,n))}function ute(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,a=r.get(["tooltip","trigger"],!0),i=r.get(["tooltip","show"],!0);!n||a==="none"||a===!1||a==="item"||i===!1||r.get(["axisPointer","show"],!0)===!1||j(e.coordSysAxesInfo[ap(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function cte(e,t){for(var r=t.model,n=t.dim,a=0;a<e.length;a++){var i=e[a]||{};if(Rx(i[n+"AxisId"],r.id)||Rx(i[n+"AxisIndex"],r.componentIndex)||Rx(i[n+"AxisName"],r.name))return a}}function Rx(e,t){return e==="all"||Ne(e)&&$t(e,t)>=0||e===t}function fte(e){var t=y2(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,a=r.option,i=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=dS(r);i==null&&(a.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=t.axis.scale.isBlank()?"hide":"show")}}function y2(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[ap(e)]}function dte(e){var t=y2(e);return t&&t.axisPointerModel}function dS(e){return!!e.get(["handle","show"])}function ap(e){return e.type+"||"+e.id}var xL={},hte=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,a,i){this.axisPointerClass&&fte(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,a,!0)},t.prototype.updateAxisPointer=function(r,n,a,i){this._doUpdateAxisPointerClass(r,a,!1)},t.prototype.remove=function(r,n){var a=this._axisPointer;a&&a.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,a){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var o=dte(r);o?(this._axisPointer||(this._axisPointer=new i)).render(r,o,n,a):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){xL[r]=n},t.getAxisPointerClass=function(r){return r&&xL[r]},t.type="axis",t}(va);const $F=hte;var hS=Pr();function vte(e,t,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,f=hS(e).splitAreaColors,d=xt(),h=0;if(f)for(var v=0;v<u.length;v++){var p=f.get(u[v].tickValue);if(p!=null){h=(p+(c-1)*v)%c;break}}var m=a.toGlobalCoord(u[0].coord),g=o.getAreaStyle();s=Ne(s)?s:[s];for(var v=1;v<u.length;v++){var y=a.toGlobalCoord(u[v].coord),_=void 0,x=void 0,w=void 0,b=void 0;a.isHorizontal()?(_=m,x=l.y,w=y-_,b=l.height,m=_+w):(_=l.x,x=m,w=l.width,b=y-x,m=x+b);var T=u[v-1].tickValue;T!=null&&d.set(T,h),t.add(new gn({anid:T!=null?"area_"+T:null,shape:{x:_,y:x,width:w,height:b},style:kt({fill:s[h]},g),autoBatch:!0,silent:!0})),h=(h+1)%c}hS(e).splitAreaColors=d}}}function pte(e){hS(e).splitAreaColors=null}var mte=["axisLine","axisTickLabel","axisName"],gte=["splitArea","splitLine","minorSplitLine"],WF=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,a,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Kn,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),l=fS(s,r),u=new GF(r,De({handleAutoShown:function(f){for(var d=s.coordinateSystem.getCartesians(),h=0;h<d.length;h++)if(oS(d[h].getOtherAxis(r.axis).scale))return!0;return!1}},l));j(mte,u.add,u),this._axisGroup.add(u.getGroup()),j(gte,function(f){r.get([f,"show"])&&yte[f](this,this._axisGroup,r,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||hB(o,this._axisGroup,r),e.prototype.render.call(this,r,n,a,i)}},t.prototype.remove=function(){pte(this)},t.type="cartesianAxis",t}($F),yte={splitLine:function(e,t,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=Ne(s)?s:[s];for(var l=n.coordinateSystem.getRect(),u=a.isHorizontal(),c=0,f=a.getTicksCoords({tickModel:i}),d=[],h=[],v=o.getLineStyle(),p=0;p<f.length;p++){var m=a.toGlobalCoord(f[p].coord);u?(d[0]=m,d[1]=l.y,h[0]=m,h[1]=l.y+l.height):(d[0]=l.x,d[1]=m,h[0]=l.x+l.width,h[1]=m);var g=c++%s.length,y=f[p].tickValue,_=new gc({anid:y!=null?"line_"+f[p].tickValue:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:kt({stroke:s[g]},v),silent:!0});qv(_.shape,v.lineWidth),t.add(_)}}},minorSplitLine:function(e,t,r,n){var a=r.axis,i=r.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var c=[],f=[],d=o.getLineStyle(),h=0;h<u.length;h++)for(var v=0;v<u[h].length;v++){var p=a.toGlobalCoord(u[h][v].coord);l?(c[0]=p,c[1]=s.y,f[0]=p,f[1]=s.y+s.height):(c[0]=s.x,c[1]=p,f[0]=s.x+s.width,f[1]=p);var m=new gc({anid:"minor_line_"+u[h][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:d,silent:!0});qv(m.shape,d.lineWidth),t.add(m)}},splitArea:function(e,t,r,n){vte(e,t,r,n)}},YF=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t}(WF),_te=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=YF.type,r}return t.type="yAxis",t}(WF),xte=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new gn({shape:r.coordinateSystem.getRect(),style:kt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(va),bL={offset:0};function bte(e){e.registerComponentView(xte),e.registerComponentModel(Uee),e.registerCoordinateSystem("cartesian2d",ete),cL(e,"x",uS,bL),cL(e,"y",uS,bL),e.registerComponentView(YF),e.registerComponentView(_te),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var wte={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Ste(e,t){if(e==="china"){var r=wte[t.name];if(r){var n=t.getCenter();n[0]+=r[0]/10.5,n[1]+=-r[1]/(10.5/.75),t.setCenter(n)}}}var Vi=Pr();function Tte(e){var t=e.mainData,r=e.datas;r||(r={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,XF(t,r,e),j(r,function(n){j(t.TRANSFERABLE_METHODS,function(a){n.wrapMethod(a,zr(Cte,e))})}),t.wrapMethod("cloneShallow",zr(Ete,e)),j(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,zr(Ate,e))}),es(r[t.dataType]===t)}function Cte(e,t){if(Pte(this)){var r=De({},Vi(this).datas);r[this.dataType]=t,XF(t,r,e)}else _2(t,this.dataType,Vi(this).mainData,e);return t}function Ate(e,t){return e.struct&&e.struct.update(),t}function Ete(e,t){return j(Vi(t).datas,function(r,n){r!==t&&_2(r.cloneShallow(),n,t,e)}),t}function Dte(e){var t=Vi(this).mainData;return e==null||t==null?t:Vi(t).datas[e]}function Mte(){var e=Vi(this).mainData;return e==null?[{data:e}]:nt(ir(Vi(e).datas),function(t){return{type:t,data:Vi(e).datas[t]}})}function Pte(e){return Vi(e).mainData===e}function XF(e,t,r){Vi(e).datas={},j(t,function(n,a){_2(n,a,e,r)})}function _2(e,t,r,n){Vi(r).datas[t]=e,Vi(e).mainData=r,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=Dte,e.getLinkedDataAll=Mte}function cf(e){return"_EC_"+e}var Lte=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,r){t=t==null?""+r:""+t;var n=this._nodesMap;if(!n[cf(t)]){var a=new Nu(t,r);return a.hostGraph=this,this.nodes.push(a),n[cf(t)]=a,a}},e.prototype.getNodeByIndex=function(t){var r=this.data.getRawIndex(t);return this.nodes[r]},e.prototype.getNodeById=function(t){return this._nodesMap[cf(t)]},e.prototype.addEdge=function(t,r,n){var a=this._nodesMap,i=this._edgesMap;if(xr(t)&&(t=this.nodes[t]),xr(r)&&(r=this.nodes[r]),t instanceof Nu||(t=a[cf(t)]),r instanceof Nu||(r=a[cf(r)]),!(!t||!r)){var o=t.id+"-"+r.id,s=new jF(t,r,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),r.inEdges.push(s)),t.edges.push(s),t!==r&&r.edges.push(s),this.edges.push(s),i[o]=s,s}},e.prototype.getEdgeByIndex=function(t){var r=this.edgeData.getRawIndex(t);return this.edges[r]},e.prototype.getEdge=function(t,r){t instanceof Nu&&(t=t.id),r instanceof Nu&&(r=r.id);var n=this._edgesMap;return this._directed?n[t+"-"+r]:n[t+"-"+r]||n[r+"-"+t]},e.prototype.eachNode=function(t,r){for(var n=this.nodes,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&t.call(r,n[i],i)},e.prototype.eachEdge=function(t,r){for(var n=this.edges,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(r,n[i],i)},e.prototype.breadthFirstTraverse=function(t,r,n,a){if(r instanceof Nu||(r=this._nodesMap[cf(r)]),!!r){for(var i=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(a,r,null))for(var s=[r];s.length;)for(var l=s.shift(),u=l[i],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(a,f,l))return;s.push(f),f.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,r=this.edgeData,n=this.nodes,a=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(var i=0,o=t.count();i<o;i++)n[t.getRawIndex(i)].dataIndex=i;r.filterSelf(function(s){var l=a[r.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(var i=0,o=r.count();i<o;i++)a[r.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),r=this.nodes,n=this.edges,a=0;a<r.length;a++)t.addNode(r[a].id,r[a].dataIndex);for(var a=0;a<n.length;a++){var i=n[a];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},e}(),Nu=function(){function e(t,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=r??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},r=0;r<this.edges.length;r++){var n=this.edges[r];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=xt(),r=xt(),n=0;n<this.edges.length;n++){var a=this.edges[n];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var i=[a.node1],o=[a.node2],s=0;s<i.length;){var l=i[s];s++,r.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),i.push(l.inEdges[u].node1)}for(s=0;s<o.length;){var c=o[s];s++,r.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),o.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:r.keys()}},e}(),jF=function(){function e(t,r,n){this.dataIndex=-1,this.node1=t,this.node2=r,this.dataIndex=n??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=xt(),r=xt();t.set(this.dataIndex,!0);for(var n=[this.node1],a=[this.node2],i=0;i<n.length;){var o=n[i];i++,r.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)t.set(o.inEdges[s].dataIndex,!0),n.push(o.inEdges[s].node1)}for(i=0;i<a.length;){var l=a[i];i++,r.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),a.push(l.outEdges[s].node2)}return{edge:t.keys(),node:r.keys()}},e}();function qF(e,t){return{getValue:function(r){var n=this[e][t];return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,r,n)},getVisual:function(r){return this[e][t].getItemVisual(this.dataIndex,r)},setLayout:function(r,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,r,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}li(Nu,qF("hostGraph","data"));li(jF,qF("hostGraph","edgeData"));const Ite=Lte;function Rte(e,t,r,n){return e&&(e.legacy||e.legacy!==!1&&!r&&!n&&t!=="tspan"&&(t==="text"||At(e,"text")))}function Ote(e,t,r){var n=e,a,i,o;if(t==="text")o=n;else{o={},At(n,"text")&&(o.text=n.text),At(n,"rich")&&(o.rich=n.rich),At(n,"textFill")&&(o.fill=n.textFill),At(n,"textStroke")&&(o.stroke=n.textStroke),At(n,"fontFamily")&&(o.fontFamily=n.fontFamily),At(n,"fontSize")&&(o.fontSize=n.fontSize),At(n,"fontStyle")&&(o.fontStyle=n.fontStyle),At(n,"fontWeight")&&(o.fontWeight=n.fontWeight),i={type:"text",style:o,silent:!0},a={};var s=At(n,"textPosition");r?a.position=s?n.textPosition:"inside":s&&(a.position=n.textPosition),At(n,"textPosition")&&(a.position=n.textPosition),At(n,"textOffset")&&(a.offset=n.textOffset),At(n,"textRotation")&&(a.rotation=n.textRotation),At(n,"textDistance")&&(a.distance=n.textDistance)}return wL(o,e),j(o.rich,function(l){wL(l,l)}),{textConfig:a,textContent:i}}function wL(e,t){t&&(t.font=t.textFont||t.font,At(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),At(t,"textAlign")&&(e.align=t.textAlign),At(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),At(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),At(t,"textWidth")&&(e.width=t.textWidth),At(t,"textHeight")&&(e.height=t.textHeight),At(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),At(t,"textPadding")&&(e.padding=t.textPadding),At(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),At(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),At(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),At(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),At(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),At(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),At(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}var ZF={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},SL=ir(ZF);Jo(ts,function(e,t){return e[t]=1,e},{});ts.join(", ");var Yy=["","style","shape","extra"],ud=Pr();function x2(e,t,r,n,a){var i=e+"Animation",o=LC(e,n,a)||{},s=ud(t).userDuring;return o.duration>0&&(o.during=s?Or(zte,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=e),De(o,r[i]),o}function Ox(e,t,r,n){n=n||{};var a=n.dataIndex,i=n.isInit,o=n.clearStyle,s=r.isAnimationEnabled(),l=ud(e),u=t.style;l.userDuring=t.during;var c={},f={};if(Hte(e,t,f),CL("shape",t,f),CL("extra",t,f),!i&&s&&(Ute(e,t,c),TL("shape",e,t,c),TL("extra",e,t,c),Gte(e,t,u,c)),f.style=u,Nte(e,f,o),Vte(e,t),s)if(i){var d={};j(Yy,function(v){var p=v?t[v]:t;p&&p.enterFrom&&(v&&(d[v]=d[v]||{}),De(v?d[v]:d,p.enterFrom))});var h=x2("enter",e,t,r,a);h.duration>0&&e.animateFrom(d,h)}else Bte(e,t,a||0,r,c);KF(e,t),u?e.dirty():e.markRedraw()}function KF(e,t){for(var r=ud(e).leaveToProps,n=0;n<Yy.length;n++){var a=Yy[n],i=a?t[a]:t;i&&i.leaveTo&&(r||(r=ud(e).leaveToProps={}),a&&(r[a]=r[a]||{}),De(a?r[a]:r,i.leaveTo))}}function kte(e,t,r,n){if(e){var a=e.parent,i=ud(e).leaveToProps;if(i){var o=x2("update",e,t,r,0);o.done=function(){a.remove(e),n&&n()},e.animateTo(i,o)}else a.remove(e),n&&n()}}function uc(e){return e==="all"}function Nte(e,t,r){var n=t.style;if(!e.isGroup&&n){if(r){e.useStyle({});for(var a=e.animators,i=0;i<a.length;i++){var o=a[i];o.targetName==="style"&&o.changeTarget(e.style)}}e.setStyle(n)}t&&(t.style=null,t&&e.attr(t),t.style=n)}function Bte(e,t,r,n,a){if(a){var i=x2("update",e,t,n,r);i.duration>0&&e.animateFrom(a,i)}}function Vte(e,t){At(t,"silent")&&(e.silent=t.silent),At(t,"ignore")&&(e.ignore=t.ignore),e instanceof Ic&&At(t,"invisible")&&(e.invisible=t.invisible),e instanceof ur&&At(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var No={},Fte={setTransform:function(e,t){return No.el[e]=t,this},getTransform:function(e){return No.el[e]},setShape:function(e,t){var r=No.el,n=r.shape||(r.shape={});return n[e]=t,r.dirtyShape&&r.dirtyShape(),this},getShape:function(e){var t=No.el.shape;if(t)return t[e]},setStyle:function(e,t){var r=No.el,n=r.style;return n&&(n[e]=t,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(e){var t=No.el.style;if(t)return t[e]},setExtra:function(e,t){var r=No.el.extra||(No.el.extra={});return r[e]=t,this},getExtra:function(e){var t=No.el.extra;if(t)return t[e]}};function zte(){var e=this,t=e.el;if(t){var r=ud(t).userDuring,n=e.userDuring;if(r!==n){e.el=e.userDuring=null;return}No.el=t,n(Fte)}}function TL(e,t,r,n){var a=r[e];if(a){var i=t[e],o;if(i){var s=r.transition,l=a.transition;if(l)if(!o&&(o=n[e]={}),uc(l))De(o,i);else for(var u=$n(l),c=0;c<u.length;c++){var f=u[c],d=i[f];o[f]=d}else if(uc(s)||$t(s,e)>=0){!o&&(o=n[e]={});for(var h=ir(i),c=0;c<h.length;c++){var f=h[c],d=i[f];$te(a[f],d)&&(o[f]=d)}}}}}function CL(e,t,r){var n=t[e];if(n)for(var a=r[e]={},i=ir(n),o=0;o<i.length;o++){var s=i[o];a[s]=pv(n[s])}}function Ute(e,t,r){for(var n=t.transition,a=uc(n)?ts:$n(n||[]),i=0;i<a.length;i++){var o=a[i];if(!(o==="style"||o==="shape"||o==="extra")){var s=e[o];r[o]=s}}}function Hte(e,t,r){for(var n=0;n<SL.length;n++){var a=SL[n],i=ZF[a],o=t[a];o&&(r[i[0]]=o[0],r[i[1]]=o[1])}for(var n=0;n<ts.length;n++){var s=ts[n];t[s]!=null&&(r[s]=t[s])}}function Gte(e,t,r,n){if(r){var a=e.style,i;if(a){var o=r.transition,s=t.transition;if(o&&!uc(o)){var l=$n(o);!i&&(i=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=a[c];i[c]=f}}else if(e.getAnimationStyleProps&&(uc(s)||uc(o)||$t(s,"style")>=0)){var d=e.getAnimationStyleProps(),h=d?d.style:null;if(h){!i&&(i=n.style={});for(var v=ir(r),u=0;u<v.length;u++){var c=v[u];if(h[c]){var f=a[c];i[c]=f}}}}}}}function $te(e,t){return Ba(e)?e!==t:e!=null&&isFinite(e)}var QF=Pr(),Wte=["percent","easing","shape","style","extra"];function Yte(e){e.stopAnimation("keyframe"),e.attr(QF(e))}function vS(e,t,r){if(!(!r.isAnimationEnabled()||!t)){if(Ne(t)){j(t,function(s){vS(e,s,r)});return}var n=t.keyframes,a=t.duration;if(r&&a==null){var i=LC("enter",r,0);a=i&&i.duration}if(!(!n||!a)){var o=QF(e);j(Yy,function(s){if(!(s&&!e[s])){var l;n.sort(function(u,c){return u.percent-c.percent}),j(n,function(u){var c=e.animators,f=s?u[s]:u;if(f){var d=ir(f);if(s||(d=dn(d,function(p){return $t(Wte,p)<0})),!!d.length){l||(l=e.animate(s,t.loop,!0),l.scope="keyframe");for(var h=0;h<c.length;h++)c[h]!==l&&c[h].targetName===l.targetName&&c[h].stopTracks(d);s&&(o[s]=o[s]||{});var v=s?o[s]:o;j(d,function(p){v[p]=((s?e[s]:e)||{})[p]}),l.whenWithKeys(a*u.percent,f,d,u.easing)}}}),l&&l.delay(t.delay||0).duration(a).start(t.easing)}})}}}var kx=null;function Xte(e){return kx||(kx=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),kx(e)}var Nx=null;function jte(e){Nx||(Nx=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),Nx(e)}function qte(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function jm(e,t){t===void 0&&(t={});var r=document.createElement(e);return Object.keys(t).forEach(function(n){r[n]=t[n]}),r}function JF(e,t,r){var n=window.getComputedStyle(e,r||null)||{display:"none"};return n[t]}function pS(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(JF(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var Zte='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',mS=0,Wg=null;function Kte(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=ere.bind(e));var r=e.__resize_listeners__;if(!r){if(e.__resize_listeners__=[],window.ResizeObserver){var n=e.offsetWidth,a=e.offsetHeight,i=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===n&&e.offsetHeight===a)||Xy(e)}),o=pS(e),s=o.detached,l=o.rendered;e.__resize_observer_triggered__=s===!1&&l===!1,e.__resize_observer__=i,i.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){Xy(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(mS||(Wg=qte(Zte)),tre(e),e.__resize_rendered__=pS(e).rendered,window.MutationObserver){var u=new MutationObserver(e.__resize_mutation_handler__);u.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=u}}e.__resize_listeners__.push(t),mS++}function Qte(e,t){var r=e.__resize_listeners__;if(r){if(t&&r.splice(r.indexOf(t),1),!r.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",b2),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--mS&&Wg&&Wg.parentNode.removeChild(Wg)}}function Jte(e){var t=e.__resize_last__,r=t.width,n=t.height,a=e.offsetWidth,i=e.offsetHeight;return a!==r||i!==n?{width:a,height:i}:null}function ere(){var e=pS(this),t=e.rendered,r=e.detached;t!==this.__resize_rendered__&&(!r&&this.__resize_triggers__&&(w2(this),this.addEventListener("scroll",b2,!0)),this.__resize_rendered__=t,Xy(this))}function b2(){var e=this;w2(this),this.__resize_raf__&&jte(this.__resize_raf__),this.__resize_raf__=Xte(function(){var t=Jte(e);t&&(e.__resize_last__=t,Xy(e))})}function Xy(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function tre(e){var t=JF(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var r=jm("div",{className:"resize-triggers"}),n=jm("div",{className:"resize-expand-trigger"}),a=jm("div"),i=jm("div",{className:"resize-contract-trigger"});n.appendChild(a),r.appendChild(n),r.appendChild(i),e.appendChild(r),e.__resize_triggers__={triggers:r,expand:n,expandChild:a,contract:i},w2(e),e.addEventListener("scroll",b2,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function w2(e){var t=e.__resize_triggers__,r=t.expand,n=t.expandChild,a=t.contract,i=a.scrollWidth,o=a.scrollHeight,s=r.offsetWidth,l=r.offsetHeight,u=r.scrollWidth,c=r.scrollHeight;a.scrollLeft=i,a.scrollTop=o,n.style.width=s+1+"px",n.style.height=l+1+"px",r.scrollLeft=u,r.scrollTop=c}var ys=function(){return ys=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ys.apply(this,arguments)};var rre=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function nre(e){return t=Object.create(null),rre.forEach(function(r){t[r]=function(n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[n].apply(e.value,a)}}(r)}),t;var t}var are={autoresize:[Boolean,Object]},ire=/^on[^a-z]/,ore=function(e){return ire.test(e)};function qm(e,t){var r=ie(e);return r&&typeof r=="object"&&"value"in r?r.value||t:r||t}var sre="ecLoadingOptions",lre={loading:Boolean,loadingOptions:Object},Sh=null,e5="x-vue-echarts",AL=[],Th=[];(function(e,t){if(e&&typeof document<"u"){var r,n=t.prepend===!0?"prepend":"append",a=t.singleTag===!0,i=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var o=AL.indexOf(i);o===-1&&(o=AL.push(i)-1,Th[o]={}),r=Th[o]&&Th[o][n]?Th[o][n]:Th[o][n]=s()}else r=s();e.charCodeAt(0)===65279&&(e=e.substring(1)),r.styleSheet?r.styleSheet.cssText+=e:r.appendChild(document.createTextNode(e))}function s(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),t.attributes)for(var u=Object.keys(t.attributes),c=0;c<u.length;c++)l.setAttribute(u[c],t.attributes[u[c]]);var f=n==="prepend"?"afterbegin":"beforeend";return i.insertAdjacentElement(f,l),l}})(`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}x-vue-echarts>div{width:100%;height:100%}
`,{});var ure=function(){if(Sh!=null)return Sh;if(typeof HTMLElement>"u"||typeof customElements>"u")return Sh=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(e5)}catch{return Sh=!1}return Sh=!0}(),cre="ecTheme",fre="ecInitOptions",dre="ecUpdateOptions",Ma=or({name:"echarts",props:ys(ys({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},are),lre),emits:{},inheritAttrs:!1,setup:function(e,t){var r=t.attrs,n=Oe(),a=Oe(),i=Oe(),o=Oe(),s=Dt(cre,null),l=Dt(fre,null),u=Dt(dre,null),c=Ep(e),f=c.autoresize,d=c.manualUpdate,h=c.loading,v=c.loadingOptions,p=R(function(){return o.value||e.option||null}),m=R(function(){return e.theme||qm(s,{})}),g=R(function(){return e.initOptions||qm(l,{})}),y=R(function(){return e.updateOptions||qm(u,{})}),_=R(function(){return function(A){var M={};for(var C in A)ore(C)||(M[C]=A[C]);return M}(r)}),x=Pp().proxy.$listeners;function w(A){if(a.value){var M=i.value=GK(a.value,m.value,g.value);e.group&&(M.group=e.group);var C=x;C||(C={},Object.keys(r).filter(function(P){return P.indexOf("on")===0&&P.length>2}).forEach(function(P){var I=P.charAt(2).toLowerCase()+P.slice(3);I.substring(I.length-4)==="Once"&&(I="~".concat(I.substring(0,I.length-4))),C[I]=r[P]})),Object.keys(C).forEach(function(P){var I=C[P];if(I){var k=P.toLowerCase();k.charAt(0)==="~"&&(k=k.substring(1),I.__once__=!0);var V=M;if(k.indexOf("zr:")===0&&(V=M.getZr(),k=k.substring(3)),I.__once__){delete I.__once__;var H=I;I=function(){for(var O=[],L=0;L<arguments.length;L++)O[L]=arguments[L];H.apply(void 0,O),V.off(k,I)}}V.on(k,I)}}),f.value?Ot(function(){M&&!M.isDisposed()&&M.resize(),D()}):D()}function D(){var P=A||p.value;P&&M.setOption(P,y.value)}}function b(){i.value&&(i.value.dispose(),i.value=void 0)}var T=null;Le(d,function(A){typeof T=="function"&&(T(),T=null),A||(T=Le(function(){return e.option},function(M,C){M&&(i.value?i.value.setOption(M,ys({notMerge:M!==C},y.value)):w())},{deep:!0}))},{immediate:!0}),Le([m,g],function(){b(),w()},{deep:!0}),Xr(function(){e.group&&i.value&&(i.value.group=e.group)});var S=nre(i);return function(A,M,C){var D=Dt(sre,{}),P=R(function(){return ys(ys({},qm(D,{})),C==null?void 0:C.value)});Xr(function(){var I=A.value;I&&(M.value?I.showLoading(P.value):I.hideLoading())})}(i,h,v),function(A,M,C){var D=null;Le([C,A,M],function(P,I,k){var V=P[0],H=P[1],O=P[2];if(V&&H&&O){var L=O===!0?{}:O,F=L.throttle,X=F===void 0?100:F,Y=L.onResize,G=function(){H.resize(),Y==null||Y()};D=X?m_(G,X):G,Kte(V,D)}k(function(){V&&D&&Qte(V,D)})})}(i,f,a),Qt(function(){w()}),Jn(function(){ure&&n.value?n.value.__dispose=b:b()}),ys({chart:i,root:n,inner:a,setOption:function(A,M){e.manualUpdate&&(o.value=A),i.value?i.value.setOption(A,M||{}):w(A)},nonEventAttrs:_},S)},render:function(){var e=ys({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",$i(e5,e,[$i("div",{ref:"inner"})])}}),Uu=Pr(),EL=Kt,Bx=Or,hre=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,a){var i=r.get("value"),o=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!a&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,t,r,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,r);if(!s)s=this._group=new Kn,this.createPointerEl(s,u,t,r),this.createLabelEl(s,u,t,r),n.getZr().add(s);else{var d=zr(DL,r,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,r)}PL(s,r,!0),this._renderHandle(i)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),a=t.axis,i=a.type==="category",o=r.get("snap");if(!o&&!i)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(i&&a.getBandWidth()>s)return!0;if(o){var l=y2(t).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,a,i){},e.prototype.createPointerEl=function(t,r,n,a){var i=r.pointer;if(i){var o=Uu(t).pointerEl=new Pj[i.type](EL(r.pointer));t.add(o)}},e.prototype.createLabelEl=function(t,r,n,a){if(r.label){var i=Uu(t).labelEl=new Kr(EL(r.label));t.add(i),ML(i,a)}},e.prototype.updatePointerEl=function(t,r,n){var a=Uu(t).pointerEl;a&&r.pointer&&(a.setStyle(r.pointer.style),n(a,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,a){var i=Uu(t).labelEl;i&&(i.setStyle(r.label.style),n(i,{x:r.label.x,y:r.label.y}),ML(i,a))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),a=this._handle,i=r.getModel("handle"),o=r.get("status");if(!i.get("show")||!o||o==="hide"){a&&n.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=NC(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){zN(u.event)},onmousedown:Bx(this._onHandleDragMove,this,0,0),drift:Bx(this._onHandleDragMove,this),ondragend:Bx(this._onHandleDragEnd,this)}),n.add(a)),PL(a,r,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");Ne(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,sV(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},e.prototype._moveHandleToValue=function(t,r){DL(this._axisPointerModel,!r&&this._moveAnimation,this._handle,Vx(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(Vx(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(Vx(a)),Uu(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,a=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),a&&r.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),Zw(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e}();function DL(e,t,r,n){t5(Uu(r).lastProp,n)||(Uu(r).lastProp=n,t?On(r,n,e):(r.stopAnimation(),r.attr(n)))}function t5(e,t){if(lt(e)&&lt(t)){var r=!0;return j(t,function(n,a){r=r&&t5(e[a],n)}),!!r}else return e===t}function ML(e,t){e[t.get(["label","show"])?"show":"hide"]()}function Vx(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function PL(e,t,r){var n=t.get("z"),a=t.get("zlevel");e&&e.traverse(function(i){i.type!=="group"&&(n!=null&&(i.z=n),a!=null&&(i.zlevel=a),i.silent=r)})}const vre=hre;function pre(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function mre(e,t,r,n,a){var i=r.get("value"),o=r5(i,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),l=c_(s.get("padding")||0),u=s.getFont(),c=gC(o,u),f=a.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],v=a.align;v==="right"&&(f[0]-=d),v==="center"&&(f[0]-=d/2);var p=a.verticalAlign;p==="bottom"&&(f[1]-=h),p==="middle"&&(f[1]-=h/2),gre(f,d,h,n);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=t.get(["axisLine","lineStyle","color"])),e.label={x:f[0],y:f[1],style:Yi(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function gre(e,t,r,n){var a=n.getWidth(),i=n.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+r,i)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function r5(e,t,r,n,a){e=t.scale.parse(e);var i=t.scale.getLabel({value:e},{precision:a.precision}),o=a.formatter;if(o){var s={value:u2(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};j(n,function(l){var u=r.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),rt(o)?i=o.replace("{value}",i):bt(o)&&(i=o(s))}return i}function n5(e,t,r){var n=od();return mC(n,n,r.rotation),_w(n,n,r.position),kC([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function yre(e,t,r,n,a,i){var o=GF.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get(["label","margin"]),mre(t,n,a,i,{position:n5(n.axis,e,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function _re(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function xre(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}var bre=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,a,i,o){var s=a.axis,l=s.grid,u=i.get("type"),c=LL(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var d=pre(i),h=wre[u](s,f,c);h.style=d,r.graphicKey=h.type,r.pointer=h}var v=fS(l.model,a);yre(n,r,v,a,i,o)},t.prototype.getHandleTransform=function(r,n,a){var i=fS(n.axis.grid.model,n,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=n5(n.axis,r,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,a,i){var o=a.axis,s=o.grid,l=o.getGlobalExtent(!0),u=LL(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[r.x,r.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:r.rotation,cursorPoint:h,tooltipOption:v[c]}},t}(vre);function LL(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var wre={line:function(e,t,r){var n=_re([t,r[0]],[t,r[1]],IL(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),a=r[1]-r[0];return{type:"Rect",shape:xre([t-n/2,r[0]],[n,a],IL(e))}}};function IL(e){return e.dim==="x"?0:1}const Sre=bre;var Tre=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(nr);const Cre=Tre;var As=Pr(),Are=j;function a5(e,t,r){if(!Nt.node){var n=t.getZr();As(n).records||(As(n).records={}),Ere(n,t);var a=As(n).records[e]||(As(n).records[e]={});a.handler=r}}function Ere(e,t){if(As(e).initialized)return;As(e).initialized=!0,r("click",zr(RL,"click")),r("mousemove",zr(RL,"mousemove")),r("globalout",Mre);function r(n,a){e.on(n,function(i){var o=Pre(t);Are(As(e).records,function(s){s&&a(s,i,o.dispatchAction)}),Dre(o.pendings,t)})}}function Dre(e,t){var r=e.showTip.length,n=e.hideTip.length,a;r?a=e.showTip[r-1]:n&&(a=e.hideTip[n-1]),a&&(a.dispatchAction=null,t.dispatchAction(a))}function Mre(e,t,r){e.handler("leave",null,r)}function RL(e,t,r,n){t.handler(e,r,n)}function Pre(e){var t={showTip:[],hideTip:[]},r=function(n){var a=t[n.type];a?a.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function gS(e,t){if(!Nt.node){var r=t.getZr(),n=(As(r).records||{})[e];n&&(As(r).records[e]=null)}}var Lre=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,a){var i=n.getComponent("tooltip"),o=r.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";a5("axisPointer",a,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(r,n){gS("axisPointer",n)},t.prototype.dispose=function(r,n){gS("axisPointer",n)},t.type="axisPointer",t}(va);const Ire=Lre;function i5(e,t){var r=[],n=e.seriesIndex,a;if(n==null||!(a=t.getSeriesByIndex(n)))return{point:[]};var i=a.getData(),o=mc(i,e);if(o==null||o<0||Ne(o))return{point:[]};var s=i.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)r=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,v=i.mapDimension(d),p=[];p[h]=i.get(v,o),p[1-h]=i.get(i.getCalculationInfo("stackResultDimension"),o),r=l.dataToPoint(p)||[]}else r=l.dataToPoint(i.getValues(nt(l.dimensions,function(g){return i.mapDimension(g)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:s}}var OL=Pr();function Rre(e,t,r){var n=e.currTrigger,a=[e.x,e.y],i=e,o=e.dispatchAction||Or(r.dispatchAction,r),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Yg(a)&&(a=i5({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var l=Yg(a),u=i.axesInfo,c=s.axesInfo,f=n==="leave"||Yg(a),d={},h={},v={list:[],map:{}},p={showPointer:zr(kre,h),showTooltip:zr(Nre,v)};j(s.coordSysMap,function(g,y){var _=l||g.containPoint(a);j(s.coordSysAxesInfo[y],function(x,w){var b=x.axis,T=zre(u,x);if(!f&&_&&(!u||T)){var S=T&&T.value;S==null&&!l&&(S=b.pointToData(a)),S!=null&&kL(x,S,p,!1,d)}})});var m={};return j(c,function(g,y){var _=g.linkGroup;_&&!h[y]&&j(_.axesInfo,function(x,w){var b=h[w];if(x!==g&&b){var T=b.value;_.mapper&&(T=g.axis.scale.parse(_.mapper(T,NL(x),NL(g)))),m[g.key]=T}})}),j(m,function(g,y){kL(c[y],g,p,!0,d)}),Bre(h,c,d),Vre(v,a,e,o),Fre(c,o,r),d}}function kL(e,t,r,n,a){var i=e.axis;if(!(i.scale.isBlank()||!i.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var o=Ore(t,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&a.seriesIndex==null&&De(a,s[0]),!n&&e.snap&&i.containData(l)&&l!=null&&(t=l),r.showPointer(e,t,s),r.showTooltip(e,o,l)}}function Ore(e,t){var r=t.axis,n=r.dim,a=e,i=[],o=Number.MAX_VALUE,s=-1;return j(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,e,r);d=h.dataIndices,f=h.nestestValue}else{if(d=l.getData().indicesOfNearest(c[0],e,r.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var v=e-f,p=Math.abs(v);p<=o&&((p<o||v>=0&&s<0)&&(o=p,s=v,a=f,i.length=0),j(d,function(m){i.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:i,snapToValue:a}}function kre(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function Nre(e,t,r,n){var a=r.payloadBatch,i=t.axis,o=i.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!a.length)){var l=t.coordSys.model,u=ap(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function Bre(e,t,r){var n=r.axesInfo=[];j(t,function(a,i){var o=a.axisPointerModel.option,s=e[i];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function Vre(e,t,r,n){if(Yg(t)||!e.list.length){n({type:"hideTip"});return}var a=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:e.list})}function Fre(e,t,r){var n=r.getZr(),a="axisPointerLastHighlights",i=OL(n)[a]||{},o=OL(n)[a]={};j(e,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&j(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;o[h]=d})});var s=[],l=[];j(i,function(u,c){!o[c]&&l.push(u)}),j(o,function(u,c){!i[c]&&s.push(u)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function zre(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function NL(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function Yg(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function o5(e){$F.registerAxisPointerClass("CartesianAxisPointer",Sre),e.registerComponentModel(Cre),e.registerComponentView(Ire),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!Ne(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=ote(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Rre)}function S2(e){vr(bte),vr(o5)}function Ure(e,t){var r=e.existing;if(t.id=e.keyInfo.id,!t.type&&r&&(t.type=r.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:r&&(t.parentId=r.parentId)}t.parentOption=null}function BL(e,t){var r;return j(t,function(n){e[n]!=null&&e[n]!=="auto"&&(r=!0)}),r}function Hre(e,t,r){var n=De({},r),a=e[t],i=r.$action||"merge";i==="merge"?a?(je(a,n,!0),_c(a,n,{ignoreSize:!0}),IB(r,a),Zm(r,a),Zm(r,a,"shape"),Zm(r,a,"style"),Zm(r,a,"extra"),r.clipPath=a.clipPath):e[t]=n:i==="replace"?e[t]=n:i==="remove"&&a&&(e[t]=null)}var s5=["transition","enterFrom","leaveTo"],Gre=s5.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Zm(e,t,r){if(r&&(!e[r]&&t[r]&&(e[r]={}),e=e[r],t=t[r]),!(!e||!t))for(var n=r?s5:Gre,a=0;a<n.length;a++){var i=n[a];e[i]==null&&t[i]!=null&&(e[i]=t[i])}}function $re(e,t){if(e&&(e.hv=t.hv=[BL(t,["left","right"]),BL(t,["top","bottom"])],e.type==="group")){var r=e,n=t;r.width==null&&(r.width=n.width=0),r.height==null&&(r.height=n.height=0)}}var Wre=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventAutoZ=!0,r}return t.prototype.mergeOption=function(r,n){var a=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,r,n),this.option.elements=a},t.prototype.optionUpdated=function(r,n){var a=this.option,i=(n?a:r).elements,o=a.elements=n?[]:a.elements,s=[];this._flatten(i,s,null);var l=p3(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];j(l,function(c,f){var d=c.newOption;d&&(u.push(d),Ure(c,d),Hre(o,f,d),$re(o[f],d))},this),a.elements=dn(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(r,n,a){j(r,function(i){if(i){a&&(i.parentOption=a),n.push(i);var o=i.children;o&&o.length&&this._flatten(o,n,i),delete i.children}},this)},t.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},t.type="graphic",t.defaultOption={elements:[]},t}(nr),VL={path:null,compoundPath:null,group:Kn,image:$s,text:Kr},Ci=Pr(),Yre=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._elMap=xt()},t.prototype.render=function(r,n,a){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,a)},t.prototype._updateElements=function(r){var n=r.useElOptionsToUpdate();if(n){var a=this._elMap,i=this.group,o=r.get("z"),s=r.get("zlevel");j(n,function(l){var u=ja(l.id,null),c=u!=null?a.get(u):null,f=ja(l.parentId,null),d=f!=null?a.get(f):i,h=l.type,v=l.style;h==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var p=l.textContent,m=l.textConfig;if(v&&Rte(v,h,!!m,!!p)){var g=Ote(v,h,!0);!m&&g.textConfig&&(m=l.textConfig=g.textConfig),!p&&g.textContent&&(p=g.textContent)}var y=Xre(l),_=l.$action||"merge",x=_==="merge",w=_==="replace";if(x){var b=!c,T=c;b?T=FL(u,d,l.type,a):(T&&(Ci(T).isNew=!1),Yte(T)),T&&(Ox(T,y,r,{isInit:b}),zL(T,l,o,s))}else if(w){Xg(c,l,a,r);var S=FL(u,d,l.type,a);S&&(Ox(S,y,r,{isInit:!0}),zL(S,l,o,s))}else _==="remove"&&(KF(c,l),Xg(c,l,a,r));var A=a.get(u);if(A&&p)if(x){var M=A.getTextContent();M?M.attr(p):A.setTextContent(new Kr(p))}else w&&A.setTextContent(new Kr(p));if(A){var C=l.clipPath;if(C){var D=C.type,P=void 0,b=!1;if(x){var I=A.getClipPath();b=!I||Ci(I).type!==D,P=b?yS(D):I}else w&&(b=!0,P=yS(D));A.setClipPath(P),Ox(P,C,r,{isInit:b}),vS(P,C.keyframeAnimation,r)}var k=Ci(A);A.setTextConfig(m),k.option=l,jre(A,r,l),t_({el:A,componentModel:r,itemName:A.name,itemTooltipOption:l.tooltip}),vS(A,l.keyframeAnimation,r)}})}},t.prototype._relocate=function(r,n){for(var a=r.option.elements,i=this.group,o=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<a.length;c++){var f=a[c],d=ja(f.id,null),h=d!=null?o.get(d):null;if(!(!h||!h.isGroup)){var v=h.parent,p=v===i,m=Ci(h),g=Ci(v);m.width=Sr(m.option.width,p?s:g.width)||0,m.height=Sr(m.option.height,p?l:g.height)||0}}for(var c=a.length-1;c>=0;c--){var f=a[c],d=ja(f.id,null),h=d!=null?o.get(d):null;if(h){var v=h.parent,g=Ci(v),y=v===i?{width:s,height:l}:{width:g.width,height:g.height},_={},x=rq(h,f,y,null,{hv:f.hv,boundingMode:f.bounding},_);if(!Ci(h).isNew&&x){for(var w=f.transition,b={},T=0;T<u.length;T++){var S=u[T],A=_[S];w&&(uc(w)||$t(w,S)>=0)?b[S]=A:h[S]=A}On(h,b,r,0)}else h.attr(_)}}},t.prototype._clear=function(){var r=this,n=this._elMap;n.each(function(a){Xg(a,Ci(a).option,n,r._lastGraphicModel)}),this._elMap=xt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(va);function yS(e){var t=At(VL,e)?VL[e]:uB(e),r=new t({});return Ci(r).type=e,r}function FL(e,t,r,n){var a=yS(r);return t.add(a),n.set(e,a),Ci(a).id=e,Ci(a).isNew=!0,a}function Xg(e,t,r,n){var a=e&&e.parent;a&&(e.type==="group"&&e.traverse(function(i){Xg(i,t,r,n)}),kte(e,t,n),r.removeKey(Ci(e).id))}function zL(e,t,r,n){e.isGroup||j([["cursor",Ic.prototype.cursor],["zlevel",n||0],["z",r||0],["z2",0]],function(a){var i=a[0];At(t,i)?e[i]=Ft(t[i],a[1]):e[i]==null&&(e[i]=a[1])}),j(ir(t),function(a){if(a.indexOf("on")===0){var i=t[a];e[a]=bt(i)?i:null}}),At(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function Xre(e){return e=De({},e),j(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LB),function(t){delete e[t]}),e}function jre(e,t,r){var n=Wt(e).eventData;!e.silent&&!e.ignore&&!n&&(n=Wt(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=r.info)}function T2(e){e.registerComponentModel(Wre),e.registerComponentView(Yre),e.registerPreprocessor(function(t){var r=t.graphic;Ne(r)?!r[0]||!r[0].elements?t.graphic=[{elements:r}]:t.graphic=[t.graphic[0]]:r&&!r.elements&&(t.graphic=[{elements:[r]}])})}function qre(e,t){var r=c_(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new gn({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var Zre=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(nr);const Kre=Zre;function l5(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function u5(e){if(Nt.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var c5=u5(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qre=u5(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function f5(e,t){if(!e)return t;t=MB(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function Jre(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?t?r[t]:r:null}var ene=f5(Qre,"transition"),C2=f5(c5,"transform"),tne="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Nt.transform3dSupported?"will-change:transform;":"");function rne(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function nne(e,t,r){if(!rt(r)||r==="inside")return"";var n=e.get("backgroundColor"),a=e.get("borderWidth");t=yc(t);var i=rne(r),o=Math.max(Math.round(a)*1.5,6),s="",l=C2+":",u;$t(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+a,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*a)/2+Math.SQRT2*a-(d-f)/2)*100)/100;s+=";"+i+":-"+h+"px";var v=t+" solid "+a+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+p.join("")+'"></div>'}function ane(e,t){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+r,a="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+r,a+=Nt.transformSupported?","+C2+n:",left"+n+",top"+n),ene+":"+a}function UL(e,t,r){var n=e.toFixed(0)+"px",a=t.toFixed(0)+"px";if(!Nt.transformSupported)return r?"top:"+a+";left:"+n+";":[["top",a],["left",n]];var i=Nt.transform3dSupported,o="translate"+(i?"3d":"")+"("+n+","+a+(i?",0":"")+")";return r?"top:0;left:0;"+C2+":"+o+";":[["top",0],["left",0],[c5,o]]}function ine(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont()),r&&t.push("line-height:"+Math.round(r*3/2)+"px");var a=e.get("textShadowColor"),i=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return a&&i&&t.push("text-shadow:"+o+"px "+s+"px "+i+"px "+a),j(["decoration","align"],function(l){var u=e.get(l);u&&t.push("text-"+l+":"+u)}),t.join(";")}function one(e,t,r){var n=[],a=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),f=iV(e,"html"),d=l+"px "+u+"px "+o+"px "+s;return n.push("box-shadow:"+d),t&&a&&n.push(ane(a,r)),i&&n.push("background-color:"+i),j(["width","color","radius"],function(h){var v="border-"+h,p=MB(v),m=e.get(p);m!=null&&n.push(v+":"+m+(h==="color"?"":"px"))}),n.push(ine(c)),f!=null&&n.push("padding:"+c_(f).join("px ")+"px"),n.join(";")+";"}function HL(e,t,r,n,a){var i=t&&t.painter;if(r){var o=i&&i.getViewportRoot();o&&kY(e,o,document.body,n,a)}else{e[0]=n,e[1]=a;var s=i&&i.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var sne=function(){function e(t,r,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Nt.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var i=this._zr=r.getZr(),o=this._appendToBody=n&&n.appendToBody;HL(this._styleCoord,i,o,r.getWidth()/2,r.getHeight()/2),o?document.body.appendChild(a):t.appendChild(a),this._container=t;var s=this;a.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},a.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();xi(c,l,!0),u.dispatch("mousemove",l)}},a.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(t){var r=this._container,n=Jre(r,"position"),a=r.style;a.position!=="absolute"&&n!=="absolute"&&(a.position="relative");var i=t.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,a=n.style,i=this._styleCoord;n.innerHTML?a.cssText=tne+one(t,!this._firstShow,this._longHide)+UL(i[0],i[1],!0)+("border-color:"+yc(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,a,i){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(rt(i)&&n.get("trigger")==="item"&&!l5(n)&&(s=nne(n,a,i)),rt(t))o.innerHTML=t+s;else if(t){o.innerHTML="",Ne(t)||(t=[t]);for(var l=0;l<t.length;l++)vy(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},e.prototype.moveTo=function(t,r){var n=this._styleCoord;if(HL(n,this._zr,this._appendToBody,t,r),n[0]!=null&&n[1]!=null){var a=this.el.style,i=UL(n[0],n[1]);j(i,function(o){a[o[0]]=o[1]})}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Nt.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Or(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}();const lne=sne;var une=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),$L(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,a,i){var o=this;lt(t)&&Wa(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new Kr({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:iV(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),j(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=n.get(u)}),j(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=GL(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var a=this._styleCoord;$L(a,this._zr,t,r),t=a[0],r=a[1];var i=n.style,o=Sl(i.borderWidth||0),s=GL(i);n.x=t+o+s.left,n.y=r+o+s.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Or(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Sl(e){return Math.max(0,e)}function GL(e){var t=Sl(e.shadowBlur||0),r=Sl(e.shadowOffsetX||0),n=Sl(e.shadowOffsetY||0);return{left:Sl(t-r),right:Sl(t+r),top:Sl(t-n),bottom:Sl(t+n)}}function $L(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}const cne=une;var fne=new gn({shape:{x:-1,y:-1,width:2,height:2}}),dne=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(Nt.node||!n.getDom())){var a=r.getComponent("tooltip"),i=this._renderMode=hX(a.get("renderMode"));this._tooltipContent=i==="richText"?new cne(n):new lne(n.getDom(),n,{appendToBody:a.get("appendToBody",!0)})}},t.prototype.render=function(r,n,a){if(!(Nt.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=a;var i=this._tooltipContent;i.update(r),i.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?sV(this,"_updatePosition",50,"fixRate"):Zw(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");a5("itemTooltip",this._api,Or(function(a,i,o){n!=="none"&&(n.indexOf(a)>=0?this._tryShow(i,o):a==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,a=this._api,i=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(r,n,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,a,i){if(!(i.from===this.uid||Nt.node||!a.getDom())){var o=WL(i,a);this._ticket="";var s=i.dataByCoordSys,l=mne(i,n,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=fne;c.x=i.x,c.y=i.y,c.update(),Wt(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,a,i))return;var f=i5(i,n),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},o))}},t.prototype.manuallyHideTip=function(r,n,a,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(WL(i,a))},t.prototype._manuallyAxisShowTip=function(r,n,a,i){var o=i.seriesIndex,s=i.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=n.getSeriesByIndex(o);if(u){var c=u.getData(),f=Ch([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},t.prototype._tryShow=function(r,n){var a=r.target,i=this._tooltipModel;if(i){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(a){this._lastDataByCoordSys=null;var s,l;Zh(a,function(u){if(Wt(u).dataIndex!=null)return s=u,!0;if(Wt(u).tooltipConfig!=null)return l=u,!0},!0),s?this._showSeriesItemTooltip(r,s,n):l?this._showComponentItemTooltip(r,l,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var a=r.get("showDelay");n=Or(n,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(n,a):n()},t.prototype._showAxisTooltip=function(r,n){var a=this._ecModel,i=this._tooltipModel,o=[n.offsetX,n.offsetY],s=Ch([n.tooltipOption],i),l=this._renderMode,u=[],c=ep("section",{blocks:[],noHeader:!0}),f=[],d=new lx;j(r,function(y){j(y.dataByAxis,function(_){var x=a.getComponent(_.axisDim+"Axis",_.axisIndex),w=_.value;if(!(!x||w==null)){var b=r5(w,x.axis,a,_.seriesDataIndices,_.valueLabelOpt),T=ep("section",{header:b,noHeader:!Yo(b),sortBlocks:!0,blocks:[]});c.blocks.push(T),j(_.seriesDataIndices,function(S){var A=a.getSeriesByIndex(S.seriesIndex),M=S.dataIndexInside,C=A.getDataParams(M);if(!(C.dataIndex<0)){C.axisDim=_.axisDim,C.axisIndex=_.axisIndex,C.axisType=_.axisType,C.axisId=_.axisId,C.axisValue=u2(x.axis,{value:w}),C.axisValueLabel=b,C.marker=d.makeTooltipMarker("item",yc(C.color),l);var D=zM(A.formatTooltip(M,!0,null)),P=D.frag;if(P){var I=Ch([A],i).get("valueFormatter");T.blocks.push(I?De({valueFormatter:I},P):P)}D.text&&f.push(D.text),u.push(C)}})}})}),c.blocks.reverse(),f.reverse();var h=n.position,v=s.get("order"),p=YM(c,d,l,v,a.get("useUTC"),s.get("textStyle"));p&&f.unshift(p);var m=l==="richText"?`

`:"<br/>",g=f.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",o[0],o[1],h,null,d)})},t.prototype._showSeriesItemTooltip=function(r,n,a){var i=this._ecModel,o=Wt(n),s=o.seriesIndex,l=i.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,d=u.getData(f),h=this._renderMode,v=r.positionDefault,p=Ch([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=p.get("trigger");if(!(m!=null&&m!=="item")){var g=u.getDataParams(c,f),y=new lx;g.marker=y.makeTooltipMarker("item",yc(g.color),h);var _=zM(u.formatTooltip(c,!1,f)),x=p.get("order"),w=p.get("valueFormatter"),b=_.frag,T=b?YM(w?De({valueFormatter:w},b):b,y,h,x,i.get("useUTC"),p.get("textStyle")):_.text,S="item_"+u.name+"_"+c;this._showOrMove(p,function(){this._showTooltipContent(p,T,g,S,r.offsetX,r.offsetY,r.position,r.target,y)}),a({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,a){var i=Wt(n),o=i.tooltipConfig,s=o.option||{};if(rt(s)){var l=s;s={content:l,formatter:l}}var u=[s],c=this._ecModel.getComponent(i.componentMainType,i.componentIndex);c&&u.push(c),u.push({formatter:s.content});var f=r.positionDefault,d=Ch(u,this._tooltipModel,f?{position:f}:null),h=d.get("content"),v=Math.random()+"",p=new lx;this._showOrMove(d,function(){var m=Kt(d.get("formatterParams")||{});this._showTooltipContent(d,h,m,v,r.offsetX,r.offsetY,r.position,n,p)}),a({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,a,i,o,s,l,u,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var f=this._tooltipContent;f.setEnterable(r.get("enterable"));var d=r.get("formatter");l=l||r.get("position");var h=n,v=this._getNearestPoint([o,s],a,r.get("trigger"),r.get("borderColor")),p=v.color;if(d)if(rt(d)){var m=r.ecModel.get("useUTC"),g=Ne(a)?a[0]:a,y=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=d,y&&(h=i_(g.axisValue,h,m)),h=HC(h,a,!0)}else if(bt(d)){var _=Or(function(x,w){x===this._ticket&&(f.setContent(w,c,r,p,l),this._updatePosition(r,l,o,s,f,a,u))},this);this._ticket=i,h=d(a,i,_)}else h=d;f.setContent(h,c,r,p,l),f.show(r,p),this._updatePosition(r,l,o,s,f,a,u)}},t.prototype._getNearestPoint=function(r,n,a,i){if(a==="axis"||Ne(n))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!Ne(n))return{color:i||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,a,i,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||r.get("position");var f=o.getSize(),d=r.get("align"),h=r.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),bt(n)&&(n=n([a,i],s,o.el,v,{viewSize:[u,c],contentSize:f.slice()})),Ne(n))a=Sr(n[0],u),i=Sr(n[1],c);else if(lt(n)){var p=n;p.width=f[0],p.height=f[1];var m=wo(p,{width:u,height:c});a=m.x,i=m.y,d=null,h=null}else if(rt(n)&&l){var g=pne(n,v,f,r.get("borderWidth"));a=g[0],i=g[1]}else{var g=hne(a,i,o,u,c,d?null:20,h?null:20);a=g[0],i=g[1]}if(d&&(a-=YL(d)?f[0]/2:d==="right"?f[0]:0),h&&(i-=YL(h)?f[1]/2:h==="bottom"?f[1]:0),l5(r)){var g=vne(a,i,o,u,c);a=g[0],i=g[1]}o.moveTo(a,i)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var a=this._lastDataByCoordSys,i=this._cbParamsList,o=!!a&&a.length===r.length;return o&&j(a,function(s,l){var u=s.dataByAxis||[],c=r[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&j(u,function(d,h){var v=f[h]||{},p=d.seriesDataIndices||[],m=v.seriesDataIndices||[];o=o&&d.value===v.value&&d.axisType===v.axisType&&d.axisId===v.axisId&&p.length===m.length,o&&j(p,function(g,y){var _=m[y];o=o&&g.seriesIndex===_.seriesIndex&&g.dataIndex===_.dataIndex}),i&&j(d.seriesDataIndices,function(g){var y=g.seriesIndex,_=n[y],x=i[y];_&&x&&x.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){Nt.node||!n.getDom()||(Zw(this,"_updatePosition"),this._tooltipContent.dispose(),gS("itemTooltip",n))},t.type="tooltip",t}(va);function Ch(e,t,r){var n=t.ecModel,a;r?(a=new on(r,n,n),a=new on(t.option,a,n)):a=t;for(var i=e.length-1;i>=0;i--){var o=e[i];o&&(o instanceof on&&(o=o.get("tooltip",!0)),rt(o)&&(o={formatter:o}),o&&(a=new on(o,a,n)))}return a}function WL(e,t){return e.dispatchAction||Or(t.dispatchAction,t)}function hne(e,t,r,n,a,i,o){var s=r.getSize(),l=s[0],u=s[1];return i!=null&&(e+l+i+2>n?e-=l+i:e+=i),o!=null&&(t+u+o>a?t-=u+o:t+=o),[e,t]}function vne(e,t,r,n,a){var i=r.getSize(),o=i[0],s=i[1];return e=Math.min(e+o,n)-o,t=Math.min(t+s,a)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function pne(e,t,r,n){var a=r[0],i=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-a/2,l=t.y+c/2-i/2;break;case"top":s=t.x+u/2-a/2,l=t.y-i-o;break;case"bottom":s=t.x+u/2-a/2,l=t.y+c+o;break;case"left":s=t.x-a-o,l=t.y+c/2-i/2;break;case"right":s=t.x+u+o,l=t.y+c/2-i/2}return[s,l]}function YL(e){return e==="center"||e==="middle"}function mne(e,t,r){var n=SC(e).queryOptionMap,a=n.keys()[0];if(!(!a||a==="series")){var i=kp(t,a,n.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=r.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=Wt(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}}const gne=dne;function yne(e){vr(o5),e.registerComponentModel(Kre),e.registerComponentView(gne),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Za),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Za)}var _ne=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(nr),xne=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,a){if(this.group.removeAll(),!!r.get("show")){var i=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),l=r.get("textAlign"),u=Ft(r.get("textBaseline"),r.get("textVerticalAlign")),c=new Kr({style:Yi(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=r.get("subtext"),h=new Kr({style:Yi(s,{text:d,fill:s.getTextColor(),y:f.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=r.get("link"),p=r.get("sublink"),m=r.get("triggerEvent",!0);c.silent=!v&&!m,h.silent=!p&&!m,v&&c.on("click",function(){wM(v,"_"+r.get("target"))}),p&&h.on("click",function(){wM(p,"_"+r.get("subtarget"))}),Wt(c).eventData=Wt(h).eventData=m?{componentType:"title",componentIndex:r.componentIndex}:null,i.add(c),d&&i.add(h);var g=i.getBoundingRect(),y=r.getBoxLayoutParams();y.width=g.width,y.height=g.height;var _=wo(y,{width:a.getWidth(),height:a.getHeight()},r.get("padding"));l||(l=r.get("left")||r.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),u||(u=r.get("top")||r.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),i.x=_.x,i.y=_.y,i.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),h.setStyle(x),g=i.getBoundingRect();var w=_.margin,b=r.getItemStyle(["color","opacity"]);b.fill=r.get("backgroundColor");var T=new gn({shape:{x:g.x-w[3],y:g.y-w[0],width:g.width+w[1]+w[3],height:g.height+w[0]+w[2],r:r.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});i.add(T)}},t.type="title",t}(va);function A2(e){e.registerComponentModel(_ne),e.registerComponentView(xne)}var bne=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},wne=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a),r.selected=r.selected||{},this._updateSelector(r)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},t.prototype._updateSelector=function(r){var n=r.selector,a=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),Ne(n)&&j(n,function(i,o){rt(i)&&(i={type:i}),n[o]=je(i,bne(a,i.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,a=0;a<r.length;a++){var i=r[a].get("name");if(this.isSelected(i)){this.select(i),n=!0;break}}!n&&this.select(r[0].get("name"))}},t.prototype._updateData=function(r){var n=[],a=[];r.eachRawSeries(function(l){var u=l.name;a.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();r.isSeriesFiltered(l)||(a=a.concat(d)),d.length?n=n.concat(d):c=!0}else c=!0;c&&wC(l)&&n.push(l.name)}),this._availableNames=a;var i=this.get("data")||n,o=xt(),s=nt(i,function(l){return(rt(l)||xr(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new on(l,this,this.ecModel))},this);this._data=dn(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(r){var n=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;j(i,function(o){n[o.get("name")]=!1})}n[r]=!0},t.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},t.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},t.prototype.allSelect=function(){var r=this._data,n=this.option.selected;j(r,function(a){n[a.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;j(r,function(a){var i=a.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]})},t.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&$t(this._availableNames,r)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(nr);const _S=wne;var ff=zr,xS=j,Km=Kn,Sne=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!1,r}return t.prototype.init=function(){this.group.add(this._contentGroup=new Km),this.group.add(this._selectorGroup=new Km),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(r,n,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var o=r.get("align"),s=r.get("orient");(!o||o==="auto")&&(o=r.get("left")==="right"&&s==="vertical"?"right":"left");var l=r.get("selector",!0),u=r.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,r,n,a,l,s,u);var c=r.getBoxLayoutParams(),f={width:a.getWidth(),height:a.getHeight()},d=r.get("padding"),h=wo(c,f,d),v=this.layoutInner(r,o,h,i,l,u),p=wo(kt({width:v.width,height:v.height},c),f,d);this.group.x=p.x-v.x,this.group.y=p.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=qre(v,r))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(r,n,a,i,o,s,l){var u=this.getContentGroup(),c=xt(),f=n.get("selectedMode"),d=[];a.eachRawSeries(function(h){!h.get("legendHoverLink")&&d.push(h.id)}),xS(n.getData(),function(h,v){var p=h.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var m=new Km;m.newline=!0,u.add(m);return}var g=a.getSeriesByName(p)[0];if(!c.get(p))if(g){var y=g.getData(),_=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),w=y.getVisual("style"),b=this._createItem(g,p,v,h,n,r,_,w,x,f,i);b.on("click",ff(XL,p,null,i,d)).on("mouseover",ff(bS,g.name,null,i,d)).on("mouseout",ff(wS,g.name,null,i,d)),c.set(p,!0)}else a.eachRawSeries(function(T){if(!c.get(p)&&T.legendVisualProvider){var S=T.legendVisualProvider;if(!S.containName(p))return;var A=S.indexOfName(p),M=S.getItemVisual(A,"style"),C=S.getItemVisual(A,"legendIcon"),D=_o(M.fill);D&&D[3]===0&&(D[3]=.2,M=De(De({},M),{fill:W0(D,"rgba")}));var P=this._createItem(T,p,v,h,n,r,{},M,C,f,i);P.on("click",ff(XL,null,p,i,d)).on("mouseover",ff(bS,null,p,i,d)).on("mouseout",ff(wS,null,p,i,d)),c.set(p,!0)}},this)},this),o&&this._createSelector(o,n,i,s,l)},t.prototype._createSelector=function(r,n,a,i,o){var s=this.getSelectorGroup();xS(r,function(u){var c=u.type,f=new Kr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(f);var d=n.getModel("selectorLabel"),h=n.getModel(["emphasis","selectorLabel"]);Np(f,{normal:d,emphasis:h},{defaultText:u.title}),Vw(f)})},t.prototype._createItem=function(r,n,a,i,o,s,l,u,c,f,d){var h=r.visualDrawType,v=o.get("itemWidth"),p=o.get("itemHeight"),m=o.isSelected(n),g=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),_=i.get("icon");c=_||c||"roundRect";var x=Tne(c,i,l,u,h,m,d),w=new Km,b=i.getModel("textStyle");if(bt(r.getLegendIcon)&&(!_||_==="inherit"))w.add(r.getLegendIcon({itemWidth:v,itemHeight:p,icon:c,iconRotate:g,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));else{var T=_==="inherit"&&r.getData().getVisual("symbol")?g==="inherit"?r.getData().getVisual("symbolRotate"):g:0;w.add(Cne({itemWidth:v,itemHeight:p,icon:c,iconRotate:T,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}var S=s==="left"?v+5:-5,A=s,M=o.get("formatter"),C=n;rt(M)&&M?C=M.replace("{name}",n??""):bt(M)&&(C=M(n));var D=m?b.getTextColor():i.get("inactiveColor");w.add(new Kr({style:Yi(b,{text:C,x:S,y:p/2,fill:D,align:A,verticalAlign:"middle"},{inheritColor:D})}));var P=new gn({shape:w.getBoundingRect(),invisible:!0}),I=i.getModel("tooltip");return I.get("show")&&t_({el:P,componentModel:o,itemName:n,itemTooltipOption:I.option}),w.add(P),w.eachChild(function(k){k.silent=!0}),P.silent=!f,this.getContentGroup().add(w),Vw(w),w.__legendDataIndex=a,w},t.prototype.layoutInner=function(r,n,a,i,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();bv(r.get("orient"),l,r.get("itemGap"),a.width,a.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){bv("horizontal",u,r.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],v=r.get("selectorButtonGap",!0),p=r.getOrient().index,m=p===0?"width":"height",g=p===0?"height":"width",y=p===0?"y":"x";s==="end"?h[p]+=c[m]+v:f[p]+=d[m]+v,h[1-p]+=c[g]/2-d[g]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var _={x:0,y:0};return _[m]=c[m]+v+d[m],_[g]=Math.max(c[g],d[g]),_[y]=Math.min(0,d[y]+h[1-p]),_}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(va);function Tne(e,t,r,n,a,i,o){function s(m,g){m.lineWidth==="auto"&&(m.lineWidth=g.lineWidth>0?2:0),xS(m,function(y,_){m[_]==="inherit"&&(m[_]=g[_])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:tS(f,o),u.fill==="inherit"&&(u.fill=n[a]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?n:r).opacity),s(u,n);var d=t.getModel("lineStyle"),h=d.getLineStyle();if(s(h,r),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),h.stroke==="auto"&&(h.stroke=n.fill),!i){var v=t.get("inactiveBorderWidth"),p=u[c];u.lineWidth=v==="auto"?n.lineWidth>0&&p?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function Cne(e){var t=e.icon||"roundRect",r=xc(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.rotation=(e.iconRotate||0)*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function XL(e,t,r,n){wS(e,t,r,n),r.dispatchAction({type:"legendToggleSelect",name:e??t}),bS(e,t,r,n)}function d5(e){for(var t=e.getZr().storage.getDisplayList(),r,n=0,a=t.length;n<a&&!(r=t[n].states.emphasis);)n++;return r&&r.hoverLayer}function bS(e,t,r,n){d5(r)||r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function wS(e,t,r,n){d5(r)||r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}const h5=Sne;function Ane(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(r){for(var n=0;n<t.length;n++)if(!t[n].isSelected(r.name))return!1;return!0})}function Ah(e,t,r){var n={},a=e==="toggleSelected",i;return r.eachComponent("legend",function(o){a&&i!=null?o[i?"select":"unSelect"](t.name):e==="allSelect"||e==="inverseSelect"?o[e]():(o[e](t.name),i=o.isSelected(t.name));var s=o.getData();j(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var c=o.isSelected(u);n.hasOwnProperty(u)?n[u]=n[u]&&c:n[u]=c}})}),e==="allSelect"||e==="inverseSelect"?{selected:n}:{name:t.name,selected:n}}function Ene(e){e.registerAction("legendToggleSelect","legendselectchanged",zr(Ah,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",zr(Ah,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",zr(Ah,"inverseSelect")),e.registerAction("legendSelect","legendselected",zr(Ah,"select")),e.registerAction("legendUnSelect","legendunselected",zr(Ah,"unSelect"))}function v5(e){e.registerComponentModel(_S),e.registerComponentView(h5),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,Ane),e.registerSubTypeDefaulter("legend",function(){return"plain"}),Ene(e)}var Dne=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},t.prototype.init=function(r,n,a){var i=f_(r);e.prototype.init.call(this,r,n,a),jL(this,r,i)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),jL(this,this.option,r)},t.type="legend.scroll",t.defaultOption=yB(_S.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(_S);function jL(e,t,r){var n=e.getOrient(),a=[1,1];a[n.index]=0,_c(t,r,{type:"box",ignoreSize:!!a})}const Mne=Dne;var qL=Kn,Fx=["width","height"],zx=["x","y"],Pne=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!0,r._currentIndex=0,r}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new qL),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new qL)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(r,n,a,i,o,s,l){var u=this;e.prototype.renderInner.call(this,r,n,a,i,o,s,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),d=Ne(f)?f:[f,f];v("pagePrev",0);var h=n.getModel("pageTextStyle");c.add(new Kr({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(p,m){var g=p+"DataIndex",y=NC(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:Or(u._pageGo,u,g,n,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});y.name=p,c.add(y)}},t.prototype.layoutInner=function(r,n,a,i,o,s){var l=this.getSelectorGroup(),u=r.getOrient().index,c=Fx[u],f=zx[u],d=Fx[1-u],h=zx[1-u];o&&bv("horizontal",l,r.get("selectorItemGap",!0));var v=r.get("selectorButtonGap",!0),p=l.getBoundingRect(),m=[-p.x,-p.y],g=Kt(a);o&&(g[c]=a[c]-p[c]-v);var y=this._layoutContentAndController(r,i,g,u,c,d,h,f);if(o){if(s==="end")m[u]+=y[c]+v;else{var _=p[c]+v;m[u]-=_,y[f]-=_}y[c]+=p[c]+v,m[1-u]+=y[h]+y[d]/2-p[d]/2,y[d]=Math.max(y[d],p[d]),y[h]=Math.min(y[h],p[h]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return y},t.prototype._layoutContentAndController=function(r,n,a,i,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;bv(r.get("orient"),c,r.get("itemGap"),i?a.width:null,i?null:a.height),bv("horizontal",d,r.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),v=d.getBoundingRect(),p=this._showController=h[o]>a[o],m=[-h.x,-h.y];n||(m[i]=c[u]);var g=[0,0],y=[-v.x,-v.y],_=Ft(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(p){var x=r.get("pageButtonPosition",!0);x==="end"?y[i]+=a[o]-v[o]:g[i]+=v[o]+_}y[1-i]+=h[s]/2-v[s]/2,c.setPosition(m),f.setPosition(g),d.setPosition(y);var w={x:0,y:0};if(w[o]=p?a[o]:h[o],w[s]=Math.max(h[s],v[s]),w[l]=Math.min(0,v[l]+y[1-i]),f.__rectSize=a[o],p){var b={x:0,y:0};b[o]=Math.max(a[o]-v[o]-_,0),b[s]=w[s],f.setClipPath(new gn({shape:b})),f.__rectSize=b[o]}else d.eachChild(function(S){S.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(r);return T.pageIndex!=null&&On(c,{x:T.contentPosition[0],y:T.contentPosition[1]},p?r:null),this._updatePageInfoView(r,T),w},t.prototype._pageGo=function(r,n,a){var i=this._getPageInfo(n)[r];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:n.id})},t.prototype._updatePageInfoView=function(r,n){var a=this._controllerGroup;j(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=n[f]!=null,h=a.childOfName(c);h&&(h.setStyle("fill",d?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var i=a.childOfName("pageText"),o=r.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;i&&o&&i.setStyle("text",rt(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,o=r.getOrient().index,s=Fx[o],l=zx[o],u=this._findTargetItemIndex(n),c=a.children(),f=c[u],d=c.length,h=d?1:0,v={contentPosition:[a.x,a.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var p=x(f);v.contentPosition[o]=-p.s;for(var m=u+1,g=p,y=p,_=null;m<=d;++m)_=x(c[m]),(!_&&y.e>g.s+i||_&&!w(_,g.s))&&(y.i>g.i?g=y:g=_,g&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=g.i),++v.pageCount)),y=_;for(var m=u-1,g=p,y=p,_=null;m>=-1;--m)_=x(c[m]),(!_||!w(y,_.s))&&g.i<y.i&&(y=g,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=g.i),++v.pageCount,++v.pageIndex),g=_;return v;function x(b){if(b){var T=b.getBoundingRect(),S=T[l]+b[l];return{s:S,e:S+T[s],i:b.__legendDataIndex}}}function w(b,T){return b.e>=T&&b.s<=T+i}},t.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,a=this.getContentGroup(),i;return a.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===r&&(n=s)}),n??i},t.type="legend.scroll",t}(h5);const Lne=Pne;function Ine(e){e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(n)})})}function Rne(e){vr(v5),e.registerComponentModel(Mne),e.registerComponentView(Lne),Ine(e)}function p5(e){vr(v5),vr(Rne)}var One=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.prototype.init=function(r,n,a){e.prototype.init.call(this,r,n,a),this._sourceManager=new JB(this),$M(this)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),$M(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Zo},t}(nr),kne=function(e){ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.type="dataset",t}(va);function Nne(e){e.registerComponentModel(One),e.registerComponentView(kne)}const Ux=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+(11-e[0].value)+""},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":11-e+""},fontSize:20,fontWeight:"bold",color:"black"},interval:1,max:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0}}),Hx=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+e[0].value.toFixed(2)},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e},fontSize:20,fontWeight:"bold",color:"black"},splitNumber:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0},graphic:[{type:"text",left:"10%",top:20,style:{text:": ",fontWeight:"bold",color:"grey"}}]}),Gx=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+e[0].value.toFixed(2)},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e},fontSize:20,fontWeight:"bold",color:"black"},splitNumber:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0},graphic:[{type:"text",left:"10%",top:20,style:{text:": ",fontWeight:"bold",color:"grey"}}]}),$x=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+e[0].value+""},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e+""},fontSize:20,fontWeight:"bold",color:"black"},splitNumber:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0}}),Wx=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+e[0].value+""},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e+""},fontSize:20,fontWeight:"bold",color:"black"},splitNumber:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0}}),Bne=or({__name:"BarCharts",setup(e){vr([BF,S2,A2,T2]);const t=Gs(),r=R(()=>t.path.split("/")[2]),n=te("rank");return Qt(async()=>{const a=await j6(r.value);if(a.data.dates==null){n.value="";return}const i=a.data.rank[0].datas.map((s,l)=>s!==0?l:-1).filter(s=>s!==-1),o=i.map(s=>a.data.dates[s]);Ux.value.xAxis.data=o,Hx.value.xAxis.data=o,Gx.value.xAxis.data=o,$x.value.xAxis.data=o,Wx.value.xAxis.data=o,Ux.value.series[0].data=i.map(s=>a.data.rank[0].datas.map(l=>l===0?null:-l+11)[s]),Hx.value.series[0].data=i.map(s=>a.data.sales[0].datas.map(l=>l/1e8)[s]),Gx.value.series[0].data=i.map(s=>a.data.audienceCount[0].datas.map(l=>l/1e4)[s]),$x.value.series[0].data=i.map(s=>a.data.screeningsCount[0].datas[s]),Wx.value.series[0].data=i.map(s=>a.data.theatersCount[0].datas[s])}),(a,i)=>{const o=Fe("v-tab"),s=Fe("v-tabs"),l=Fe("v-row"),u=Fe("v-container");return n.value!=""?(ee(),Me(u,{key:0},{default:ne(()=>[E(l,{justify:"center"},{default:ne(()=>[E(s,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),"selected-class":"text-pink"},{default:ne(()=>[E(o,{class:"font-weight-bold text-h5",value:"rank"},{default:ne(()=>[Xe("")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"sales"},{default:ne(()=>[Xe("")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"audienceCount"},{default:ne(()=>[Xe("")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"screeningsCount"},{default:ne(()=>[Xe(" ")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"theatersCount"},{default:ne(()=>[Xe(" ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),E(l,null,{default:ne(()=>[n.value==="rank"?(ee(),Me(ie(Ma),{key:0,class:"chart",option:ie(Ux)},null,8,["option"])):fe("",!0),n.value==="sales"?(ee(),Me(ie(Ma),{key:1,class:"chart",option:ie(Hx)},null,8,["option"])):fe("",!0),n.value==="audienceCount"?(ee(),Me(ie(Ma),{key:2,class:"chart",option:ie(Gx)},null,8,["option"])):fe("",!0),n.value==="screeningsCount"?(ee(),Me(ie(Ma),{key:3,class:"chart",option:ie($x)},null,8,["option"])):fe("",!0),n.value==="theatersCount"?(ee(),Me(ie(Ma),{key:4,class:"chart",option:ie(Wx)},null,8,["option"])):fe("",!0)]),_:1})]),_:1})):fe("",!0)}}});const Vne=Lc(Bne,[["__scopeId","data-v-fa605cdd"]]),Fne=Ve("br",null,null,-1),zne=["textContent"],Une=Ve("br",null,null,-1),Hne={key:0,class:"mt-2"},Gne=Ve("span",{class:"font-weight-bold"},": ",-1),$ne=["textContent"],Wne={key:1,class:"mt-2"},Yne=Ve("span",{class:"font-weight-bold"},": ",-1),Xne=["textContent"],jne={key:2,class:"mt-2"},qne=Ve("span",{class:"font-weight-bold"},": ",-1),Zne=["textContent"],Kne={key:3,class:"mt-2"},Qne=Ve("span",{class:"font-weight-bold"},": ",-1),Jne=["textContent"],eae={key:4,class:"mt-2"},tae=Ve("span",{class:"font-weight-bold"},": ",-1),rae=["textContent"],nae={key:5,class:"mt-2"},aae=Ve("span",{class:"font-weight-bold"},": ",-1),iae=["textContent"],oae=or({__name:"MovieDetailsView",setup(e){const t=Gs(),r=R(()=>t.path.split("/")[2]),n=Tr({title:"",openingDate:"",poster:"",genre:"",nation:"",company:"",runtime:"",ratingGrade:""});return Qt(async()=>{const i=(await MN(r.value)).data.movies[0];n.title=i.title,n.openingDate=i.openingDate,n.poster=i.poster,n.genre=i.genre,n.nation=i.nation,n.company=i.company,n.runtime=i.runtime,n.ratingGrade=i.ratingGrade}),(a,i)=>{const o=Fe("v-col"),s=Fe("v-img"),l=Fe("v-btn"),u=Fe("v-row");return ee(),be(Ce,null,[E(u,null,{default:ne(()=>[E(o,{cols:"3"}),E(o,{cols:"2",align:"center"},{default:ne(()=>[n.poster==""?(ee(),Me(s,{key:0,src:ie(PN),cover:""},null,8,["src"])):(ee(),Me(s,{key:1,src:n.poster,cover:""},null,8,["src"])),E(l,{class:"mt-5 font-weight-bold",color:"pink"},{default:ne(()=>[Xe(" ")]),_:1})]),_:1}),E(o,{class:"ml-10"},{default:ne(()=>[Fne,Ve("div",{class:"font-weight-bold text-h4",textContent:Rt(n.title)},null,8,zne),Une,n.openingDate!=null?(ee(),be("div",Hne,[Gne,Ve("span",{textContent:Rt(n.openingDate)},null,8,$ne)])):fe("",!0),n.genre!=""?(ee(),be("div",Wne,[Yne,Ve("span",{textContent:Rt(n.genre)},null,8,Xne)])):fe("",!0),n.nation!=""?(ee(),be("div",jne,[qne,Ve("span",{textContent:Rt(n.nation)},null,8,Zne)])):fe("",!0),n.company!=""?(ee(),be("div",Kne,[Qne,Ve("span",{textContent:Rt(n.company)},null,8,Jne)])):fe("",!0),n.runtime!=""?(ee(),be("div",eae,[tae,Ve("span",{textContent:Rt(n.runtime)},null,8,rae),Xe("")])):fe("",!0),n.ratingGrade!=""?(ee(),be("div",nae,[aae,Ve("span",{textContent:Rt(n.ratingGrade)},null,8,iae)])):fe("",!0)]),_:1}),E(o,{cols:"3"})]),_:1}),E(Vne,{class:"mt-5"})],64)}}}),Qm=te({tooltip:{trigger:"item",formatter:function(e){return`<span style='color: ${e.color}' class='font-weight-bold'>${e.name} <br/>${(e.value/1e8).toFixed(2)} (${e.percent}%)</span>`}},label:{fontSize:15,fontWeight:"bold"},series:[{type:"pie",data:[],emphasis:{itemStyle:{shadowBlur:100}}}]}),Jm=te({tooltip:{trigger:"item",formatter:function(e){return`<span style='color: ${e.color}' class='font-weight-bold'>${e.name} <br/>${e.value/1e4} (${e.percent}%)</span>`}},label:{fontSize:15,fontWeight:"bold"},series:[{type:"pie",data:[],emphasis:{itemStyle:{shadowBlur:100}}}]}),eg=te({tooltip:{trigger:"item",formatter:function(e){return`<span style='color: ${e.color}' class='font-weight-bold'>${e.name} <br/>${e.value} (${e.percent}%)</span>`}},label:{fontSize:15,fontWeight:"bold"},series:[{type:"pie",data:[],emphasis:{itemStyle:{shadowBlur:100}}}]}),tg=te({tooltip:{trigger:"item",formatter:function(e){return`<span style='color: ${e.color}' class='font-weight-bold'>${e.name} <br/>${e.value} (${e.percent}%)</span>`}},label:{fontSize:15,fontWeight:"bold"},series:[{type:"pie",data:[],emphasis:{itemStyle:{shadowBlur:100}}}]}),sae=or({__name:"PieCharts",props:{datePeriod:{type:Array,default:()=>[z0(),id()]}},setup(e){const t=e;vr([Fee,S2,A2,T2,p5]);const r=te("rank"),n=a=>{wc.push(`/movie-details/${a.data.id}`)};return Xr(async()=>{var i,o;const a=await Z6(hy((i=t.datePeriod)==null?void 0:i[0]),hy((o=t.datePeriod)==null?void 0:o[1]));Qm.value={...Qm.value},Jm.value={...Jm.value},eg.value={...eg.value},tg.value={...tg.value},Qm.value.series[0].data=a.data.sales,Jm.value.series[0].data=a.data.audienceCount,eg.value.series[0].data=a.data.screeningsCount,tg.value.series[0].data=a.data.theatersCount}),(a,i)=>{const o=Fe("v-tab"),s=Fe("v-tabs"),l=Fe("v-row"),u=Fe("v-container");return ee(),Me(u,null,{default:ne(()=>[E(l,{justify:"center",class:"mt-3"},{default:ne(()=>[E(s,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=c=>r.value=c),"selected-class":"text-pink"},{default:ne(()=>[E(o,{class:"font-weight-bold text-h5",value:"sales"},{default:ne(()=>[Xe("")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"audienceCount"},{default:ne(()=>[Xe("")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"screeningsCount"},{default:ne(()=>[Xe(" ")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"theatersCount"},{default:ne(()=>[Xe(" ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),E(l,null,{default:ne(()=>[r.value==="sales"?(ee(),Me(ie(Ma),{key:0,class:"chart",option:ie(Qm),onClick:n},null,8,["option"])):fe("",!0),r.value==="audienceCount"?(ee(),Me(ie(Ma),{key:1,class:"chart",option:ie(Jm),onClick:n},null,8,["option"])):fe("",!0),r.value==="screeningsCount"?(ee(),Me(ie(Ma),{key:2,class:"chart",option:ie(eg),onClick:n},null,8,["option"])):fe("",!0),r.value==="theatersCount"?(ee(),Me(ie(Ma),{key:3,class:"chart",option:ie(tg),onClick:n},null,8,["option"])):fe("",!0)]),_:1})]),_:1})}}});const lae=Lc(sae,[["__scopeId","data-v-9f091d1b"]]),df=te({legend:{data:[],top:"bottom",itemWidth:5,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+(11-e.value)+""},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":11-e+""},fontSize:20,fontWeight:"bold",color:"black"},interval:1,max:10},series:[]}),hf=te({legend:{data:[],top:"bottom",itemWidth:10,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+e.value.toFixed(2)},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e},fontSize:20,fontWeight:"bold",color:"black"}},series:[],grid:{containLabel:!0},graphic:[{type:"text",left:"10%",top:20,style:{text:": ",fontWeight:"bold",color:"grey"}}]}),vf=te({legend:{data:[],top:"bottom",itemWidth:10,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+e.value.toFixed(2)},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e},fontSize:20,fontWeight:"bold",color:"black"}},series:[],grid:{containLabel:!0},graphic:[{type:"text",left:"10%",top:20,style:{text:": ",fontWeight:"bold",color:"grey"}}]}),pf=te({legend:{data:[],top:"bottom",itemWidth:10,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+e.value+""},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e+""},fontSize:20,fontWeight:"bold",color:"black"}},series:[],grid:{containLabel:!0}}),mf=te({legend:{data:[],top:"bottom",itemWidth:10,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+e.value+""},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e+""},fontSize:20,fontWeight:"bold",color:"black"}},series:[],grid:{containLabel:!0}}),uae=or({__name:"LineCharts",props:{datePeriod:{type:Array,default:()=>[z0(),id()]}},setup(e){const t=e;vr([oee,S2,A2,T2,p5]);const r=te("rank"),n=a=>{wc.push(`/movie-details/${a.seriesId}`)};return Xr(async()=>{var s,l;const a=await q6(hy((s=t.datePeriod)==null?void 0:s[0]),hy((l=t.datePeriod)==null?void 0:l[1])),i=a.data.dates,o=a.data.rank.map(u=>u.movieTitle);df.value={...df.value},df.value.legend.data=o,df.value.xAxis.data=i,df.value.series=a.data.rank.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:10},data:u.datas.map(c=>c===0?null:-c+11),id:u.moviesId,endLabel:{show:!0,formatter:c=>Of(c.seriesName,15)},emphasis:{focus:"series"}})),hf.value={...hf.value},hf.value.legend.data=o,hf.value.xAxis.data=i,hf.value.series=a.data.sales.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:5},data:u.datas.map(c=>c===0?null:c/1e8),id:u.moviesId,endLabel:{show:!0,formatter:c=>Of(c.seriesName,15)},emphasis:{focus:"series"}})),vf.value={...vf.value},vf.value.legend.data=o,vf.value.xAxis.data=i,vf.value.series=a.data.audienceCount.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:5},data:u.datas.map(c=>c===0?null:c/1e4),id:u.moviesId,endLabel:{show:!0,formatter:c=>Of(c.seriesName,15)},emphasis:{focus:"series"}})),pf.value={...pf.value},pf.value.legend.data=o,pf.value.xAxis.data=i,pf.value.series=a.data.screeningsCount.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:5},data:u.datas.map(c=>c===0?null:c),id:u.moviesId,endLabel:{show:!0,formatter:c=>Of(c.seriesName,15)},emphasis:{focus:"series"}})),mf.value={...mf.value},mf.value.legend.data=o,mf.value.xAxis.data=i,mf.value.series=a.data.theatersCount.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:5},data:u.datas.map(c=>c===0?null:c),id:u.moviesId,endLabel:{show:!0,formatter:c=>Of(c.seriesName,15)},emphasis:{focus:"series"}}))}),(a,i)=>{const o=Fe("v-tab"),s=Fe("v-tabs"),l=Fe("v-row"),u=Fe("v-container");return ee(),Me(u,null,{default:ne(()=>[E(l,{justify:"center",class:"mt-3"},{default:ne(()=>[E(s,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=c=>r.value=c),"selected-class":"text-pink"},{default:ne(()=>[E(o,{class:"font-weight-bold text-h5",value:"rank"},{default:ne(()=>[Xe("")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"sales"},{default:ne(()=>[Xe("")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"audienceCount"},{default:ne(()=>[Xe("")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"screeningsCount"},{default:ne(()=>[Xe(" ")]),_:1}),E(o,{class:"font-weight-bold text-h5",value:"theatersCount"},{default:ne(()=>[Xe(" ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),E(l,null,{default:ne(()=>[r.value==="rank"?(ee(),Me(ie(Ma),{key:0,class:"chart",option:ie(df),onClick:n},null,8,["option"])):fe("",!0),r.value==="sales"?(ee(),Me(ie(Ma),{key:1,class:"chart",option:ie(hf),onClick:n},null,8,["option"])):fe("",!0),r.value==="audienceCount"?(ee(),Me(ie(Ma),{key:2,class:"chart",option:ie(vf),onClick:n},null,8,["option"])):fe("",!0),r.value==="screeningsCount"?(ee(),Me(ie(Ma),{key:3,class:"chart",option:ie(pf),onClick:n},null,8,["option"])):fe("",!0),r.value==="theatersCount"?(ee(),Me(ie(Ma),{key:4,class:"chart",option:ie(mf),onClick:n},null,8,["option"])):fe("",!0)]),_:1})]),_:1})}}});const cae=Lc(uae,[["__scopeId","data-v-3fdc5d87"]]),ZL=or({__name:"StatisticsView",setup(e){const t=LN(),r=Gs(),n=te(r.path),a=te([z0(),id()]);return t.findMovieDataRange(),Xr(()=>{n.value=r.path}),(i,o)=>{const s=Fe("v-col"),l=Fe("VueDatePicker"),u=Fe("v-row"),c=Fe("v-container");return ee(),Me(c,null,{default:ne(()=>[E(u,null,{default:ne(()=>[E(s),E(s,{cols:"3"},{default:ne(()=>[E(l,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=f=>a.value=f),"enable-time-picker":!1,"min-date":ie(t).state.startDate,"max-date":ie(t).state.endDateDaily,"week-picker":""},null,8,["modelValue","min-date","max-date"])]),_:1}),E(s)]),_:1}),n.value=="/statistics/line-chart"?(ee(),Me(cae,{key:0,datePeriod:a.value},null,8,["datePeriod"])):fe("",!0),n.value=="/statistics/pie-chart"?(ee(),Me(lae,{key:1,datePeriod:a.value},null,8,["datePeriod"])):fe("",!0)]),_:1})}}}),Qh={LF:`
`,NULL:"\0"};class Al{constructor(t){const{command:r,headers:n,body:a,binaryBody:i,escapeHeaderValues:o,skipContentLengthHeader:s}=t;this.command=r,this.headers=Object.assign({},n||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=a||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=s||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}static fromRawFrame(t,r){const n={},a=i=>i.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const o=a(i[0]);let s=a(i[1]);r&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(s=Al.hdrValueUnEscape(s)),n[o]=s}return new Al({command:t.command,headers:n,binaryBody:t.binaryBody,escapeHeaderValues:r})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Al.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Qh.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const r of Object.keys(this.headers||{})){const n=this.headers[r];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${r}:${Al.hdrValueEscape(`${n}`)}`):t.push(`${r}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Qh.LF)+Qh.LF+Qh.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,r){const n=new TextEncoder().encode(t),a=new Uint8Array([0]),i=new Uint8Array(n.length+r.length+a.length);return i.set(n),i.set(r,n.length),i.set(a,n.length+r.length),i}static marshall(t){return new Al(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const KL=0,rg=10,ng=13,fae=58;let dae=class{constructor(t,r){this.onFrame=t,this.onIncomingPing=r,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,r=!1){let n;if(typeof t=="string"?n=this._encoder.encode(t):n=new Uint8Array(t),r&&n[n.length-1]!==0){const a=new Uint8Array(n.length+1);a.set(n,0),a[n.length]=0,n=a}for(let a=0;a<n.length;a++){const i=n[a];this._onByte(i)}}_collectFrame(t){if(t!==KL&&t!==ng){if(t===rg){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==ng){if(t===rg){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==ng){if(t===rg){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===fae){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==ng){if(t===rg){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(r=>r[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===KL){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var xs;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(xs=xs||(xs={}));var wi;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(wi=wi||(wi={}));class Da{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Da.V1_0="1.0";Da.V1_1="1.1";Da.V1_2="1.2";Da.default=new Da([Da.V1_2,Da.V1_1,Da.V1_0]);function hae(e,t){e.terminate=function(){const r=()=>{};this.onerror=r,this.onmessage=r,this.onopen=r;const n=new Date,a=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=o=>{const s=new Date().getTime()-n.getTime();t(`Discarded socket (#${a})  closed after ${s}ms, with code/reason: ${o.code}/${o.reason}`)},this.close(),i==null||i.call(e,{code:4001,reason:`Quick discarding socket (#${a}) without waiting for the shutdown sequence.`,wasClean:!1})}}class vae{constructor(t,r,n){this._client=t,this._webSocket=r,this._connected=!1,this._serverFrameHandlers={CONNECTED:a=>{this.debug(`connected to server ${a.headers.server}`),this._connected=!0,this._connectedVersion=a.headers.version,this._connectedVersion===Da.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(a.headers),this.onConnect(a)},MESSAGE:a=>{const i=a.headers.subscription,o=this._subscriptions[i]||this.onUnhandledMessage,s=a,l=this,u=this._connectedVersion===Da.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(c={})=>l.ack(u,i,c),s.nack=(c={})=>l.nack(u,i,c),o(s)},RECEIPT:a=>{const i=this._receiptWatchers[a.headers["receipt-id"]];i?(i(a),delete this._receiptWatchers[a.headers["receipt-id"]]):this.onUnhandledReceipt(a)},ERROR:a=>{this.onStompError(a)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const t=new dae(r=>{const n=Al.fromRawFrame(r,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=r=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data;this.debug(`<<< ${n}`)}t.parseChunk(r.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=r=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(r)},this._webSocket.onerror=r=>{this.onWebSocketError(r)},this._webSocket.onopen=()=>{const r=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),r["accept-version"]=this.stompVersions.supportedVersions(),r["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:r})}}_setupHeartbeat(t){if(t.version!==Da.V1_1&&t.version!==Da.V1_2||!t["heart-beat"])return;const[r,n]=t["heart-beat"].split(",").map(a=>parseInt(a,10));if(this.heartbeatOutgoing!==0&&n!==0){const a=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${a}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===xs.OPEN&&(this._webSocket.send(Qh.LF),this.debug(">>> PING"))},a)}if(this.heartbeatIncoming!==0&&r!==0){const a=Math.max(this.heartbeatIncoming,r);this.debug(`check PONG every ${a}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>a*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},a)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===xs.CONNECTING||this._webSocket.readyState===xs.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&hae(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:r,headers:n,body:a,binaryBody:i,skipContentLengthHeader:o}=t,s=new Al({command:r,headers:n,body:a,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o});let l=s.serialize();if(this.logRawCommunication?this.debug(`>>> ${l}`):this.debug(`>>> ${s}`),this.forceBinaryWSFrames&&typeof l=="string"&&(l=new TextEncoder().encode(l)),typeof l!="string"||!this.splitLargeFrames)this._webSocket.send(l);else{let u=l;for(;u.length>0;){const c=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(c),this.debug(`chunk sent = ${c.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,r=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(r)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===xs.CONNECTING||this._webSocket.readyState===xs.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:r,headers:n,body:a,binaryBody:i,skipContentLengthHeader:o}=t,s=Object.assign({destination:r},n);this._transmit({command:"SEND",headers:s,body:a,binaryBody:i,skipContentLengthHeader:o})}watchForReceipt(t,r){this._receiptWatchers[t]=r}subscribe(t,r,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=t,this._subscriptions[n.id]=r,this._transmit({command:"SUBSCRIBE",headers:n});const a=this;return{id:n.id,unsubscribe(i){return a.unsubscribe(n.id,i)}}}unsubscribe(t,r={}){r=Object.assign({},r),delete this._subscriptions[t],r.id=t,this._transmit({command:"UNSUBSCRIBE",headers:r})}begin(t){const r=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:r}});const n=this;return{id:r,commit(){n.commit(r)},abort(){n.abort(r)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,r,n={}){n=Object.assign({},n),this._connectedVersion===Da.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"ACK",headers:n})}nack(t,r,n={}){return n=Object.assign({},n),this._connectedVersion===Da.V1_2?n.id=t:n["message-id"]=t,n.subscription=r,this._transmit({command:"NACK",headers:n})}}class pae{constructor(t={}){this.stompVersions=Da.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=wi.INACTIVE;const r=()=>{};this.debug=r,this.beforeConnect=r,this.onConnect=r,this.onDisconnect=r,this.onUnhandledMessage=r,this.onUnhandledReceipt=r,this.onUnhandledFrame=r,this.onStompError=r,this.onWebSocketClose=r,this.onWebSocketError=r,this.logRawCommunication=!1,this.onChangeState=r,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===wi.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(wi.ACTIVE),this._connect()};this.state===wi.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new vae(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:r=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(r)},onDisconnect:r=>{this.onDisconnect(r)},onStompError:r=>{this.onStompError(r)},onWebSocketClose:r=>{this._stompHandler=void 0,this.state===wi.DEACTIVATING&&this._changeState(wi.INACTIVE),this.onWebSocketClose(r),this.active&&this._schedule_reconnect()},onWebSocketError:r=>{this.onWebSocketError(r)},onUnhandledMessage:r=>{this.onUnhandledMessage(r)},onUnhandledReceipt:r=>{this.onUnhandledReceipt(r)},onUnhandledFrame:r=>{this.onUnhandledFrame(r)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}async deactivate(t={}){var i;const r=t.force||!1,n=this.active;let a;if(this.state===wi.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(wi.DEACTIVATING),this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==xs.CLOSED){const o=this._stompHandler.onWebSocketClose;a=new Promise((s,l)=>{this._stompHandler.onWebSocketClose=u=>{o(u),s()}})}else return this._changeState(wi.INACTIVE),Promise.resolve();return r?(i=this._stompHandler)==null||i.discardWebsocket():n&&this._disposeStompHandler(),a}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,r){this._checkConnection(),this._stompHandler.watchForReceipt(t,r)}subscribe(t,r,n={}){return this._checkConnection(),this._stompHandler.subscribe(t,r,n)}unsubscribe(t,r={}){this._checkConnection(),this._stompHandler.unsubscribe(t,r)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,r,n={}){this._checkConnection(),this._stompHandler.ack(t,r,n)}nack(t,r,n={}){this._checkConnection(),this._stompHandler.nack(t,r,n)}}const mae=e=>(bG("data-v-0358e765"),e=e(),wG(),e),gae={class:"font-weight-bold text-h5"},yae={class:"font-weight-bold text-h5 ml-5"},_ae={class:"font-weight-bold"},xae={key:0,style:{fontSize:"10px",alignSelf:"end",width:"35px"},class:"font-weight-bold"},bae={key:1,style:{width:"35px"}},wae=mae(()=>Ve("span",null,null,-1)),Sae={key:0,style:{fontSize:"10px",display:"grid",alignItems:"end"},class:"font-weight-bold"},Tae=or({__name:"ChatRoomView",setup(e){const t=Gs(),r=Hs(),n=te(),a=te(0),i=te(""),o=te(),s=Tr([]),l=te(),u=te("");r.isLogin||wc.push("/"),Qt(async()=>{n.value=t.path.split("/")[2];const p=await MN(n.value);i.value=p.data.movies[0].title}),Jn(()=>{o.value!=null&&(o.value.unsubscribe("/topic/"+n.value),o.value.deactivate())});const f=p=>{const m=JSON.parse(p.body);s.push(m),l.value=m.subscribedUsers.subscribedUsers,a.value=l.value.length};Xr(()=>{!r.isLogin||o.value!=null||(o.value=new pae({brokerURL:_8,connectHeaders:{Authorization:vN+r.state.accessToken},onConnect:()=>o.value.subscribe("/topic/"+n.value,f),onStompError:()=>window.location.reload()}),o.value.activate())}),Le(l,()=>{const p=l.value.findIndex(g=>g.usersId==r.state.id),m=l.value.splice(p,1)[0];l.value.unshift(m)}),Le(s,()=>Ot(()=>document.querySelector(".scroll-container").scrollTop=document.querySelector(".scroll-container").scrollHeight));const d=p=>{p.shiftKey||(p.preventDefault(),o.value.publish({destination:"/app/send-message/"+n.value,body:JSON.stringify({content:u.value})}),u.value="")},h=(p,m)=>p[m].id!=r.state.id&&(m==0||p[m].id!=p[m-1].id),v=(p,m)=>m==p.length-1||p[m].id!=p[m+1].id||im(p[m].time)!=im(p[m+1].time);return(p,m)=>{const g=Fe("v-icon"),y=Fe("v-col"),_=Fe("v-btn"),x=Fe("RouterLink"),w=Fe("v-row"),b=Fe("v-card-text"),T=Fe("v-card"),S=Fe("v-img"),A=Fe("v-textarea"),M=Fe("v-container");return ee(),Me(M,null,{default:ne(()=>[E(w,{style:{"background-color":"gray"}},{default:ne(()=>[E(y,null,{default:ne(()=>[E(g,{size:"35"},{default:ne(()=>[Xe(" mdi-account")]),_:1}),Ve("span",gae,Rt(a.value),1),Ve("span",yae,"["+Rt(i.value)+"] ",1)]),_:1}),E(x,{to:"/chat"},{default:ne(()=>[E(y,{cols:"1"},{default:ne(()=>[E(_,{class:"font-weight-bold text-h6"},{default:ne(()=>[Xe("")]),_:1})]),_:1})]),_:1})]),_:1}),E(w,null,{default:ne(()=>[E(y,{cols:"10",class:"scroll-container"},{default:ne(()=>[(ee(!0),be(Ce,null,an(s,(C,D)=>(ee(),be(Ce,{key:D},[C.sendMessageType==="JOIN"?(ee(),Me(w,{key:0},{default:ne(()=>[E(y),E(y,{cols:"3"},{default:ne(()=>[E(T,null,{default:ne(()=>[E(b,{style:{textAlign:"center",backgroundColor:"pink"},class:"font-weight-bold"},{default:ne(()=>[Xe(Rt(C.name)+" .",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),E(y)]),_:2},1024)):fe("",!0),C.sendMessageType==="LEAVE"?(ee(),Me(w,{key:1},{default:ne(()=>[E(y),E(y,{cols:"3"},{default:ne(()=>[E(T,null,{default:ne(()=>[E(b,{style:{textAlign:"center",backgroundColor:"grey"},class:"font-weight-bold"},{default:ne(()=>[Xe(Rt(C.name)+" .",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),E(y)]),_:2},1024)):C.sendMessageType==="TALK"?(ee(),be(Ce,{key:2},[h(s,D)?(ee(),Me(w,{key:0,style:{height:"30px"}},{default:ne(()=>[E(y,{style:{display:"grid",gridTemplateColumns:"50px auto"}},{default:ne(()=>[E(S,{src:C.picture,width:"30px",style:{"border-radius":"100%"}},null,8,["src"]),Ve("span",_ae,Rt(C.name),1)]),_:2},1024)]),_:2},1024)):fe("",!0),s[D].id==ie(r).state.id?(ee(),Me(w,{key:1},{default:ne(()=>[E(y,{cols:"3"}),E(y,{style:{fontSize:"10px",display:"grid",justifyContent:"end",gridTemplateColumns:"auto auto"},cols:"9"},{default:ne(()=>[v(s,D)?(ee(),be("span",xae,Rt(ie(im)(C.time)),1)):(ee(),be("span",bae)),E(T,{color:"yellow"},{default:ne(()=>[E(b,{style:{whiteSpace:"pre-wrap"}},{default:ne(()=>[Xe(Rt(C.content),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):fe("",!0),s[D].id!=ie(r).state.id?(ee(),Me(w,{key:2},{default:ne(()=>[E(y,{style:{display:"grid",gridTemplateColumns:"40px auto 35px",justifyContent:"start",justifyItems:"end"},cols:"9"},{default:ne(()=>[wae,E(T,null,{default:ne(()=>[E(b,{style:{whiteSpace:"pre-wrap"}},{default:ne(()=>[Xe(Rt(C.content),1)]),_:2},1024)]),_:2},1024),v(s,D)?(ee(),be("span",Sae,Rt(ie(im)(C.time)),1)):fe("",!0)]),_:2},1024)]),_:2},1024)):fe("",!0)],64)):fe("",!0)],64))),128))]),_:1}),E(y,{cols:"2"},{default:ne(()=>[(ee(!0),be(Ce,null,an(l.value,(C,D)=>(ee(),Me(T,{key:D,style:{display:"grid",gridTemplateColumns:"2fr 1fr 4fr",justifyItems:"center",alignItems:"center"},class:"mb-3"},{default:ne(()=>[E(S,{src:C.picture,height:"30px",width:"30px",style:{borderRadius:"100%"}},null,8,["src"]),C.usersId===ie(r).state.id?(ee(),Me(b,{key:0,style:{backgroundColor:"pink"},class:"font-weight-bold"},{default:ne(()=>[Xe("")]),_:1})):(ee(),Me(b,{key:1})),E(b,{class:"font-weight-bold"},{default:ne(()=>[Xe(Rt(C.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),E(w,null,{default:ne(()=>[E(y,null,{default:ne(()=>[E(A,{"append-inner-icon":"mdi-comment",rows:"1",modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=C=>u.value=C),"onClick:appendInner":d,onKeypress:yt(d,["enter"]),style:{whiteSpace:"pre"}},null,8,["modelValue","onKeypress"])]),_:1})]),_:1})]),_:1})}}});const Cae=Lc(Tae,[["__scopeId","data-v-0358e765"]]),Aae=[{path:"/",name:"home",redirect:"/rank/total/daily"},{path:"/rank/total/daily",name:"totalDailyRank",components:{default:qc,header:Zc},props:{header:{periodType:"daily"}}},{path:"/rank/korean/daily",name:"koreanDailyRank",components:{default:qc,header:Zc},props:{header:{periodType:"daily"}}},{path:"/rank/foreign/daily",name:"foreignDailyRank",components:{default:qc,header:Zc},props:{header:{periodType:"daily"}}},{path:"/rank/total/weekly",name:"totalWeeklyRank",components:{default:qc,header:Zc},props:{header:{periodType:"weekly"}}},{path:"/rank/korean/weekly",name:"koreanWeeklyRank",components:{default:qc,header:Zc},props:{header:{periodType:"weekly"}}},{path:"/rank/foreign/weekly",name:"foreignWeeklyRank",components:{default:qc,header:Zc},props:{header:{periodType:"weekly"}}},{path:"/statistics/line-chart",name:"lineChart",components:{default:ZL,header:JE}},{path:"/statistics/pie-chart",name:"pieChart",components:{default:ZL,header:JE}},{path:"/chat",name:"chat",components:{default:Y6,header:om}},{path:"/chat/:id",name:"chatRoom",components:{default:Cae,header:om}},{path:"/movie-details",name:"movieDetailsSearch",components:{default:iY,header:om}},{path:"/movie-details/:id",name:"movieDetails",components:{default:oae,header:om}}],wc=L6({history:X8(),routes:Aae});function ce(e,t){return r=>Object.keys(e).reduce((n,a)=>{const o=typeof e[a]=="object"&&e[a]!=null&&!Array.isArray(e[a])?e[a]:{type:e[a]};return r&&a in r?n[a]={...o,default:r[a]}:n[a]=o,t&&!n[a].source&&(n[a].source=t),n},{})}const Be=ce({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function QL(e,t,r){Eae(e,t),t.set(e,r)}function Eae(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dae(e,t,r){var n=m5(e,t,"set");return Mae(e,n,r),r}function Mae(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function Su(e,t){var r=m5(e,t,"get");return Pae(e,r)}function m5(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function Pae(e,t){return t.get?t.get.call(e):t.value}function g5(e,t,r){const n=t.length-1;if(n<0)return e===void 0?r:e;for(let a=0;a<n;a++){if(e==null)return r;e=e[t[a]]}return e==null||e[t[n]]===void 0?r:e[t[n]]}function Nc(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(n=>Nc(e[n],t[n]))}function SS(e,t,r){return e==null||!t||typeof t!="string"?r:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),g5(e,t.split("."),r))}function Go(e,t,r){if(t==null)return e===void 0?r:e;if(e!==Object(e)){if(typeof t!="function")return r;const a=t(e,r);return typeof a>"u"?r:a}if(typeof t=="string")return SS(e,t,r);if(Array.isArray(t))return g5(e,t,r);if(typeof t!="function")return r;const n=t(e,r);return typeof n>"u"?r:n}function Es(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(r,n)=>t+n)}function ze(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function TS(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function CS(e){return e&&"$el"in e?e.$el:e}const JL=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),AS=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function y5(e){return Object.keys(e)}function ju(e,t){return t.every(r=>e.hasOwnProperty(r))}function kd(e,t,r){const n=Object.create(null),a=Object.create(null);for(const i in e)t.some(o=>o instanceof RegExp?o.test(i):o===i)&&!(r!=null&&r.some(o=>o===i))?n[i]=e[i]:a[i]=e[i];return[n,a]}function os(e,t){const r={...e};return t.forEach(n=>delete r[n]),r}function Bc(e){return kd(e,["class","style","id",/^data-/])}function Fi(e){return e==null?[]:Array.isArray(e)?e:[e]}function ca(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(r,e))}function eI(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function tI(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+r.repeat(Math.max(0,t-e.length))}function Lae(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let n=0;for(;n<e.length;)r.push(e.substr(n,t)),n+=t;return r}function rI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const r=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let n=-1;for(;Math.abs(e)>=t&&n<r.length-1;)e/=t,++n;return`${e.toFixed(1)} ${r[n]}B`}function Oi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n={};for(const a in e)n[a]=e[a];for(const a in t){const i=e[a],o=t[a];if(TS(i)&&TS(o)){n[a]=Oi(i,o,r);continue}if(Array.isArray(i)&&Array.isArray(o)&&r){n[a]=r(i,o);continue}n[a]=o}return n}function _5(e){return e.map(t=>t.type===Ce?_5(t.children):t).flat()}function cc(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(cc.cache.has(e))return cc.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return cc.cache.set(e,t),t}cc.cache=new Map;function Av(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(r=>Av(e,r)).flat(1);if(Array.isArray(t.children))return t.children.map(r=>Av(e,r)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Av(e,t.component.subTree).flat(1)}return[]}var ag=new WeakMap,gf=new WeakMap;class Iae{constructor(t){QL(this,ag,{writable:!0,value:[]}),QL(this,gf,{writable:!0,value:0}),this.size=t}push(t){Su(this,ag)[Su(this,gf)]=t,Dae(this,gf,(Su(this,gf)+1)%this.size)}values(){return Su(this,ag).slice(Su(this,gf)).concat(Su(this,ag).slice(0,Su(this,gf)))}}function Rae(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function E2(e){const t=Tr({}),r=R(e);return Xr(()=>{for(const n in r.value)t[n]=r.value[n]},{flush:"sync"}),Ep(t)}function jy(e,t){return e.includes(t)}const Oae=/^on[^a-z]/,D2=e=>Oae.test(e);function x5(e){return e[2].toLowerCase()+e.slice(3)}const Ko=()=>[Function,Array];function nI(e,t){return t="on"+zs(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function M2(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(Array.isArray(e))for(const a of e)a(...r);else typeof e=="function"&&e(...r)}function P2(e){const t=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}:not([tabindex="-1"]):not([disabled])`).join(", ");return[...e.querySelectorAll(t)]}function qy(e,t){var a,i,o;const r=P2(e),n=r.indexOf(document.activeElement);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((a=r[0])==null||a.focus());else if(t==="first")(i=r[0])==null||i.focus();else if(t==="last")(o=r.at(-1))==null||o.focus();else{let s,l=n;const u=t==="next"?1:-1;do l+=u,s=r[l];while((!s||s.offsetParent==null)&&l<r.length&&l>=0);s?s.focus():qy(e,t==="next"?"first":"last")}}function b5(){}const w5=["top","bottom"],kae=["start","end","left","right"];function ES(e,t){let[r,n]=e.split(" ");return n||(n=jy(w5,r)?"start":jy(kae,r)?"top":"center"),{side:DS(r,t),align:DS(n,t)}}function DS(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Yx(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Xx(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function aI(e){return{side:e.align,align:e.side}}function iI(e){return jy(w5,e.side)?"y":"x"}class Kf{constructor(t){let{x:r,y:n,width:a,height:i}=t;this.x=r,this.y=n,this.width=a,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function oI(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function L2(e){const t=e.getBoundingClientRect(),r=getComputedStyle(e),n=r.transform;if(n){let a,i,o,s,l;if(n.startsWith("matrix3d("))a=n.slice(9,-1).split(/, /),i=+a[0],o=+a[5],s=+a[12],l=+a[13];else if(n.startsWith("matrix("))a=n.slice(7,-1).split(/, /),i=+a[0],o=+a[3],s=+a[4],l=+a[5];else return new Kf(t);const u=r.transformOrigin,c=t.x-s-(1-i)*parseFloat(u),f=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),d=i?t.width/i:e.offsetWidth+1,h=o?t.height/o:e.offsetHeight+1;return new Kf({x:c,y:f,width:d,height:h})}else return new Kf(t)}function qu(e,t,r){if(typeof e.animate>"u")return{finished:Promise.resolve()};let n;try{n=e.animate(t,r)}catch{return{finished:Promise.resolve()}}return typeof n.finished>"u"&&(n.finished=new Promise(a=>{n.onfinish=()=>{a(n)}})),n}const jg=new WeakMap;function Nae(e,t){Object.keys(t).forEach(r=>{if(D2(r)){const n=x5(r),a=jg.get(e);if(t[r]==null)a==null||a.forEach(i=>{const[o,s]=i;o===n&&(e.removeEventListener(n,s),a.delete(i))});else if(!a||![...a].some(i=>i[0]===n&&i[1]===t[r])){e.addEventListener(n,t[r]);const i=a||new Set;i.add([n,t[r]]),jg.has(e)||jg.set(e,i)}}else t[r]==null?e.removeAttribute(r):e.setAttribute(r,t[r])})}function Bae(e,t){Object.keys(t).forEach(r=>{if(D2(r)){const n=x5(r),a=jg.get(e);a==null||a.forEach(i=>{const[o,s]=i;o===n&&(e.removeEventListener(n,s),a.delete(i))})}else e.removeAttribute(r)})}function Vae(e,t){t=Array.isArray(t)?t.slice(0,-1).map(r=>`'${r}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Zy=.20689655172413793,Fae=e=>e>Zy**3?Math.cbrt(e):e/(3*Zy**2)+4/29,zae=e=>e>Zy?e**3:3*Zy**2*(e-4/29);function S5(e){const t=Fae,r=t(e[1]);return[116*r-16,500*(t(e[0]/.95047)-r),200*(r-t(e[2]/1.08883))]}function T5(e){const t=zae,r=(e[0]+16)/116;return[t(r+e[1]/500)*.95047,t(r),t(r-e[2]/200)*1.08883]}const Uae=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Hae=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,Gae=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],$ae=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function C5(e){const t=Array(3),r=Hae,n=Uae;for(let a=0;a<3;++a)t[a]=Math.round(ca(r(n[a][0]*e[0]+n[a][1]*e[1]+n[a][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function I2(e){let{r:t,g:r,b:n}=e;const a=[0,0,0],i=$ae,o=Gae;t=i(t/255),r=i(r/255),n=i(n/255);for(let s=0;s<3;++s)a[s]=o[s][0]*t+o[s][1]*r+o[s][2]*n;return a}function sI(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}const lI=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Wae={rgb:(e,t,r,n)=>({r:e,g:t,b:r,a:n}),rgba:(e,t,r,n)=>({r:e,g:t,b:r,a:n}),hsl:(e,t,r,n)=>uI({h:e,s:t,l:r,a:n}),hsla:(e,t,r,n)=>uI({h:e,s:t,l:r,a:n}),hsv:(e,t,r,n)=>ks({h:e,s:t,v:r,a:n}),hsva:(e,t,r,n)=>ks({h:e,s:t,v:r,a:n})};function Ds(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&lI.test(e)){const{groups:t}=e.match(lI),{fn:r,values:n}=t,a=n.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(r)?parseFloat(i)/100:parseFloat(i));return Wae[r](...a)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(r=>r+r).join(""):[6,8].includes(t.length),P5(t)}else if(typeof e=="object"){if(ju(e,["r","g","b"]))return e;if(ju(e,["h","s","l"]))return ks(R2(e));if(ju(e,["h","s","v"]))return ks(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function ks(e){const{h:t,s:r,v:n,a}=e,i=s=>{const l=(s+t/60)%6;return n-n*r*Math.max(Math.min(l,4-l,1),0)},o=[i(5),i(3),i(1)].map(s=>Math.round(s*255));return{r:o[0],g:o[1],b:o[2],a}}function uI(e){return ks(R2(e))}function S_(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,r=e.g/255,n=e.b/255,a=Math.max(t,r,n),i=Math.min(t,r,n);let o=0;a!==i&&(a===t?o=60*(0+(r-n)/(a-i)):a===r?o=60*(2+(n-t)/(a-i)):a===n&&(o=60*(4+(t-r)/(a-i)))),o<0&&(o=o+360);const s=a===0?0:(a-i)/a,l=[o,s,a];return{h:l[0],s:l[1],v:l[2],a:e.a}}function A5(e){const{h:t,s:r,v:n,a}=e,i=n-n*r/2,o=i===1||i===0?0:(n-i)/Math.min(i,1-i);return{h:t,s:o,l:i,a}}function R2(e){const{h:t,s:r,l:n,a}=e,i=n+r*Math.min(n,1-n),o=i===0?0:2-2*n/i;return{h:t,s:o,v:i,a}}function E5(e){let{r:t,g:r,b:n,a}=e;return a===void 0?`rgb(${t}, ${r}, ${n})`:`rgba(${t}, ${r}, ${n}, ${a})`}function D5(e){return E5(ks(e))}function ig(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function M5(e){let{r:t,g:r,b:n,a}=e;return`#${[ig(t),ig(r),ig(n),a!==void 0?ig(Math.round(a*255)):""].join("")}`}function P5(e){e=Xae(e);let[t,r,n,a]=Lae(e,2).map(i=>parseInt(i,16));return a=a===void 0?a:a/255,{r:t,g:r,b:n,a}}function Yae(e){const t=P5(e);return S_(t)}function L5(e){return M5(ks(e))}function Xae(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=tI(tI(e,6),8,"F")),e}function jae(e,t){const r=S5(I2(e));return r[0]=r[0]+t*10,C5(T5(r))}function qae(e,t){const r=S5(I2(e));return r[0]=r[0]-t*10,C5(T5(r))}function MS(e){const t=Ds(e);return I2(t)[1]}function Zae(e,t){const r=MS(e),n=MS(t),a=Math.max(r,n),i=Math.min(r,n);return(a+.05)/(i+.05)}function Ns(e,t){let r;function n(){r=Cp(),r.run(()=>t.length?t(()=>{r==null||r.stop(),n()}):t())}Le(e,a=>{a&&!r?n():a||(r==null||r.stop(),r=void 0)},{immediate:!0}),da(()=>{r==null||r.stop()})}const ip=Symbol.for("vuetify:defaults");function Kae(e){return te(e)}function O2(){const e=Dt(ip);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function En(e,t){const r=O2(),n=te(e),a=R(()=>{if(ie(t==null?void 0:t.disabled))return r.value;const o=ie(t==null?void 0:t.scoped),s=ie(t==null?void 0:t.reset),l=ie(t==null?void 0:t.root);let u=Oi(n.value,{prev:r.value});if(o)return u;if(s||l){const c=Number(s||1/0);for(let f=0;f<=c&&!(!u||!("prev"in u));f++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=Oi(Oi(u,{prev:u}),u[l])),u}return u.prev?Oi(u.prev,u):u});return sn(ip,a),a}function Qae(e,t){var r,n;return typeof((r=e.props)==null?void 0:r[t])<"u"||typeof((n=e.props)==null?void 0:n[cc(t)])<"u"}function Jae(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O2();const n=Yn("useDefaults");if(t=t??n.type.name??n.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const a=R(()=>{var l;return(l=r.value)==null?void 0:l[e._as??t]}),i=new Proxy(e,{get(l,u){var f,d,h,v;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(f=a.value)==null?void 0:f[u],c].filter(p=>p!=null):typeof u=="string"&&!Qae(n.vnode,u)?((d=a.value)==null?void 0:d[u])??((v=(h=r.value)==null?void 0:h.global)==null?void 0:v[u])??c:c}}),o=Oe();Xr(()=>{if(a.value){const l=Object.entries(a.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});l.length&&(o.value=Object.fromEntries(l))}});function s(){Ns(o,()=>{var l;En(Oi(((l=aie(ip))==null?void 0:l.value)??{},o.value))})}return{props:i,provideSubDefaults:s}}function Ki(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=ce(e.props??{},e.name)();const t=Object.keys(e.props);e.filterProps=function(n){return kd(n,t,["class","style"])},e.props._as=String,e.setup=function(n,a){const i=O2();if(!i.value)return e._setup(n,a);const{props:o,provideSubDefaults:s}=Jae(n,n._as??e.name,i),l=e._setup(o,a);return s(),l}}return e}function xe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Ki:or)(t)}function Ao(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return xe()({name:r??zs(Gi(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Be()},setup(n,a){let{slots:i}=a;return()=>{var o;return $i(n.tag,{class:[e,n.class],style:n.style},(o=i.default)==null?void 0:o.call(i))}}})}function I5(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const op="cubic-bezier(0.4, 0, 0.2, 1)",eie="cubic-bezier(0.0, 0, 0.2, 1)",tie="cubic-bezier(0.4, 0, 1, 1)";function Yn(e,t){const r=Pp();if(!r)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return r}function Xs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Yn(e).type;return cc((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let R5=0,qg=new WeakMap;function ga(){const e=Yn("getUid");if(qg.has(e))return qg.get(e);{const t=R5++;return qg.set(e,t),t}}ga.reset=()=>{R5=0,qg=new WeakMap};function k2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?rie(e):N2(e))return e;e=e.parentElement}return document.scrollingElement}function Ky(e,t){const r=[];if(t&&e&&!t.contains(e))return r;for(;e&&(N2(e)&&r.push(e),e!==t);)e=e.parentElement;return r}function N2(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function rie(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}const xn=typeof window<"u",B2=xn&&"IntersectionObserver"in window,nie=xn&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),PS=xn&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function aie(e){const{provides:t}=Yn("injectSelf");if(t&&e in t)return t[e]}function iie(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Ee(e){const t=Yn("useRender");t.render=e}function rs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=te(),n=te();if(xn){const a=new ResizeObserver(i=>{e==null||e(i,a),i.length&&(t==="content"?n.value=i[0].contentRect:n.value=i[0].target.getBoundingClientRect())});Jn(()=>{a.disconnect()}),Le(r,(i,o)=>{o&&(a.unobserve(CS(o)),n.value=void 0),i&&a.observe(CS(i))},{flush:"post"})}return{resizeRef:r,contentRect:Ap(n)}}const Qy=Symbol.for("vuetify:layout"),O5=Symbol.for("vuetify:layout-item"),cI=1e3,k5=ce({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Nd=ce({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function oie(){const e=Dt(Qy);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Bd(e){const t=Dt(Qy);if(!t)throw new Error("[Vuetify] Could not find injected layout");const r=e.id??`layout-item-${ga()}`,n=Yn("useLayoutItem");sn(O5,{id:r});const a=Oe(!1);vk(()=>a.value=!0),hk(()=>a.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:o}=t.register(n,{...e,active:R(()=>a.value?!1:e.active.value),id:r});return Jn(()=>t.unregister(r)),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const sie=(e,t,r,n)=>{let a={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...a}}];for(const o of e){const s=t.get(o),l=r.get(o),u=n.get(o);if(!s||!l||!u)continue;const c={...a,[s.value]:parseInt(a[s.value],10)+(u.value?parseInt(l.value,10):0)};i.push({id:o,layer:c}),a=c}return i};function N5(e){const t=Dt(Qy,null),r=R(()=>t?t.rootZIndex.value-100:cI),n=te([]),a=Tr(new Map),i=Tr(new Map),o=Tr(new Map),s=Tr(new Map),l=Tr(new Map),{resizeRef:u,contentRect:c}=rs(),f=R(()=>{const b=new Map,T=e.overlaps??[];for(const S of T.filter(A=>A.includes(":"))){const[A,M]=S.split(":");if(!n.value.includes(A)||!n.value.includes(M))continue;const C=a.get(A),D=a.get(M),P=i.get(A),I=i.get(M);!C||!D||!P||!I||(b.set(M,{position:C.value,amount:parseInt(P.value,10)}),b.set(A,{position:D.value,amount:-parseInt(I.value,10)}))}return b}),d=R(()=>{const b=[...new Set([...o.values()].map(S=>S.value))].sort((S,A)=>S-A),T=[];for(const S of b){const A=n.value.filter(M=>{var C;return((C=o.get(M))==null?void 0:C.value)===S});T.push(...A)}return sie(T,a,i,s)}),h=R(()=>!Array.from(l.values()).some(b=>b.value)),v=R(()=>d.value[d.value.length-1].layer),p=R(()=>({"--v-layout-left":ze(v.value.left),"--v-layout-right":ze(v.value.right),"--v-layout-top":ze(v.value.top),"--v-layout-bottom":ze(v.value.bottom),...h.value?void 0:{transition:"none"}})),m=R(()=>d.value.slice(1).map((b,T)=>{let{id:S}=b;const{layer:A}=d.value[T],M=i.get(S),C=a.get(S);return{id:S,...A,size:Number(M.value),position:C.value}})),g=b=>m.value.find(T=>T.id===b),y=Yn("createLayout"),_=Oe(!1);Qt(()=>{_.value=!0}),sn(Qy,{register:(b,T)=>{let{id:S,order:A,position:M,layoutSize:C,elementSize:D,active:P,disableTransitions:I,absolute:k}=T;o.set(S,A),a.set(S,M),i.set(S,C),s.set(S,P),I&&l.set(S,I);const H=Av(O5,y==null?void 0:y.vnode).indexOf(b);H>-1?n.value.splice(H,0,S):n.value.push(S);const O=R(()=>m.value.findIndex(Y=>Y.id===S)),L=R(()=>r.value+d.value.length*2-O.value*2),F=R(()=>{const Y=M.value==="left"||M.value==="right",G=M.value==="right",z=M.value==="bottom",N={[M.value]:0,zIndex:L.value,transform:`translate${Y?"X":"Y"}(${(P.value?0:-110)*(G||z?-1:1)}%)`,position:k.value||r.value!==cI?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!_.value)return N;const U=m.value[O.value];if(!U)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const Z=f.value.get(S);return Z&&(U[Z.position]+=Z.amount),{...N,height:Y?`calc(100% - ${U.top}px - ${U.bottom}px)`:D.value?`${D.value}px`:void 0,left:G?void 0:`${U.left}px`,right:G?`${U.right}px`:void 0,top:M.value!=="bottom"?`${U.top}px`:void 0,bottom:M.value!=="top"?`${U.bottom}px`:void 0,width:Y?D.value?`${D.value}px`:void 0:`calc(100% - ${U.left}px - ${U.right}px)`}}),X=R(()=>({zIndex:L.value-1}));return{layoutItemStyles:F,layoutItemScrimStyles:X,zIndex:L}},unregister:b=>{o.delete(b),a.delete(b),i.delete(b),s.delete(b),l.delete(b),n.value=n.value.filter(T=>T!==b)},mainRect:v,mainStyles:p,getLayoutItem:g,items:m,layoutRect:c,rootZIndex:r});const x=R(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),w=R(()=>({zIndex:r.value,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:x,layoutStyles:w,getLayoutItem:g,items:m,layoutRect:c,layoutRef:u}}const lie={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{ok:"OK",cancel:"Cancel",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},uie={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function mt(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const i=Yn("useProxiedModel"),o=te(e[t]!==void 0?e[t]:r),s=cc(t),u=R(s!==t?()=>{var f,d,h,v;return e[t],!!(((f=i.vnode.props)!=null&&f.hasOwnProperty(t)||(d=i.vnode.props)!=null&&d.hasOwnProperty(s))&&((h=i.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)||(v=i.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${s}`)))}:()=>{var f,d;return e[t],!!((f=i.vnode.props)!=null&&f.hasOwnProperty(t)&&((d=i.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${t}`)))});Ns(()=>!u.value,()=>{Le(()=>e[t],f=>{o.value=f})});const c=R({get(){const f=e[t];return n(u.value?f:o.value)},set(f){const d=a(f),h=Ct(u.value?e[t]:o.value);h===d||n(h)===f||(o.value=d,i==null||i.emit(`update:${t}`,d))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:o.value}),c}const fI="$vuetify.",dI=(e,t)=>e.replace(/\{(\d+)\}/g,(r,n)=>String(t[+n])),B5=(e,t,r)=>function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(!n.startsWith(fI))return dI(n,i);const s=n.replace(fI,""),l=e.value&&r.value[e.value],u=t.value&&r.value[t.value];let c=SS(l,s,null);return c||(`${n}${e.value}`,c=SS(u,s,null)),c||(c=n),typeof c!="string"&&(c=n),dI(c,i)};function V5(e,t){return(r,n)=>new Intl.NumberFormat([e.value,t.value],n).format(r)}function jx(e,t,r){const n=mt(e,t,e[t]??r.value);return n.value=e[t]??r.value,Le(r,a=>{e[t]==null&&(n.value=r.value)}),n}function F5(e){return t=>{const r=jx(t,"locale",e.current),n=jx(t,"fallback",e.fallback),a=jx(t,"messages",e.messages);return{name:"vuetify",current:r,fallback:n,messages:a,t:B5(r,n,a),n:V5(r,n),provide:F5({current:r,fallback:n,messages:a})}}}function cie(e){const t=Oe((e==null?void 0:e.locale)??"en"),r=Oe((e==null?void 0:e.fallback)??"en"),n=te({en:lie,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:r,messages:n,t:B5(t,r,n),n:V5(t,r),provide:F5({current:t,fallback:r,messages:n})}}const cd=Symbol.for("vuetify:locale");function fie(e){return e.name!=null}function die(e){const t=e!=null&&e.adapter&&fie(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:cie(e),r=vie(t,e);return{...t,...r}}function Qi(){const e=Dt(cd);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function hie(e){const t=Dt(cd);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const r=t.provide(e),n=pie(r,t.rtl,e),a={...r,...n};return sn(cd,a),a}function vie(e,t){const r=te((t==null?void 0:t.rtl)??uie),n=R(()=>r.value[e.current.value]??!1);return{isRtl:n,rtl:r,rtlClasses:R(()=>`v-locale--is-${n.value?"rtl":"ltr"}`)}}function pie(e,t,r){const n=R(()=>r.rtl??t.value[e.current.value]??!1);return{isRtl:n,rtl:t,rtlClasses:R(()=>`v-locale--is-${n.value?"rtl":"ltr"}`)}}function Xn(){const e=Dt(cd);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const yf=2.4,hI=.2126729,vI=.7151522,pI=.072175,mie=.55,gie=.58,yie=.57,_ie=.62,og=.03,mI=1.45,xie=5e-4,bie=1.25,wie=1.25,gI=.078,yI=12.82051282051282,sg=.06,_I=.001;function xI(e,t){const r=(e.r/255)**yf,n=(e.g/255)**yf,a=(e.b/255)**yf,i=(t.r/255)**yf,o=(t.g/255)**yf,s=(t.b/255)**yf;let l=r*hI+n*vI+a*pI,u=i*hI+o*vI+s*pI;if(l<=og&&(l+=(og-l)**mI),u<=og&&(u+=(og-u)**mI),Math.abs(u-l)<xie)return 0;let c;if(u>l){const f=(u**mie-l**gie)*bie;c=f<_I?0:f<gI?f-f*yI*sg:f-sg}else{const f=(u**_ie-l**yie)*wie;c=f>-_I?0:f>-gI?f-f*yI*sg:f+sg}return c*100}const sp=Symbol.for("vuetify:theme"),Yt=ce({theme:String},"theme"),Eh={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function Sie(){var r,n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Eh;if(!e)return{...Eh,isDisabled:!0};const t={};for(const[a,i]of Object.entries(e.themes??{})){const o=i.dark||a==="dark"?(r=Eh.themes)==null?void 0:r.dark:(n=Eh.themes)==null?void 0:n.light;t[a]=Oi(o,i)}return Oi(Eh,{...e,themes:t})}function Tie(e){const t=Sie(e),r=te(t.defaultTheme),n=te(t.themes),a=R(()=>{const c={};for(const[f,d]of Object.entries(n.value)){const h=c[f]={...d,colors:{...d.colors}};if(t.variations)for(const v of t.variations.colors){const p=h.colors[v];if(p)for(const m of["lighten","darken"]){const g=m==="lighten"?jae:qae;for(const y of Es(t.variations[m],1))h.colors[`${v}-${m}-${y}`]=M5(g(Ds(p),y))}}for(const v of Object.keys(h.colors)){if(/^on-[a-z]/.test(v)||h.colors[`on-${v}`])continue;const p=`on-${v}`,m=Ds(h.colors[v]),g=Math.abs(xI(Ds(0),m)),y=Math.abs(xI(Ds(16777215),m));h.colors[p]=y>Math.min(g,50)?"#fff":"#000"}}return c}),i=R(()=>a.value[r.value]),o=R(()=>{const c=[];i.value.dark&&Tu(c,":root",["color-scheme: dark"]),Tu(c,":root",bI(i.value));for(const[v,p]of Object.entries(a.value))Tu(c,`.v-theme--${v}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...bI(p)]);const f=[],d=[],h=new Set(Object.values(a.value).flatMap(v=>Object.keys(v.colors)));for(const v of h)/^on-[a-z]/.test(v)?Tu(d,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(Tu(f,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),Tu(d,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),Tu(d,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return c.push(...f,...d),c.map((v,p)=>p===0?v:`    ${v}`).join("")});function s(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(c){if(t.isDisabled)return;const f=c._context.provides.usehead;if(f)if(f.push){const h=f.push(s);Le(o,()=>{h.patch(s)})}else xn?(f.addHeadObjs(R(s)),Xr(()=>f.updateDOM())):f.addHeadObjs(s());else{let v=function(){if(typeof document<"u"&&!h){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",t.cspNonce&&p.setAttribute("nonce",t.cspNonce),h=p,document.head.appendChild(h)}h&&(h.innerHTML=o.value)};var d=v;let h=xn?document.getElementById("vuetify-theme-stylesheet"):null;Le(o,v,{immediate:!0})}}const u=R(()=>t.isDisabled?void 0:`v-theme--${r.value}`);return{install:l,isDisabled:t.isDisabled,name:r,themes:n,current:i,computedThemes:a,themeClasses:u,styles:o,global:{name:r,current:i}}}function cr(e){Yn("provideTheme");const t=Dt(sp,null);if(!t)throw new Error("Could not find Vuetify theme injection");const r=R(()=>e.theme??(t==null?void 0:t.name.value)),n=R(()=>t.isDisabled?void 0:`v-theme--${r.value}`),a={...t,name:r,themeClasses:n};return sn(sp,a),a}function z5(){Yn("useTheme");const e=Dt(sp,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Tu(e,t,r){e.push(`${t} {
`,...r.map(n=>`  ${n};
`),`}
`)}function bI(e){const t=e.dark?2:1,r=e.dark?1:2,n=[];for(const[a,i]of Object.entries(e.colors)){const o=Ds(i);n.push(`--v-theme-${a}: ${o.r},${o.g},${o.b}`),a.startsWith("on-")||n.push(`--v-theme-${a}-overlay-multiplier: ${MS(i)>.18?t:r}`)}for(const[a,i]of Object.entries(e.variables)){const o=typeof i=="string"&&i.startsWith("#")?Ds(i):void 0,s=o?`${o.r}, ${o.g}, ${o.b}`:void 0;n.push(`--v-${a}: ${s??i}`)}return n}const Cie=ce({...Be(),...k5({fullHeight:!0}),...Yt()},"VApp"),Aie=xe()({name:"VApp",props:Cie(),setup(e,t){let{slots:r}=t;const n=cr(e),{layoutClasses:a,layoutStyles:i,getLayoutItem:o,items:s,layoutRef:l}=N5(e),{rtlClasses:u}=Xn();return Ee(()=>{var c;return E("div",{ref:l,class:["v-application",n.themeClasses.value,a.value,u.value,e.class],style:[i.value,e.style]},[E("div",{class:"v-application__wrap"},[(c=r.default)==null?void 0:c.call(r)])])}),{getLayoutItem:o,items:s,theme:n}}});const St=ce({tag:{type:String,default:"div"}},"tag"),U5=ce({text:String,...Be(),...St()},"VToolbarTitle"),V2=xe()({name:"VToolbarTitle",props:U5(),setup(e,t){let{slots:r}=t;return Ee(()=>{const n=!!(r.default||r.text||e.text);return E(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[n&&E("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():e.text,(a=r.default)==null?void 0:a.call(r)])]}})}),{}}}),Eie=ce({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function ui(e,t,r){return xe()({name:e,props:Eie({mode:r,origin:t}),setup(n,a){let{slots:i}=a;const o={onBeforeEnter(s){n.origin&&(s.style.transformOrigin=n.origin)},onLeave(s){if(n.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:f}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${l}px`,s.style.left=`${u}px`,s.style.width=`${c}px`,s.style.height=`${f}px`}n.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(n.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:l,top:u,left:c,width:f,height:d}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=l||"",s.style.top=u||"",s.style.left=c||"",s.style.width=f||"",s.style.height=d||""}}};return()=>{const s=n.group?V$:ha;return $i(s,{name:n.disabled?"":e,css:!n.disabled,...n.group?void 0:{mode:n.mode},...n.disabled?{}:o},i.default)}}})}function H5(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return xe()({name:e,props:{mode:{type:String,default:r},disabled:Boolean},setup(n,a){let{slots:i}=a;return()=>$i(ha,{name:n.disabled?"":e,css:!n.disabled,...n.disabled?{}:t},i.default)}})}function G5(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",n=Gi(`offset-${r}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[r]:o.style[r]}},onEnter(o){const s=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[n]}px`;o.style[r]="0",o.offsetHeight,o.style.transition=s.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[r]=l})},onAfterEnter:i,onEnterCancelled:i,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[r]:o.style[r]},o.style.overflow="hidden",o.style[r]=`${o[n]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[r]="0")},onAfterLeave:a,onLeaveCancelled:a};function a(o){e&&o._parent&&o._parent.classList.remove(e),i(o)}function i(o){const s=o._initialStyle[r];o.style.overflow=o._initialStyle.overflow,s!=null&&(o.style[r]=s),delete o._initialStyle}}const Die=ce({target:Object},"v-dialog-transition"),T_=xe()({name:"VDialogTransition",props:Die(),setup(e,t){let{slots:r}=t;const n={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,i){var d;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),a.style.visibility="";const{x:o,y:s,sx:l,sy:u,speed:c}=SI(e.target,a),f=qu(a,[{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:eie});(d=wI(a))==null||d.forEach(h=>{qu(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:op})}),f.finished.then(()=>i())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,i){var d;await new Promise(h=>requestAnimationFrame(h));const{x:o,y:s,sx:l,sy:u,speed:c}=SI(e.target,a);qu(a,[{},{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:tie}).finished.then(()=>i()),(d=wI(a))==null||d.forEach(h=>{qu(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:op})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>e.target?E(ha,Te({name:"dialog-transition"},n,{css:!1}),r):E(ha,{name:"dialog-transition"},r)}});function wI(e){var r;const t=(r=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:r.children;return t&&[...t]}function SI(e,t){const r=e.getBoundingClientRect(),n=L2(t),[a,i]=getComputedStyle(t).transformOrigin.split(" ").map(g=>parseFloat(g)),[o,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=r.left+r.width/2;o==="left"||s==="left"?l-=r.width/2:(o==="right"||s==="right")&&(l+=r.width/2);let u=r.top+r.height/2;o==="top"||s==="top"?u-=r.height/2:(o==="bottom"||s==="bottom")&&(u+=r.height/2);const c=r.width/n.width,f=r.height/n.height,d=Math.max(1,c,f),h=c/d||0,v=f/d||0,p=n.width*n.height/(window.innerWidth*window.innerHeight),m=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(a+n.left),y:u-(i+n.top),sx:h,sy:v,speed:m}}const Mie=ui("fab-transition","center center","out-in"),Pie=ui("dialog-bottom-transition"),Lie=ui("dialog-top-transition"),LS=ui("fade-transition"),$5=ui("scale-transition"),Iie=ui("scroll-x-transition"),Rie=ui("scroll-x-reverse-transition"),Oie=ui("scroll-y-transition"),kie=ui("scroll-y-reverse-transition"),Nie=ui("slide-x-transition"),Bie=ui("slide-x-reverse-transition"),F2=ui("slide-y-transition"),Vie=ui("slide-y-reverse-transition"),C_=H5("expand-transition",G5()),z2=H5("expand-x-transition",G5("",!0)),Fie=ce({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),_r=xe(!1)({name:"VDefaultsProvider",props:Fie(),setup(e,t){let{slots:r}=t;const{defaults:n,disabled:a,reset:i,root:o,scoped:s}=Ep(e);return En(n,{reset:i,root:o,scoped:s,disabled:a}),()=>{var l;return(l=r.default)==null?void 0:l.call(r)}}});const Ji=ce({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function eo(e){return{dimensionStyles:R(()=>({height:ze(e.height),maxHeight:ze(e.maxHeight),maxWidth:ze(e.maxWidth),minHeight:ze(e.minHeight),minWidth:ze(e.minWidth),width:ze(e.width)}))}}function zie(e){return{aspectStyles:R(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const W5=ce({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Be(),...Ji()},"VResponsive"),IS=xe()({name:"VResponsive",props:W5(),setup(e,t){let{slots:r}=t;const{aspectStyles:n}=zie(e),{dimensionStyles:a}=eo(e);return Ee(()=>{var i;return E("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[a.value,e.style]},[E("div",{class:"v-responsive__sizer",style:n.value},null),(i=r.additional)==null?void 0:i.call(r),r.default&&E("div",{class:["v-responsive__content",e.contentClass]},[r.default()])])}),{}}}),js=ce({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),go=(e,t)=>{let{slots:r}=t;const{transition:n,disabled:a,...i}=e,{component:o=ha,...s}=typeof n=="object"?n:{};return $i(o,Te(typeof n=="string"?{name:a?"":n}:s,i,{disabled:a}),r)};function Uie(e,t){if(!B2)return;const r=t.modifiers||{},n=t.value,{handler:a,options:i}=typeof n=="object"?n:{handler:n,options:{}},o=new IntersectionObserver(function(){var f;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(f=e._observe)==null?void 0:f[t.instance.$.uid];if(!u)return;const c=s.some(d=>d.isIntersecting);a&&(!r.quiet||u.init)&&(!r.once||c||u.init)&&a(c,s,l),c&&r.once?Y5(e,t):u.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function Y5(e,t){var n;const r=(n=e._observe)==null?void 0:n[t.instance.$.uid];r&&(r.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Hp={mounted:Uie,unmounted:Y5},X5=ce({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...W5(),...Be(),...js()},"VImg"),Sc=xe()({name:"VImg",directives:{intersect:Hp},props:X5(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:r,slots:n}=t;const a=Oe(""),i=te(),o=Oe(e.eager?"loading":"idle"),s=Oe(),l=Oe(),u=R(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),c=R(()=>u.value.aspect||s.value/l.value||0);Le(()=>e.src,()=>{f(o.value!=="idle")}),Le(c,(S,A)=>{!S&&A&&i.value&&m(i.value)}),M0(()=>f());function f(S){if(!(e.eager&&S)&&!(B2&&!S&&!e.eager)){if(o.value="loading",u.value.lazySrc){const A=new Image;A.src=u.value.lazySrc,m(A,null)}u.value.src&&Ot(()=>{var A,M;if(r("loadstart",((A=i.value)==null?void 0:A.currentSrc)||u.value.src),(M=i.value)!=null&&M.complete){if(i.value.naturalWidth||h(),o.value==="error")return;c.value||m(i.value,null),d()}else c.value||m(i.value),v()})}}function d(){var S;v(),o.value="loaded",r("load",((S=i.value)==null?void 0:S.currentSrc)||u.value.src)}function h(){var S;o.value="error",r("error",((S=i.value)==null?void 0:S.currentSrc)||u.value.src)}function v(){const S=i.value;S&&(a.value=S.currentSrc||S.src)}let p=-1;function m(S){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const M=()=>{clearTimeout(p);const{naturalHeight:C,naturalWidth:D}=S;C||D?(s.value=D,l.value=C):!S.complete&&o.value==="loading"&&A!=null?p=window.setTimeout(M,A):(S.currentSrc.endsWith(".svg")||S.currentSrc.startsWith("data:image/svg+xml"))&&(s.value=1,l.value=1)};M()}const g=R(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),y=()=>{var M;if(!u.value.src||o.value==="idle")return null;const S=E("img",{class:["v-img__img",g.value],src:u.value.src,srcset:u.value.srcset,alt:e.alt,sizes:e.sizes,ref:i,onLoad:d,onError:h},null),A=(M=n.sources)==null?void 0:M.call(n);return E(go,{transition:e.transition,appear:!0},{default:()=>[Cr(A?E("picture",{class:"v-img__picture"},[A,S]):S,[[qa,o.value==="loaded"]])]})},_=()=>E(go,{transition:e.transition},{default:()=>[u.value.lazySrc&&o.value!=="loaded"&&E("img",{class:["v-img__img","v-img__img--preload",g.value],src:u.value.lazySrc,alt:e.alt},null)]}),x=()=>n.placeholder?E(go,{transition:e.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!n.error)&&E("div",{class:"v-img__placeholder"},[n.placeholder()])]}):null,w=()=>n.error?E(go,{transition:e.transition,appear:!0},{default:()=>[o.value==="error"&&E("div",{class:"v-img__error"},[n.error()])]}):null,b=()=>e.gradient?E("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,T=Oe(!1);{const S=Le(c,A=>{A&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),S())})}return Ee(()=>{const[S]=IS.filterProps(e);return Cr(E(IS,Te({class:["v-img",{"v-img--booting":!T.value},e.class],style:[{width:ze(e.width==="auto"?s.value:e.width)},e.style]},S,{aspectRatio:c.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>E(Ce,null,[E(y,null,null),E(_,null,null),E(b,null,null),E(x,null,null),E(w,null,null)]),default:n.default}),[[Ja("intersect"),{handler:f,options:e.options},null,{once:!0}]])}),{currentSrc:a,image:i,state:o,naturalWidth:s,naturalHeight:l}}}),ci=ce({border:[Boolean,Number,String]},"border");function to(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs();return{borderClasses:R(()=>{const n=yr(e)?e.value:e.border,a=[];if(n===!0||n==="")a.push(`${t}--border`);else if(typeof n=="string"||n===0)for(const i of String(n).split(" "))a.push(`border-${i}`);return a})}}function U2(e){return E2(()=>{const t=[],r={};return e.value.background&&(sI(e.value.background)?r.backgroundColor=e.value.background:t.push(`bg-${e.value.background}`)),e.value.text&&(sI(e.value.text)?(r.color=e.value.text,r.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:r}})}function pa(e,t){const r=R(()=>({text:yr(e)?e.value:t?e[t]:null})),{colorClasses:n,colorStyles:a}=U2(r);return{textColorClasses:n,textColorStyles:a}}function bn(e,t){const r=R(()=>({background:yr(e)?e.value:t?e[t]:null})),{colorClasses:n,colorStyles:a}=U2(r);return{backgroundColorClasses:n,backgroundColorStyles:a}}const Bn=ce({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function ea(e){return{elevationClasses:R(()=>{const r=yr(e)?e.value:e.elevation,n=[];return r==null||n.push(`elevation-${r}`),n})}}const Hr=ce({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Qr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs();return{roundedClasses:R(()=>{const n=yr(e)?e.value:e.rounded,a=[];if(n===!0||n==="")a.push(`${t}--rounded`);else if(typeof n=="string"||n===0)for(const i of String(n).split(" "))a.push(`rounded-${i}`);return a})}}const Hie=[null,"prominent","default","comfortable","compact"],j5=ce({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Hie.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ci(),...Be(),...Bn(),...Hr(),...St({tag:"header"}),...Yt()},"VToolbar"),RS=xe()({name:"VToolbar",props:j5(),setup(e,t){var h;let{slots:r}=t;const{backgroundColorClasses:n,backgroundColorStyles:a}=bn(_e(e,"color")),{borderClasses:i}=to(e),{elevationClasses:o}=ea(e),{roundedClasses:s}=Qr(e),{themeClasses:l}=cr(e),{rtlClasses:u}=Xn(),c=Oe(!!(e.extended||(h=r.extension)!=null&&h.call(r))),f=R(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),d=R(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return En({VBtn:{variant:"text"}}),Ee(()=>{var g;const v=!!(e.title||r.title),p=!!(r.image||e.image),m=(g=r.extension)==null?void 0:g.call(r);return c.value=!!(e.extended||m),E(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},n.value,i.value,o.value,s.value,l.value,u.value,e.class],style:[a.value,e.style]},{default:()=>[p&&E("div",{key:"image",class:"v-toolbar__image"},[r.image?E(_r,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):E(Sc,{key:"image-img",cover:!0,src:e.image},null)]),E(_r,{defaults:{VTabs:{height:ze(f.value)}}},{default:()=>{var y,_,x;return[E("div",{class:"v-toolbar__content",style:{height:ze(f.value)}},[r.prepend&&E("div",{class:"v-toolbar__prepend"},[(y=r.prepend)==null?void 0:y.call(r)]),v&&E(V2,{key:"title",text:e.title},{text:r.title}),(_=r.default)==null?void 0:_.call(r),r.append&&E("div",{class:"v-toolbar__append"},[(x=r.append)==null?void 0:x.call(r)])])]}}),E(_r,{defaults:{VTabs:{height:ze(d.value)}}},{default:()=>[E(C_,null,{default:()=>[c.value&&E("div",{class:"v-toolbar__extension",style:{height:ze(d.value)}},[m])]})]})]})}),{contentHeight:f,extensionHeight:d}}}),Gie=ce({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function $ie(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:r}=t;let n=0;const a=te(null),i=Oe(0),o=Oe(0),s=Oe(0),l=Oe(!1),u=Oe(!1),c=R(()=>Number(e.scrollThreshold)),f=R(()=>ca((c.value-i.value)/c.value||0)),d=()=>{const h=a.value;!h||r&&!r.value||(n=i.value,i.value="window"in h?h.pageYOffset:h.scrollTop,u.value=i.value<n,s.value=Math.abs(i.value-c.value))};return Le(u,()=>{o.value=o.value||i.value}),Le(l,()=>{o.value=0}),Qt(()=>{Le(()=>e.scrollTarget,h=>{var p;const v=h?document.querySelector(h):window;v&&v!==a.value&&((p=a.value)==null||p.removeEventListener("scroll",d),a.value=v,a.value.addEventListener("scroll",d,{passive:!0}))},{immediate:!0})}),Jn(()=>{var h;(h=a.value)==null||h.removeEventListener("scroll",d)}),r&&Le(r,d,{immediate:!0}),{scrollThreshold:c,currentScroll:i,currentThreshold:s,isScrollActive:l,scrollRatio:f,isScrollingUp:u,savedScroll:o}}function Vc(){const e=Oe(!1);return Qt(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:R(()=>e.value?void 0:{transition:"none !important"}),isBooted:Ap(e)}}const Wie=ce({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...j5(),...Nd(),...Gie(),height:{type:[Number,String],default:64}},"VAppBar"),Yie=xe()({name:"VAppBar",props:Wie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=te(),a=mt(e,"modelValue"),i=R(()=>{var y;const g=new Set(((y=e.scrollBehavior)==null?void 0:y.split(" "))??[]);return{hide:g.has("hide"),inverted:g.has("inverted"),collapse:g.has("collapse"),elevate:g.has("elevate"),fadeImage:g.has("fade-image")}}),o=R(()=>{const g=i.value;return g.hide||g.inverted||g.collapse||g.elevate||g.fadeImage||!a.value}),{currentScroll:s,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=$ie(e,{canScroll:o}),f=R(()=>e.collapse||i.value.collapse&&(i.value.inverted?c.value>0:c.value===0)),d=R(()=>e.flat||i.value.elevate&&(i.value.inverted?s.value>0:s.value===0)),h=R(()=>i.value.fadeImage?i.value.inverted?1-c.value:c.value:void 0),v=R(()=>{var _,x;if(i.value.hide&&i.value.inverted)return 0;const g=((_=n.value)==null?void 0:_.contentHeight)??0,y=((x=n.value)==null?void 0:x.extensionHeight)??0;return g+y});Ns(R(()=>!!e.scrollBehavior),()=>{Xr(()=>{i.value.hide?i.value.inverted?a.value=s.value>l.value:a.value=u.value||s.value<l.value:a.value=!0})});const{ssrBootStyles:p}=Vc(),{layoutItemStyles:m}=Bd({id:e.name,order:R(()=>parseInt(e.order,10)),position:_e(e,"location"),layoutSize:v,elementSize:Oe(void 0),active:a,absolute:_e(e,"absolute")});return Ee(()=>{const[g]=RS.filterProps(e);return E(RS,Te({ref:n,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...m.value,"--v-toolbar-image-opacity":h.value,height:void 0,...p.value},e.style]},g,{collapse:f.value,flat:d.value}),r)}),{}}});const Xie=[null,"default","comfortable","compact"],Vn=ce({density:{type:String,default:"default",validator:e=>Xie.includes(e)}},"density");function ya(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs();return{densityClasses:R(()=>`${t}--density-${e.density}`)}}const jie=["elevated","flat","tonal","outlined","text","plain"];function Fc(e,t){return E(Ce,null,[e&&E("span",{key:"overlay",class:`${t}__overlay`},null),E("span",{key:"underlay",class:`${t}__underlay`},null)])}const ro=ce({color:String,variant:{type:String,default:"elevated",validator:e=>jie.includes(e)}},"variant");function zc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs();const r=R(()=>{const{variant:i}=ie(e);return`${t}--variant-${i}`}),{colorClasses:n,colorStyles:a}=U2(R(()=>{const{variant:i,color:o}=ie(e);return{[["elevated","flat"].includes(i)?"background":"text"]:o}}));return{colorClasses:n,colorStyles:a,variantClasses:r}}const q5=ce({divided:Boolean,...ci(),...Be(),...Vn(),...Bn(),...Hr(),...St(),...Yt(),...ro()},"VBtnGroup"),OS=xe()({name:"VBtnGroup",props:q5(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{densityClasses:a}=ya(e),{borderClasses:i}=to(e),{elevationClasses:o}=ea(e),{roundedClasses:s}=Qr(e);En({VBtn:{height:"auto",color:_e(e,"color"),density:_e(e,"density"),flat:!0,variant:_e(e,"variant")}}),Ee(()=>E(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},n.value,i.value,a.value,o.value,s.value,e.class],style:e.style},r))}}),Vd=ce({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Fd=ce({value:null,disabled:Boolean,selectedClass:String},"group-item");function zd(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=Yn("useGroupItem");if(!n)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const a=ga();sn(Symbol.for(`${t.description}:id`),a);const i=Dt(t,null);if(!i){if(!r)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=_e(e,"value"),s=R(()=>i.disabled.value||e.disabled);i.register({id:a,value:o,disabled:s},n),Jn(()=>{i.unregister(a)});const l=R(()=>i.isSelected(a)),u=R(()=>l.value&&[i.selectedClass.value,e.selectedClass]);return Le(l,c=>{n.emit("group:selected",{value:c})}),{id:a,isSelected:l,toggle:()=>i.select(a,!l.value),select:c=>i.select(a,c),selectedClass:u,value:o,disabled:s,group:i}}function Uc(e,t){let r=!1;const n=Tr([]),a=mt(e,"modelValue",[],d=>d==null?[]:Z5(n,Fi(d)),d=>{const h=Zie(n,d);return e.multiple?h:h[0]}),i=Yn("useGroup");function o(d,h){const v=d,p=Symbol.for(`${t.description}:id`),g=Av(p,i==null?void 0:i.vnode).indexOf(h);g>-1?n.splice(g,0,v):n.push(v)}function s(d){if(r)return;l();const h=n.findIndex(v=>v.id===d);n.splice(h,1)}function l(){const d=n.find(h=>!h.disabled);d&&e.mandatory==="force"&&!a.value.length&&(a.value=[d.id])}Qt(()=>{l()}),Jn(()=>{r=!0});function u(d,h){const v=n.find(p=>p.id===d);if(!(h&&(v!=null&&v.disabled)))if(e.multiple){const p=a.value.slice(),m=p.findIndex(y=>y===d),g=~m;if(h=h??!g,g&&e.mandatory&&p.length<=1||!g&&e.max!=null&&p.length+1>e.max)return;m<0&&h?p.push(d):m>=0&&!h&&p.splice(m,1),a.value=p}else{const p=a.value.includes(d);if(e.mandatory&&p)return;a.value=h??!p?[d]:[]}}function c(d){if(e.multiple,a.value.length){const h=a.value[0],v=n.findIndex(g=>g.id===h);let p=(v+d)%n.length,m=n[p];for(;m.disabled&&p!==v;)p=(p+d)%n.length,m=n[p];if(m.disabled)return;a.value=[n[p].id]}else{const h=n.find(v=>!v.disabled);h&&(a.value=[h.id])}}const f={register:o,unregister:s,selected:a,select:u,disabled:_e(e,"disabled"),prev:()=>c(n.length-1),next:()=>c(1),isSelected:d=>a.value.includes(d),selectedClass:R(()=>e.selectedClass),items:R(()=>n),getItemIndex:d=>qie(n,d)};return sn(t,f),f}function qie(e,t){const r=Z5(e,[t]);return r.length?e.findIndex(n=>n.id===r[0]):-1}function Z5(e,t){const r=[];return t.forEach(n=>{const a=e.find(o=>Nc(n,o.value)),i=e[n];(a==null?void 0:a.value)!=null?r.push(a.id):i!=null&&r.push(i.id)}),r}function Zie(e,t){const r=[];return t.forEach(n=>{const a=e.findIndex(i=>i.id===n);if(~a){const i=e[a];r.push(i.value!=null?i.value:a)}}),r}const H2=Symbol.for("vuetify:v-btn-toggle"),Kie=ce({...q5(),...Vd()},"VBtnToggle"),Qie=xe()({name:"VBtnToggle",props:Kie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isSelected:n,next:a,prev:i,select:o,selected:s}=Uc(e,H2);return Ee(()=>{const[l]=OS.filterProps(e);return E(OS,Te({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=r.default)==null?void 0:u.call(r,{isSelected:n,next:a,prev:i,select:o,selected:s})]}})}),{next:a,prev:i,select:o}}});const Jie={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar"},eoe={component:e=>$i($2,{...e,class:"mdi"})},vt=[String,Function,Object,Array],kS=Symbol.for("vuetify:icons"),A_=ce({icon:{type:vt},tag:{type:String,required:!0}},"icon"),NS=xe()({name:"VComponentIcon",props:A_(),setup(e,t){let{slots:r}=t;return()=>{const n=e.icon;return E(e.tag,null,{default:()=>{var a;return[e.icon?E(n,null,null):(a=r.default)==null?void 0:a.call(r)]}})}}}),G2=Ki({name:"VSvgIcon",inheritAttrs:!1,props:A_(),setup(e,t){let{attrs:r}=t;return()=>E(e.tag,Te(r,{style:null}),{default:()=>[E("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(n=>Array.isArray(n)?E("path",{d:n[0],"fill-opacity":n[1]},null):E("path",{d:n},null)):E("path",{d:e.icon},null)])]})}}),toe=Ki({name:"VLigatureIcon",props:A_(),setup(e){return()=>E(e.tag,null,{default:()=>[e.icon]})}}),$2=Ki({name:"VClassIcon",props:A_(),setup(e){return()=>E(e.tag,{class:e.icon},null)}}),roe={svg:{component:G2},class:{component:$2}};function noe(e){return Oi({defaultSet:"mdi",sets:{...roe,mdi:eoe},aliases:{...Jie,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},e)}const aoe=e=>{const t=Dt(kS);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:R(()=>{var l;const n=ie(e);if(!n)return{component:NS};let a=n;if(typeof a=="string"&&(a=a.trim(),a.startsWith("$")&&(a=(l=t.aliases)==null?void 0:l[a.slice(1)])),!a)throw new Error(`Could not find aliased icon "${n}"`);if(Array.isArray(a))return{component:G2,icon:a};if(typeof a!="string")return{component:NS,icon:a};const i=Object.keys(t.sets).find(u=>typeof a=="string"&&a.startsWith(`${u}:`)),o=i?a.slice(i.length+1):a;return{component:t.sets[i??t.defaultSet].component,icon:o}})}},ioe=["x-small","small","default","large","x-large"],qs=ce({size:{type:[String,Number],default:"default"}},"size");function Ud(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs();return E2(()=>{let r,n;return jy(ioe,e.size)?r=`${t}--size-${e.size}`:e.size&&(n={width:ze(e.size),height:ze(e.size)}),{sizeClasses:r,sizeStyles:n}})}const ooe=ce({color:String,start:Boolean,end:Boolean,icon:vt,...Be(),...qs(),...St({tag:"i"}),...Yt()},"VIcon"),Dr=xe()({name:"VIcon",props:ooe(),setup(e,t){let{attrs:r,slots:n}=t;const a=te(),{themeClasses:i}=cr(e),{iconData:o}=aoe(R(()=>a.value||e.icon)),{sizeClasses:s}=Ud(e),{textColorClasses:l,textColorStyles:u}=pa(_e(e,"color"));return Ee(()=>{var f,d;const c=(f=n.default)==null?void 0:f.call(n);return c&&(a.value=(d=_5(c).filter(h=>h.type===Mp&&h.children&&typeof h.children=="string")[0])==null?void 0:d.children),E(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",i.value,s.value,l.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[s.value?void 0:{fontSize:ze(e.size),height:ze(e.size),width:ze(e.size)},u.value,e.style],role:r.onClick?"button":void 0,"aria-hidden":!r.onClick},{default:()=>[c]})}),{}}});function W2(e,t){const r=te(),n=Oe(!1);if(B2){const a=new IntersectionObserver(i=>{e==null||e(i,a),n.value=!!i.find(o=>o.isIntersecting)},t);Jn(()=>{a.disconnect()}),Le(r,(i,o)=>{o&&(a.unobserve(o),n.value=!1),i&&a.observe(i)},{flush:"post"})}return{intersectionRef:r,isIntersecting:n}}const soe=ce({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Be(),...qs(),...St({tag:"div"}),...Yt()},"VProgressCircular"),Y2=xe()({name:"VProgressCircular",props:soe(),setup(e,t){let{slots:r}=t;const n=20,a=2*Math.PI*n,i=te(),{themeClasses:o}=cr(e),{sizeClasses:s,sizeStyles:l}=Ud(e),{textColorClasses:u,textColorStyles:c}=pa(_e(e,"color")),{textColorClasses:f,textColorStyles:d}=pa(_e(e,"bgColor")),{intersectionRef:h,isIntersecting:v}=W2(),{resizeRef:p,contentRect:m}=rs(),g=R(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),y=R(()=>Number(e.width)),_=R(()=>l.value?Number(e.size):m.value?m.value.width:Math.max(y.value,32)),x=R(()=>n/(1-y.value/_.value)*2),w=R(()=>y.value/_.value*x.value),b=R(()=>ze((100-g.value)/100*a));return Xr(()=>{h.value=i.value,p.value=i.value}),Ee(()=>E(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":v.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,s.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:g.value},{default:()=>[E("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${x.value} ${x.value}`},[E("circle",{class:["v-progress-circular__underlay",f.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":w.value,"stroke-dasharray":a,"stroke-dashoffset":0},null),E("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":w.value,"stroke-dasharray":a,"stroke-dashoffset":b.value},null)]),r.default&&E("div",{class:"v-progress-circular__content"},[r.default({value:g.value})])]})),{}}});const TI={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Gl=ce({location:String},"location");function $l(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:n}=Xn();return{locationStyles:R(()=>{if(!e.location)return{};const{side:i,align:o}=ES(e.location.split(" ").length>1?e.location:`${e.location} center`,n.value);function s(u){return r?r(u):0}const l={};return i!=="center"&&(t?l[TI[i]]=`calc(100% - ${s(i)}px)`:l[i]=0),o!=="center"?t?l[TI[o]]=`calc(100% - ${s(o)}px)`:l[o]=0:(i==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),l})}}const loe=ce({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Be(),...Gl({location:"top"}),...Hr(),...St(),...Yt()},"VProgressLinear"),X2=xe()({name:"VProgressLinear",props:loe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),{isRtl:a,rtlClasses:i}=Xn(),{themeClasses:o}=cr(e),{locationStyles:s}=$l(e),{textColorClasses:l,textColorStyles:u}=pa(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:f}=bn(R(()=>e.bgColor||e.color)),{backgroundColorClasses:d,backgroundColorStyles:h}=bn(e,"color"),{roundedClasses:v}=Qr(e),{intersectionRef:p,isIntersecting:m}=W2(),g=R(()=>parseInt(e.max,10)),y=R(()=>parseInt(e.height,10)),_=R(()=>parseFloat(e.bufferValue)/g.value*100),x=R(()=>parseFloat(n.value)/g.value*100),w=R(()=>a.value!==e.reverse),b=R(()=>e.indeterminate?"fade-transition":"slide-x-transition"),T=R(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function S(A){if(!p.value)return;const{left:M,right:C,width:D}=p.value.getBoundingClientRect(),P=w.value?D-A.clientX+(C-D):A.clientX-M;n.value=Math.round(P/D*g.value)}return Ee(()=>E(e.tag,{ref:p,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&m.value,"v-progress-linear--reverse":w.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},v.value,o.value,i.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?ze(y.value):0,"--v-progress-linear-height":ze(y.value),...s.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:x.value,onClick:e.clickable&&S},{default:()=>[e.stream&&E("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[w.value?"left":"right"]:ze(-y.value),borderTop:`${ze(y.value/2)} dotted`,opacity:T.value,top:`calc(50% - ${ze(y.value/4)})`,width:ze(100-_.value,"%"),"--v-progress-linear-stream-to":ze(y.value*(w.value?1:-1))}},null),E("div",{class:["v-progress-linear__background",c.value],style:[f.value,{opacity:T.value,width:ze(e.stream?_.value:100,"%")}]},null),E(ha,{name:b.value},{default:()=>[e.indeterminate?E("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(A=>E("div",{key:A,class:["v-progress-linear__indeterminate",A,d.value],style:h.value},null))]):E("div",{class:["v-progress-linear__determinate",d.value],style:[h.value,{width:ze(x.value,"%")}]},null)]}),r.default&&E("div",{class:"v-progress-linear__content"},[r.default({value:x.value,buffer:_.value})])]})),{}}}),j2=ce({loading:[Boolean,String]},"loader");function E_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs();return{loaderClasses:R(()=>({[`${t}--loading`]:e.loading}))}}function q2(e,t){var n;let{slots:r}=t;return E("div",{class:`${e.name}__loader`},[((n=r.default)==null?void 0:n.call(r,{color:e.color,isActive:e.active}))||E(X2,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const uoe=["static","relative","fixed","absolute","sticky"],Hd=ce({position:{type:String,validator:e=>uoe.includes(e)}},"position");function Gd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs();return{positionClasses:R(()=>e.position?`${t}--${e.position}`:void 0)}}function K5(){var e,t;return(t=(e=Yn("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Gp(e,t){const r=WT("RouterLink"),n=R(()=>!!(e.href||e.to)),a=R(()=>(n==null?void 0:n.value)||nI(t,"click")||nI(e,"click"));if(typeof r=="string")return{isLink:n,isClickable:a,href:_e(e,"href")};const i=e.to?r.useLink(e):void 0;return{isLink:n,isClickable:a,route:i==null?void 0:i.route,navigate:i==null?void 0:i.navigate,isActive:i&&R(()=>{var o,s;return e.exact?(o=i.isExactActive)==null?void 0:o.value:(s=i.isActive)==null?void 0:s.value}),href:R(()=>e.to?i==null?void 0:i.route.value.href:e.href)}}const $p=ce({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let qx=!1;function coe(e,t){let r=!1,n,a;xn&&(Ot(()=>{window.addEventListener("popstate",i),n=e==null?void 0:e.beforeEach((o,s,l)=>{qx?r?t(l):l():setTimeout(()=>r?t(l):l()),qx=!0}),a=e==null?void 0:e.afterEach(()=>{qx=!1})}),da(()=>{window.removeEventListener("popstate",i),n==null||n(),a==null||a()}));function i(o){var s;(s=o.state)!=null&&s.replaced||(r=!0,setTimeout(()=>r=!1))}}function foe(e,t){Le(()=>{var r;return(r=e.isActive)==null?void 0:r.value},r=>{e.isLink.value&&r&&t&&Ot(()=>{t(!0)})},{immediate:!0})}const BS=Symbol("rippleStop"),doe=80;function CI(e,t){e.style.transform=t,e.style.webkitTransform=t}function VS(e){return e.constructor.name==="TouchEvent"}function Q5(e){return e.constructor.name==="KeyboardEvent"}const hoe=function(e,t){var f;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=0,a=0;if(!Q5(e)){const d=t.getBoundingClientRect(),h=VS(e)?e.touches[e.touches.length-1]:e;n=h.clientX-d.left,a=h.clientY-d.top}let i=0,o=.3;(f=t._ripple)!=null&&f.circle?(o=.15,i=t.clientWidth/2,i=r.center?i:i+Math.sqrt((n-i)**2+(a-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-i*2)/2}px`,l=`${(t.clientHeight-i*2)/2}px`,u=r.center?s:`${n-i}px`,c=r.center?l:`${a-i}px`;return{radius:i,scale:o,x:u,y:c,centerX:s,centerY:l}},Jy={show(e,t){var h;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const n=document.createElement("span"),a=document.createElement("span");n.appendChild(a),n.className="v-ripple__container",r.class&&(n.className+=` ${r.class}`);const{radius:i,scale:o,x:s,y:l,centerX:u,centerY:c}=hoe(e,t,r),f=`${i*2}px`;a.className="v-ripple__animation",a.style.width=f,a.style.height=f,t.appendChild(n);const d=window.getComputedStyle(t);d&&d.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),CI(a,`translate(${s}, ${l}) scale3d(${o},${o},${o})`),a.dataset.activated=String(performance.now()),setTimeout(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),CI(a,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var i;if(!((i=e==null?void 0:e._ripple)!=null&&i.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const r=t[t.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const n=performance.now()-Number(r.dataset.activated),a=Math.max(250-n,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=r.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(r.parentNode)},300)},a)}};function J5(e){return typeof e>"u"||!!e}function lp(e){const t={},r=e.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||e[BS])){if(e[BS]=!0,VS(e))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(t.center=r._ripple.centered||Q5(e),r._ripple.class&&(t.class=r._ripple.class),VS(e)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{Jy.show(e,r,t)},r._ripple.showTimer=window.setTimeout(()=>{var n;(n=r==null?void 0:r._ripple)!=null&&n.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},doe)}else Jy.show(e,r,t)}}function AI(e){e[BS]=!0}function ii(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{ii(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Jy.hide(t)}}function e4(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let up=!1;function t4(e){!up&&(e.keyCode===JL.enter||e.keyCode===JL.space)&&(up=!0,lp(e))}function r4(e){up=!1,ii(e)}function n4(e){up&&(up=!1,ii(e))}function a4(e,t,r){const{value:n,modifiers:a}=t,i=J5(n);if(i||Jy.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=i,e._ripple.centered=a.center,e._ripple.circle=a.circle,TS(n)&&n.class&&(e._ripple.class=n.class),i&&!r){if(a.stop){e.addEventListener("touchstart",AI,{passive:!0}),e.addEventListener("mousedown",AI);return}e.addEventListener("touchstart",lp,{passive:!0}),e.addEventListener("touchend",ii,{passive:!0}),e.addEventListener("touchmove",e4,{passive:!0}),e.addEventListener("touchcancel",ii),e.addEventListener("mousedown",lp),e.addEventListener("mouseup",ii),e.addEventListener("mouseleave",ii),e.addEventListener("keydown",t4),e.addEventListener("keyup",r4),e.addEventListener("blur",n4),e.addEventListener("dragstart",ii,{passive:!0})}else!i&&r&&i4(e)}function i4(e){e.removeEventListener("mousedown",lp),e.removeEventListener("touchstart",lp),e.removeEventListener("touchend",ii),e.removeEventListener("touchmove",e4),e.removeEventListener("touchcancel",ii),e.removeEventListener("mouseup",ii),e.removeEventListener("mouseleave",ii),e.removeEventListener("keydown",t4),e.removeEventListener("keyup",r4),e.removeEventListener("dragstart",ii),e.removeEventListener("blur",n4)}function voe(e,t){a4(e,t,!1)}function poe(e){delete e._ripple,i4(e)}function moe(e,t){if(t.value===t.oldValue)return;const r=J5(t.oldValue);a4(e,t,r)}const Wl={mounted:voe,unmounted:poe,updated:moe},Z2=ce({active:{type:Boolean,default:void 0},symbol:{type:null,default:H2},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:vt,appendIcon:vt,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...ci(),...Be(),...Vn(),...Ji(),...Bn(),...Fd(),...j2(),...Gl(),...Hd(),...Hr(),...$p(),...qs(),...St({tag:"button"}),...Yt(),...ro({variant:"elevated"})},"VBtn"),Pa=xe()({name:"VBtn",directives:{Ripple:Wl},props:Z2(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const{themeClasses:a}=cr(e),{borderClasses:i}=to(e),{colorClasses:o,colorStyles:s,variantClasses:l}=zc(e),{densityClasses:u}=ya(e),{dimensionStyles:c}=eo(e),{elevationClasses:f}=ea(e),{loaderClasses:d}=E_(e),{locationStyles:h}=$l(e),{positionClasses:v}=Gd(e),{roundedClasses:p}=Qr(e),{sizeClasses:m,sizeStyles:g}=Ud(e),y=zd(e,e.symbol,!1),_=Gp(e,r),x=R(()=>{var A;return e.active!==void 0?e.active:_.isLink.value?(A=_.isActive)==null?void 0:A.value:y==null?void 0:y.isSelected.value}),w=R(()=>(y==null?void 0:y.disabled.value)||e.disabled),b=R(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),T=R(()=>{if(e.value!==void 0)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function S(A){var M;w.value||_.isLink.value&&(A.metaKey||A.ctrlKey||A.shiftKey||A.button!==0||r.target==="_blank")||((M=_.navigate)==null||M.call(_,A),y==null||y.toggle())}return foe(_,y==null?void 0:y.select),Ee(()=>{var I,k;const A=_.isLink.value?"a":e.tag,M=!!(e.prependIcon||n.prepend),C=!!(e.appendIcon||n.append),D=!!(e.icon&&e.icon!==!0),P=(y==null?void 0:y.isSelected.value)&&(!_.isLink.value||((I=_.isActive)==null?void 0:I.value))||!y||((k=_.isActive)==null?void 0:k.value);return Cr(E(A,{type:A==="a"?void 0:"button",class:["v-btn",y==null?void 0:y.selectedClass.value,{"v-btn--active":x.value,"v-btn--block":e.block,"v-btn--disabled":w.value,"v-btn--elevated":b.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},a.value,i.value,P?o.value:void 0,u.value,f.value,d.value,v.value,p.value,m.value,l.value,e.class],style:[P?s.value:void 0,c.value,h.value,g.value,e.style],disabled:w.value||void 0,href:_.href.value,onClick:S,value:T.value},{default:()=>{var V;return[Fc(!0,"v-btn"),!e.icon&&M&&E("span",{key:"prepend",class:"v-btn__prepend"},[n.prepend?E(_r,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},n.prepend):E(Dr,{key:"prepend-icon",icon:e.prependIcon},null)]),E("span",{class:"v-btn__content","data-no-activator":""},[!n.default&&D?E(Dr,{key:"content-icon",icon:e.icon},null):E(_r,{key:"content-defaults",disabled:!D,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var H;return[((H=n.default)==null?void 0:H.call(n))??e.text]}})]),!e.icon&&C&&E("span",{key:"append",class:"v-btn__append"},[n.append?E(_r,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},n.append):E(Dr,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&E("span",{key:"loader",class:"v-btn__loader"},[((V=n.loader)==null?void 0:V.call(n))??E(Y2,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Ja("ripple"),!w.value&&e.ripple,null]])}),{}}}),goe=ce({...Z2({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),yoe=xe()({name:"VAppBarNavIcon",props:goe(),setup(e,t){let{slots:r}=t;return Ee(()=>E(Pa,Te(e,{class:["v-app-bar-nav-icon"]}),r)),{}}}),_oe=xe()({name:"VAppBarTitle",props:U5(),setup(e,t){let{slots:r}=t;return Ee(()=>E(V2,Te(e,{class:"v-app-bar-title"}),r)),{}}});const o4=Ao("v-alert-title"),xoe=["success","info","warning","error"],boe=ce({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:vt,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>xoe.includes(e)},...Be(),...Vn(),...Ji(),...Bn(),...Gl(),...Hd(),...Hr(),...St(),...Yt(),...ro({variant:"flat"})},"VAlert"),woe=xe()({name:"VAlert",props:boe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:r,slots:n}=t;const a=mt(e,"modelValue"),i=R(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=R(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:s}=cr(e),{colorClasses:l,colorStyles:u,variantClasses:c}=zc(o),{densityClasses:f}=ya(e),{dimensionStyles:d}=eo(e),{elevationClasses:h}=ea(e),{locationStyles:v}=$l(e),{positionClasses:p}=Gd(e),{roundedClasses:m}=Qr(e),{textColorClasses:g,textColorStyles:y}=pa(_e(e,"borderColor")),{t:_}=Qi(),x=R(()=>({"aria-label":_(e.closeLabel),onClick(w){a.value=!1,r("click:close",w)}}));return()=>{const w=!!(n.prepend||i.value),b=!!(n.title||e.title),T=!!(n.close||e.closable);return a.value&&E(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},s.value,l.value,f.value,h.value,p.value,m.value,c.value,e.class],style:[u.value,d.value,v.value,e.style],role:"alert"},{default:()=>{var S,A;return[Fc(!1,"v-alert"),e.border&&E("div",{key:"border",class:["v-alert__border",g.value],style:y.value},null),w&&E("div",{key:"prepend",class:"v-alert__prepend"},[n.prepend?E(_r,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},n.prepend):E(Dr,{key:"prepend-icon",density:e.density,icon:i.value,size:e.prominent?44:28},null)]),E("div",{class:"v-alert__content"},[b&&E(o4,{key:"title"},{default:()=>{var M;return[((M=n.title)==null?void 0:M.call(n))??e.title]}}),((S=n.text)==null?void 0:S.call(n))??e.text,(A=n.default)==null?void 0:A.call(n)]),n.append&&E("div",{key:"append",class:"v-alert__append"},[n.append()]),T&&E("div",{key:"close",class:"v-alert__close"},[n.close?E(_r,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var M;return[(M=n.close)==null?void 0:M.call(n,{props:x.value})]}}):E(Pa,Te({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},x.value),null)])]}})}}});const Soe=ce({text:String,clickable:Boolean,...Be(),...Yt()},"VLabel"),$d=xe()({name:"VLabel",props:Soe(),setup(e,t){let{slots:r}=t;return Ee(()=>{var n;return E("label",{class:["v-label",{"v-label--clickable":e.clickable},e.class],style:e.style},[e.text,(n=r.default)==null?void 0:n.call(r)])}),{}}});const s4=Symbol.for("vuetify:selection-control-group"),K2=ce({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:vt,trueIcon:vt,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Nc},...Be(),...Vn(),...Yt()},"SelectionControlGroup"),Toe=ce({...K2({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),l4=xe()({name:"VSelectionControlGroup",props:Toe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),a=ga(),i=R(()=>e.id||`v-selection-control-group-${a}`),o=R(()=>e.name||i.value),s=new Set;return sn(s4,{modelValue:n,forceUpdate:()=>{s.forEach(l=>l())},onForceUpdate:l=>{s.add(l),da(()=>{s.delete(l)})}}),En({[e.defaultsTarget]:{color:_e(e,"color"),disabled:_e(e,"disabled"),density:_e(e,"density"),error:_e(e,"error"),inline:_e(e,"inline"),modelValue:n,multiple:R(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:o,falseIcon:_e(e,"falseIcon"),trueIcon:_e(e,"trueIcon"),readonly:_e(e,"readonly"),ripple:_e(e,"ripple"),type:_e(e,"type"),valueComparator:_e(e,"valueComparator")}}),Ee(()=>{var l;return E("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=r.default)==null?void 0:l.call(r)])}),{}}}),D_=ce({label:String,trueValue:null,falseValue:null,value:null,...Be(),...K2()},"VSelectionControl");function Coe(e){const t=Dt(s4,void 0),{densityClasses:r}=ya(e),n=mt(e,"modelValue"),a=R(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=R(()=>e.falseValue!==void 0?e.falseValue:!1),o=R(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),s=R({get(){const f=t?t.modelValue.value:n.value;return o.value?f.some(d=>e.valueComparator(d,a.value)):e.valueComparator(f,a.value)},set(f){if(e.readonly)return;const d=f?a.value:i.value;let h=d;o.value&&(h=f?[...Fi(n.value),d]:Fi(n.value).filter(v=>!e.valueComparator(v,a.value))),t?t.modelValue.value=h:n.value=h}}),{textColorClasses:l,textColorStyles:u}=pa(R(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),c=R(()=>s.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:r,trueValue:a,falseValue:i,model:s,textColorClasses:l,textColorStyles:u,icon:c}}const fd=xe()({name:"VSelectionControl",directives:{Ripple:Wl},inheritAttrs:!1,props:D_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const{group:a,densityClasses:i,icon:o,model:s,textColorClasses:l,textColorStyles:u,trueValue:c}=Coe(e),f=ga(),d=R(()=>e.id||`input-${f}`),h=Oe(!1),v=Oe(!1),p=te();a==null||a.onForceUpdate(()=>{p.value&&(p.value.checked=s.value)});function m(_){h.value=!0,(!PS||PS&&_.target.matches(":focus-visible"))&&(v.value=!0)}function g(){h.value=!1,v.value=!1}function y(_){e.readonly&&a&&Ot(()=>a.forceUpdate()),s.value=_.target.checked}return Ee(()=>{var b,T;const _=n.label?n.label({label:e.label,props:{for:d.value}}):e.label,[x,w]=Bc(r);return E("div",Te({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},i.value,e.class]},x,{style:e.style}),[E("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(b=n.default)==null?void 0:b.call(n),Cr(E("div",{class:["v-selection-control__input"]},[o.value&&E(Dr,{key:"icon",icon:o.value},null),E("input",Te({ref:p,checked:s.value,disabled:!!(e.readonly||e.disabled),id:d.value,onBlur:g,onFocus:m,onInput:y,"aria-disabled":!!(e.readonly||e.disabled),type:e.type,value:c.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},w),null),(T=n.input)==null?void 0:T.call(n,{model:s,textColorClasses:l,textColorStyles:u,props:{onFocus:m,onBlur:g,id:d.value}})]),[[Ja("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),_&&E($d,{for:d.value,clickable:!0},{default:()=>[_]})])}),{isFocused:h,input:p}}}),u4=ce({indeterminate:Boolean,indeterminateIcon:{type:vt,default:"$checkboxIndeterminate"},...D_({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),dd=xe()({name:"VCheckboxBtn",props:u4(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"indeterminate"),a=mt(e,"modelValue");function i(l){n.value&&(n.value=!1)}const o=R(()=>n.value?e.indeterminateIcon:e.falseIcon),s=R(()=>n.value?e.indeterminateIcon:e.trueIcon);return Ee(()=>E(fd,Te(e,{modelValue:a.value,"onUpdate:modelValue":[l=>a.value=l,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:s.value,"aria-checked":n.value?"mixed":void 0}),r)),{}}});function c4(e){const{t}=Qi();function r(n){let{name:a}=n;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[a],o=e[`onClick:${a}`],s=o&&i?t(`$vuetify.input.${i}`,e.label??""):void 0;return E(Dr,{icon:e[`${a}Icon`],"aria-label":s,onClick:o},null)}return{InputIcon:r}}const Aoe=ce({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Be(),...js({transition:{component:F2,leaveAbsolute:!0,group:!0}})},"VMessages"),f4=xe()({name:"VMessages",props:Aoe(),setup(e,t){let{slots:r}=t;const n=R(()=>Fi(e.messages)),{textColorClasses:a,textColorStyles:i}=pa(R(()=>e.color));return Ee(()=>E(go,{transition:e.transition,tag:"div",class:["v-messages",a.value,e.class],style:[i.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&n.value.map((o,s)=>E("div",{class:"v-messages__message",key:`${s}-${n.value}`},[r.message?r.message({message:o}):o]))]})),{}}}),M_=ce({focused:Boolean,"onUpdate:focused":Ko()},"focus");function Yl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs();const r=mt(e,"focused"),n=R(()=>({[`${t}--focused`]:r.value}));function a(){r.value=!0}function i(){r.value=!1}return{focusClasses:n,isFocused:r,focus:a,blur:i}}const d4=Symbol.for("vuetify:form"),Eoe=ce({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Doe(e){const t=mt(e,"modelValue"),r=R(()=>e.disabled),n=R(()=>e.readonly),a=Oe(!1),i=te([]),o=te([]);async function s(){const c=[];let f=!0;o.value=[],a.value=!0;for(const d of i.value){const h=await d.validate();if(h.length>0&&(f=!1,c.push({id:d.id,errorMessages:h})),!f&&e.fastFail)break}return o.value=c,a.value=!1,{valid:f,errors:o.value}}function l(){i.value.forEach(c=>c.reset())}function u(){i.value.forEach(c=>c.resetValidation())}return Le(i,()=>{let c=0,f=0;const d=[];for(const h of i.value)h.isValid===!1?(f++,d.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&c++;o.value=d,t.value=f>0?!1:c===i.value.length?!0:null},{deep:!0}),sn(d4,{register:c=>{let{id:f,validate:d,reset:h,resetValidation:v}=c;i.value.some(p=>p.id===f),i.value.push({id:f,validate:d,reset:h,resetValidation:v,isValid:null,errorMessages:[]})},unregister:c=>{i.value=i.value.filter(f=>f.id!==c)},update:(c,f,d)=>{const h=i.value.find(v=>v.id===c);h&&(h.isValid=f,h.errorMessages=d)},isDisabled:r,isReadonly:n,isValidating:a,isValid:t,items:i,validateOn:_e(e,"validateOn")}),{errors:o,isDisabled:r,isReadonly:n,isValidating:a,isValid:t,items:i,validate:s,reset:l,resetValidation:u}}function P_(){return Dt(d4,null)}const h4=ce({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...M_()},"validation");function v4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xs(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ga();const n=mt(e,"modelValue"),a=R(()=>e.validationValue===void 0?n.value:e.validationValue),i=P_(),o=te([]),s=Oe(!0),l=R(()=>!!(Fi(n.value===""?null:n.value).length||Fi(a.value===""?null:a.value).length)),u=R(()=>!!(e.disabled??(i==null?void 0:i.isDisabled.value))),c=R(()=>!!(e.readonly??(i==null?void 0:i.isReadonly.value))),f=R(()=>e.errorMessages.length?Fi(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):o.value),d=R(()=>{let x=(e.validateOn??(i==null?void 0:i.validateOn.value))||"input";x==="lazy"&&(x="input lazy");const w=new Set((x==null?void 0:x.split(" "))??[]);return{blur:w.has("blur")||w.has("input"),input:w.has("input"),submit:w.has("submit"),lazy:w.has("lazy")}}),h=R(()=>e.error||e.errorMessages.length?!1:e.rules.length?s.value?o.value.length||d.value.lazy?null:!0:!o.value.length:!0),v=Oe(!1),p=R(()=>({[`${t}--error`]:h.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),m=R(()=>e.name??ie(r));M0(()=>{i==null||i.register({id:m.value,validate:_,reset:g,resetValidation:y})}),Jn(()=>{i==null||i.unregister(m.value)}),Qt(async()=>{d.value.lazy||await _(!0),i==null||i.update(m.value,h.value,f.value)}),Ns(()=>d.value.input,()=>{Le(a,()=>{if(a.value!=null)_();else if(e.focused){const x=Le(()=>e.focused,w=>{w||_(),x()})}})}),Ns(()=>d.value.blur,()=>{Le(()=>e.focused,x=>{x||_()})}),Le(h,()=>{i==null||i.update(m.value,h.value,f.value)});function g(){n.value=null,Ot(y)}function y(){s.value=!0,d.value.lazy?o.value=[]:_(!0)}async function _(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const w=[];v.value=!0;for(const b of e.rules){if(w.length>=+(e.maxErrors??1))break;const S=await(typeof b=="function"?b:()=>b)(a.value);if(S!==!0){if(S!==!1&&typeof S!="string"){console.warn(`${S} is not a valid value. Rule functions must return boolean true or a string.`);continue}w.push(S||"")}}return o.value=w,v.value=!1,s.value=x,o.value}return{errorMessages:f,isDirty:l,isDisabled:u,isReadonly:c,isPristine:s,isValid:h,isValidating:v,reset:g,resetValidation:y,validate:_,validationClasses:p}}const Zs=ce({id:String,appendIcon:vt,centerAffix:{type:Boolean,default:!0},prependIcon:vt,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Ko(),"onClick:append":Ko(),...Be(),...Vn(),...h4()},"VInput"),Qn=xe()({name:"VInput",props:{...Zs()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n,emit:a}=t;const{densityClasses:i}=ya(e),{rtlClasses:o}=Xn(),{InputIcon:s}=c4(e),l=ga(),u=R(()=>e.id||`input-${l}`),c=R(()=>`${u.value}-messages`),{errorMessages:f,isDirty:d,isDisabled:h,isReadonly:v,isPristine:p,isValid:m,isValidating:g,reset:y,resetValidation:_,validate:x,validationClasses:w}=v4(e,"v-input",u),b=R(()=>({id:u,messagesId:c,isDirty:d,isDisabled:h,isReadonly:v,isPristine:p,isValid:m,isValidating:g,reset:y,resetValidation:_,validate:x})),T=R(()=>{var S;return(S=e.errorMessages)!=null&&S.length||!p.value&&f.value.length?f.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Ee(()=>{var D,P,I,k;const S=!!(n.prepend||e.prependIcon),A=!!(n.append||e.appendIcon),M=T.value.length>0,C=!e.hideDetails||e.hideDetails==="auto"&&(M||!!n.details);return E("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix},i.value,o.value,w.value,e.class],style:e.style},[S&&E("div",{key:"prepend",class:"v-input__prepend"},[(D=n.prepend)==null?void 0:D.call(n,b.value),e.prependIcon&&E(s,{key:"prepend-icon",name:"prepend"},null)]),n.default&&E("div",{class:"v-input__control"},[(P=n.default)==null?void 0:P.call(n,b.value)]),A&&E("div",{key:"append",class:"v-input__append"},[e.appendIcon&&E(s,{key:"append-icon",name:"append"},null),(I=n.append)==null?void 0:I.call(n,b.value)]),C&&E("div",{class:"v-input__details"},[E(f4,{id:c.value,active:M,messages:T.value},{message:n.message}),(k=n.details)==null?void 0:k.call(n,b.value)])])}),{reset:y,resetValidation:_,validate:x}}}),Moe=ce({...Zs(),...os(u4(),["inline"])},"VCheckbox"),Poe=xe()({name:"VCheckbox",inheritAttrs:!1,props:Moe(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const a=mt(e,"modelValue"),{isFocused:i,focus:o,blur:s}=Yl(e),l=ga(),u=R(()=>e.id||`checkbox-${l}`);return Ee(()=>{const[c,f]=Bc(r),[d,h]=Qn.filterProps(e),[v,p]=dd.filterProps(e);return E(Qn,Te({class:["v-checkbox",e.class]},c,d,{modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,id:u.value,focused:i.value,style:e.style}),{...n,default:m=>{let{id:g,messagesId:y,isDisabled:_,isReadonly:x}=m;return E(dd,Te(v,{id:g.value,"aria-describedby":y.value,disabled:_.value,readonly:x.value},f,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,onFocus:o,onBlur:s}),n)}})}),{}}});const Loe=ce({start:Boolean,end:Boolean,icon:vt,image:String,...Be(),...Vn(),...Hr(),...qs(),...St(),...Yt(),...ro({variant:"flat"})},"VAvatar"),zl=xe()({name:"VAvatar",props:Loe(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{colorClasses:a,colorStyles:i,variantClasses:o}=zc(e),{densityClasses:s}=ya(e),{roundedClasses:l}=Qr(e),{sizeClasses:u,sizeStyles:c}=Ud(e);return Ee(()=>E(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},n.value,a.value,s.value,l.value,u.value,o.value,e.class],style:[i.value,c.value,e.style]},{default:()=>{var f;return[e.image?E(Sc,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?E(Dr,{key:"icon",icon:e.icon},null):(f=r.default)==null?void 0:f.call(r),Fc(!1,"v-avatar")]}})),{}}});const p4=Symbol.for("vuetify:v-chip-group"),Ioe=ce({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Nc},...Be(),...Vd({selectedClass:"v-chip--selected"}),...St(),...Yt(),...ro({variant:"tonal"})},"VChipGroup"),Roe=xe()({name:"VChipGroup",props:Ioe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{isSelected:a,select:i,next:o,prev:s,selected:l}=Uc(e,p4);return En({VChip:{color:_e(e,"color"),disabled:_e(e,"disabled"),filter:_e(e,"filter"),variant:_e(e,"variant")}}),Ee(()=>E(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},n.value,e.class],style:e.style},{default:()=>{var u;return[(u=r.default)==null?void 0:u.call(r,{isSelected:a,select:i,next:o,prev:s,selected:l.value})]}})),{}}}),Ooe=ce({activeClass:String,appendAvatar:String,appendIcon:vt,closable:Boolean,closeIcon:{type:vt,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:vt,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Ko(),onClickOnce:Ko(),...ci(),...Be(),...Vn(),...Bn(),...Fd(),...Hr(),...$p(),...qs(),...St({tag:"span"}),...Yt(),...ro({variant:"tonal"})},"VChip"),Wp=xe()({name:"VChip",directives:{Ripple:Wl},props:Ooe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const{t:i}=Qi(),{borderClasses:o}=to(e),{colorClasses:s,colorStyles:l,variantClasses:u}=zc(e),{densityClasses:c}=ya(e),{elevationClasses:f}=ea(e),{roundedClasses:d}=Qr(e),{sizeClasses:h}=Ud(e),{themeClasses:v}=cr(e),p=mt(e,"modelValue"),m=zd(e,p4,!1),g=Gp(e,r),y=R(()=>e.link!==!1&&g.isLink.value),_=R(()=>!e.disabled&&e.link!==!1&&(!!m||e.link||g.isClickable.value)),x=R(()=>({"aria-label":i(e.closeLabel),onClick(T){p.value=!1,n("click:close",T)}}));function w(T){var S;n("click",T),_.value&&((S=g.navigate)==null||S.call(g,T),m==null||m.toggle())}function b(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),w(T))}return()=>{const T=g.isLink.value?"a":e.tag,S=!!(e.appendIcon||e.appendAvatar),A=!!(S||a.append),M=!!(a.close||e.closable),C=!!(a.filter||e.filter)&&m,D=!!(e.prependIcon||e.prependAvatar),P=!!(D||a.prepend),I=!m||m.isSelected.value;return p.value&&Cr(E(T,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":_.value,"v-chip--filter":C,"v-chip--pill":e.pill},v.value,o.value,I?s.value:void 0,c.value,f.value,d.value,h.value,u.value,m==null?void 0:m.selectedClass.value,e.class],style:[I?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:g.href.value,tabindex:_.value?0:void 0,onClick:w,onKeydown:_.value&&!y.value&&b},{default:()=>{var k;return[Fc(_.value,"v-chip"),C&&E(z2,{key:"filter"},{default:()=>[Cr(E("div",{class:"v-chip__filter"},[a.filter?Cr(E(_r,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[Ja("slot"),a.filter,"default"]]):E(Dr,{key:"filter-icon",icon:e.filterIcon},null)]),[[qa,m.isSelected.value]])]}),P&&E("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?E(_r,{key:"prepend-defaults",disabled:!D,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):E(Ce,null,[e.prependIcon&&E(Dr,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&E(zl,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),E("div",{class:"v-chip__content"},[((k=a.default)==null?void 0:k.call(a,{isSelected:m==null?void 0:m.isSelected.value,selectedClass:m==null?void 0:m.selectedClass.value,select:m==null?void 0:m.select,toggle:m==null?void 0:m.toggle,value:m==null?void 0:m.value.value,disabled:e.disabled}))??e.text]),A&&E("div",{key:"append",class:"v-chip__append"},[a.append?E(_r,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):E(Ce,null,[e.appendIcon&&E(Dr,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&E(zl,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),M&&E("div",Te({key:"close",class:"v-chip__close"},x.value),[a.close?E(_r,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):E(Dr,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Ja("ripple"),_.value&&e.ripple,null]])}}});const FS=Symbol.for("vuetify:list");function m4(){const e=Dt(FS,{hasPrepend:Oe(!1),updateHasPrepend:()=>null}),t={hasPrepend:Oe(!1),updateHasPrepend:r=>{r&&(t.hasPrepend.value=r)}};return sn(FS,t),e}function g4(){return Dt(FS,null)}const koe={open:e=>{let{id:t,value:r,opened:n,parents:a}=e;if(r){const i=new Set;i.add(t);let o=a.get(t);for(;o!=null;)i.add(o),o=a.get(o);return i}else return n.delete(t),n},select:()=>null},y4={open:e=>{let{id:t,value:r,opened:n,parents:a}=e;if(r){let i=a.get(t);for(n.add(t);i!=null&&i!==t;)n.add(i),i=a.get(i);return n}else n.delete(t);return n},select:()=>null},Noe={open:y4.open,select:e=>{let{id:t,value:r,opened:n,parents:a}=e;if(!r)return n;const i=[];let o=a.get(t);for(;o!=null;)i.push(o),o=a.get(o);return new Set(i)}},Q2=e=>{const t={select:r=>{let{id:n,value:a,selected:i}=r;if(n=Ct(n),e&&!a){const o=Array.from(i.entries()).reduce((s,l)=>{let[u,c]=l;return c==="on"?[...s,u]:s},[]);if(o.length===1&&o[0]===n)return i}return i.set(n,a?"on":"off"),i},in:(r,n,a)=>{let i=new Map;for(const o of r||[])i=t.select({id:o,value:!0,selected:new Map(i),children:n,parents:a});return i},out:r=>{const n=[];for(const[a,i]of r.entries())i==="on"&&n.push(a);return n}};return t},_4=e=>{const t=Q2(e);return{select:n=>{let{selected:a,id:i,...o}=n;i=Ct(i);const s=a.has(i)?new Map([[i,a.get(i)]]):new Map;return t.select({...o,id:i,selected:s})},in:(n,a,i)=>{let o=new Map;return n!=null&&n.length&&(o=t.in(n.slice(0,1),a,i)),o},out:(n,a,i)=>t.out(n,a,i)}},Boe=e=>{const t=Q2(e);return{select:n=>{let{id:a,selected:i,children:o,...s}=n;return a=Ct(a),o.has(a)?i:t.select({id:a,selected:i,children:o,...s})},in:t.in,out:t.out}},Voe=e=>{const t=_4(e);return{select:n=>{let{id:a,selected:i,children:o,...s}=n;return a=Ct(a),o.has(a)?i:t.select({id:a,selected:i,children:o,...s})},in:t.in,out:t.out}},Foe=e=>{const t={select:r=>{let{id:n,value:a,selected:i,children:o,parents:s}=r;n=Ct(n);const l=new Map(i),u=[n];for(;u.length;){const f=u.shift();i.set(f,a?"on":"off"),o.has(f)&&u.push(...o.get(f))}let c=s.get(n);for(;c;){const f=o.get(c),d=f.every(v=>i.get(v)==="on"),h=f.every(v=>!i.has(v)||i.get(v)==="off");i.set(c,d?"on":h?"off":"indeterminate"),c=s.get(c)}return e&&!a&&Array.from(i.entries()).reduce((d,h)=>{let[v,p]=h;return p==="on"?[...d,v]:d},[]).length===0?l:i},in:(r,n,a)=>{let i=new Map;for(const o of r||[])i=t.select({id:o,value:!0,selected:new Map(i),children:n,parents:a});return i},out:(r,n)=>{const a=[];for(const[i,o]of r.entries())o==="on"&&!n.has(i)&&a.push(i);return a}};return t},cp=Symbol.for("vuetify:nested"),x4={id:Oe(),root:{register:()=>null,unregister:()=>null,parents:te(new Map),children:te(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:te(new Set),selected:te(new Map),selectedValues:te([])}},zoe=ce({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),Uoe=e=>{let t=!1;const r=te(new Map),n=te(new Map),a=mt(e,"opened",e.opened,f=>new Set(f),f=>[...f.values()]),i=R(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return Voe(e.mandatory);case"leaf":return Boe(e.mandatory);case"independent":return Q2(e.mandatory);case"single-independent":return _4(e.mandatory);case"classic":default:return Foe(e.mandatory)}}),o=R(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Noe;case"single":return koe;case"multiple":default:return y4}}),s=mt(e,"selected",e.selected,f=>i.value.in(f,r.value,n.value),f=>i.value.out(f,r.value,n.value));Jn(()=>{t=!0});function l(f){const d=[];let h=f;for(;h!=null;)d.unshift(h),h=n.value.get(h);return d}const u=Yn("nested"),c={id:Oe(),root:{opened:a,selected:s,selectedValues:R(()=>{const f=[];for(const[d,h]of s.value.entries())h==="on"&&f.push(d);return f}),register:(f,d,h)=>{d&&f!==d&&n.value.set(f,d),h&&r.value.set(f,[]),d!=null&&r.value.set(d,[...r.value.get(d)||[],f])},unregister:f=>{if(t)return;r.value.delete(f);const d=n.value.get(f);if(d){const h=r.value.get(d)??[];r.value.set(d,h.filter(v=>v!==f))}n.value.delete(f),a.value.delete(f)},open:(f,d,h)=>{u.emit("click:open",{id:f,value:d,path:l(f),event:h});const v=o.value.open({id:f,value:d,opened:new Set(a.value),children:r.value,parents:n.value,event:h});v&&(a.value=v)},openOnSelect:(f,d,h)=>{const v=o.value.select({id:f,value:d,selected:new Map(s.value),opened:new Set(a.value),children:r.value,parents:n.value,event:h});v&&(a.value=v)},select:(f,d,h)=>{u.emit("click:select",{id:f,value:d,path:l(f),event:h});const v=i.value.select({id:f,value:d,selected:new Map(s.value),children:r.value,parents:n.value,event:h});v&&(s.value=v),c.root.openOnSelect(f,d,h)},children:r,parents:n}};return sn(cp,c),c.root},b4=(e,t)=>{const r=Dt(cp,x4),n=Symbol(ga()),a=R(()=>e.value!==void 0?e.value:n),i={...r,id:a,open:(o,s)=>r.root.open(a.value,o,s),openOnSelect:(o,s)=>r.root.openOnSelect(a.value,o,s),isOpen:R(()=>r.root.opened.value.has(a.value)),parent:R(()=>r.root.parents.value.get(a.value)),select:(o,s)=>r.root.select(a.value,o,s),isSelected:R(()=>r.root.selected.value.get(Ct(a.value))==="on"),isIndeterminate:R(()=>r.root.selected.value.get(a.value)==="indeterminate"),isLeaf:R(()=>!r.root.children.value.get(a.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(a.value,r.id.value,t),Jn(()=>{!r.isGroupActivator&&r.root.unregister(a.value)}),t&&sn(cp,i),i},Hoe=()=>{const e=Dt(cp,x4);sn(cp,{...e,isGroupActivator:!0})},Goe=Ki({name:"VListGroupActivator",setup(e,t){let{slots:r}=t;return Hoe(),()=>{var n;return(n=r.default)==null?void 0:n.call(r)}}}),$oe=ce({activeColor:String,baseColor:String,color:String,collapseIcon:{type:vt,default:"$collapse"},expandIcon:{type:vt,default:"$expand"},prependIcon:vt,appendIcon:vt,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Be(),...St()},"VListGroup"),zS=xe()({name:"VListGroup",props:$oe(),setup(e,t){let{slots:r}=t;const{isOpen:n,open:a,id:i}=b4(_e(e,"value"),!0),o=R(()=>`v-list-group--id-${String(i.value)}`),s=g4(),{isBooted:l}=Vc();function u(h){a(!n.value,h)}const c=R(()=>({onClick:u,class:"v-list-group__header",id:o.value})),f=R(()=>n.value?e.collapseIcon:e.expandIcon),d=R(()=>({VListItem:{active:n.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return Ee(()=>E(e.tag,{class:["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":n.value},e.class],style:e.style},{default:()=>[r.activator&&E(_r,{defaults:d.value},{default:()=>[E(Goe,null,{default:()=>[r.activator({props:c.value,isOpen:n.value})]})]}),E(go,{transition:{component:C_},disabled:!l.value},{default:()=>{var h;return[Cr(E("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(h=r.default)==null?void 0:h.call(r)]),[[qa,n.value]])]}})]})),{}}});const w4=Ao("v-list-item-subtitle"),S4=Ao("v-list-item-title"),Woe=ce({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:vt,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:vt,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:Ko(),onClickOnce:Ko(),...ci(),...Be(),...Vn(),...Ji(),...Bn(),...Hr(),...$p(),...St(),...Yt(),...ro({variant:"text"})},"VListItem"),Bs=xe()({name:"VListItem",directives:{Ripple:Wl},props:Woe(),emits:{click:e=>!0},setup(e,t){let{attrs:r,slots:n,emit:a}=t;const i=Gp(e,r),o=R(()=>e.value===void 0?i.href.value:e.value),{select:s,isSelected:l,isIndeterminate:u,isGroupActivator:c,root:f,parent:d,openOnSelect:h}=b4(o,!1),v=g4(),p=R(()=>{var O;return e.active!==!1&&(e.active||((O=i.isActive)==null?void 0:O.value)||l.value)}),m=R(()=>e.link!==!1&&i.isLink.value),g=R(()=>!e.disabled&&e.link!==!1&&(e.link||i.isClickable.value||e.value!=null&&!!v)),y=R(()=>e.rounded||e.nav),_=R(()=>e.color??e.activeColor),x=R(()=>({color:p.value?_.value??e.baseColor:e.baseColor,variant:e.variant}));Le(()=>{var O;return(O=i.isActive)==null?void 0:O.value},O=>{O&&d.value!=null&&f.open(d.value,!0),O&&h(O)},{immediate:!0});const{themeClasses:w}=cr(e),{borderClasses:b}=to(e),{colorClasses:T,colorStyles:S,variantClasses:A}=zc(x),{densityClasses:M}=ya(e),{dimensionStyles:C}=eo(e),{elevationClasses:D}=ea(e),{roundedClasses:P}=Qr(y),I=R(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),k=R(()=>({isActive:p.value,select:s,isSelected:l.value,isIndeterminate:u.value}));function V(O){var L;a("click",O),!(c||!g.value)&&((L=i.navigate)==null||L.call(i,O),e.value!=null&&s(!l.value,O))}function H(O){(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),V(O))}return Ee(()=>{const O=m.value?"a":e.tag,L=n.title||e.title,F=n.subtitle||e.subtitle,X=!!(e.appendAvatar||e.appendIcon),Y=!!(X||n.append),G=!!(e.prependAvatar||e.prependIcon),z=!!(G||n.prepend);return v==null||v.updateHasPrepend(z),e.activeColor&&Vae("active-color",["color","base-color"]),Cr(E(O,{class:["v-list-item",{"v-list-item--active":p.value,"v-list-item--disabled":e.disabled,"v-list-item--link":g.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!z&&(v==null?void 0:v.hasPrepend.value),[`${e.activeClass}`]:e.activeClass&&p.value},w.value,b.value,T.value,M.value,D.value,I.value,P.value,A.value,e.class],style:[S.value,C.value,e.style],href:i.href.value,tabindex:g.value?v?-2:0:void 0,onClick:V,onKeydown:g.value&&!m.value&&H},{default:()=>{var N;return[Fc(g.value||p.value,"v-list-item"),z&&E("div",{key:"prepend",class:"v-list-item__prepend"},[n.prepend?E(_r,{key:"prepend-defaults",disabled:!G,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var U;return[(U=n.prepend)==null?void 0:U.call(n,k.value)]}}):E(Ce,null,[e.prependAvatar&&E(zl,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&E(Dr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),E("div",{class:"v-list-item__content","data-no-activator":""},[L&&E(S4,{key:"title"},{default:()=>{var U;return[((U=n.title)==null?void 0:U.call(n,{title:e.title}))??e.title]}}),F&&E(w4,{key:"subtitle"},{default:()=>{var U;return[((U=n.subtitle)==null?void 0:U.call(n,{subtitle:e.subtitle}))??e.subtitle]}}),(N=n.default)==null?void 0:N.call(n,k.value)]),Y&&E("div",{key:"append",class:"v-list-item__append"},[n.append?E(_r,{key:"append-defaults",disabled:!X,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var U;return[(U=n.append)==null?void 0:U.call(n,k.value)]}}):E(Ce,null,[e.appendIcon&&E(Dr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&E(zl,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}}),[[Ja("ripple"),g.value&&e.ripple]])}),{}}}),Yoe=ce({color:String,inset:Boolean,sticky:Boolean,title:String,...Be(),...St()},"VListSubheader"),T4=xe()({name:"VListSubheader",props:Yoe(),setup(e,t){let{slots:r}=t;const{textColorClasses:n,textColorStyles:a}=pa(_e(e,"color"));return Ee(()=>{const i=!!(r.default||e.title);return E(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},n.value,e.class],style:[{textColorStyles:a},e.style]},{default:()=>{var o;return[i&&E("div",{class:"v-list-subheader__text"},[((o=r.default)==null?void 0:o.call(r))??e.title])]}})}),{}}});const Xoe=ce({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Be(),...Yt()},"VDivider"),C4=xe()({name:"VDivider",props:Xoe(),setup(e,t){let{attrs:r}=t;const{themeClasses:n}=cr(e),{textColorClasses:a,textColorStyles:i}=pa(_e(e,"color")),o=R(()=>{const s={};return e.length&&(s[e.vertical?"maxHeight":"maxWidth"]=ze(e.length)),e.thickness&&(s[e.vertical?"borderRightWidth":"borderTopWidth"]=ze(e.thickness)),s});return Ee(()=>E("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},n.value,a.value,e.class],style:[o.value,i.value,e.style],"aria-orientation":!r.role||r.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}}),joe=ce({items:Array},"VListChildren"),A4=xe()({name:"VListChildren",props:joe(),setup(e,t){let{slots:r}=t;return m4(),()=>{var n,a;return((n=r.default)==null?void 0:n.call(r))??((a=e.items)==null?void 0:a.map(i=>{var h,v;let{children:o,props:s,type:l,raw:u}=i;if(l==="divider")return((h=r.divider)==null?void 0:h.call(r,{props:s}))??E(C4,s,null);if(l==="subheader")return((v=r.subheader)==null?void 0:v.call(r,{props:s}))??E(T4,s,null);const c={subtitle:r.subtitle?p=>{var m;return(m=r.subtitle)==null?void 0:m.call(r,{...p,item:u})}:void 0,prepend:r.prepend?p=>{var m;return(m=r.prepend)==null?void 0:m.call(r,{...p,item:u})}:void 0,append:r.append?p=>{var m;return(m=r.append)==null?void 0:m.call(r,{...p,item:u})}:void 0,title:r.title?p=>{var m;return(m=r.title)==null?void 0:m.call(r,{...p,item:u})}:void 0},[f,d]=zS.filterProps(s);return o?E(zS,Te({value:s==null?void 0:s.value},f),{activator:p=>{let{props:m}=p;return r.header?r.header({props:{...s,...m}}):E(Bs,Te(s,m),c)},default:()=>E(A4,{items:o},r)}):r.item?r.item({props:s}):E(Bs,s,c)}))}}}),E4=ce({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"list-items");function Ff(e,t){const r=Go(t,e.itemTitle,t),n=e.returnObject?t:Go(t,e.itemValue,r),a=Go(t,e.itemChildren),i=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?kd(t,["children"])[1]:t:void 0:Go(t,e.itemProps),o={title:r,value:n,...i};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(a)?D4(e,a):void 0,raw:t}}function D4(e,t){const r=[];for(const n of t)r.push(Ff(e,n));return r}function J2(e){const t=R(()=>D4(e,e.items));return qoe(t,r=>Ff(e,r))}function qoe(e,t){function r(a){return a.filter(i=>i!==null||e.value.some(o=>o.value===null)).map(i=>e.value.find(s=>Nc(i,s.value))??t(i))}function n(a){return a.map(i=>{let{value:o}=i;return o})}return{items:e,transformIn:r,transformOut:n}}function Zoe(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function Koe(e,t){const r=Go(t,e.itemType,"item"),n=Zoe(t)?t:Go(t,e.itemTitle),a=Go(t,e.itemValue,void 0),i=Go(t,e.itemChildren),o=e.itemProps===!0?kd(t,["children"])[1]:Go(t,e.itemProps),s={title:n,value:a,...o};return{type:r,title:s.title,value:s.value,props:s,children:r==="item"&&i?M4(e,i):void 0,raw:t}}function M4(e,t){const r=[];for(const n of t)r.push(Koe(e,n));return r}function Qoe(e){return{items:R(()=>M4(e,e.items))}}const Joe=ce({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...zoe({selectStrategy:"single-leaf",openStrategy:"list"}),...ci(),...Be(),...Vn(),...Ji(),...Bn(),itemType:{type:String,default:"type"},...E4(),...Hr(),...St(),...Yt(),...ro({variant:"text"})},"VList"),L_=xe()({name:"VList",props:Joe(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:r}=t;const{items:n}=Qoe(e),{themeClasses:a}=cr(e),{backgroundColorClasses:i,backgroundColorStyles:o}=bn(_e(e,"bgColor")),{borderClasses:s}=to(e),{densityClasses:l}=ya(e),{dimensionStyles:u}=eo(e),{elevationClasses:c}=ea(e),{roundedClasses:f}=Qr(e),{open:d,select:h}=Uoe(e),v=R(()=>e.lines?`v-list--${e.lines}-line`:void 0),p=_e(e,"activeColor"),m=_e(e,"baseColor"),g=_e(e,"color");m4(),En({VListGroup:{activeColor:p,baseColor:m,color:g},VListItem:{activeClass:_e(e,"activeClass"),activeColor:p,baseColor:m,color:g,density:_e(e,"density"),disabled:_e(e,"disabled"),lines:_e(e,"lines"),nav:_e(e,"nav"),variant:_e(e,"variant")}});const y=Oe(!1),_=te();function x(A){y.value=!0}function w(A){y.value=!1}function b(A){var M;!y.value&&!(A.relatedTarget&&((M=_.value)!=null&&M.contains(A.relatedTarget)))&&S()}function T(A){if(_.value){if(A.key==="ArrowDown")S("next");else if(A.key==="ArrowUp")S("prev");else if(A.key==="Home")S("first");else if(A.key==="End")S("last");else return;A.preventDefault()}}function S(A){if(_.value)return qy(_.value,A)}return Ee(()=>E(e.tag,{ref:_,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},a.value,i.value,s.value,l.value,c.value,v.value,f.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||y.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:x,onFocusout:w,onFocus:b,onKeydown:T},{default:()=>[E(A4,{items:n.value},r)]})),{open:d,select:h,focus:S}}}),ese=Ao("v-list-img"),tse=ce({start:Boolean,end:Boolean,...Be(),...St()},"VListItemAction"),rse=xe()({name:"VListItemAction",props:tse(),setup(e,t){let{slots:r}=t;return Ee(()=>E(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},r)),{}}}),nse=ce({start:Boolean,end:Boolean,...Be(),...St()},"VListItemMedia"),ase=xe()({name:"VListItemMedia",props:nse(),setup(e,t){let{slots:r}=t;return Ee(()=>E(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},r)),{}}});function Zx(e,t){return{x:e.x+t.x,y:e.y+t.y}}function ise(e,t){return{x:e.x-t.x,y:e.y-t.y}}function EI(e,t){if(e.side==="top"||e.side==="bottom"){const{side:r,align:n}=e,a=n==="left"?0:n==="center"?t.width/2:n==="right"?t.width:n,i=r==="top"?0:r==="bottom"?t.height:r;return Zx({x:a,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:r,align:n}=e,a=r==="left"?0:r==="right"?t.width:r,i=n==="top"?0:n==="center"?t.height/2:n==="bottom"?t.height:n;return Zx({x:a,y:i},t)}return Zx({x:t.width/2,y:t.height/2},t)}const P4={static:lse,connected:cse},ose=ce({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in P4},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function sse(e,t){const r=te({}),n=te();xn&&(Ns(()=>!!(t.isActive.value&&e.locationStrategy),i=>{var o,s;Le(()=>e.locationStrategy,i),da(()=>{n.value=void 0}),typeof e.locationStrategy=="function"?n.value=(o=e.locationStrategy(t,e,r))==null?void 0:o.updateLocation:n.value=(s=P4[e.locationStrategy](t,e,r))==null?void 0:s.updateLocation}),window.addEventListener("resize",a,{passive:!0}),da(()=>{window.removeEventListener("resize",a),n.value=void 0}));function a(i){var o;(o=n.value)==null||o.call(n,i)}return{contentStyles:r,updateLocation:n}}function lse(){}function use(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const r=L2(e);return t?r.x+=parseFloat(e.style.right||0):r.x-=parseFloat(e.style.left||0),r.y-=parseFloat(e.style.top||0),r}function cse(e,t,r){iie(e.activatorEl.value)&&Object.assign(r.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:a,preferredOrigin:i}=E2(()=>{const v=ES(t.location,e.isRtl.value),p=t.origin==="overlap"?v:t.origin==="auto"?Yx(v):ES(t.origin,e.isRtl.value);return v.side===p.side&&v.align===Xx(p).align?{preferredAnchor:aI(v),preferredOrigin:aI(p)}:{preferredAnchor:v,preferredOrigin:p}}),[o,s,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>R(()=>{const p=parseFloat(t[v]);return isNaN(p)?1/0:p})),c=R(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const v=t.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const d=new ResizeObserver(()=>{f&&h()});Le([e.activatorEl,e.contentEl],(v,p)=>{let[m,g]=v,[y,_]=p;y&&d.unobserve(y),m&&d.observe(m),_&&d.unobserve(_),g&&d.observe(g)},{immediate:!0}),da(()=>{d.disconnect()});function h(){if(f=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>f=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const v=e.activatorEl.value.getBoundingClientRect(),p=use(e.contentEl.value,e.isRtl.value),m=Ky(e.contentEl.value),g=12;m.length||(m.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const y=m.reduce((C,D)=>{const P=D.getBoundingClientRect(),I=new Kf({x:D===document.documentElement?0:P.x,y:D===document.documentElement?0:P.y,width:D.clientWidth,height:D.clientHeight});return C?new Kf({x:Math.max(C.left,I.left),y:Math.max(C.top,I.top),width:Math.min(C.right,I.right)-Math.max(C.left,I.left),height:Math.min(C.bottom,I.bottom)-Math.max(C.top,I.top)}):I},void 0);y.x+=g,y.y+=g,y.width-=g*2,y.height-=g*2;let _={anchor:a.value,origin:i.value};function x(C){const D=new Kf(p),P=EI(C.anchor,v),I=EI(C.origin,D);let{x:k,y:V}=ise(P,I);switch(C.anchor.side){case"top":V-=c.value[0];break;case"bottom":V+=c.value[0];break;case"left":k-=c.value[0];break;case"right":k+=c.value[0];break}switch(C.anchor.align){case"top":V-=c.value[1];break;case"bottom":V+=c.value[1];break;case"left":k-=c.value[1];break;case"right":k+=c.value[1];break}return D.x+=k,D.y+=V,D.width=Math.min(D.width,l.value),D.height=Math.min(D.height,u.value),{overflows:oI(D,y),x:k,y:V}}let w=0,b=0;const T={x:0,y:0},S={x:!1,y:!1};let A=-1;for(;!(A++>10);){const{x:C,y:D,overflows:P}=x(_);w+=C,b+=D,p.x+=C,p.y+=D;{const I=iI(_.anchor),k=P.x.before||P.x.after,V=P.y.before||P.y.after;let H=!1;if(["x","y"].forEach(O=>{if(O==="x"&&k&&!S.x||O==="y"&&V&&!S.y){const L={anchor:{..._.anchor},origin:{..._.origin}},F=O==="x"?I==="y"?Xx:Yx:I==="y"?Yx:Xx;L.anchor=F(L.anchor),L.origin=F(L.origin);const{overflows:X}=x(L);(X[O].before<=P[O].before&&X[O].after<=P[O].after||X[O].before+X[O].after<(P[O].before+P[O].after)/2)&&(_=L,H=S[O]=!0)}}),H)continue}P.x.before&&(w+=P.x.before,p.x+=P.x.before),P.x.after&&(w-=P.x.after,p.x-=P.x.after),P.y.before&&(b+=P.y.before,p.y+=P.y.before),P.y.after&&(b-=P.y.after,p.y-=P.y.after);{const I=oI(p,y);T.x=y.width-I.x.before-I.x.after,T.y=y.height-I.y.before-I.y.after,w+=I.x.before,p.x+=I.x.before,b+=I.y.before,p.y+=I.y.before}break}const M=iI(_.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${_.anchor.side} ${_.anchor.align}`,transformOrigin:`${_.origin.side} ${_.origin.align}`,top:ze(Kx(b)),left:e.isRtl.value?void 0:ze(Kx(w)),right:e.isRtl.value?ze(Kx(-w)):void 0,minWidth:ze(M==="y"?Math.min(o.value,v.width):o.value),maxWidth:ze(DI(ca(T.x,o.value===1/0?0:o.value,l.value))),maxHeight:ze(DI(ca(T.y,s.value===1/0?0:s.value,u.value)))}),{available:T,contentBox:p}}return Le(()=>[a.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>h()),Ot(()=>{const v=h();if(!v)return;const{available:p,contentBox:m}=v;m.height>p.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function Kx(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function DI(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let US=!0;const e0=[];function fse(e){!US||e0.length?(e0.push(e),HS()):(US=!1,e(),HS())}let MI=-1;function HS(){cancelAnimationFrame(MI),MI=requestAnimationFrame(()=>{const e=e0.shift();e&&e(),e0.length?HS():US=!0})}const Zg={none:null,close:vse,block:pse,reposition:mse},dse=ce({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Zg}},"VOverlay-scroll-strategies");function hse(e,t){if(!xn)return;let r;Xr(async()=>{r==null||r.stop(),t.isActive.value&&e.scrollStrategy&&(r=Cp(),await Ot(),r.active&&r.run(()=>{var n;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,r):(n=Zg[e.scrollStrategy])==null||n.call(Zg,t,e,r)}))}),da(()=>{r==null||r.stop()})}function vse(e){function t(r){e.isActive.value=!1}L4(e.activatorEl.value??e.contentEl.value,t)}function pse(e,t){var o;const r=(o=e.root.value)==null?void 0:o.offsetParent,n=[...new Set([...Ky(e.activatorEl.value,t.contained?r:void 0),...Ky(e.contentEl.value,t.contained?r:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),a=window.innerWidth-document.documentElement.offsetWidth,i=(s=>N2(s)&&s)(r||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),n.forEach((s,l)=>{s.style.setProperty("--v-body-scroll-x",ze(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",ze(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",ze(a)),s.classList.add("v-overlay-scroll-blocked")}),da(()=>{n.forEach((s,l)=>{const u=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(s.style.getPropertyValue("--v-body-scroll-y"));s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-u,s.scrollTop=-c}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function mse(e,t,r){let n=!1,a=-1,i=-1;function o(s){fse(()=>{var c,f;const l=performance.now();(f=(c=e.updateLocation).value)==null||f.call(c,s),n=(performance.now()-l)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{r.run(()=>{L4(e.activatorEl.value??e.contentEl.value,s=>{n?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{o(s)})})):o(s)})})}),da(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(a)})}function L4(e,t){const r=[document,...Ky(e)];r.forEach(n=>{n.addEventListener("scroll",t,{passive:!0})}),da(()=>{r.forEach(n=>{n.removeEventListener("scroll",t)})})}const GS=Symbol.for("vuetify:v-menu"),I4=ce({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function R4(e,t){const r={},n=a=>()=>{if(!xn)return Promise.resolve(!0);const i=a==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(o=>{const s=parseInt(e[a]??0,10);r[a]=window.setTimeout(()=>{t==null||t(i),o(i)},s)})};return{runCloseDelay:n("closeDelay"),runOpenDelay:n("openDelay")}}const gse=ce({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...I4()},"VOverlay-activator");function yse(e,t){let{isActive:r,isTop:n}=t;const a=te();let i=!1,o=!1,s=!0;const l=R(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),u=R(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!l.value),{runOpenDelay:c,runCloseDelay:f}=R4(e,_=>{_===(e.openOnHover&&i||l.value&&o)&&!(e.openOnHover&&r.value&&!n.value)&&(r.value!==_&&(s=!0),r.value=_)}),d={onClick:_=>{_.stopPropagation(),a.value=_.currentTarget||_.target,r.value=!r.value},onMouseenter:_=>{var x;(x=_.sourceCapabilities)!=null&&x.firesTouchEvents||(i=!0,a.value=_.currentTarget||_.target,c())},onMouseleave:_=>{i=!1,f()},onFocus:_=>{PS&&!_.target.matches(":focus-visible")||(o=!0,_.stopPropagation(),a.value=_.currentTarget||_.target,c())},onBlur:_=>{o=!1,_.stopPropagation(),f()}},h=R(()=>{const _={};return u.value&&(_.onClick=d.onClick),e.openOnHover&&(_.onMouseenter=d.onMouseenter,_.onMouseleave=d.onMouseleave),l.value&&(_.onFocus=d.onFocus,_.onBlur=d.onBlur),_}),v=R(()=>{const _={};if(e.openOnHover&&(_.onMouseenter=()=>{i=!0,c()},_.onMouseleave=()=>{i=!1,f()}),l.value&&(_.onFocusin=()=>{o=!0,c()},_.onFocusout=()=>{o=!1,f()}),e.closeOnContentClick){const x=Dt(GS,null);_.onClick=()=>{r.value=!1,x==null||x.closeParents()}}return _}),p=R(()=>{const _={};return e.openOnHover&&(_.onMouseenter=()=>{s&&(i=!0,s=!1,c())},_.onMouseleave=()=>{i=!1,f()}),_});Le(n,_=>{_&&(e.openOnHover&&!i&&(!l.value||!o)||l.value&&!o&&(!e.openOnHover||!i))&&(r.value=!1)});const m=te();Xr(()=>{m.value&&Ot(()=>{a.value=CS(m.value)})});const g=Yn("useActivator");let y;return Le(()=>!!e.activator,_=>{_&&xn?(y=Cp(),y.run(()=>{_se(e,g,{activatorEl:a,activatorEvents:h})})):y&&y.stop()},{flush:"post",immediate:!0}),da(()=>{y==null||y.stop()}),{activatorEl:a,activatorRef:m,activatorEvents:h,contentEvents:v,scrimEvents:p}}function _se(e,t,r){let{activatorEl:n,activatorEvents:a}=r;Le(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=s(u);c&&o(c)}l&&Ot(()=>i())},{immediate:!0}),Le(()=>e.activatorProps,()=>{i()}),da(()=>{o()});function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&Nae(l,Te(a.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&Bae(l,Te(a.value,u))}function s(){var c,f;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,u;if(l)if(l==="parent"){let d=(f=(c=t==null?void 0:t.proxy)==null?void 0:c.$el)==null?void 0:f.parentNode;for(;d.hasAttribute("data-no-activator");)d=d.parentNode;u=d}else typeof l=="string"?u=document.querySelector(l):"$el"in l?u=l.$el:u=l;return n.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:null,n.value}}const I_=["sm","md","lg","xl","xxl"],$S=Symbol.for("vuetify:display"),PI={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},xse=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PI;return Oi(PI,e)};function LI(e){return xn&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function II(e){return xn&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function RI(e){const t=xn&&!e?window.navigator.userAgent:"ssr";function r(v){return!!t.match(v)}const n=r(/android/i),a=r(/iphone|ipad|ipod/i),i=r(/cordova/i),o=r(/electron/i),s=r(/chrome/i),l=r(/edge/i),u=r(/firefox/i),c=r(/opera/i),f=r(/win/i),d=r(/mac/i),h=r(/linux/i);return{android:n,ios:a,cordova:i,electron:o,chrome:s,edge:l,firefox:u,opera:c,win:f,mac:d,linux:h,touch:nie,ssr:t==="ssr"}}function bse(e,t){const{thresholds:r,mobileBreakpoint:n}=xse(e),a=Oe(II(t)),i=Oe(RI(t)),o=Tr({}),s=Oe(LI(t));function l(){a.value=II(),s.value=LI()}function u(){l(),i.value=RI()}return Xr(()=>{const c=s.value<r.sm,f=s.value<r.md&&!c,d=s.value<r.lg&&!(f||c),h=s.value<r.xl&&!(d||f||c),v=s.value<r.xxl&&!(h||d||f||c),p=s.value>=r.xxl,m=c?"xs":f?"sm":d?"md":h?"lg":v?"xl":"xxl",g=typeof n=="number"?n:r[n],y=s.value<g;o.xs=c,o.sm=f,o.md=d,o.lg=h,o.xl=v,o.xxl=p,o.smAndUp=!c,o.mdAndUp=!(c||f),o.lgAndUp=!(c||f||d),o.xlAndUp=!(c||f||d||h),o.smAndDown=!(d||h||v||p),o.mdAndDown=!(h||v||p),o.lgAndDown=!(v||p),o.xlAndDown=!p,o.name=m,o.height=a.value,o.width=s.value,o.mobile=y,o.mobileBreakpoint=n,o.platform=i.value,o.thresholds=r}),xn&&window.addEventListener("resize",l,{passive:!0}),{...Ep(o),update:u,ssr:!!t}}function Hc(){const e=Dt($S);if(!e)throw new Error("Could not find Vuetify display injection");return e}function O4(){if(!xn)return Oe(!1);const{ssr:e}=Hc();if(e){const t=Oe(!1);return Qt(()=>{t.value=!0}),t}else return Oe(!0)}const R_=ce({eager:Boolean},"lazy");function eA(e,t){const r=Oe(!1),n=R(()=>r.value||e.eager||t.value);Le(t,()=>r.value=!0);function a(){e.eager||(r.value=!1)}return{isBooted:r,hasContent:n,onAfterLeave:a}}function Wd(){const t=Yn("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const OI=Symbol.for("vuetify:stack"),Dh=Tr([]);function wse(e,t,r){const n=Yn("useStack"),a=!r,i=Dt(OI,void 0),o=Tr({activeChildren:new Set});sn(OI,o);const s=Oe(+t.value);Ns(e,()=>{var f;const c=(f=Dh.at(-1))==null?void 0:f[1];s.value=c?c+10:+t.value,a&&Dh.push([n.uid,s.value]),i==null||i.activeChildren.add(n.uid),da(()=>{if(a){const d=Ct(Dh).findIndex(h=>h[0]===n.uid);Dh.splice(d,1)}i==null||i.activeChildren.delete(n.uid)})});const l=Oe(!0);a&&Xr(()=>{var f;const c=((f=Dh.at(-1))==null?void 0:f[0])===n.uid;setTimeout(()=>l.value=c)});const u=R(()=>!o.activeChildren.size);return{globalTop:Ap(l),localTop:u,stackStyles:R(()=>({zIndex:s.value}))}}function Sse(e){return{teleportTarget:R(()=>{const r=e.value;if(r===!0||!xn)return;const n=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(n==null)return;let a=n.querySelector(":scope > .v-overlay-container");return a||(a=document.createElement("div"),a.className="v-overlay-container",n.appendChild(a)),a})}}function Tse(){return!0}function k4(e,t,r){if(!e||N4(e,r)===!1)return!1;const n=I5(t);if(typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&n.host===e.target)return!1;const a=(typeof r.value=="object"&&r.value.include||(()=>[]))();return a.push(t),!a.some(i=>i==null?void 0:i.contains(e.target))}function N4(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Tse)(e)}function Cse(e,t,r){const n=typeof r.value=="function"?r.value:r.value.handler;t._clickOutside.lastMousedownWasOutside&&k4(e,t,r)&&setTimeout(()=>{N4(e,r)&&n&&n(e)},0)}function kI(e,t){const r=I5(e);t(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&t(r)}const B4={mounted(e,t){const r=a=>Cse(a,e,t),n=a=>{e._clickOutside.lastMousedownWasOutside=k4(a,e,t)};kI(e,a=>{a.addEventListener("click",r,!0),a.addEventListener("mousedown",n,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:r,onMousedown:n}},unmounted(e,t){e._clickOutside&&(kI(e,r=>{var i;if(!r||!((i=e._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:n,onMousedown:a}=e._clickOutside[t.instance.$.uid];r.removeEventListener("click",n,!0),r.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Ase(e){const{modelValue:t,color:r,...n}=e;return E(ha,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&E("div",Te({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},n),null)]})}const Yp=ce({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...gse(),...Be(),...Ji(),...R_(),...ose(),...dse(),...Yt(),...js()},"VOverlay"),Vs=xe()({name:"VOverlay",directives:{ClickOutside:B4},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Yp()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:r,attrs:n,emit:a}=t;const i=mt(e,"modelValue"),o=R({get:()=>i.value,set:L=>{L&&e.disabled||(i.value=L)}}),{teleportTarget:s}=Sse(R(()=>e.attach||e.contained)),{themeClasses:l}=cr(e),{rtlClasses:u,isRtl:c}=Xn(),{hasContent:f,onAfterLeave:d}=eA(e,o),h=bn(R(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:p,stackStyles:m}=wse(o,_e(e,"zIndex"),e._disableGlobalStack),{activatorEl:g,activatorRef:y,activatorEvents:_,contentEvents:x,scrimEvents:w}=yse(e,{isActive:o,isTop:p}),{dimensionStyles:b}=eo(e),T=O4(),{scopeId:S}=Wd();Le(()=>e.disabled,L=>{L&&(o.value=!1)});const A=te(),M=te(),{contentStyles:C,updateLocation:D}=sse(e,{isRtl:c,contentEl:M,activatorEl:g,isActive:o});hse(e,{root:A,contentEl:M,activatorEl:g,isActive:o,updateLocation:D});function P(L){a("click:outside",L),e.persistent?O():o.value=!1}function I(){return o.value&&v.value}xn&&Le(o,L=>{L?window.addEventListener("keydown",k):window.removeEventListener("keydown",k)},{immediate:!0});function k(L){var F,X;L.key==="Escape"&&v.value&&(e.persistent?O():(o.value=!1,(F=M.value)!=null&&F.contains(document.activeElement)&&((X=g.value)==null||X.focus())))}const V=K5();Ns(()=>e.closeOnBack,()=>{coe(V,L=>{v.value&&o.value?(L(!1),e.persistent?O():o.value=!1):L()})});const H=te();Le(()=>o.value&&(e.absolute||e.contained)&&s.value==null,L=>{if(L){const F=k2(A.value);F&&F!==document.scrollingElement&&(H.value=F.scrollTop)}});function O(){e.noClickAnimation||M.value&&qu(M.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:op})}return Ee(()=>{var L;return E(Ce,null,[(L=r.activator)==null?void 0:L.call(r,{isActive:o.value,props:Te({ref:y},_.value,e.activatorProps)}),T.value&&f.value&&E(Ak,{disabled:!s.value,to:s.value},{default:()=>[E("div",Te({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},l.value,u.value,e.class],style:[m.value,{top:ze(H.value)},e.style],ref:A},S,n),[E(Ase,Te({color:h,modelValue:o.value&&!!e.scrim},w.value),null),E(go,{appear:!0,persisted:!0,transition:e.transition,target:g.value,onAfterLeave:()=>{d(),a("afterLeave")}},{default:()=>{var F;return[Cr(E("div",Te({ref:M,class:["v-overlay__content",e.contentClass],style:[b.value,C.value]},x.value,e.contentProps),[(F=r.default)==null?void 0:F.call(r,{isActive:o})]),[[qa,o.value],[Ja("click-outside"),{handler:P,closeConditional:I,include:()=>[g.value]}]])]}})])]})])}),{activatorEl:g,animateClick:O,contentEl:M,globalTop:v,localTop:p,updateLocation:D}}}),Qx=Symbol("Forwarded refs");function Jx(e,t){let r=e;for(;r;){const n=Reflect.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Eo(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e[Qx]=r,new Proxy(e,{get(a,i){if(Reflect.has(a,i))return Reflect.get(a,i);if(!(typeof i=="symbol"||i.startsWith("__"))){for(const o of r)if(o.value&&Reflect.has(o.value,i)){const s=Reflect.get(o.value,i);return typeof s=="function"?s.bind(o.value):s}}},has(a,i){if(Reflect.has(a,i))return!0;if(typeof i=="symbol"||i.startsWith("__"))return!1;for(const o of r)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(a,i,o){if(Reflect.has(a,i))return Reflect.set(a,i,o);if(typeof i=="symbol"||i.startsWith("__"))return!1;for(const s of r)if(s.value&&Reflect.has(s.value,i))return Reflect.set(s.value,i,o);return!1},getOwnPropertyDescriptor(a,i){var s;const o=Reflect.getOwnPropertyDescriptor(a,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("__"))){for(const l of r){if(!l.value)continue;const u=Jx(l.value,i)??("_"in l.value?Jx((s=l.value._)==null?void 0:s.setupState,i):void 0);if(u)return u}for(const l of r){const u=l.value&&l.value[Qx];if(!u)continue;const c=u.slice();for(;c.length;){const f=c.shift(),d=Jx(f.value,i);if(d)return d;const h=f.value&&f.value[Qx];h&&c.push(...h)}}}}})}const Ese=ce({id:String,...os(Yp({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:T_}}),["absolute"])},"VMenu"),O_=xe()({name:"VMenu",props:Ese(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),{scopeId:a}=Wd(),i=ga(),o=R(()=>e.id||`v-menu-${i}`),s=te(),l=Dt(GS,null),u=Oe(0);sn(GS,{register(){++u.value},unregister(){--u.value},closeParents(){setTimeout(()=>{u.value||(n.value=!1,l==null||l.closeParents())},40)}}),Le(n,v=>{v?l==null||l.register():l==null||l.unregister()});function c(){l==null||l.closeParents()}function f(v){var p,m;e.disabled||v.key==="Tab"&&(n.value=!1,(m=(p=s.value)==null?void 0:p.activatorEl)==null||m.focus())}function d(v){var m;if(e.disabled)return;const p=(m=s.value)==null?void 0:m.contentEl;p&&n.value?v.key==="ArrowDown"?(v.preventDefault(),qy(p,"next")):v.key==="ArrowUp"&&(v.preventDefault(),qy(p,"prev")):["ArrowDown","ArrowUp"].includes(v.key)&&(n.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>d(v))))}const h=R(()=>Te({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-owns":o.value,onKeydown:d},e.activatorProps));return Ee(()=>{const[v]=Vs.filterProps(e);return E(Vs,Te({ref:s,class:["v-menu",e.class],style:e.style},v,{modelValue:n.value,"onUpdate:modelValue":p=>n.value=p,absolute:!0,activatorProps:h.value,"onClick:outside":c,onKeydown:f},a),{activator:r.activator,default:function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return E(_r,{root:"VMenu"},{default:()=>{var y;return[(y=r.default)==null?void 0:y.call(r,...m)]}})}})}),Eo({id:o,openChildren:u},s)}});const Dse=ce({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Be(),...js({transition:{component:F2}})},"VCounter"),k_=xe()({name:"VCounter",functional:!0,props:Dse(),setup(e,t){let{slots:r}=t;const n=R(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Ee(()=>E(go,{transition:e.transition},{default:()=>[Cr(E("div",{class:["v-counter",e.class],style:e.style},[r.default?r.default({counter:n.value,max:e.max,value:e.value}):n.value]),[[qa,e.active]])]})),{}}});const Mse=ce({floating:Boolean,...Be()},"VFieldLabel"),Jh=xe()({name:"VFieldLabel",props:Mse(),setup(e,t){let{slots:r}=t;return Ee(()=>E($d,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},r)),{}}}),Pse=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],N_=ce({appendInnerIcon:vt,bgColor:String,clearable:Boolean,clearIcon:{type:vt,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:vt,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Pse.includes(e)},"onClick:clear":Ko(),"onClick:appendInner":Ko(),"onClick:prependInner":Ko(),...Be(),...j2(),...Hr(),...Yt()},"VField"),Xp=xe()({name:"VField",inheritAttrs:!1,props:{id:String,...M_(),...N_()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const{themeClasses:i}=cr(e),{loaderClasses:o}=E_(e),{focusClasses:s,isFocused:l,focus:u,blur:c}=Yl(e),{InputIcon:f}=c4(e),{roundedClasses:d}=Qr(e),{rtlClasses:h}=Xn(),v=R(()=>e.dirty||e.active),p=R(()=>!e.singleLine&&!!(e.label||a.label)),m=ga(),g=R(()=>e.id||`input-${m}`),y=R(()=>`${g.value}-messages`),_=te(),x=te(),w=te(),b=R(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:T,backgroundColorStyles:S}=bn(_e(e,"bgColor")),{textColorClasses:A,textColorStyles:M}=pa(R(()=>e.error||e.disabled?void 0:v.value&&l.value?e.color:e.baseColor));Le(v,P=>{if(p.value){const I=_.value.$el,k=x.value.$el;requestAnimationFrame(()=>{const V=L2(I),H=k.getBoundingClientRect(),O=H.x-V.x,L=H.y-V.y-(V.height/2-H.height/2),F=H.width/.75,X=Math.abs(F-V.width)>1?{maxWidth:ze(F)}:void 0,Y=getComputedStyle(I),G=getComputedStyle(k),z=parseFloat(Y.transitionDuration)*1e3||150,N=parseFloat(G.getPropertyValue("--v-field-label-scale")),U=G.getPropertyValue("color");I.style.visibility="visible",k.style.visibility="hidden",qu(I,{transform:`translate(${O}px, ${L}px) scale(${N})`,color:U,...X},{duration:z,easing:op,direction:P?"normal":"reverse"}).finished.then(()=>{I.style.removeProperty("visibility"),k.style.removeProperty("visibility")})})}},{flush:"post"});const C=R(()=>({isActive:v,isFocused:l,controlRef:w,blur:c,focus:u}));function D(P){P.target!==document.activeElement&&P.preventDefault()}return Ee(()=>{var O,L,F;const P=e.variant==="outlined",I=a["prepend-inner"]||e.prependInnerIcon,k=!!(e.clearable||a.clear),V=!!(a["append-inner"]||e.appendInnerIcon||k),H=a.label?a.label({...C.value,label:e.label,props:{for:g.value}}):e.label;return E("div",Te({class:["v-field",{"v-field--active":v.value,"v-field--appended":V,"v-field--center-affix":e.centerAffix??!b.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":I,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!H,[`v-field--variant-${e.variant}`]:!0},i.value,T.value,s.value,o.value,d.value,h.value,e.class],style:[S.value,M.value,e.style],onClick:D},r),[E("div",{class:"v-field__overlay"},null),E(q2,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),I&&E("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&E(f,{key:"prepend-icon",name:"prependInner"},null),(O=a["prepend-inner"])==null?void 0:O.call(a,C.value)]),E("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&p.value&&E(Jh,{key:"floating-label",ref:x,class:[A.value],floating:!0,for:g.value},{default:()=>[H]}),E(Jh,{ref:_,for:g.value},{default:()=>[H]}),(L=a.default)==null?void 0:L.call(a,{...C.value,props:{id:g.value,class:"v-field__input","aria-describedby":y.value},focus:u,blur:c})]),k&&E(z2,{key:"clear"},{default:()=>[Cr(E("div",{class:"v-field__clearable",onMousedown:X=>{X.preventDefault(),X.stopPropagation()}},[a.clear?a.clear():E(f,{name:"clear"},null)]),[[qa,e.dirty]])]}),V&&E("div",{key:"append",class:"v-field__append-inner"},[(F=a["append-inner"])==null?void 0:F.call(a,C.value),e.appendInnerIcon&&E(f,{key:"append-icon",name:"appendInner"},null)]),E("div",{class:["v-field__outline",A.value]},[P&&E(Ce,null,[E("div",{class:"v-field__outline__start"},null),p.value&&E("div",{class:"v-field__outline__notch"},[E(Jh,{ref:x,floating:!0,for:g.value},{default:()=>[H]})]),E("div",{class:"v-field__outline__end"},null)]),b.value&&p.value&&E(Jh,{ref:x,floating:!0,for:g.value},{default:()=>[H]})])])}),{controlRef:w}}});function tA(e){const t=Object.keys(Xp.props).filter(r=>!D2(r)&&r!=="class"&&r!=="style");return kd(e,t)}const Lse=["color","file","time","date","datetime-local","week","month"],B_=ce({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...Zs(),...N_()},"VTextField"),Tc=xe()({name:"VTextField",directives:{Intersect:Hp},inheritAttrs:!1,props:B_(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const i=mt(e,"modelValue"),{isFocused:o,focus:s,blur:l}=Yl(e),u=R(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value??"").toString().length),c=R(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=R(()=>["plain","underlined"].includes(e.variant));function d(b,T){var S,A;!e.autofocus||!b||(A=(S=T[0].target)==null?void 0:S.focus)==null||A.call(S)}const h=te(),v=te(),p=te(),m=R(()=>Lse.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function g(){var b;p.value!==document.activeElement&&((b=p.value)==null||b.focus()),o.value||s()}function y(b){n("mousedown:control",b),b.target!==p.value&&(g(),b.preventDefault())}function _(b){g(),n("click:control",b)}function x(b){b.stopPropagation(),g(),Ot(()=>{i.value=null,M2(e["onClick:clear"],b)})}function w(b){var S;const T=b.target;if(i.value=T.value,(S=e.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(e.type)){const A=[T.selectionStart,T.selectionEnd];Ot(()=>{T.selectionStart=A[0],T.selectionEnd=A[1]})}}return Ee(()=>{const b=!!(a.counter||e.counter||e.counterValue),T=!!(b||a.details),[S,A]=Bc(r),[{modelValue:M,...C}]=Qn.filterProps(e),[D]=tA(e);return E(Qn,Te({ref:h,modelValue:i.value,"onUpdate:modelValue":P=>i.value=P,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},S,C,{centerAffix:!f.value,focused:o.value}),{...a,default:P=>{let{id:I,isDisabled:k,isDirty:V,isReadonly:H,isValid:O}=P;return E(Xp,Te({ref:v,onMousedown:y,onClick:_,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},D,{id:I.value,active:m.value||V.value,dirty:V.value||e.dirty,disabled:k.value,focused:o.value,error:O.value===!1}),{...a,default:L=>{let{props:{class:F,...X}}=L;const Y=Cr(E("input",Te({ref:p,value:i.value,onInput:w,autofocus:e.autofocus,readonly:H.value,disabled:k.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:l},X,A),null),[[Ja("intersect"),{handler:d},null,{once:!0}]]);return E(Ce,null,[e.prefix&&E("span",{class:"v-text-field__prefix"},[E("span",{class:"v-text-field__prefix__text"},[e.prefix])]),E("div",{class:F,"data-no-activator":""},[a.default?E(Ce,null,[a.default(),Y]):Os(Y)]),e.suffix&&E("span",{class:"v-text-field__suffix"},[E("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:T?P=>{var I;return E(Ce,null,[(I=a.details)==null?void 0:I.call(a,P),b&&E(Ce,null,[E("span",null,null),E(k_,{active:e.persistentCounter||o.value,value:u.value,max:c.value},a.counter)])])}:void 0})}),Eo({},h,v,p)}});const Ise=ce({renderless:Boolean,...Be()},"VVirtualScrollItem"),Rse=xe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ise(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const{resizeRef:i,contentRect:o}=rs(void 0,"border");Le(()=>{var s;return(s=o.value)==null?void 0:s.height},s=>{s!=null&&n("update:height",s)}),Ee(()=>{var s,l;return e.renderless?E(Ce,null,[(s=a.default)==null?void 0:s.call(a,{itemRef:i})]):E("div",Te({ref:i,class:["v-virtual-scroll__item",e.class],style:e.style},r),[(l=a.default)==null?void 0:l.call(a)])})}}),NI=-1,BI=1,Ose=ce({itemHeight:{type:[Number,String],default:48}},"virtual");function kse(e,t,r){const n=Oe(0),a=Oe(e.itemHeight),i=R({get:()=>parseInt(a.value??0,10),set(T){a.value=T}}),o=te(),{resizeRef:s,contentRect:l}=rs();Xr(()=>{s.value=o.value});const u=Hc(),c=new Map;let f=Array.from({length:t.value.length});const d=R(()=>{const T=(!l.value||o.value===document.documentElement?u.height.value:l.value.height)-((r==null?void 0:r.value)??0);return Math.ceil(T/i.value*1.7+1)});function h(T,S){i.value=Math.max(i.value,S),f[T]=S,c.set(t.value[T],S)}function v(T){return f.slice(0,T).reduce((S,A)=>S+(A||i.value),0)}function p(T){const S=t.value.length;let A=0,M=0;for(;M<T&&A<S;)M+=f[A++]||i.value;return A-1}let m=0;function g(){if(!o.value||!l.value)return;const T=l.value.height-56,S=o.value.scrollTop,A=S<m?NI:BI,M=p(S+T/2),C=Math.round(d.value/3),D=M-C,P=n.value+C*2-1;A===NI&&M<=P?n.value=ca(D,0,t.value.length):A===BI&&M>=P&&(n.value=ca(D,0,t.value.length-d.value)),m=S}function y(T){if(!o.value)return;const S=v(T);o.value.scrollTop=S}const _=R(()=>Math.min(t.value.length,n.value+d.value)),x=R(()=>t.value.slice(n.value,_.value).map((T,S)=>({raw:T,index:S+n.value}))),w=R(()=>v(n.value)),b=R(()=>v(t.value.length)-v(_.value));return Le(()=>t.value.length,()=>{f=Es(t.value.length).map(()=>i.value),c.forEach((T,S)=>{const A=t.value.indexOf(S);A===-1?c.delete(S):f[A]=T})}),{containerRef:o,computedItems:x,itemHeight:i,paddingTop:w,paddingBottom:b,scrollToIndex:y,handleScroll:g,handleItemResize:h}}const Nse=ce({items:{type:Array,default:()=>[]},renderless:Boolean,...Ose(),...Be(),...Ji()},"VVirtualScroll"),V_=xe()({name:"VVirtualScroll",props:Nse(),setup(e,t){let{slots:r}=t;const n=Yn("VVirtualScroll"),{dimensionStyles:a}=eo(e),{containerRef:i,handleScroll:o,handleItemResize:s,scrollToIndex:l,paddingTop:u,paddingBottom:c,computedItems:f}=kse(e,_e(e,"items"));return Ns(()=>e.renderless,()=>{Qt(()=>{var d;i.value=k2(n.vnode.el,!0),(d=i.value)==null||d.addEventListener("scroll",o)}),da(()=>{var d;(d=i.value)==null||d.removeEventListener("scroll",o)})}),Ee(()=>{const d=f.value.map(h=>E(Rse,{key:h.index,renderless:e.renderless,"onUpdate:height":v=>s(h.index,v)},{default:v=>{var p;return(p=r.default)==null?void 0:p.call(r,{item:h.raw,index:h.index,...v})}}));return e.renderless?E(Ce,null,[E("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:ze(u.value)}},null),d,E("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ze(c.value)}},null)]):E("div",{ref:i,class:["v-virtual-scroll",e.class],onScroll:o,style:[a.value,e.style]},[E("div",{class:"v-virtual-scroll__container",style:{paddingTop:ze(u.value),paddingBottom:ze(c.value)}},[d])])}),{scrollToIndex:l}}});function rA(e,t){const r=Oe(!1);let n;function a(s){cancelAnimationFrame(n),r.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{r.value=!1})})}async function i(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(r.value){const l=Le(r,()=>{l(),s()})}else s()})}async function o(s){var c,f;if(s.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(f=e.value)==null?void 0:f.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await i();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const d=l.getBoundingClientRect().top;for(const h of u)if(h.getBoundingClientRect().top>=d){h.focus();break}}else{const d=l.getBoundingClientRect().bottom;for(const h of[...u].reverse())if(h.getBoundingClientRect().bottom<=d){h.focus();break}}}return{onListScroll:a,onListKeydown:o}}const nA=ce({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:vt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Nc},...E4({itemChildren:!1})},"Select"),Bse=ce({...nA(),...os(B_({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...js({transition:{component:T_}})},"VSelect"),Vse=xe()({name:"VSelect",props:Bse(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:r}=t;const{t:n}=Qi(),a=te(),i=te(),o=mt(e,"menu"),s=R({get:()=>o.value,set:k=>{var V;o.value&&!k&&((V=i.value)!=null&&V.openChildren)||(o.value=k)}}),{items:l,transformIn:u,transformOut:c}=J2(e),f=mt(e,"modelValue",[],k=>u(k===null?[null]:Fi(k)),k=>{const V=c(k);return e.multiple?V:V[0]??null}),d=P_(),h=R(()=>f.value.map(k=>l.value.find(V=>e.valueComparator(V.value,k.value))||k)),v=R(()=>h.value.map(k=>k.props.value)),p=Oe(!1);let m="",g;const y=R(()=>e.hideSelected?l.value.filter(k=>!h.value.some(V=>V===k)):l.value),_=R(()=>e.hideNoData&&!l.value.length||e.readonly||(d==null?void 0:d.isReadonly.value)),x=te(),{onListScroll:w,onListKeydown:b}=rA(x,a);function T(k){e.openOnClear&&(s.value=!0)}function S(){_.value||(s.value=!s.value)}function A(k){var F,X;if(!k.key||e.readonly||d!=null&&d.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(k.key)&&k.preventDefault(),["Enter","ArrowDown"," "].includes(k.key)&&(s.value=!0),["Escape","Tab"].includes(k.key)&&(s.value=!1),k.key==="Home"?(F=x.value)==null||F.focus("first"):k.key==="End"&&((X=x.value)==null||X.focus("last"));const V=1e3;function H(Y){const G=Y.key.length===1,z=!Y.ctrlKey&&!Y.metaKey&&!Y.altKey;return G&&z}if(e.multiple||!H(k))return;const O=performance.now();O-g>V&&(m=""),m+=k.key.toLowerCase(),g=O;const L=l.value.find(Y=>Y.title.toLowerCase().startsWith(m));L!==void 0&&(f.value=[L])}function M(k){if(e.multiple){const V=v.value.findIndex(H=>e.valueComparator(H,k.value));if(V===-1)f.value=[...f.value,k];else{const H=[...f.value];H.splice(V,1),f.value=H}}else f.value=[k],s.value=!1}function C(k){var V;(V=x.value)!=null&&V.$el.contains(k.relatedTarget)||(s.value=!1)}function D(){var k;p.value&&((k=a.value)==null||k.focus())}function P(k){p.value=!0}function I(k){var V,H;if(k==null)f.value=[];else if((V=a.value)!=null&&V.matches(":autofill")||(H=a.value)!=null&&H.matches(":-webkit-autofill")){const O=l.value.find(L=>L.title===k);O&&M(O)}else a.value&&(a.value.value="")}return Ee(()=>{const k=!!(e.chips||r.chip),V=!!(!e.hideNoData||y.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),H=f.value.length>0,[O]=Tc.filterProps(e),L=H||!p.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return E(Tc,Te({ref:a},O,{modelValue:f.value.map(F=>F.props.value).join(", "),"onUpdate:modelValue":I,focused:p.value,"onUpdate:focused":F=>p.value=F,validationValue:f.externalValue,dirty:H,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!r.selection},e.class],style:e.style,inputmode:"none",placeholder:L,"onClick:clear":T,"onMousedown:control":S,onBlur:C,onKeydown:A}),{...r,default:()=>E(Ce,null,[E(O_,Te({ref:i,modelValue:s.value,"onUpdate:modelValue":F=>s.value=F,activator:"parent",contentClass:"v-select__content",disabled:_.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:D},e.menuProps),{default:()=>[V&&E(L_,{ref:x,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:F=>F.preventDefault(),onKeydown:b,onFocusin:P,onScrollPassive:w,tabindex:"-1"},{default:()=>{var F,X,Y;return[(F=r["prepend-item"])==null?void 0:F.call(r),!y.value.length&&!e.hideNoData&&(((X=r["no-data"])==null?void 0:X.call(r))??E(Bs,{title:n(e.noDataText)},null)),E(V_,{renderless:!0,items:y.value},{default:G=>{var K;let{item:z,index:N,itemRef:U}=G;const Z=Te(z.props,{ref:U,key:N,onClick:()=>M(z)});return((K=r.item)==null?void 0:K.call(r,{item:z,index:N,props:Z}))??E(Bs,Z,{prepend:q=>{let{isSelected:ue}=q;return E(Ce,null,[e.multiple&&!e.hideSelected?E(dd,{key:z.value,modelValue:ue,ripple:!1,tabindex:"-1"},null):void 0,z.props.prependIcon&&E(Dr,{icon:z.props.prependIcon},null)])}})}}),(Y=r["append-item"])==null?void 0:Y.call(r)]}})]}),h.value.map((F,X)=>{var z;function Y(N){N.stopPropagation(),N.preventDefault(),M(F)}const G={"onClick:close":Y,onMousedown(N){N.preventDefault(),N.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return E("div",{key:F.value,class:"v-select__selection"},[k?r.chip?E(_r,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:F.title}}},{default:()=>{var N;return[(N=r.chip)==null?void 0:N.call(r,{item:F,index:X,props:G})]}}):E(Wp,Te({key:"chip",closable:e.closableChips,size:"small",text:F.title},G),null):((z=r.selection)==null?void 0:z.call(r,{item:F,index:X}))??E("span",{class:"v-select__selection-text"},[F.title,e.multiple&&X<h.value.length-1&&E("span",{class:"v-select__selection-comma"},[Xe(",")])])])})]),"append-inner":function(){var G;for(var F=arguments.length,X=new Array(F),Y=0;Y<F;Y++)X[Y]=arguments[Y];return E(Ce,null,[(G=r["append-inner"])==null?void 0:G.call(r,...X),e.menuIcon?E(Dr,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Eo({isFocused:p,menu:s,select:M},a)}}),Fse=(e,t,r)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),V4=ce({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function zse(e,t,r){var s;const n=[],a=(r==null?void 0:r.default)??Fse,i=r!=null&&r.filterKeys?Fi(r.filterKeys):!1,o=Object.keys((r==null?void 0:r.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return n;e:for(let l=0;l<e.length;l++){const u=e[l],c={},f={};let d=-1;if(t&&!(r!=null&&r.noFilter)){if(typeof u=="object"){const p=i||Object.keys(u);for(const m of p){const g=Go(u,m,u),y=(s=r==null?void 0:r.customKeyFilter)==null?void 0:s[m];if(d=y?y(g,t,u):a(g,t,u),d!==-1&&d!==!1)y?c[m]=d:f[m]=d;else if((r==null?void 0:r.filterMode)==="every")continue e}}else d=a(u,t,u),d!==-1&&d!==!1&&(f.title=d);const h=Object.keys(f).length,v=Object.keys(c).length;if(!h&&!v||(r==null?void 0:r.filterMode)==="union"&&v!==o&&!h||(r==null?void 0:r.filterMode)==="intersection"&&(v!==o||!h))continue}n.push({index:l,matches:{...f,...c}})}return n}function F4(e,t,r,n){const a=te([]),i=te(new Map),o=R(()=>n!=null&&n.transform?ie(t).map(n==null?void 0:n.transform):ie(t));Xr(()=>{const l=typeof r=="function"?r():ie(r),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=zse(o.value,u,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),f=ie(t),d=[],h=new Map;c.forEach(v=>{let{index:p,matches:m}=v;const g=f[p];d.push(g),h.set(g.value,m)}),a.value=d,i.value=h});function s(l){return i.value.get(l.value)}return{filteredItems:a,filteredMatches:i,getMatches:s}}function Use(e,t,r){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?E(Ce,null,[E("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),E("span",{class:"v-autocomplete__mask"},[e.substr(t,r)]),E("span",{class:"v-autocomplete__unmask"},[e.substr(t+r)])]):e}const Hse=ce({autoSelectFirst:{type:[Boolean,String]},search:String,...V4({filterKeys:["title"]}),...nA(),...os(B_({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...js({transition:!1})},"VAutocomplete"),Gse=xe()({name:"VAutocomplete",props:Hse(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:r}=t;const{t:n}=Qi(),a=te(),i=Oe(!1),o=Oe(!0),s=te(!1),l=te(),u=mt(e,"menu"),c=R({get:()=>u.value,set:K=>{var q;u.value&&!K&&((q=l.value)!=null&&q.openChildren)||(u.value=K)}}),f=Oe(-1),d=R(()=>{var K;return(K=a.value)==null?void 0:K.color}),{items:h,transformIn:v,transformOut:p}=J2(e),{textColorClasses:m,textColorStyles:g}=pa(d),y=mt(e,"search",""),_=mt(e,"modelValue",[],K=>v(K===null?[null]:Fi(K)),K=>{const q=p(K);return e.multiple?q:q[0]??null}),x=P_(),{filteredItems:w,getMatches:b}=F4(e,h,()=>o.value?"":y.value),T=R(()=>_.value.map(K=>h.value.find(q=>e.valueComparator(q.value,K.value))||K)),S=R(()=>e.hideSelected?w.value.filter(K=>!T.value.some(q=>q.value===K.value)):w.value),A=R(()=>T.value.map(K=>K.props.value)),M=R(()=>T.value[f.value]),C=R(()=>{var q;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&y.value===((q=S.value[0])==null?void 0:q.title))&&S.value.length>0&&!o.value&&!s.value}),D=R(()=>e.hideNoData&&!h.value.length||e.readonly||(x==null?void 0:x.isReadonly.value)),P=te(),{onListScroll:I,onListKeydown:k}=rA(P,a);function V(K){e.openOnClear&&(c.value=!0),y.value=""}function H(){D.value||(c.value=!0)}function O(K){D.value||(i.value&&(K.preventDefault(),K.stopPropagation()),c.value=!c.value)}function L(K){var se,B,$;if(e.readonly||x!=null&&x.isReadonly.value)return;const q=a.value.selectionStart,ue=A.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(K.key))&&K.preventDefault(),["Enter","ArrowDown"].includes(K.key)&&(c.value=!0),["Escape"].includes(K.key)&&(c.value=!1),["Enter","Escape","Tab"].includes(K.key)&&(C.value&&["Enter","Tab"].includes(K.key)&&Z(w.value[0]),o.value=!0),K.key==="ArrowDown"&&C.value&&((se=P.value)==null||se.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(K.key)){if(f.value<0){K.key==="Backspace"&&!y.value&&(f.value=ue-1);return}const Q=f.value;M.value&&Z(M.value),f.value=Q>=ue-1?ue-2:Q}if(K.key==="ArrowLeft"){if(f.value<0&&q>0)return;const Q=f.value>-1?f.value-1:ue-1;T.value[Q]?f.value=Q:(f.value=-1,a.value.setSelectionRange((B=y.value)==null?void 0:B.length,($=y.value)==null?void 0:$.length))}if(K.key==="ArrowRight"){if(f.value<0)return;const Q=f.value+1;T.value[Q]?f.value=Q:(f.value=-1,a.value.setSelectionRange(0,0))}}}function F(K){y.value=K.target.value}function X(K){var q,ue;if((q=a.value)!=null&&q.matches(":autofill")||(ue=a.value)!=null&&ue.matches(":-webkit-autofill")){const se=h.value.find(B=>B.title===K.target.value);se&&Z(se)}}function Y(){var K;i.value&&(o.value=!0,(K=a.value)==null||K.focus())}function G(K){i.value=!0,setTimeout(()=>{s.value=!0})}function z(K){s.value=!1}function N(K){(K==null||K===""&&!e.multiple)&&(_.value=[])}const U=Oe(!1);function Z(K){if(e.multiple){const q=A.value.findIndex(ue=>e.valueComparator(ue,K.value));if(q===-1)_.value=[..._.value,K];else{const ue=[..._.value];ue.splice(q,1),_.value=ue}}else _.value=[K],U.value=!0,y.value=K.title,c.value=!1,o.value=!0,Ot(()=>U.value=!1)}return Le(i,(K,q)=>{var ue;K!==q&&(K?(U.value=!0,y.value=e.multiple?"":String(((ue=T.value.at(-1))==null?void 0:ue.props.title)??""),o.value=!0,Ot(()=>U.value=!1)):(!e.multiple&&!y.value?_.value=[]:C.value&&!s.value&&!T.value.some(se=>{let{value:B}=se;return B===S.value[0].value})&&Z(S.value[0]),c.value=!1,y.value="",f.value=-1))}),Le(y,K=>{!i.value||U.value||(K&&(c.value=!0),o.value=!K)}),Ee(()=>{const K=!!(e.chips||r.chip),q=!!(!e.hideNoData||S.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),ue=_.value.length>0,[se]=Tc.filterProps(e);return E(Tc,Te({ref:a},se,{modelValue:y.value,"onUpdate:modelValue":N,focused:i.value,"onUpdate:focused":B=>i.value=B,validationValue:_.externalValue,dirty:ue,onInput:F,onChange:X,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!r.selection,"v-autocomplete--selecting-index":f.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:ue?void 0:e.placeholder,"onClick:clear":V,"onMousedown:control":H,onKeydown:L}),{...r,default:()=>E(Ce,null,[E(O_,Te({ref:l,modelValue:c.value,"onUpdate:modelValue":B=>c.value=B,activator:"parent",contentClass:"v-autocomplete__content",disabled:D.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:Y},e.menuProps),{default:()=>[q&&E(L_,{ref:P,selected:A.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:B=>B.preventDefault(),onKeydown:k,onFocusin:G,onFocusout:z,onScrollPassive:I,tabindex:"-1"},{default:()=>{var B,$,Q;return[(B=r["prepend-item"])==null?void 0:B.call(r),!S.value.length&&!e.hideNoData&&((($=r["no-data"])==null?void 0:$.call(r))??E(Bs,{title:n(e.noDataText)},null)),E(V_,{renderless:!0,items:S.value},{default:re=>{var Ie;let{item:le,index:de,itemRef:Ae}=re;const we=Te(le.props,{ref:Ae,key:de,active:C.value&&de===0?!0:void 0,onClick:()=>Z(le)});return((Ie=r.item)==null?void 0:Ie.call(r,{item:le,index:de,props:we}))??E(Bs,we,{prepend:oe=>{let{isSelected:me}=oe;return E(Ce,null,[e.multiple&&!e.hideSelected?E(dd,{key:le.value,modelValue:me,ripple:!1,tabindex:"-1"},null):void 0,le.props.prependIcon&&E(Dr,{icon:le.props.prependIcon},null)])},title:()=>{var oe,me;return o.value?le.title:Use(le.title,(oe=b(le))==null?void 0:oe.title,((me=y.value)==null?void 0:me.length)??0)}})}}),(Q=r["append-item"])==null?void 0:Q.call(r)]}})]}),T.value.map((B,$)=>{var le;function Q(de){de.stopPropagation(),de.preventDefault(),Z(B)}const re={"onClick:close":Q,onMousedown(de){de.preventDefault(),de.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return E("div",{key:B.value,class:["v-autocomplete__selection",$===f.value&&["v-autocomplete__selection--selected",m.value]],style:$===f.value?g.value:{}},[K?r.chip?E(_r,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:B.title}}},{default:()=>{var de;return[(de=r.chip)==null?void 0:de.call(r,{item:B,index:$,props:re})]}}):E(Wp,Te({key:"chip",closable:e.closableChips,size:"small",text:B.title},re),null):((le=r.selection)==null?void 0:le.call(r,{item:B,index:$}))??E("span",{class:"v-autocomplete__selection-text"},[B.title,e.multiple&&$<T.value.length-1&&E("span",{class:"v-autocomplete__selection-comma"},[Xe(",")])])])})]),"append-inner":function(){var re;for(var B=arguments.length,$=new Array(B),Q=0;Q<B;Q++)$[Q]=arguments[Q];return E(Ce,null,[(re=r["append-inner"])==null?void 0:re.call(r,...$),e.menuIcon?E(Dr,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:O,onClick:b5},null):void 0])}})}),Eo({isFocused:i,isPristine:o,menu:c,search:y,filteredItems:w,select:Z},a)}});const $se=ce({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:vt,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Be(),...Gl({location:"top end"}),...Hr(),...St(),...Yt(),...js({transition:"scale-rotate-transition"})},"VBadge"),Wse=xe()({name:"VBadge",inheritAttrs:!1,props:$se(),setup(e,t){const{backgroundColorClasses:r,backgroundColorStyles:n}=bn(_e(e,"color")),{roundedClasses:a}=Qr(e),{t:i}=Qi(),{textColorClasses:o,textColorStyles:s}=pa(_e(e,"textColor")),{themeClasses:l}=z5(),{locationStyles:u}=$l(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+(e.offsetY??0):["left","right"].includes(c)?+(e.offsetX??0):0));return Ee(()=>{const c=Number(e.content),f=!e.max||isNaN(c)?e.content:c<=+e.max?c:`${e.max}+`,[d,h]=kd(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return E(e.tag,Te({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},h,{style:e.style}),{default:()=>{var v,p;return[E("div",{class:"v-badge__wrapper"},[(p=(v=t.slots).default)==null?void 0:p.call(v),E(go,{transition:e.transition},{default:()=>{var m,g;return[Cr(E("span",Te({class:["v-badge__badge",l.value,r.value,a.value,o.value],style:[n.value,s.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":i(e.label,c),"aria-live":"polite",role:"status"},d),[e.dot?void 0:t.slots.badge?(g=(m=t.slots).badge)==null?void 0:g.call(m):e.icon?E(Dr,{icon:e.icon},null):f]),[[qa,e.modelValue]])]}})])]}})}),{}}});const Yse=ce({color:String,density:String,...Be()},"VBannerActions"),z4=xe()({name:"VBannerActions",props:Yse(),setup(e,t){let{slots:r}=t;return En({VBtn:{color:e.color,density:e.density,variant:"text"}}),Ee(()=>{var n;return E("div",{class:["v-banner-actions",e.class],style:e.style},[(n=r.default)==null?void 0:n.call(r)])}),{}}}),U4=Ao("v-banner-text"),Xse=ce({avatar:String,color:String,icon:vt,lines:String,stacked:Boolean,sticky:Boolean,text:String,...ci(),...Be(),...Vn(),...Ji(),...Bn(),...Gl(),...Hd(),...Hr(),...St(),...Yt()},"VBanner"),jse=xe()({name:"VBanner",props:Xse(),setup(e,t){let{slots:r}=t;const{borderClasses:n}=to(e),{densityClasses:a}=ya(e),{mobile:i}=Hc(),{dimensionStyles:o}=eo(e),{elevationClasses:s}=ea(e),{locationStyles:l}=$l(e),{positionClasses:u}=Gd(e),{roundedClasses:c}=Qr(e),{themeClasses:f}=cr(e),d=_e(e,"color"),h=_e(e,"density");En({VBannerActions:{color:d,density:h}}),Ee(()=>{const v=!!(e.text||r.text),p=!!(e.avatar||e.icon),m=!!(p||r.prepend);return E(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||i.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},n.value,a.value,s.value,u.value,c.value,f.value,e.class],style:[o.value,l.value,e.style],role:"banner"},{default:()=>{var g;return[m&&E("div",{key:"prepend",class:"v-banner__prepend"},[r.prepend?E(_r,{key:"prepend-defaults",disabled:!p,defaults:{VAvatar:{color:d.value,density:h.value,icon:e.icon,image:e.avatar}}},r.prepend):E(zl,{key:"prepend-avatar",color:d.value,density:h.value,icon:e.icon,image:e.avatar},null)]),E("div",{class:"v-banner__content"},[v&&E(U4,{key:"text"},{default:()=>{var y;return[((y=r.text)==null?void 0:y.call(r))??e.text]}}),(g=r.default)==null?void 0:g.call(r)]),r.actions&&E(z4,{key:"actions"},r.actions)]}})})}});const qse=ce({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ci(),...Be(),...Vn(),...Bn(),...Hr(),...Nd({name:"bottom-navigation"}),...St({tag:"header"}),...Vd({modelValue:!0,selectedClass:"v-btn--selected"}),...Yt()},"VBottomNavigation"),Zse=xe()({name:"VBottomNavigation",props:qse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=z5(),{borderClasses:a}=to(e),{backgroundColorClasses:i,backgroundColorStyles:o}=bn(_e(e,"bgColor")),{densityClasses:s}=ya(e),{elevationClasses:l}=ea(e),{roundedClasses:u}=Qr(e),{ssrBootStyles:c}=Vc(),f=R(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),d=_e(e,"active"),{layoutItemStyles:h}=Bd({id:e.name,order:R(()=>parseInt(e.order,10)),position:R(()=>"bottom"),layoutSize:R(()=>d.value?f.value:0),elementSize:f,active:d,absolute:_e(e,"absolute")});return Uc(e,H2),En({VBtn:{color:_e(e,"color"),density:_e(e,"density"),stacked:R(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Ee(()=>E(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":d.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},n.value,i.value,a.value,s.value,l.value,u.value,e.class],style:[o.value,h.value,{height:ze(f.value),transform:`translateY(${ze(d.value?0:100,"%")})`},c.value,e.style]},{default:()=>[r.default&&E("div",{class:"v-bottom-navigation__content"},[r.default()])]})),{}}});const Kse=ce({divider:[Number,String],...Be()},"VBreadcrumbsDivider"),H4=xe()({name:"VBreadcrumbsDivider",props:Kse(),setup(e,t){let{slots:r}=t;return Ee(()=>{var n;return E("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((n=r==null?void 0:r.default)==null?void 0:n.call(r))??e.divider])}),{}}}),Qse=ce({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Be(),...$p(),...St({tag:"li"})},"VBreadcrumbsItem"),G4=xe()({name:"VBreadcrumbsItem",props:Qse(),setup(e,t){let{slots:r,attrs:n}=t;const a=Gp(e,n),i=R(()=>{var u;return e.active||((u=a.isActive)==null?void 0:u.value)}),o=R(()=>i.value?e.activeColor:e.color),{textColorClasses:s,textColorStyles:l}=pa(o);return Ee(()=>E(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":i.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:i.value&&e.activeClass},s.value,e.class],style:[l.value,e.style],"aria-current":i.value?"page":void 0},{default:()=>{var u,c;return[a.isLink.value?E("a",{class:"v-breadcrumbs-item--link",href:a.href.value,"aria-current":i.value?"page":void 0,onClick:a.navigate},[((c=r.default)==null?void 0:c.call(r))??e.title]):((u=r.default)==null?void 0:u.call(r))??e.title]}})),{}}}),Jse=ce({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:vt,items:{type:Array,default:()=>[]},...Be(),...Vn(),...Hr(),...St({tag:"ul"})},"VBreadcrumbs"),ele=xe()({name:"VBreadcrumbs",props:Jse(),setup(e,t){let{slots:r}=t;const{backgroundColorClasses:n,backgroundColorStyles:a}=bn(_e(e,"bgColor")),{densityClasses:i}=ya(e),{roundedClasses:o}=Qr(e);En({VBreadcrumbsDivider:{divider:_e(e,"divider")},VBreadcrumbsItem:{activeClass:_e(e,"activeClass"),activeColor:_e(e,"activeColor"),color:_e(e,"color"),disabled:_e(e,"disabled")}});const s=R(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return Ee(()=>{const l=!!(r.prepend||e.icon);return E(e.tag,{class:["v-breadcrumbs",n.value,i.value,o.value,e.class],style:[a.value,e.style]},{default:()=>{var u;return[l&&E("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[r.prepend?E(_r,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},r.prepend):E(Dr,{key:"prepend-icon",start:!0,icon:e.icon},null)]),s.value.map((c,f,d)=>{let{item:h,raw:v}=c;return E(Ce,null,[E(G4,Te({key:h.title,disabled:f>=d.length-1},h),{default:r.title?()=>{var p;return(p=r.title)==null?void 0:p.call(r,{item:v,index:f})}:void 0}),f<d.length-1&&E(H4,null,{default:r.divider?()=>{var p;return(p=r.divider)==null?void 0:p.call(r,{item:v,index:f})}:void 0})])}),(u=r.default)==null?void 0:u.call(r)]}})}),{}}});const $4=xe()({name:"VCardActions",props:Be(),setup(e,t){let{slots:r}=t;return En({VBtn:{variant:"text"}}),Ee(()=>{var n;return E("div",{class:["v-card-actions",e.class],style:e.style},[(n=r.default)==null?void 0:n.call(r)])}),{}}}),W4=Ao("v-card-subtitle"),Y4=Ao("v-card-title"),tle=ce({appendAvatar:String,appendIcon:vt,prependAvatar:String,prependIcon:vt,subtitle:String,title:String,...Be(),...Vn()},"VCardItem"),X4=xe()({name:"VCardItem",props:tle(),setup(e,t){let{slots:r}=t;return Ee(()=>{var u;const n=!!(e.prependAvatar||e.prependIcon),a=!!(n||r.prepend),i=!!(e.appendAvatar||e.appendIcon),o=!!(i||r.append),s=!!(e.title||r.title),l=!!(e.subtitle||r.subtitle);return E("div",{class:["v-card-item",e.class],style:e.style},[a&&E("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?E(_r,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},r.prepend):n&&E(zl,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),E("div",{class:"v-card-item__content"},[s&&E(Y4,{key:"title"},{default:()=>{var c;return[((c=r.title)==null?void 0:c.call(r))??e.title]}}),l&&E(W4,{key:"subtitle"},{default:()=>{var c;return[((c=r.subtitle)==null?void 0:c.call(r))??e.subtitle]}}),(u=r.default)==null?void 0:u.call(r)]),o&&E("div",{key:"append",class:"v-card-item__append"},[r.append?E(_r,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},r.append):i&&E(zl,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),j4=Ao("v-card-text"),rle=ce({appendAvatar:String,appendIcon:vt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:vt,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...ci(),...Be(),...Vn(),...Ji(),...Bn(),...j2(),...Gl(),...Hd(),...Hr(),...$p(),...St(),...Yt(),...ro({variant:"elevated"})},"VCard"),nle=xe()({name:"VCard",directives:{Ripple:Wl},props:rle(),setup(e,t){let{attrs:r,slots:n}=t;const{themeClasses:a}=cr(e),{borderClasses:i}=to(e),{colorClasses:o,colorStyles:s,variantClasses:l}=zc(e),{densityClasses:u}=ya(e),{dimensionStyles:c}=eo(e),{elevationClasses:f}=ea(e),{loaderClasses:d}=E_(e),{locationStyles:h}=$l(e),{positionClasses:v}=Gd(e),{roundedClasses:p}=Qr(e),m=Gp(e,r),g=R(()=>e.link!==!1&&m.isLink.value),y=R(()=>!e.disabled&&e.link!==!1&&(e.link||m.isClickable.value));return Ee(()=>{const _=g.value?"a":e.tag,x=!!(n.title||e.title),w=!!(n.subtitle||e.subtitle),b=x||w,T=!!(n.append||e.appendAvatar||e.appendIcon),S=!!(n.prepend||e.prependAvatar||e.prependIcon),A=!!(n.image||e.image),M=b||S||T,C=!!(n.text||e.text);return Cr(E(_,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":y.value},a.value,i.value,o.value,u.value,f.value,d.value,v.value,p.value,l.value,e.class],style:[s.value,c.value,h.value,e.style],href:m.href.value,onClick:y.value&&m.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var D;return[A&&E("div",{key:"image",class:"v-card__image"},[n.image?E(_r,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):E(Sc,{key:"image-img",cover:!0,src:e.image},null)]),E(q2,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:n.loader}),M&&E(X4,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),C&&E(j4,{key:"text"},{default:()=>{var P;return[((P=n.text)==null?void 0:P.call(n))??e.text]}}),(D=n.default)==null?void 0:D.call(n),n.actions&&E($4,null,{default:n.actions}),Fc(y.value,"v-card")]}}),[[Ja("ripple"),y.value&&e.ripple]])}),{}}});const ale=e=>{const{touchstartX:t,touchendX:r,touchstartY:n,touchendY:a}=e,i=.5,o=16;e.offsetX=r-t,e.offsetY=a-n,Math.abs(e.offsetY)<i*Math.abs(e.offsetX)&&(e.left&&r<t-o&&e.left(e),e.right&&r>t+o&&e.right(e)),Math.abs(e.offsetX)<i*Math.abs(e.offsetY)&&(e.up&&a<n-o&&e.up(e),e.down&&a>n+o&&e.down(e))};function ile(e,t){var n;const r=e.changedTouches[0];t.touchstartX=r.clientX,t.touchstartY=r.clientY,(n=t.start)==null||n.call(t,{originalEvent:e,...t})}function ole(e,t){var n;const r=e.changedTouches[0];t.touchendX=r.clientX,t.touchendY=r.clientY,(n=t.end)==null||n.call(t,{originalEvent:e,...t}),ale(t)}function sle(e,t){var n;const r=e.changedTouches[0];t.touchmoveX=r.clientX,t.touchmoveY=r.clientY,(n=t.move)==null||n.call(t,{originalEvent:e,...t})}function lle(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:r=>ile(r,t),touchend:r=>ole(r,t),touchmove:r=>sle(r,t)}}function ule(e,t){var s;const r=t.value,n=r!=null&&r.parent?e.parentElement:e,a=(r==null?void 0:r.options)??{passive:!0},i=(s=t.instance)==null?void 0:s.$.uid;if(!n||!i)return;const o=lle(t.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[i]=o,y5(o).forEach(l=>{n.addEventListener(l,o[l],a)})}function cle(e,t){var i,o;const r=(i=t.value)!=null&&i.parent?e.parentElement:e,n=(o=t.instance)==null?void 0:o.$.uid;if(!(r!=null&&r._touchHandlers)||!n)return;const a=r._touchHandlers[n];y5(a).forEach(s=>{r.removeEventListener(s,a[s])}),delete r._touchHandlers[n]}const aA={mounted:ule,unmounted:cle},q4=Symbol.for("vuetify:v-window"),Z4=Symbol.for("vuetify:v-window-group"),K4=ce({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...Be(),...St(),...Yt()},"VWindow"),WS=xe()({name:"VWindow",directives:{Touch:aA},props:K4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{isRtl:a}=Xn(),{t:i}=Qi(),o=Uc(e,Z4),s=te(),l=R(()=>a.value?!e.reverse:e.reverse),u=Oe(!1),c=R(()=>{const x=e.direction==="vertical"?"y":"x",b=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${x}${b}-transition`}),f=Oe(0),d=te(void 0),h=R(()=>o.items.value.findIndex(x=>o.selected.value.includes(x.id)));Le(h,(x,w)=>{const b=o.items.value.length,T=b-1;b<=2?u.value=x<w:x===T&&w===0?u.value=!0:x===0&&w===T?u.value=!1:u.value=x<w}),sn(q4,{transition:c,isReversed:u,transitionCount:f,transitionHeight:d,rootRef:s});const v=R(()=>e.continuous||h.value!==0),p=R(()=>e.continuous||h.value!==o.items.value.length-1);function m(){v.value&&o.prev()}function g(){p.value&&o.next()}const y=R(()=>{const x=[],w={icon:a.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,ariaLabel:i("$vuetify.carousel.prev")};x.push(v.value?r.prev?r.prev({props:w}):E(Pa,w,null):E("div",null,null));const b={icon:a.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,ariaLabel:i("$vuetify.carousel.next")};return x.push(p.value?r.next?r.next({props:b}):E(Pa,b,null):E("div",null,null)),x}),_=R(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?m():g()},right:()=>{l.value?g():m()},start:w=>{let{originalEvent:b}=w;b.stopPropagation()}},...e.touch===!0?{}:e.touch});return Ee(()=>Cr(E(e.tag,{ref:s,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},n.value,e.class],style:e.style},{default:()=>{var x,w;return[E("div",{class:"v-window__container",style:{height:d.value}},[(x=r.default)==null?void 0:x.call(r,{group:o}),e.showArrows!==!1&&E("div",{class:"v-window__controls"},[y.value])]),(w=r.additional)==null?void 0:w.call(r,{group:o})]}}),[[Ja("touch"),_.value]])),{group:o}}}),fle=ce({color:String,cycle:Boolean,delimiterIcon:{type:vt,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...K4({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),dle=xe()({name:"VCarousel",props:fle(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),{t:a}=Qi(),i=te();let o=-1;Le(n,l),Le(()=>e.interval,l),Le(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),Qt(s);function s(){!e.cycle||!i.value||(o=window.setTimeout(i.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(s)}return Ee(()=>{const[u]=WS.filterProps(e);return E(WS,Te({ref:i},u,{modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:ze(e.height)},e.style]}),{default:r.default,additional:c=>{let{group:f}=c;return E(Ce,null,[!e.hideDelimiters&&E("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[f.items.value.length>0&&E(_r,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[f.items.value.map((d,h)=>{const v={id:`carousel-item-${d.id}`,"aria-label":a("$vuetify.carousel.ariaLabel.delimiter",h+1,f.items.value.length),class:[f.isSelected(d.id)&&"v-btn--active"],onClick:()=>f.select(d.id,!0)};return r.item?r.item({props:v,item:d}):E(Pa,Te(d,v),null)})]})]),e.progress&&E(X2,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(f.getItemIndex(n.value)+1)/f.items.value.length*100},null)])},prev:r.prev,next:r.next})}),{}}}),Q4=ce({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Be(),...Fd(),...R_()},"VWindowItem"),YS=xe()({name:"VWindowItem",directives:{Touch:aA},props:Q4(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const n=Dt(q4),a=zd(e,Z4),{isBooted:i}=Vc();if(!n||!a)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=Oe(!1),s=R(()=>i.value&&(n.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!n||(o.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function u(){var v;o.value||!n||(o.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=ze((v=n.rootRef.value)==null?void 0:v.clientHeight)),n.transitionCount.value+=1)}function c(){l()}function f(v){o.value&&Ot(()=>{!s.value||!o.value||!n||(n.transitionHeight.value=ze(v.clientHeight))})}const d=R(()=>{const v=n.isReversed.value?e.reverseTransition:e.transition;return s.value?{name:typeof v!="string"?n.transition.value:v,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:f}:!1}),{hasContent:h}=eA(e,a.isSelected);return Ee(()=>E(go,{transition:d.value,disabled:!i.value},{default:()=>{var v;return[Cr(E("div",{class:["v-window-item",a.selectedClass.value,e.class],style:e.style},[h.value&&((v=r.default)==null?void 0:v.call(r))]),[[qa,a.isSelected.value]])]}})),{}}}),hle=ce({...X5(),...Q4()},"VCarouselItem"),vle=xe()({name:"VCarouselItem",inheritAttrs:!1,props:hle(),setup(e,t){let{slots:r,attrs:n}=t;Ee(()=>{const[a]=Sc.filterProps(e),[i]=YS.filterProps(e);return E(YS,Te({class:"v-carousel-item"},i),{default:()=>[E(Sc,Te(n,a),r)]})})}});const ple=Ao("v-code");const mle=ce({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Be()},"VColorPickerCanvas"),gle=Ki({name:"VColorPickerCanvas",props:mle(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:r}=t;const n=Oe(!1),a=Oe(!1),i=te({x:0,y:0}),o=R(()=>{const{x:g,y}=i.value,_=parseInt(e.dotSize,10)/2;return{width:ze(e.dotSize),height:ze(e.dotSize),transform:`translate(${ze(g-_)}, ${ze(y-_)})`}}),s=te(),l=Oe(parseFloat(e.width)),u=Oe(parseFloat(e.height)),{resizeRef:c}=rs(g=>{var x;if(!((x=c.value)!=null&&x.offsetParent))return;const{width:y,height:_}=g[0].contentRect;l.value=y,u.value=_});function f(g,y,_){const{left:x,top:w,width:b,height:T}=_;i.value={x:ca(g-x,0,b),y:ca(y-w,0,T)}}function d(g){e.disabled||!s.value||f(g.clientX,g.clientY,s.value.getBoundingClientRect())}function h(g){g.preventDefault(),!e.disabled&&(n.value=!0,window.addEventListener("mousemove",v),window.addEventListener("mouseup",p),window.addEventListener("touchmove",v),window.addEventListener("touchend",p))}function v(g){if(e.disabled||!s.value)return;n.value=!0;const y=Rae(g);f(y.clientX,y.clientY,s.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",p)}Le(i,()=>{var _,x;if(a.value){a.value=!1;return}if(!s.value)return;const{x:g,y}=i.value;r("update:color",{h:((_=e.color)==null?void 0:_.h)??0,s:ca(g,0,l.value)/l.value,v:1-ca(y,0,u.value)/u.value,a:((x=e.color)==null?void 0:x.a)??1})});function m(){var w;if(!s.value)return;const g=s.value,y=g.getContext("2d");if(!y)return;const _=y.createLinearGradient(0,0,g.width,0);_.addColorStop(0,"hsla(0, 0%, 100%, 1)"),_.addColorStop(1,`hsla(${((w=e.color)==null?void 0:w.h)??0}, 100%, 50%, 1)`),y.fillStyle=_,y.fillRect(0,0,g.width,g.height);const x=y.createLinearGradient(0,0,0,g.height);x.addColorStop(0,"hsla(0, 0%, 100%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),y.fillStyle=x,y.fillRect(0,0,g.width,g.height)}return Le(()=>{var g;return(g=e.color)==null?void 0:g.h},m,{immediate:!0}),Le(()=>[l.value,u.value],(g,y)=>{m(),i.value={x:i.value.x*g[0]/y[0],y:i.value.y*g[1]/y[1]}},{flush:"post"}),Le(()=>e.color,()=>{if(n.value){n.value=!1;return}a.value=!0,i.value=e.color?{x:e.color.s*l.value,y:(1-e.color.v)*u.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Qt(()=>m()),Ee(()=>E("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onClick:d,onMousedown:h,onTouchstart:h},[E("canvas",{ref:s,width:l.value,height:u.value},null),e.color&&E("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:o.value},null)])),{}}});function yle(e,t){if(t){const{a:r,...n}=e;return n}return e}function _le(e,t){if(t==null||typeof t=="string"){const r=L5(e);return e.a===1?r.slice(0,7):r}if(typeof t=="object"){let r;return ju(t,["r","g","b"])?r=ks(e):ju(t,["h","s","l"])?r=A5(e):ju(t,["h","s","v"])&&(r=e),yle(r,!ju(t,["a"])&&e.a===1)}return e}const Ev={h:0,s:0,v:1,a:1},XS={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:ks,from:S_};var OO;const xle={...XS,inputs:(OO=XS.inputs)==null?void 0:OO.slice(0,3)},jS={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:A5,from:R2},ble={...jS,inputs:jS.inputs.slice(0,3)},J4={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:L5,from:Yae},wle={...J4,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},fc={rgb:xle,rgba:XS,hsl:ble,hsla:jS,hex:wle,hexa:J4},Sle=e=>{let{label:t,...r}=e;return E("div",{class:"v-color-picker-edit__input"},[E("input",r,null),E("span",null,[t])])},Tle=ce({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(fc).includes(e)},modes:{type:Array,default:()=>Object.keys(fc),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(fc).includes(t))},...Be()},"VColorPickerEdit"),Cle=Ki({name:"VColorPickerEdit",props:Tle(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:r}=t;const n=R(()=>e.modes.map(i=>({...fc[i],name:i}))),a=R(()=>{var s;const i=n.value.find(l=>l.name===e.mode);if(!i)return[];const o=e.color?i.to(e.color):null;return(s=i.inputs)==null?void 0:s.map(l=>{let{getValue:u,getColor:c,...f}=l;return{...i.inputProps,...f,disabled:e.disabled,value:o&&u(o),onChange:d=>{const h=d.target;h&&r("update:color",i.from(c(o??Ev,h.value)))}}})});return Ee(()=>{var i;return E("div",{class:["v-color-picker-edit",e.class],style:e.style},[(i=a.value)==null?void 0:i.map(o=>E(Sle,o,null)),n.value.length>1&&E(Pa,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=n.value.findIndex(s=>s.name===e.mode);r("update:mode",n.value[(o+1)%n.value.length].name)}},null)])}),{}}});const iA=Symbol.for("vuetify:v-slider");function qS(e,t,r){const n=r==="vertical",a=t.getBoundingClientRect(),i="touches"in e?e.touches[0]:e;return n?i.clientY-(a.top+a.height/2):i.clientX-(a.left+a.width/2)}function Ale(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const ez=ce({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Hr(),...Bn({elevation:2})},"Slider"),tz=e=>{const t=R(()=>parseFloat(e.min)),r=R(()=>parseFloat(e.max)),n=R(()=>+e.step>0?parseFloat(e.step):0),a=R(()=>Math.max(eI(n.value),eI(t.value)));function i(o){if(n.value<=0)return o;const s=ca(o,t.value,r.value),l=t.value%n.value,u=Math.round((s-l)/n.value)*n.value+l;return parseFloat(Math.min(u,r.value).toFixed(a.value))}return{min:t,max:r,step:n,decimals:a,roundValue:i}},rz=e=>{let{props:t,steps:r,onSliderStart:n,onSliderMove:a,onSliderEnd:i,getActiveThumb:o}=e;const{isRtl:s}=Xn(),l=_e(t,"reverse"),u=R(()=>{let U=s.value?"rtl":"ltr";return t.reverse&&(U=U==="rtl"?"ltr":"rtl"),U}),{min:c,max:f,step:d,decimals:h,roundValue:v}=r,p=R(()=>parseInt(t.thumbSize,10)),m=R(()=>parseInt(t.tickSize,10)),g=R(()=>parseInt(t.trackSize,10)),y=R(()=>(f.value-c.value)/d.value),_=_e(t,"disabled"),x=R(()=>t.direction==="vertical"),w=R(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),b=R(()=>t.error||t.disabled?void 0:t.trackColor??t.color),T=R(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),S=Oe(!1),A=Oe(0),M=te(),C=te();function D(U){var re;const Z=t.direction==="vertical",K=Z?"top":"left",q=Z?"height":"width",ue=Z?"clientY":"clientX",{[K]:se,[q]:B}=(re=M.value)==null?void 0:re.$el.getBoundingClientRect(),$=Ale(U,ue);let Q=Math.min(Math.max(($-se-A.value)/B,0),1)||0;return(Z||u.value==="rtl")&&(Q=1-Q),v(c.value+Q*(f.value-c.value))}const P=U=>{i({value:D(U)}),S.value=!1,A.value=0},I=U=>{C.value=o(U),C.value&&(C.value.focus(),S.value=!0,C.value.contains(U.target)?A.value=qS(U,C.value,t.direction):(A.value=0,a({value:D(U)})),n({value:D(U)}))},k={passive:!0,capture:!0};function V(U){a({value:D(U)})}function H(U){U.stopPropagation(),U.preventDefault(),P(U),window.removeEventListener("mousemove",V,k),window.removeEventListener("mouseup",H)}function O(U){var Z;P(U),window.removeEventListener("touchmove",V,k),(Z=U.target)==null||Z.removeEventListener("touchend",O)}function L(U){var Z;I(U),window.addEventListener("touchmove",V,k),(Z=U.target)==null||Z.addEventListener("touchend",O,{passive:!1})}function F(U){U.preventDefault(),I(U),window.addEventListener("mousemove",V,k),window.addEventListener("mouseup",H,{passive:!1})}const X=U=>{const Z=(U-c.value)/(f.value-c.value)*100;return ca(isNaN(Z)?0:Z,0,100)},Y=_e(t,"showTicks"),G=R(()=>Y.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(U=>({value:U,position:X(U),label:U.toString()})):Object.keys(t.ticks).map(U=>({value:parseFloat(U),position:X(parseFloat(U)),label:t.ticks[U]})):y.value!==1/0?Es(y.value+1).map(U=>{const Z=c.value+U*d.value;return{value:Z,position:X(Z)}}):[]:[]),z=R(()=>G.value.some(U=>{let{label:Z}=U;return!!Z})),N={activeThumbRef:C,color:_e(t,"color"),decimals:h,disabled:_,direction:_e(t,"direction"),elevation:_e(t,"elevation"),hasLabels:z,horizontalDirection:u,isReversed:l,min:c,max:f,mousePressed:S,numTicks:y,onSliderMousedown:F,onSliderTouchstart:L,parsedTicks:G,parseMouseMove:D,position:X,readonly:_e(t,"readonly"),rounded:_e(t,"rounded"),roundValue:v,showTicks:Y,startOffset:A,step:d,thumbSize:p,thumbColor:w,thumbLabel:_e(t,"thumbLabel"),ticks:_e(t,"ticks"),tickSize:m,trackColor:b,trackContainerRef:M,trackFillColor:T,trackSize:g,vertical:x};return sn(iA,N),N},Ele=ce({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...Be()},"VSliderThumb"),ZS=xe()({name:"VSliderThumb",directives:{Ripple:Wl},props:Ele(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r,emit:n}=t;const a=Dt(iA),{rtlClasses:i}=Xn();if(!a)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:s,vertical:l,disabled:u,thumbSize:c,thumbLabel:f,direction:d,readonly:h,elevation:v,isReversed:p,horizontalDirection:m,mousePressed:g,decimals:y}=a,{textColorClasses:_,textColorStyles:x}=pa(o),{pageup:w,pagedown:b,end:T,home:S,left:A,right:M,down:C,up:D}=AS,P=[w,b,T,S,A,M,C,D],I=R(()=>s.value?[1,2,3]:[1,5,10]);function k(H,O){if(!P.includes(H.key))return;H.preventDefault();const L=s.value||.1,F=(e.max-e.min)/L;if([A,M,C,D].includes(H.key)){const Y=(m.value==="rtl"?[A,D]:[M,D]).includes(H.key)?1:-1,G=H.shiftKey?2:H.ctrlKey?1:0;O=O+Y*L*I.value[G]}else if(H.key===S)O=e.min;else if(H.key===T)O=e.max;else{const X=H.key===b?1:-1;O=O-X*L*(F>100?F/10:10)}return Math.max(e.min,Math.min(e.max,O))}function V(H){const O=k(H,e.modelValue);O!=null&&n("update:modelValue",O)}return Ee(()=>{const H=ze(l.value||p.value?100-e.position:e.position,"%"),{elevationClasses:O}=ea(R(()=>u.value?void 0:v.value));return E("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&g.value},e.class,i.value],style:[{"--v-slider-thumb-position":H,"--v-slider-thumb-size":ze(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!h.value,"aria-orientation":d.value,onKeydown:h.value?void 0:V},[E("div",{class:["v-slider-thumb__surface",_.value,O.value],style:{...x.value}},null),Cr(E("div",{class:["v-slider-thumb__ripple",_.value],style:x.value},null),[[Ja("ripple"),e.ripple,null,{circle:!0,center:!0}]]),E($5,{origin:"bottom center"},{default:()=>{var L;return[Cr(E("div",{class:"v-slider-thumb__label-container"},[E("div",{class:["v-slider-thumb__label"]},[E("div",null,[((L=r["thumb-label"])==null?void 0:L.call(r,{modelValue:e.modelValue}))??e.modelValue.toFixed(s.value?y.value:1)])])]),[[qa,f.value&&e.focused||f.value==="always"]])]}})])}),{}}});const Dle=ce({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Be()},"VSliderTrack"),nz=xe()({name:"VSliderTrack",props:Dle(),emits:{},setup(e,t){let{slots:r}=t;const n=Dt(iA);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:a,horizontalDirection:i,parsedTicks:o,rounded:s,showTicks:l,tickSize:u,trackColor:c,trackFillColor:f,trackSize:d,vertical:h,min:v,max:p}=n,{roundedClasses:m}=Qr(s),{backgroundColorClasses:g,backgroundColorStyles:y}=bn(f),{backgroundColorClasses:_,backgroundColorStyles:x}=bn(c),w=R(()=>`inset-${h.value?"block-end":"inline-start"}`),b=R(()=>h.value?"height":"width"),T=R(()=>({[w.value]:"0%",[b.value]:"100%"})),S=R(()=>e.stop-e.start),A=R(()=>({[w.value]:ze(e.start,"%"),[b.value]:ze(S.value,"%")})),M=R(()=>l.value?(h.value?o.value.slice().reverse():o.value).map((D,P)=>{var V;const I=h.value?"bottom":"margin-inline-start",k=D.value!==v.value&&D.value!==p.value?ze(D.position,"%"):void 0;return E("div",{key:D.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":D.position>=e.start&&D.position<=e.stop,"v-slider-track__tick--first":D.value===v.value,"v-slider-track__tick--last":D.value===p.value}],style:{[I]:k}},[(D.label||r["tick-label"])&&E("div",{class:"v-slider-track__tick-label"},[((V=r["tick-label"])==null?void 0:V.call(r,{tick:D,index:P}))??D.label])])}):[]);return Ee(()=>E("div",{class:["v-slider-track",m.value,e.class],style:[{"--v-slider-track-size":ze(d.value),"--v-slider-tick-size":ze(u.value),direction:h.value?void 0:i.value},e.style]},[E("div",{class:["v-slider-track__background",_.value,{"v-slider-track__background--opacity":!!a.value||!f.value}],style:{...T.value,...x.value}},null),E("div",{class:["v-slider-track__fill",g.value],style:{...A.value,...y.value}},null),l.value&&E("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}]},[M.value])])),{}}}),Mle=ce({...M_(),...ez(),...Zs(),modelValue:{type:[Number,String],default:0}},"VSlider"),KS=xe()({name:"VSlider",props:Mle(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:r,emit:n}=t;const a=te(),{rtlClasses:i}=Xn(),o=tz(e),s=mt(e,"modelValue",void 0,b=>{const T=typeof b=="string"?parseFloat(b):b??o.min.value;return o.roundValue(T)}),{min:l,max:u,mousePressed:c,roundValue:f,onSliderMousedown:d,onSliderTouchstart:h,trackContainerRef:v,position:p,hasLabels:m,readonly:g}=rz({props:e,steps:o,onSliderStart:()=>{n("start",s.value)},onSliderEnd:b=>{let{value:T}=b;const S=f(T);s.value=S,n("end",S)},onSliderMove:b=>{let{value:T}=b;return s.value=f(T)},getActiveThumb:()=>{var b;return(b=a.value)==null?void 0:b.$el}}),{isFocused:y,focus:_,blur:x}=Yl(e),w=R(()=>p(s.value));return Ee(()=>{const[b,T]=Qn.filterProps(e),S=!!(e.label||r.label||r.prepend);return E(Qn,Te({class:["v-slider",{"v-slider--has-labels":!!r["tick-label"]||m.value,"v-slider--focused":y.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style},b,{focused:y.value}),{...r,prepend:S?A=>{var M,C;return E(Ce,null,[((M=r.label)==null?void 0:M.call(r,A))??e.label?E($d,{id:A.id.value,class:"v-slider__label",text:e.label},null):void 0,(C=r.prepend)==null?void 0:C.call(r,A)])}:void 0,default:A=>{let{id:M,messagesId:C}=A;return E("div",{class:"v-slider__container",onMousedown:g.value?void 0:d,onTouchstartPassive:g.value?void 0:h},[E("input",{id:M.value,name:e.name||M.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:s.value},null),E(nz,{ref:v,start:0,stop:w.value},{"tick-label":r["tick-label"]}),E(ZS,{ref:a,"aria-describedby":C.value,focused:y.value,min:l.value,max:u.value,modelValue:s.value,"onUpdate:modelValue":D=>s.value=D,position:w.value,elevation:e.elevation,onFocus:_,onBlur:x},{"thumb-label":r["thumb-label"]})])}})}),{}}}),Ple=ce({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Be()},"VColorPickerPreview"),Lle=Ki({name:"VColorPickerPreview",props:Ple(),emits:{"update:color":e=>!0},setup(e,t){let{emit:r}=t;return Ee(()=>{var n,a;return E("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[E("div",{class:"v-color-picker-preview__dot"},[E("div",{style:{background:D5(e.color??Ev)}},null)]),E("div",{class:"v-color-picker-preview__sliders"},[E(KS,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(n=e.color)==null?void 0:n.h,"onUpdate:modelValue":i=>r("update:color",{...e.color??Ev,h:i}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&E(KS,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((a=e.color)==null?void 0:a.a)??1,"onUpdate:modelValue":i=>r("update:color",{...e.color??Ev,a:i}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}});const Ile=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),Rle=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),Ole=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),kle=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),Nle=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),Ble=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),Vle=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),Fle=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),zle=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),Ule=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),Hle=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),Gle=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),$le=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),Wle=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),Yle=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),Xle=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),jle=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),qle=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),Zle=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),Kle=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),Qle=Object.freeze({red:Ile,pink:Rle,purple:Ole,deepPurple:kle,indigo:Nle,blue:Ble,lightBlue:Vle,cyan:Fle,teal:zle,green:Ule,lightGreen:Hle,lime:Gle,yellow:$le,amber:Wle,orange:Yle,deepOrange:Xle,brown:jle,blueGrey:qle,grey:Zle,shades:Kle}),Jle=ce({swatches:{type:Array,default:()=>eue(Qle)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Be()},"VColorPickerSwatches");function eue(e){return Object.keys(e).map(t=>{const r=e[t];return r.base?[r.base,r.darken4,r.darken3,r.darken2,r.darken1,r.lighten1,r.lighten2,r.lighten3,r.lighten4,r.lighten5]:[r.black,r.white,r.transparent]})}const tue=Ki({name:"VColorPickerSwatches",props:Jle(),emits:{"update:color":e=>!0},setup(e,t){let{emit:r}=t;return Ee(()=>E("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:ze(e.maxHeight)},e.style]},[E("div",null,[e.swatches.map(n=>E("div",{class:"v-color-picker-swatches__swatch"},[n.map(a=>{const i=Ds(a),o=S_(i),s=E5(i);return E("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&r("update:color",o)},[E("div",{style:{background:s}},[e.color&&Nc(e.color,o)?E(Dr,{size:"x-small",icon:"$success",color:Zae(a,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}});const az=ce({color:String,...ci(),...Be(),...Ji(),...Bn(),...Gl(),...Hd(),...Hr(),...St(),...Yt()},"VSheet"),QS=xe()({name:"VSheet",props:az(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{backgroundColorClasses:a,backgroundColorStyles:i}=bn(_e(e,"color")),{borderClasses:o}=to(e),{dimensionStyles:s}=eo(e),{elevationClasses:l}=ea(e),{locationStyles:u}=$l(e),{positionClasses:c}=Gd(e),{roundedClasses:f}=Qr(e);return Ee(()=>E(e.tag,{class:["v-sheet",n.value,a.value,o.value,l.value,c.value,f.value,e.class],style:[i.value,s.value,u.value,e.style]},r)),{}}}),rue=ce({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(fc).includes(e)},modes:{type:Array,default:()=>Object.keys(fc),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(fc).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...os(az({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),nue=Ki({name:"VColorPicker",props:rue(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=mt(e,"mode"),r=te(null),n=mt(e,"modelValue",void 0,o=>{if(o==null||o==="")return null;let s;try{s=S_(Ds(o))}catch{return null}return r.value&&(s={...s,h:r.value.h},r.value=null),s},o=>o?_le(o,e.modelValue):null),{rtlClasses:a}=Xn(),i=o=>{n.value=o,r.value=o};return Qt(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),En({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Ee(()=>{const[o]=QS.filterProps(e);return E(QS,Te({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",a.value,e.class],style:[{"--v-color-picker-color-hsv":D5({...n.value??Ev,a:1})},e.style]},o,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&E(gle,{key:"canvas",color:n.value,"onUpdate:color":i,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&E("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&E(Lle,{key:"preview",color:n.value,"onUpdate:color":i,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&E(Cle,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":s=>t.value=s,color:n.value,"onUpdate:color":i,disabled:e.disabled},null)]),e.showSwatches&&E(tue,{key:"swatches",color:n.value,"onUpdate:color":i,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function aue(e,t,r){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?E(Ce,null,[E("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),E("span",{class:"v-combobox__mask"},[e.substr(t,r)]),E("span",{class:"v-combobox__unmask"},[e.substr(t+r)])]):e}const iue=ce({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...V4({filterKeys:["title"]}),...nA({hideNoData:!0,returnObject:!0}),...os(B_({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...js({transition:!1})},"VCombobox"),oue=xe()({name:"VCombobox",props:iue(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var K;let{emit:r,slots:n}=t;const{t:a}=Qi(),i=te(),o=Oe(!1),s=Oe(!0),l=te(!1),u=te(),c=mt(e,"menu"),f=R({get:()=>c.value,set:q=>{var ue;c.value&&!q&&((ue=u.value)!=null&&ue.openChildren)||(c.value=q)}}),d=Oe(-1);let h=!1;const v=R(()=>{var q;return(q=i.value)==null?void 0:q.color}),{items:p,transformIn:m,transformOut:g}=J2(e),{textColorClasses:y,textColorStyles:_}=pa(v),x=mt(e,"modelValue",[],q=>m(Fi(q)),q=>{const ue=g(q);return e.multiple?ue:ue[0]??null}),w=P_(),b=Oe(e.multiple?"":((K=x.value[0])==null?void 0:K.title)??""),T=R({get:()=>b.value,set:q=>{var ue;if(b.value=q,e.multiple||(x.value=[Ff(e,q)]),q&&e.multiple&&((ue=e.delimiters)!=null&&ue.length)){const se=q.split(new RegExp(`(?:${e.delimiters.join("|")})+`));se.length>1&&(se.forEach(B=>{B=B.trim(),B&&z(Ff(e,B))}),b.value="")}q||(d.value=-1),s.value=!q}});Le(b,q=>{h?Ot(()=>h=!1):o.value&&!f.value&&(f.value=!0),r("update:search",q)}),Le(x,q=>{var ue;e.multiple||(b.value=((ue=q[0])==null?void 0:ue.title)??"")});const{filteredItems:S,getMatches:A}=F4(e,p,()=>s.value?"":T.value),M=R(()=>x.value.map(q=>p.value.find(ue=>e.valueComparator(ue.value,q.value))||q)),C=R(()=>e.hideSelected?S.value.filter(q=>!M.value.some(ue=>ue.value===q.value)):S.value),D=R(()=>M.value.map(q=>q.props.value)),P=R(()=>M.value[d.value]),I=R(()=>{var ue;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&T.value===((ue=C.value[0])==null?void 0:ue.title))&&C.value.length>0&&!s.value&&!l.value}),k=R(()=>e.hideNoData&&!p.value.length||e.readonly||(w==null?void 0:w.isReadonly.value)),V=te(),{onListScroll:H,onListKeydown:O}=rA(V,i);function L(q){h=!0,e.openOnClear&&(f.value=!0)}function F(){k.value||(f.value=!0)}function X(q){k.value||(o.value&&(q.preventDefault(),q.stopPropagation()),f.value=!f.value)}function Y(q){var B;if(e.readonly||w!=null&&w.isReadonly.value)return;const ue=i.value.selectionStart,se=D.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(q.key))&&q.preventDefault(),["Enter","ArrowDown"].includes(q.key)&&(f.value=!0),["Escape"].includes(q.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(q.key)&&(I.value&&["Enter","Tab"].includes(q.key)&&z(S.value[0]),s.value=!0),q.key==="ArrowDown"&&I.value&&((B=V.value)==null||B.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(q.key)){if(d.value<0){q.key==="Backspace"&&!T.value&&(d.value=se-1);return}const $=d.value;P.value&&z(P.value),d.value=$>=se-1?se-2:$}if(q.key==="ArrowLeft"){if(d.value<0&&ue>0)return;const $=d.value>-1?d.value-1:se-1;M.value[$]?d.value=$:(d.value=-1,i.value.setSelectionRange(T.value.length,T.value.length))}if(q.key==="ArrowRight"){if(d.value<0)return;const $=d.value+1;M.value[$]?d.value=$:(d.value=-1,i.value.setSelectionRange(0,0))}q.key==="Enter"&&T.value&&(z(Ff(e,T.value)),T.value="")}}function G(){var q;o.value&&(s.value=!0,(q=i.value)==null||q.focus())}function z(q){if(e.multiple){const ue=D.value.findIndex(se=>e.valueComparator(se,q.value));if(ue===-1)x.value=[...x.value,q];else{const se=[...x.value];se.splice(ue,1),x.value=se}T.value=""}else x.value=[q],b.value=q.title,Ot(()=>{f.value=!1,s.value=!0})}function N(q){o.value=!0,setTimeout(()=>{l.value=!0})}function U(q){l.value=!1}function Z(q){(q==null||q===""&&!e.multiple)&&(x.value=[])}return Le(S,q=>{!q.length&&e.hideNoData&&(f.value=!1)}),Le(o,(q,ue)=>{q||q===ue||(d.value=-1,f.value=!1,I.value&&!l.value&&!M.value.some(se=>{let{value:B}=se;return B===C.value[0].value})?z(C.value[0]):e.multiple&&T.value&&(x.value=[...x.value,Ff(e,T.value)],T.value=""))}),Ee(()=>{const q=!!(e.chips||n.chip),ue=!!(!e.hideNoData||C.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),se=x.value.length>0,[B]=Tc.filterProps(e);return E(Tc,Te({ref:i},B,{modelValue:T.value,"onUpdate:modelValue":[$=>T.value=$,Z],focused:o.value,"onUpdate:focused":$=>o.value=$,validationValue:x.externalValue,dirty:se,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!n.selection,"v-combobox--selecting-index":d.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:se?void 0:e.placeholder,"onClick:clear":L,"onMousedown:control":F,onKeydown:Y}),{...n,default:()=>E(Ce,null,[E(O_,Te({ref:u,modelValue:f.value,"onUpdate:modelValue":$=>f.value=$,activator:"parent",contentClass:"v-combobox__content",disabled:k.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:G},e.menuProps),{default:()=>[ue&&E(L_,{ref:V,selected:D.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:$=>$.preventDefault(),onKeydown:O,onFocusin:N,onFocusout:U,onScrollPassive:H,tabindex:"-1"},{default:()=>{var $,Q,re;return[($=n["prepend-item"])==null?void 0:$.call(n),!C.value.length&&!e.hideNoData&&(((Q=n["no-data"])==null?void 0:Q.call(n))??E(Bs,{title:a(e.noDataText)},null)),E(V_,{renderless:!0,items:C.value},{default:le=>{var oe;let{item:de,index:Ae,itemRef:we}=le;const Ie=Te(de.props,{ref:we,key:Ae,active:I.value&&Ae===0?!0:void 0,onClick:()=>z(de)});return((oe=n.item)==null?void 0:oe.call(n,{item:de,index:Ae,props:Ie}))??E(Bs,Ie,{prepend:me=>{let{isSelected:ge}=me;return E(Ce,null,[e.multiple&&!e.hideSelected?E(dd,{key:de.value,modelValue:ge,ripple:!1,tabindex:"-1"},null):void 0,de.props.prependIcon&&E(Dr,{icon:de.props.prependIcon},null)])},title:()=>{var me,ge;return s.value?de.title:aue(de.title,(me=A(de))==null?void 0:me.title,((ge=T.value)==null?void 0:ge.length)??0)}})}}),(re=n["append-item"])==null?void 0:re.call(n)]}})]}),M.value.map(($,Q)=>{var de;function re(Ae){Ae.stopPropagation(),Ae.preventDefault(),z($)}const le={"onClick:close":re,onMousedown(Ae){Ae.preventDefault(),Ae.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return E("div",{key:$.value,class:["v-combobox__selection",Q===d.value&&["v-combobox__selection--selected",y.value]],style:Q===d.value?_.value:{}},[q?n.chip?E(_r,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:$.title}}},{default:()=>{var Ae;return[(Ae=n.chip)==null?void 0:Ae.call(n,{item:$,index:Q,props:le})]}}):E(Wp,Te({key:"chip",closable:e.closableChips,size:"small",text:$.title},le),null):((de=n.selection)==null?void 0:de.call(n,{item:$,index:Q}))??E("span",{class:"v-combobox__selection-text"},[$.title,e.multiple&&Q<M.value.length-1&&E("span",{class:"v-combobox__selection-comma"},[Xe(",")])])])})]),"append-inner":function(){var le;for(var $=arguments.length,Q=new Array($),re=0;re<$;re++)Q[re]=arguments[re];return E(Ce,null,[(le=n["append-inner"])==null?void 0:le.call(n,...Q),(!e.hideNoData||e.items.length)&&e.menuIcon?E(Dr,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:X,onClick:b5},null):void 0])}})}),Eo({isFocused:o,isPristine:s,menu:f,search:T,selectionIndex:d,filteredItems:S,select:z},i)}});const sue=ce({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Yp({origin:"center center",scrollStrategy:"block",transition:{component:T_},zIndex:2400})},"VDialog"),lue=xe()({name:"VDialog",props:sue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),{scopeId:a}=Wd(),i=te();function o(l){var f,d;const u=l.relatedTarget,c=l.target;if(u!==c&&((f=i.value)!=null&&f.contentEl)&&((d=i.value)!=null&&d.globalTop)&&![document,i.value.contentEl].includes(c)&&!i.value.contentEl.contains(c)){const h=P2(i.value.contentEl);if(!h.length)return;const v=h[0],p=h[h.length-1];u===v?p.focus():v.focus()}}xn&&Le(()=>n.value&&e.retainFocus,l=>{l?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),Le(n,async l=>{var u,c;await Ot(),l?(u=i.value.contentEl)==null||u.focus({preventScroll:!0}):(c=i.value.activatorEl)==null||c.focus({preventScroll:!0})});const s=R(()=>Te({"aria-haspopup":"dialog","aria-expanded":String(n.value)},e.activatorProps));return Ee(()=>{const[l]=Vs.filterProps(e);return E(Vs,Te({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},l,{modelValue:n.value,"onUpdate:modelValue":u=>n.value=u,"aria-modal":"true",activatorProps:s.value,role:"dialog"},a),{activator:r.activator,default:function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return E(_r,{root:"VDialog"},{default:()=>{var d;return[(d=r.default)==null?void 0:d.call(r,...c)]}})}})}),Eo({},i)}});const fp=Symbol.for("vuetify:v-expansion-panel"),uue=["default","accordion","inset","popout"],cue=ce({color:String,variant:{type:String,default:"default",validator:e=>uue.includes(e)},readonly:Boolean,...Be(),...Vd(),...St(),...Yt()},"VExpansionPanels"),fue=xe()({name:"VExpansionPanels",props:cue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;Uc(e,fp);const{themeClasses:n}=cr(e),a=R(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return En({VExpansionPanel:{color:_e(e,"color")},VExpansionPanelTitle:{readonly:_e(e,"readonly")}}),Ee(()=>E(e.tag,{class:["v-expansion-panels",n.value,a.value,e.class],style:e.style},r)),{}}}),due=ce({...Be(),...R_()},"VExpansionPanelText"),iz=xe()({name:"VExpansionPanelText",props:due(),setup(e,t){let{slots:r}=t;const n=Dt(fp);if(!n)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:i}=eA(e,n.isSelected);return Ee(()=>E(C_,{onAfterLeave:i},{default:()=>{var o;return[Cr(E("div",{class:["v-expansion-panel-text",e.class],style:e.style},[r.default&&a.value&&E("div",{class:"v-expansion-panel-text__wrapper"},[(o=r.default)==null?void 0:o.call(r)])]),[[qa,n.isSelected.value]])]}})),{}}}),oz=ce({color:String,expandIcon:{type:vt,default:"$expand"},collapseIcon:{type:vt,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Be()},"VExpansionPanelTitle"),sz=xe()({name:"VExpansionPanelTitle",directives:{Ripple:Wl},props:oz(),setup(e,t){let{slots:r}=t;const n=Dt(fp);if(!n)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:i}=bn(e,"color"),o=R(()=>({collapseIcon:e.collapseIcon,disabled:n.disabled.value,expanded:n.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return Ee(()=>{var s;return Cr(E("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":n.isSelected.value},a.value,e.class],style:[i.value,e.style],type:"button",tabindex:n.disabled.value?-1:void 0,disabled:n.disabled.value,"aria-expanded":n.isSelected.value,onClick:e.readonly?void 0:n.toggle},[E("span",{class:"v-expansion-panel-title__overlay"},null),(s=r.default)==null?void 0:s.call(r,o.value),!e.hideActions&&E("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(o.value):E(Dr,{icon:n.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[Ja("ripple"),e.ripple]])}),{}}}),hue=ce({title:String,text:String,bgColor:String,...Be(),...Bn(),...Fd(),...R_(),...Hr(),...St(),...oz()},"VExpansionPanel"),vue=xe()({name:"VExpansionPanel",props:hue(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const n=zd(e,fp),{backgroundColorClasses:a,backgroundColorStyles:i}=bn(e,"bgColor"),{elevationClasses:o}=ea(e),{roundedClasses:s}=Qr(e),l=R(()=>(n==null?void 0:n.disabled.value)||e.disabled),u=R(()=>n.group.items.value.reduce((d,h,v)=>(n.group.selected.value.includes(h.id)&&d.push(v),d),[])),c=R(()=>{const d=n.group.items.value.findIndex(h=>h.id===n.id);return!n.isSelected.value&&u.value.some(h=>h-d===1)}),f=R(()=>{const d=n.group.items.value.findIndex(h=>h.id===n.id);return!n.isSelected.value&&u.value.some(h=>h-d===-1)});return sn(fp,n),Ee(()=>{const d=!!(r.text||e.text),h=!!(r.title||e.title);return E(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":n.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":f.value,"v-expansion-panel--disabled":l.value},s.value,a.value,e.class],style:[i.value,e.style]},{default:()=>{var v;return[E("div",{class:["v-expansion-panel__shadow",...o.value]},null),h&&E(sz,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[r.title?r.title():e.title]}),d&&E(iz,{key:"text",eager:e.eager},{default:()=>[r.text?r.text():e.text]}),(v=r.default)==null?void 0:v.call(r)]}})}),{}}});const pue=ce({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...Zs({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>Fi(e).every(t=>t!=null&&typeof t=="object")},...N_({clearable:!0})},"VFileInput"),mue=xe()({name:"VFileInput",inheritAttrs:!1,props:pue(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const{t:i}=Qi(),o=mt(e,"modelValue"),{isFocused:s,focus:l,blur:u}=Yl(e),c=R(()=>typeof e.showSize!="boolean"?e.showSize:void 0),f=R(()=>(o.value??[]).reduce((A,M)=>{let{size:C=0}=M;return A+C},0)),d=R(()=>rI(f.value,c.value)),h=R(()=>(o.value??[]).map(A=>{const{name:M="",size:C=0}=A;return e.showSize?`${M} (${rI(C,c.value)})`:M})),v=R(()=>{var M;const A=((M=o.value)==null?void 0:M.length)??0;return e.showSize?i(e.counterSizeString,A,d.value):i(e.counterString,A)}),p=te(),m=te(),g=te(),y=R(()=>s.value||e.active),_=R(()=>["plain","underlined"].includes(e.variant));function x(){var A;g.value!==document.activeElement&&((A=g.value)==null||A.focus()),s.value||l()}function w(A){T(A)}function b(A){n("mousedown:control",A)}function T(A){var M;(M=g.value)==null||M.click(),n("click:control",A)}function S(A){A.stopPropagation(),x(),Ot(()=>{o.value=[],M2(e["onClick:clear"],A)})}return Le(o,A=>{(!Array.isArray(A)||!A.length)&&g.value&&(g.value.value="")}),Ee(()=>{const A=!!(a.counter||e.counter),M=!!(A||a.details),[C,D]=Bc(r),[{modelValue:P,...I}]=Qn.filterProps(e),[k]=tA(e);return E(Qn,Te({ref:p,modelValue:o.value,"onUpdate:modelValue":V=>o.value=V,class:["v-file-input",{"v-text-field--plain-underlined":_.value},e.class],style:e.style,"onClick:prepend":w},C,I,{centerAffix:!_.value,focused:s.value}),{...a,default:V=>{let{id:H,isDisabled:O,isDirty:L,isReadonly:F,isValid:X}=V;return E(Xp,Te({ref:m,"prepend-icon":e.prependIcon,onMousedown:b,onClick:T,"onClick:clear":S,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},k,{id:H.value,active:y.value||L.value,dirty:L.value,disabled:O.value,focused:s.value,error:X.value===!1}),{...a,default:Y=>{var N;let{props:{class:G,...z}}=Y;return E(Ce,null,[E("input",Te({ref:g,type:"file",readonly:F.value,disabled:O.value,multiple:e.multiple,name:e.name,onClick:U=>{U.stopPropagation(),F.value&&U.preventDefault(),x()},onChange:U=>{if(!U.target)return;const Z=U.target;o.value=[...Z.files??[]]},onFocus:x,onBlur:u},z,D),null),E("div",{class:G},[!!((N=o.value)!=null&&N.length)&&(a.selection?a.selection({fileNames:h.value,totalBytes:f.value,totalBytesReadable:d.value}):e.chips?h.value.map(U=>E(Wp,{key:U,size:"small",color:e.color},{default:()=>[U]})):h.value.join(", "))])])}})},details:M?V=>{var H,O;return E(Ce,null,[(H=a.details)==null?void 0:H.call(a,V),A&&E(Ce,null,[E("span",null,null),E(k_,{active:!!((O=o.value)!=null&&O.length),value:v.value},a.counter)])])}:void 0})}),Eo({},p,m,g)}});const gue=ce({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ci(),...Be(),...Bn(),...Nd(),...Hr(),...St({tag:"footer"}),...Yt()},"VFooter"),yue=xe()({name:"VFooter",props:gue(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{backgroundColorClasses:a,backgroundColorStyles:i}=bn(_e(e,"color")),{borderClasses:o}=to(e),{elevationClasses:s}=ea(e),{roundedClasses:l}=Qr(e),u=Oe(32),{resizeRef:c}=rs(h=>{h.length&&(u.value=h[0].target.clientHeight)}),f=R(()=>e.height==="auto"?u.value:parseInt(e.height,10)),{layoutItemStyles:d}=Bd({id:e.name,order:R(()=>parseInt(e.order,10)),position:R(()=>"bottom"),layoutSize:f,elementSize:R(()=>e.height==="auto"?void 0:f.value),active:R(()=>e.app),absolute:_e(e,"absolute")});return Ee(()=>E(e.tag,{ref:c,class:["v-footer",n.value,a.value,o.value,s.value,l.value,e.class],style:[i.value,e.app?d.value:{height:ze(e.height)},e.style]},r)),{}}}),_ue=ce({...Be(),...Eoe()},"VForm"),xue=xe()({name:"VForm",props:_ue(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:r,emit:n}=t;const a=Doe(e),i=te();function o(l){l.preventDefault(),a.reset()}function s(l){const u=l,c=a.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),n("submit",u),u.defaultPrevented||c.then(f=>{var h;let{valid:d}=f;d&&((h=i.value)==null||h.submit())}),u.preventDefault()}return Ee(()=>{var l;return E("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:s},[(l=r.default)==null?void 0:l.call(r,a)])}),Eo(a,i)}});const bue=ce({fluid:{type:Boolean,default:!1},...Be(),...St()},"VContainer"),wue=xe()({name:"VContainer",props:bue(),setup(e,t){let{slots:r}=t;const{rtlClasses:n}=Xn();return Ee(()=>E(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},n.value,e.class],style:e.style},r)),{}}}),lz=(()=>I_.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),uz=(()=>I_.reduce((e,t)=>{const r="offset"+zs(t);return e[r]={type:[String,Number],default:null},e},{}))(),cz=(()=>I_.reduce((e,t)=>{const r="order"+zs(t);return e[r]={type:[String,Number],default:null},e},{}))(),VI={col:Object.keys(lz),offset:Object.keys(uz),order:Object.keys(cz)};function Sue(e,t,r){let n=e;if(!(r==null||r===!1)){if(t){const a=t.replace(e,"");n+=`-${a}`}return e==="col"&&(n="v-"+n),e==="col"&&(r===""||r===!0)||(n+=`-${r}`),n.toLowerCase()}}const Tue=["auto","start","end","center","baseline","stretch"],Cue=ce({cols:{type:[Boolean,String,Number],default:!1},...lz,offset:{type:[String,Number],default:null},...uz,order:{type:[String,Number],default:null},...cz,alignSelf:{type:String,default:null,validator:e=>Tue.includes(e)},...Be(),...St()},"VCol"),Aue=xe()({name:"VCol",props:Cue(),setup(e,t){let{slots:r}=t;const n=R(()=>{const a=[];let i;for(i in VI)VI[i].forEach(s=>{const l=e[s],u=Sue(i,s,l);u&&a.push(u)});const o=a.some(s=>s.startsWith("v-col-"));return a.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),a});return()=>{var a;return $i(e.tag,{class:[n.value,e.class],style:e.style},(a=r.default)==null?void 0:a.call(r))}}}),oA=["start","end","center"],fz=["space-between","space-around","space-evenly"];function sA(e,t){return I_.reduce((r,n)=>{const a=e+zs(n);return r[a]=t(),r},{})}const Eue=[...oA,"baseline","stretch"],dz=e=>Eue.includes(e),hz=sA("align",()=>({type:String,default:null,validator:dz})),Due=[...oA,...fz],vz=e=>Due.includes(e),pz=sA("justify",()=>({type:String,default:null,validator:vz})),Mue=[...oA,...fz,"stretch"],mz=e=>Mue.includes(e),gz=sA("alignContent",()=>({type:String,default:null,validator:mz})),FI={align:Object.keys(hz),justify:Object.keys(pz),alignContent:Object.keys(gz)},Pue={align:"align",justify:"justify",alignContent:"align-content"};function Lue(e,t,r){let n=Pue[e];if(r!=null){if(t){const a=t.replace(e,"");n+=`-${a}`}return n+=`-${r}`,n.toLowerCase()}}const Iue=ce({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:dz},...hz,justify:{type:String,default:null,validator:vz},...pz,alignContent:{type:String,default:null,validator:mz},...gz,...Be(),...St()},"VRow"),Rue=xe()({name:"VRow",props:Iue(),setup(e,t){let{slots:r}=t;const n=R(()=>{const a=[];let i;for(i in FI)FI[i].forEach(o=>{const s=e[o],l=Lue(i,o,s);l&&a.push(l)});return a.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),a});return()=>{var a;return $i(e.tag,{class:["v-row",n.value,e.class],style:e.style},(a=r.default)==null?void 0:a.call(r))}}}),Oue=Ao("flex-grow-1","div","VSpacer"),kue=ce({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...I4()},"VHover"),Nue=xe()({name:"VHover",props:kue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),{runOpenDelay:a,runCloseDelay:i}=R4(e,o=>!e.disabled&&(n.value=o));return()=>{var o;return(o=r.default)==null?void 0:o.call(r,{isHovering:n.value,props:{onMouseenter:a,onMouseleave:i}})}}});const yz=Symbol.for("vuetify:v-item-group"),Bue=ce({...Be(),...Vd({selectedClass:"v-item--selected"}),...St(),...Yt()},"VItemGroup"),Vue=xe()({name:"VItemGroup",props:Bue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{isSelected:a,select:i,next:o,prev:s,selected:l}=Uc(e,yz);return()=>E(e.tag,{class:["v-item-group",n.value,e.class],style:e.style},{default:()=>{var u;return[(u=r.default)==null?void 0:u.call(r,{isSelected:a,select:i,next:o,prev:s,selected:l.value})]}})}}),Fue=xe()({name:"VItem",props:Fd(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const{isSelected:n,select:a,toggle:i,selectedClass:o,value:s,disabled:l}=zd(e,yz);return()=>{var u;return(u=r.default)==null?void 0:u.call(r,{isSelected:n.value,selectedClass:o.value,select:a,toggle:i,value:s.value,disabled:l.value})}}});const zue=Ao("v-kbd");const Uue=ce({...Be(),...k5()},"VLayout"),Hue=xe()({name:"VLayout",props:Uue(),setup(e,t){let{slots:r}=t;const{layoutClasses:n,layoutStyles:a,getLayoutItem:i,items:o,layoutRef:s}=N5(e);return Ee(()=>{var l;return E("div",{ref:s,class:[n.value,e.class],style:[a.value,e.style]},[(l=r.default)==null?void 0:l.call(r)])}),{getLayoutItem:i,items:o}}});const Gue=ce({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Be(),...Nd()},"VLayoutItem"),$ue=xe()({name:"VLayoutItem",props:Gue(),setup(e,t){let{slots:r}=t;const{layoutItemStyles:n}=Bd({id:e.name,order:R(()=>parseInt(e.order,10)),position:_e(e,"position"),elementSize:_e(e,"size"),layoutSize:_e(e,"size"),active:_e(e,"modelValue"),absolute:_e(e,"absolute")});return()=>{var a;return E("div",{class:["v-layout-item",e.class],style:[n.value,e.style]},[(a=r.default)==null?void 0:a.call(r)])}}}),Wue=ce({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Be(),...Ji(),...St(),...js({transition:"fade-transition"})},"VLazy"),Yue=xe()({name:"VLazy",directives:{intersect:Hp},props:Wue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{dimensionStyles:n}=eo(e),a=mt(e,"modelValue");function i(o){a.value||(a.value=o)}return Ee(()=>Cr(E(e.tag,{class:["v-lazy",e.class],style:[n.value,e.style]},{default:()=>[a.value&&E(go,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=r.default)==null?void 0:o.call(r)]}})]}),[[Ja("intersect"),{handler:i,options:e.options},null]])),{}}});const Xue=ce({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Be()},"VLocaleProvider"),jue=xe()({name:"VLocaleProvider",props:Xue(),setup(e,t){let{slots:r}=t;const{rtlClasses:n}=hie(e);return Ee(()=>{var a;return E("div",{class:["v-locale-provider",n.value,e.class],style:e.style},[(a=r.default)==null?void 0:a.call(r)])}),{}}});const que=ce({scrollable:Boolean,...Be(),...St({tag:"main"})},"VMain"),Zue=xe()({name:"VMain",props:que(),setup(e,t){let{slots:r}=t;const{mainStyles:n}=oie(),{ssrBootStyles:a}=Vc();return Ee(()=>E(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,a.value,e.style]},{default:()=>{var i,o;return[e.scrollable?E("div",{class:"v-main__scroller"},[(i=r.default)==null?void 0:i.call(r)]):(o=r.default)==null?void 0:o.call(r)]}})),{}}});function Kue(e){let{rootEl:t,isSticky:r,layoutItemStyles:n}=e;const a=Oe(!1),i=Oe(0),o=R(()=>{const u=typeof a.value=="boolean"?"top":a.value;return[r.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[u]:ze(i.value)}:{top:n.value.top}]});Qt(()=>{Le(r,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Jn(()=>{window.removeEventListener("scroll",l)});let s=0;function l(){const u=s>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),f=parseFloat(n.value.top??0),d=window.scrollY-Math.max(0,i.value-f),h=c.height+Math.max(i.value,f)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-f?(a.value="top",i.value=f):u==="up"&&a.value==="bottom"||u==="down"&&a.value==="top"?(i.value=window.scrollY+c.top-v,a.value=!0):u==="down"&&h<=0?(i.value=0,a.value="bottom"):u==="up"&&d<=0&&(v?a.value!=="top"&&(i.value=-d+v+f,a.value="top"):(i.value=c.top+d,a.value="top")),s=window.scrollY}return{isStuck:a,stickyStyles:o}}const Que=100,Jue=20;function zI(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function UI(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let r=e.length-1;r>0;r--){if(e[r].t===e[r-1].t)continue;const n=zI(t),a=(e[r].d-e[r-1].d)/(e[r].t-e[r-1].t);t+=(a-n)*Math.abs(a),r===e.length-1&&(t*=.5)}return zI(t)*1e3}function ece(){const e={};function t(a){Array.from(a.changedTouches).forEach(i=>{(e[i.identifier]??(e[i.identifier]=new Iae(Jue))).push([a.timeStamp,i])})}function r(a){Array.from(a.changedTouches).forEach(i=>{delete e[i.identifier]})}function n(a){var u;const i=(u=e[a])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${a}`);const o=i[0],s=[],l=[];for(const c of i){if(o[0]-c[0]>Que)break;s.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:UI(s),y:UI(l),get direction(){const{x:c,y:f}=this,[d,h]=[Math.abs(c),Math.abs(f)];return d>h&&c>=0?"right":d>h&&c<=0?"left":h>d&&f>=0?"down":h>d&&f<=0?"up":tce()}}}return{addMovement:t,endTouch:r,getVelocity:n}}function tce(){throw new Error}function rce(e){let{isActive:t,isTemporary:r,width:n,touchless:a,position:i}=e;Qt(()=>{window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("touchmove",y,{passive:!1}),window.addEventListener("touchend",_,{passive:!0})}),Jn(()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",_)});const o=R(()=>["left","right"].includes(i.value)),{addMovement:s,endTouch:l,getVelocity:u}=ece();let c=!1;const f=Oe(!1),d=Oe(0),h=Oe(0);let v;function p(w,b){return(i.value==="left"?w:i.value==="right"?document.documentElement.clientWidth-w:i.value==="top"?w:i.value==="bottom"?document.documentElement.clientHeight-w:_f())-(b?n.value:0)}function m(w){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const T=i.value==="left"?(w-h.value)/n.value:i.value==="right"?(document.documentElement.clientWidth-w-h.value)/n.value:i.value==="top"?(w-h.value)/n.value:i.value==="bottom"?(document.documentElement.clientHeight-w-h.value)/n.value:_f();return b?Math.max(0,Math.min(1,T)):T}function g(w){if(a.value)return;const b=w.changedTouches[0].clientX,T=w.changedTouches[0].clientY,S=25,A=i.value==="left"?b<S:i.value==="right"?b>document.documentElement.clientWidth-S:i.value==="top"?T<S:i.value==="bottom"?T>document.documentElement.clientHeight-S:_f(),M=t.value&&(i.value==="left"?b<n.value:i.value==="right"?b>document.documentElement.clientWidth-n.value:i.value==="top"?T<n.value:i.value==="bottom"?T>document.documentElement.clientHeight-n.value:_f());(A||M||t.value&&r.value)&&(c=!0,v=[b,T],h.value=p(o.value?b:T,t.value),d.value=m(o.value?b:T),l(w),s(w))}function y(w){const b=w.changedTouches[0].clientX,T=w.changedTouches[0].clientY;if(c){if(!w.cancelable){c=!1;return}const A=Math.abs(b-v[0]),M=Math.abs(T-v[1]);(o.value?A>M&&A>3:M>A&&M>3)?(f.value=!0,c=!1):(o.value?M:A)>3&&(c=!1)}if(!f.value)return;w.preventDefault(),s(w);const S=m(o.value?b:T,!1);d.value=Math.max(0,Math.min(1,S)),S>1?h.value=p(o.value?b:T,!0):S<0&&(h.value=p(o.value?b:T,!1))}function _(w){if(c=!1,!f.value)return;s(w),f.value=!1;const b=u(w.changedTouches[0].identifier),T=Math.abs(b.x),S=Math.abs(b.y);(o.value?T>S&&T>400:S>T&&S>3)?t.value=b.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||_f()):t.value=d.value>.5}const x=R(()=>f.value?{transform:i.value==="left"?`translateX(calc(-100% + ${d.value*n.value}px))`:i.value==="right"?`translateX(calc(100% - ${d.value*n.value}px))`:i.value==="top"?`translateY(calc(-100% + ${d.value*n.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${d.value*n.value}px))`:_f(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:x}}function _f(){throw new Error}const nce=["start","end","left","right","top","bottom"],ace=ce({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>nce.includes(e)},sticky:Boolean,...ci(),...Be(),...Bn(),...Nd(),...Hr(),...St({tag:"nav"}),...Yt()},"VNavigationDrawer"),ice=xe()({name:"VNavigationDrawer",props:ace(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const{isRtl:i}=Xn(),{themeClasses:o}=cr(e),{borderClasses:s}=to(e),{backgroundColorClasses:l,backgroundColorStyles:u}=bn(_e(e,"color")),{elevationClasses:c}=ea(e),{mobile:f}=Hc(),{roundedClasses:d}=Qr(e),h=K5(),v=mt(e,"modelValue",null,L=>!!L),{ssrBootStyles:p}=Vc(),{scopeId:m}=Wd(),g=te(),y=Oe(!1),_=R(()=>e.rail&&e.expandOnHover&&y.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),x=R(()=>DS(e.location,i.value)),w=R(()=>!e.permanent&&(f.value||e.temporary)),b=R(()=>e.sticky&&!w.value&&x.value!=="bottom");e.expandOnHover&&e.rail!=null&&Le(y,L=>n("update:rail",!L)),e.disableResizeWatcher||Le(w,L=>!e.permanent&&Ot(()=>v.value=!L)),!e.disableRouteWatcher&&h&&Le(h.currentRoute,()=>w.value&&(v.value=!1)),Le(()=>e.permanent,L=>{L&&(v.value=!0)}),M0(()=>{e.modelValue!=null||w.value||(v.value=e.permanent||!f.value)});const{isDragging:T,dragProgress:S,dragStyles:A}=rce({isActive:v,isTemporary:w,width:_,touchless:_e(e,"touchless"),position:x}),M=R(()=>{const L=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):_.value;return T.value?L*S.value:L}),{layoutItemStyles:C,layoutItemScrimStyles:D}=Bd({id:e.name,order:R(()=>parseInt(e.order,10)),position:x,layoutSize:M,elementSize:_,active:R(()=>v.value||T.value),disableTransitions:R(()=>T.value),absolute:R(()=>e.absolute||b.value&&typeof P.value!="string")}),{isStuck:P,stickyStyles:I}=Kue({rootEl:g,isSticky:b,layoutItemStyles:C}),k=bn(R(()=>typeof e.scrim=="string"?e.scrim:null)),V=R(()=>({...T.value?{opacity:S.value*.2,transition:"none"}:void 0,...D.value}));En({VList:{bgColor:"transparent"}});function H(){y.value=!0}function O(){y.value=!1}return Ee(()=>{const L=a.image||e.image;return E(Ce,null,[E(e.tag,Te({ref:g,onMouseenter:H,onMouseleave:O,class:["v-navigation-drawer",`v-navigation-drawer--${x.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":y.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":b.value},o.value,l.value,s.value,c.value,d.value,e.class],style:[u.value,C.value,A.value,p.value,I.value,e.style]},m,r),{default:()=>{var F,X,Y,G;return[L&&E("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(F=a.image)==null?void 0:F.call(a,{image:e.image}):E("img",{src:e.image,alt:""},null)]),a.prepend&&E("div",{class:"v-navigation-drawer__prepend"},[(X=a.prepend)==null?void 0:X.call(a)]),E("div",{class:"v-navigation-drawer__content"},[(Y=a.default)==null?void 0:Y.call(a)]),a.append&&E("div",{class:"v-navigation-drawer__append"},[(G=a.append)==null?void 0:G.call(a)])]}}),E(ha,{name:"fade-transition"},{default:()=>[w.value&&(T.value||v.value)&&!!e.scrim&&E("div",Te({class:["v-navigation-drawer__scrim",k.backgroundColorClasses.value],style:[V.value,k.backgroundColorStyles.value],onClick:()=>v.value=!1},m),null)]})])}),{isStuck:P}}}),oce=Ki({name:"VNoSsr",setup(e,t){let{slots:r}=t;const n=O4();return()=>{var a;return n.value&&((a=r.default)==null?void 0:a.call(r))}}});function sce(){const e=te([]);GT(()=>e.value=[]);function t(r,n){e.value[n]=r}return{refs:e,updateRef:t}}const lce=ce({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:vt,default:"$first"},prevIcon:{type:vt,default:"$prev"},nextIcon:{type:vt,default:"$next"},lastIcon:{type:vt,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ci(),...Be(),...Vn(),...Bn(),...Hr(),...qs(),...St({tag:"nav"}),...Yt(),...ro({variant:"text"})},"VPagination"),uce=xe()({name:"VPagination",props:lce(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:r,emit:n}=t;const a=mt(e,"modelValue"),{t:i,n:o}=Qi(),{isRtl:s}=Xn(),{themeClasses:l}=cr(e),{width:u}=Hc(),c=Oe(-1);En(void 0,{scoped:!0});const{resizeRef:f}=rs(S=>{if(!S.length)return;const{target:A,contentRect:M}=S[0],C=A.querySelector(".v-pagination__list > *");if(!C)return;const D=M.width,P=C.offsetWidth+parseFloat(getComputedStyle(C).marginRight)*2;c.value=p(D,P)}),d=R(()=>parseInt(e.length,10)),h=R(()=>parseInt(e.start,10)),v=R(()=>e.totalVisible?parseInt(e.totalVisible,10):c.value>=0?c.value:p(u.value,58));function p(S,A){const M=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-A*M)/A).toFixed(2)))}const m=R(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(v.value<=1)return[a.value];if(d.value<=v.value)return Es(d.value,h.value);const S=v.value%2===0,A=S?v.value/2:Math.floor(v.value/2),M=S?A:A+1,C=d.value-A;if(M-a.value>=0)return[...Es(Math.max(1,v.value-1),h.value),e.ellipsis,d.value];if(a.value-C>=(S?1:0)){const D=v.value-1,P=d.value-D+h.value;return[h.value,e.ellipsis,...Es(D,P)]}else{const D=Math.max(1,v.value-3),P=D===1?a.value:a.value-Math.ceil(D/2)+h.value;return[h.value,e.ellipsis,...Es(D,P),e.ellipsis,d.value]}});function g(S,A,M){S.preventDefault(),a.value=A,M&&n(M,A)}const{refs:y,updateRef:_}=sce();En({VPaginationBtn:{color:_e(e,"color"),border:_e(e,"border"),density:_e(e,"density"),size:_e(e,"size"),variant:_e(e,"variant"),rounded:_e(e,"rounded"),elevation:_e(e,"elevation")}});const x=R(()=>m.value.map((S,A)=>{const M=C=>_(C,A);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${A}`,page:S,props:{ref:M,ellipsis:!0,icon:!0,disabled:!0}};{const C=S===a.value;return{isActive:C,key:S,page:o(S),props:{ref:M,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:C?e.activeColor:e.color,ariaCurrent:C,ariaLabel:i(C?e.currentPageAriaLabel:e.pageAriaLabel,S),onClick:D=>g(D,S)}}}})),w=R(()=>{const S=!!e.disabled||a.value<=h.value,A=!!e.disabled||a.value>=h.value+d.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:M=>g(M,h.value,"first"),disabled:S,ariaLabel:i(e.firstAriaLabel),ariaDisabled:S}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:M=>g(M,a.value-1,"prev"),disabled:S,ariaLabel:i(e.previousAriaLabel),ariaDisabled:S},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:M=>g(M,a.value+1,"next"),disabled:A,ariaLabel:i(e.nextAriaLabel),ariaDisabled:A},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:M=>g(M,h.value+d.value-1,"last"),disabled:A,ariaLabel:i(e.lastAriaLabel),ariaDisabled:A}:void 0}});function b(){var A;const S=a.value-h.value;(A=y.value[S])==null||A.$el.focus()}function T(S){S.key===AS.left&&!e.disabled&&a.value>+e.start?(a.value=a.value-1,Ot(b)):S.key===AS.right&&!e.disabled&&a.value<h.value+d.value-1&&(a.value=a.value+1,Ot(b))}return Ee(()=>E(e.tag,{ref:f,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":i(e.ariaLabel),onKeydown:T,"data-test":"v-pagination-root"},{default:()=>[E("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&E("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[r.first?r.first(w.value.first):E(Pa,Te({_as:"VPaginationBtn"},w.value.first),null)]),E("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[r.prev?r.prev(w.value.prev):E(Pa,Te({_as:"VPaginationBtn"},w.value.prev),null)]),x.value.map((S,A)=>E("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[r.item?r.item(S):E(Pa,Te({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),E("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[r.next?r.next(w.value.next):E(Pa,Te({_as:"VPaginationBtn"},w.value.next),null)]),e.showFirstLastPage&&E("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[r.last?r.last(w.value.last):E(Pa,Te({_as:"VPaginationBtn"},w.value.last),null)])])]})),{}}});function cce(e){return Math.floor(Math.abs(e))*Math.sign(e)}const fce=ce({scale:{type:[Number,String],default:.5},...Be()},"VParallax"),dce=xe()({name:"VParallax",props:fce(),setup(e,t){let{slots:r}=t;const{intersectionRef:n,isIntersecting:a}=W2(),{resizeRef:i,contentRect:o}=rs(),{height:s}=Hc(),l=te();Xr(()=>{var h;n.value=i.value=(h=l.value)==null?void 0:h.$el});let u;Le(a,h=>{h?(u=k2(n.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",d,{passive:!0}),d()):u.removeEventListener("scroll",d)}),Jn(()=>{u==null||u.removeEventListener("scroll",d)}),Le(s,d),Le(()=>{var h;return(h=o.value)==null?void 0:h.height},d);const c=R(()=>1-ca(+e.scale));let f=-1;function d(){a.value&&(cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;const h=((w=l.value)==null?void 0:w.$el).querySelector(".v-img__img");if(!h)return;const v=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,p=u instanceof Document?window.scrollY:u.scrollTop,m=n.value.getBoundingClientRect().top+p,g=o.value.height,y=m+(g-v)/2,_=cce((p-y)*c.value),x=Math.max(1,(c.value*(v-g)+g)/g);h.style.setProperty("transform",`translateY(${_}px) scale(${x})`)}))}return Ee(()=>E(Sc,{class:["v-parallax",{"v-parallax--active":a.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:d,onLoad:d},r)),{}}}),hce=ce({...D_({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),vce=xe()({name:"VRadio",props:hce(),setup(e,t){let{slots:r}=t;return Ee(()=>E(fd,Te(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),r)),{}}});const pce=ce({height:{type:[Number,String],default:"auto"},...Zs(),...os(K2(),["multiple"]),trueIcon:{type:vt,default:"$radioOn"},falseIcon:{type:vt,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),mce=xe()({name:"VRadioGroup",inheritAttrs:!1,props:pce(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const a=ga(),i=R(()=>e.id||`radio-group-${a}`),o=mt(e,"modelValue");return Ee(()=>{const[s,l]=Bc(r),[u,c]=Qn.filterProps(e),[f,d]=fd.filterProps(e),h=n.label?n.label({label:e.label,props:{for:i.value}}):e.label;return E(Qn,Te({class:["v-radio-group",e.class],style:e.style},s,u,{modelValue:o.value,"onUpdate:modelValue":v=>o.value=v,id:i.value}),{...n,default:v=>{let{id:p,messagesId:m,isDisabled:g,isReadonly:y}=v;return E(Ce,null,[h&&E($d,{id:p.value},{default:()=>[h]}),E(l4,Te(f,{id:p.value,"aria-describedby":m.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:g.value,readonly:y.value,"aria-labelledby":h?p.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_}),n)])}})}),{}}}),gce=ce({...M_(),...Zs(),...ez(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),yce=xe()({name:"VRangeSlider",props:gce(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:r,emit:n}=t;const a=te(),i=te(),o=te(),{rtlClasses:s}=Xn();function l(A){if(!a.value||!i.value)return;const M=qS(A,a.value.$el,e.direction),C=qS(A,i.value.$el,e.direction),D=Math.abs(M),P=Math.abs(C);return D<P||D===P&&M<0?a.value.$el:i.value.$el}const u=tz(e),c=mt(e,"modelValue",void 0,A=>A!=null&&A.length?A.map(M=>u.roundValue(M)):[0,0]),{activeThumbRef:f,hasLabels:d,max:h,min:v,mousePressed:p,onSliderMousedown:m,onSliderTouchstart:g,position:y,trackContainerRef:_}=rz({props:e,steps:u,onSliderStart:()=>{n("start",c.value)},onSliderEnd:A=>{var D;let{value:M}=A;const C=f.value===((D=a.value)==null?void 0:D.$el)?[M,c.value[1]]:[c.value[0],M];!e.strict&&C[0]<C[1]&&(c.value=C),n("end",c.value)},onSliderMove:A=>{var P,I,k,V;let{value:M}=A;const[C,D]=c.value;!e.strict&&C===D&&C!==v.value&&(f.value=M>C?(P=i.value)==null?void 0:P.$el:(I=a.value)==null?void 0:I.$el,(k=f.value)==null||k.focus()),f.value===((V=a.value)==null?void 0:V.$el)?c.value=[Math.min(M,D),D]:c.value=[C,Math.max(C,M)]},getActiveThumb:l}),{isFocused:x,focus:w,blur:b}=Yl(e),T=R(()=>y(c.value[0])),S=R(()=>y(c.value[1]));return Ee(()=>{const[A,M]=Qn.filterProps(e),C=!!(e.label||r.label||r.prepend);return E(Qn,Te({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!r["tick-label"]||d.value,"v-slider--focused":x.value,"v-slider--pressed":p.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style,ref:o},A,{focused:x.value}),{...r,prepend:C?D=>{var P,I;return E(Ce,null,[((P=r.label)==null?void 0:P.call(r,D))??e.label?E($d,{class:"v-slider__label",text:e.label},null):void 0,(I=r.prepend)==null?void 0:I.call(r,D)])}:void 0,default:D=>{var k,V;let{id:P,messagesId:I}=D;return E("div",{class:"v-slider__container",onMousedown:m,onTouchstartPassive:g},[E("input",{id:`${P.value}_start`,name:e.name||P.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[0]},null),E("input",{id:`${P.value}_stop`,name:e.name||P.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[1]},null),E(nz,{ref:_,start:T.value,stop:S.value},{"tick-label":r["tick-label"]}),E(ZS,{ref:a,"aria-describedby":I.value,focused:x&&f.value===((k=a.value)==null?void 0:k.$el),modelValue:c.value[0],"onUpdate:modelValue":H=>c.value=[H,c.value[1]],onFocus:H=>{var O,L,F,X;w(),f.value=(O=a.value)==null?void 0:O.$el,c.value[0]===c.value[1]&&c.value[1]===v.value&&H.relatedTarget!==((L=i.value)==null?void 0:L.$el)&&((F=a.value)==null||F.$el.blur(),(X=i.value)==null||X.$el.focus())},onBlur:()=>{b(),f.value=void 0},min:v.value,max:c.value[1],position:T.value},{"thumb-label":r["thumb-label"]}),E(ZS,{ref:i,"aria-describedby":I.value,focused:x&&f.value===((V=i.value)==null?void 0:V.$el),modelValue:c.value[1],"onUpdate:modelValue":H=>c.value=[c.value[0],H],onFocus:H=>{var O,L,F,X;w(),f.value=(O=i.value)==null?void 0:O.$el,c.value[0]===c.value[1]&&c.value[0]===h.value&&H.relatedTarget!==((L=a.value)==null?void 0:L.$el)&&((F=i.value)==null||F.$el.blur(),(X=a.value)==null||X.$el.focus())},onBlur:()=>{b(),f.value=void 0},min:c.value[0],max:h.value,position:S.value},{"thumb-label":r["thumb-label"]})])}})}),{}}});const _ce=ce({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:vt,default:"$ratingEmpty"},fullIcon:{type:vt,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Be(),...Vn(),...qs(),...St(),...Yt()},"VRating"),xce=xe()({name:"VRating",props:_ce(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{t:n}=Qi(),{themeClasses:a}=cr(e),i=mt(e,"modelValue"),o=R(()=>ca(parseFloat(i.value),0,+e.length)),s=R(()=>Es(Number(e.length),1)),l=R(()=>s.value.flatMap(p=>e.halfIncrements?[p-.5,p]:[p])),u=Oe(-1),c=R(()=>l.value.map(p=>{const m=e.hover&&u.value>-1,g=o.value>=p,y=u.value>=p,x=(m?y:g)?e.fullIcon:e.emptyIcon,w=e.activeColor??e.color,b=g||y?w:e.color;return{isFilled:g,isHovered:y,icon:x,color:b}})),f=R(()=>[0,...l.value].map(p=>{function m(){u.value=p}function g(){u.value=-1}function y(){e.disabled||e.readonly||(i.value=o.value===p&&e.clearable?0:p)}return{onMouseenter:e.hover?m:void 0,onMouseleave:e.hover?g:void 0,onClick:y}})),d=R(()=>e.name??`v-rating-${ga()}`);function h(p){var S,A;let{value:m,index:g,showStar:y=!0}=p;const{onMouseenter:_,onMouseleave:x,onClick:w}=f.value[g+1],b=`${d.value}-${String(m).replace(".","-")}`,T={color:(S=c.value[g])==null?void 0:S.color,density:e.density,disabled:e.disabled,icon:(A=c.value[g])==null?void 0:A.icon,ripple:e.ripple,size:e.size,variant:"plain"};return E(Ce,null,[E("label",{for:b,class:{"v-rating__item--half":e.halfIncrements&&m%1>0,"v-rating__item--full":e.halfIncrements&&m%1===0},onMouseenter:_,onMouseleave:x,onClick:w},[E("span",{class:"v-rating__hidden"},[n(e.itemAriaLabel,m,e.length)]),y?r.item?r.item({...c.value[g],props:T,value:m,index:g,rating:o.value}):E(Pa,T,null):void 0]),E("input",{class:"v-rating__hidden",name:d.value,id:b,type:"radio",value:m,checked:o.value===m,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function v(p){return r["item-label"]?r["item-label"](p):p.label?E("span",null,[p.label]):E("span",null,[Xe("")])}return Ee(()=>{var m;const p=!!((m=e.itemLabels)!=null&&m.length)||r["item-label"];return E(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},a.value,e.class],style:e.style},{default:()=>[E(h,{value:0,index:-1,showStar:!1},null),s.value.map((g,y)=>{var _,x;return E("div",{class:"v-rating__wrapper"},[p&&e.itemLabelPosition==="top"?v({value:g,index:y,label:(_=e.itemLabels)==null?void 0:_[y]}):void 0,E("div",{class:"v-rating__item"},[e.halfIncrements?E(Ce,null,[E(h,{value:g-.5,index:y*2},null),E(h,{value:g,index:y*2+1},null)]):E(h,{value:g,index:y},null)]),p&&e.itemLabelPosition==="bottom"?v({value:g,index:y,label:(x=e.itemLabels)==null?void 0:x[y]}):void 0])})]})}),{}}});function HI(e){const r=Math.abs(e);return Math.sign(e)*(r/((1/.501-2)*(1-r)+1))}function GI(e){let{selectedElement:t,containerSize:r,contentSize:n,isRtl:a,currentScrollOffset:i,isHorizontal:o}=e;const s=o?t.clientWidth:t.clientHeight,l=o?t.offsetLeft:t.offsetTop,u=a&&o?n-l-s:l,c=r+i,f=s+u,d=s*.4;return u<=i?i=Math.max(u-d,0):c<=f&&(i=Math.min(i-(c-f-d),n-r)),i}function bce(e){let{selectedElement:t,containerSize:r,contentSize:n,isRtl:a,isHorizontal:i}=e;const o=i?t.clientWidth:t.clientHeight,s=i?t.offsetLeft:t.offsetTop,l=a&&i?n-s-o/2-r/2:s+o/2-r/2;return Math.min(n-r,Math.max(0,l))}const _z=Symbol.for("vuetify:v-slide-group"),xz=ce({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:_z},nextIcon:{type:vt,default:"$next"},prevIcon:{type:vt,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Be(),...St(),...Vd({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),JS=xe()({name:"VSlideGroup",props:xz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isRtl:n}=Xn(),{mobile:a}=Hc(),i=Uc(e,e.symbol),o=Oe(!1),s=Oe(0),l=Oe(0),u=Oe(0),c=R(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:d}=rs(),{resizeRef:h,contentRect:v}=rs(),p=R(()=>i.selected.value.length?i.items.value.findIndex(F=>F.id===i.selected.value[0]):-1),m=R(()=>i.selected.value.length?i.items.value.findIndex(F=>F.id===i.selected.value[i.selected.value.length-1]):-1);if(xn){let F=-1;Le(()=>[i.selected.value,d.value,v.value,c.value],()=>{cancelAnimationFrame(F),F=requestAnimationFrame(()=>{if(d.value&&v.value){const X=c.value?"width":"height";l.value=d.value[X],u.value=v.value[X],o.value=l.value+1<u.value}if(p.value>=0&&h.value){const X=h.value.children[m.value];p.value===0||!o.value?s.value=0:e.centerActive?s.value=bce({selectedElement:X,containerSize:l.value,contentSize:u.value,isRtl:n.value,isHorizontal:c.value}):o.value&&(s.value=GI({selectedElement:X,containerSize:l.value,contentSize:u.value,isRtl:n.value,currentScrollOffset:s.value,isHorizontal:c.value}))}})})}const g=Oe(!1);let y=0,_=0;function x(F){const X=c.value?"clientX":"clientY";_=(n.value&&c.value?-1:1)*s.value,y=F.touches[0][X],g.value=!0}function w(F){if(!o.value)return;const X=c.value?"clientX":"clientY",Y=n.value&&c.value?-1:1;s.value=Y*(_+y-F.touches[0][X])}function b(F){const X=u.value-l.value;s.value<0||!o.value?s.value=0:s.value>=X&&(s.value=X),g.value=!1}function T(){f.value&&(f.value[c.value?"scrollLeft":"scrollTop"]=0)}const S=Oe(!1);function A(F){if(S.value=!0,!(!o.value||!h.value)){for(const X of F.composedPath())for(const Y of h.value.children)if(Y===X){s.value=GI({selectedElement:Y,containerSize:l.value,contentSize:u.value,isRtl:n.value,currentScrollOffset:s.value,isHorizontal:c.value});return}}}function M(F){S.value=!1}function C(F){var X;!S.value&&!(F.relatedTarget&&((X=h.value)!=null&&X.contains(F.relatedTarget)))&&P()}function D(F){h.value&&(c.value?F.key==="ArrowRight"?P(n.value?"prev":"next"):F.key==="ArrowLeft"&&P(n.value?"next":"prev"):F.key==="ArrowDown"?P("next"):F.key==="ArrowUp"&&P("prev"),F.key==="Home"?P("first"):F.key==="End"&&P("last"))}function P(F){var X,Y,G,z,N;if(h.value)if(!F)(X=P2(h.value)[0])==null||X.focus();else if(F==="next"){const U=(Y=h.value.querySelector(":focus"))==null?void 0:Y.nextElementSibling;U?U.focus():P("first")}else if(F==="prev"){const U=(G=h.value.querySelector(":focus"))==null?void 0:G.previousElementSibling;U?U.focus():P("last")}else F==="first"?(z=h.value.firstElementChild)==null||z.focus():F==="last"&&((N=h.value.lastElementChild)==null||N.focus())}function I(F){const X=s.value+(F==="prev"?-1:1)*l.value;s.value=ca(X,0,u.value-l.value)}const k=R(()=>{let F=s.value>u.value-l.value?-(u.value-l.value)+HI(u.value-l.value-s.value):-s.value;s.value<=0&&(F=HI(-s.value));const X=n.value&&c.value?-1:1;return{transform:`translate${c.value?"X":"Y"}(${X*F}px)`,transition:g.value?"none":"",willChange:g.value?"transform":""}}),V=R(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),H=R(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return o.value||Math.abs(s.value)>0;case"mobile":return a.value||o.value||Math.abs(s.value)>0;default:return!a.value&&(o.value||Math.abs(s.value)>0)}}),O=R(()=>Math.abs(s.value)>0),L=R(()=>u.value>Math.abs(s.value)+l.value);return Ee(()=>E(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":H.value,"v-slide-group--is-overflowing":o.value},e.class],style:e.style,tabindex:S.value||i.selected.value.length?-1:0,onFocus:C},{default:()=>{var F,X,Y;return[H.value&&E("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!O.value}],onClick:()=>I("prev")},[((F=r.prev)==null?void 0:F.call(r,V.value))??E(LS,null,{default:()=>[E(Dr,{icon:n.value?e.nextIcon:e.prevIcon},null)]})]),E("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:T},[E("div",{ref:h,class:"v-slide-group__content",style:k.value,onTouchstartPassive:x,onTouchmovePassive:w,onTouchendPassive:b,onFocusin:A,onFocusout:M,onKeydown:D},[(X=r.default)==null?void 0:X.call(r,V.value)])]),H.value&&E("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!L.value}],onClick:()=>I("next")},[((Y=r.next)==null?void 0:Y.call(r,V.value))??E(LS,null,{default:()=>[E(Dr,{icon:n.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:I,scrollOffset:s,focus:P}}}),wce=xe()({name:"VSlideGroupItem",props:Fd(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const n=zd(e,_z);return()=>{var a;return(a=r.default)==null?void 0:a.call(r,{isSelected:n.isSelected.value,select:n.select,toggle:n.toggle,selectedClass:n.selectedClass.value})}}});const Sce=ce({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Gl({location:"bottom"}),...Hd(),...Hr(),...ro(),...Yt(),...os(Yp({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Tce=xe()({name:"VSnackbar",props:Sce(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),{locationStyles:a}=$l(e),{positionClasses:i}=Gd(e),{scopeId:o}=Wd(),{themeClasses:s}=cr(e),{colorClasses:l,colorStyles:u,variantClasses:c}=zc(e),{roundedClasses:f}=Qr(e),d=te();Le(n,v),Le(()=>e.timeout,v),Qt(()=>{n.value&&v()});let h=-1;function v(){window.clearTimeout(h);const m=Number(e.timeout);!n.value||m===-1||(h=window.setTimeout(()=>{n.value=!1},m))}function p(){window.clearTimeout(h)}return Ee(()=>{const[m]=Vs.filterProps(e);return E(Vs,Te({ref:d,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},i.value,e.class],style:e.style},m,{modelValue:n.value,"onUpdate:modelValue":g=>n.value=g,contentProps:Te({class:["v-snackbar__wrapper",s.value,l.value,f.value,c.value],style:[a.value,u.value],onPointerenter:p,onPointerleave:v},m.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},o),{default:()=>[Fc(!1,"v-snackbar"),r.default&&E("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[r.default()]),r.actions&&E(_r,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[E("div",{class:"v-snackbar__actions"},[r.actions()])]})],activator:r.activator})}),Eo({},d)}});const Cce=ce({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Zs(),...D_()},"VSwitch"),Ace=xe()({name:"VSwitch",inheritAttrs:!1,props:Cce(),emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const a=mt(e,"indeterminate"),i=mt(e,"modelValue"),{loaderClasses:o}=E_(e),{isFocused:s,focus:l,blur:u}=Yl(e),c=R(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),f=ga(),d=R(()=>e.id||`switch-${f}`);function h(){a.value&&(a.value=!1)}return Ee(()=>{const[v,p]=Bc(r),[m,g]=Qn.filterProps(e),[y,_]=fd.filterProps(e),x=te();function w(b){var T,S;b.stopPropagation(),b.preventDefault(),(S=(T=x.value)==null?void 0:T.input)==null||S.click()}return E(Qn,Te({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":a.value},o.value,e.class],style:e.style},v,m,{id:d.value,focused:s.value}),{...n,default:b=>{let{id:T,messagesId:S,isDisabled:A,isReadonly:M,isValid:C}=b;return E(fd,Te({ref:x},y,{modelValue:i.value,"onUpdate:modelValue":[D=>i.value=D,h],id:T.value,"aria-describedby":S.value,type:"checkbox","aria-checked":a.value?"mixed":void 0,disabled:A.value,readonly:M.value,onFocus:l,onBlur:u},p),{...n,default:()=>E("div",{class:"v-switch__track",onClick:w},null),input:D=>{let{textColorClasses:P,textColorStyles:I}=D;return E("div",{class:["v-switch__thumb",P.value],style:I.value},[e.loading&&E(q2,{name:"v-switch",active:!0,color:C.value===!1?void 0:c.value},{default:k=>n.loader?n.loader(k):E(Y2,{active:k.isActive,color:k.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}});const Ece=ce({color:String,height:[Number,String],window:Boolean,...Be(),...Bn(),...Nd(),...Hr(),...St(),...Yt()},"VSystemBar"),Dce=xe()({name:"VSystemBar",props:Ece(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{backgroundColorClasses:a,backgroundColorStyles:i}=bn(_e(e,"color")),{elevationClasses:o}=ea(e),{roundedClasses:s}=Qr(e),{ssrBootStyles:l}=Vc(),u=R(()=>e.height??(e.window?32:24)),{layoutItemStyles:c}=Bd({id:e.name,order:R(()=>parseInt(e.order,10)),position:Oe("top"),layoutSize:u,elementSize:u,active:R(()=>!0),absolute:_e(e,"absolute")});return Ee(()=>E(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},n.value,a.value,o.value,s.value,e.class],style:[i.value,c.value,l.value,e.style]},r)),{}}});const bz=Symbol.for("vuetify:v-tabs"),Mce=ce({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...os(Z2({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),wz=xe()({name:"VTab",props:Mce(),setup(e,t){let{slots:r,attrs:n}=t;const{textColorClasses:a,textColorStyles:i}=pa(e,"sliderColor"),o=R(()=>e.direction==="horizontal"),s=Oe(!1),l=te(),u=te();function c(f){var h,v;let{value:d}=f;if(s.value=d,d){const p=(v=(h=l.value)==null?void 0:h.$el.parentElement)==null?void 0:v.querySelector(".v-tab--selected .v-tab__slider"),m=u.value;if(!p||!m)return;const g=getComputedStyle(p).color,y=p.getBoundingClientRect(),_=m.getBoundingClientRect(),x=o.value?"x":"y",w=o.value?"X":"Y",b=o.value?"right":"bottom",T=o.value?"width":"height",S=y[x],A=_[x],M=S>A?y[b]-_[b]:y[x]-_[x],C=Math.sign(M)>0?o.value?"right":"bottom":Math.sign(M)<0?o.value?"left":"top":"center",P=(Math.abs(M)+(Math.sign(M)<0?y[T]:_[T]))/Math.max(y[T],_[T]),I=y[T]/_[T],k=1.5;qu(m,{backgroundColor:[g,"currentcolor"],transform:[`translate${w}(${M}px) scale${w}(${I})`,`translate${w}(${M/k}px) scale${w}(${(P-1)/k+1})`,"none"],transformOrigin:Array(3).fill(C)},{duration:225,easing:op})}}return Ee(()=>{const[f]=Pa.filterProps(e);return E(Pa,Te({symbol:bz,ref:l,class:["v-tab",e.class],style:e.style,tabindex:s.value?0:-1,role:"tab","aria-selected":String(s.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},f,n,{"onGroup:selected":c}),{default:()=>{var d;return[((d=r.default)==null?void 0:d.call(r))??e.text,!e.hideSlider&&E("div",{ref:u,class:["v-tab__slider",a.value],style:i.value},null)]}})}),{}}});function Pce(e){return e?e.map(t=>typeof t=="string"?{title:t,value:t}:t):[]}const Lce=ce({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...xz({mandatory:"force"}),...Vn(),...St()},"VTabs"),Ice=xe()({name:"VTabs",props:Lce(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),a=R(()=>Pce(e.items)),{densityClasses:i}=ya(e),{backgroundColorClasses:o,backgroundColorStyles:s}=bn(_e(e,"bgColor"));return En({VTab:{color:_e(e,"color"),direction:_e(e,"direction"),stacked:_e(e,"stacked"),fixed:_e(e,"fixedTabs"),sliderColor:_e(e,"sliderColor"),hideSlider:_e(e,"hideSlider")}}),Ee(()=>{const[l]=JS.filterProps(e);return E(JS,Te(l,{modelValue:n.value,"onUpdate:modelValue":u=>n.value=u,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,o.value,e.class],style:[{"--v-tabs-height":ze(e.height)},s.value,e.style],role:"tablist",symbol:bz}),{default:()=>[r.default?r.default():a.value.map(u=>E(wz,Te(u,{key:u.title}),null))]})}),{}}});const Rce=ce({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Be(),...Vn(),...St(),...Yt()},"VTable"),Oce=xe()({name:"VTable",props:Rce(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{densityClasses:a}=ya(e);return Ee(()=>E(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":e.hover},n.value,a.value,e.class],style:e.style},{default:()=>{var i,o,s;return[(i=r.top)==null?void 0:i.call(r),r.default?E("div",{class:"v-table__wrapper",style:{height:ze(e.height)}},[E("table",null,[r.default()])]):(o=r.wrapper)==null?void 0:o.call(r),(s=r.bottom)==null?void 0:s.call(r)]}})),{}}});const kce=ce({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Zs(),...N_()},"VTextarea"),Nce=xe()({name:"VTextarea",directives:{Intersect:Hp},inheritAttrs:!1,props:kce(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:a}=t;const i=mt(e,"modelValue"),{isFocused:o,focus:s,blur:l}=Yl(e),u=R(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),c=R(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function f(C,D){var P,I;!e.autofocus||!C||(I=(P=D[0].target)==null?void 0:P.focus)==null||I.call(P)}const d=te(),h=te(),v=Oe(""),p=te(),m=R(()=>e.persistentPlaceholder||o.value||e.active);function g(){var C;p.value!==document.activeElement&&((C=p.value)==null||C.focus()),o.value||s()}function y(C){g(),n("click:control",C)}function _(C){n("mousedown:control",C)}function x(C){C.stopPropagation(),g(),Ot(()=>{i.value="",M2(e["onClick:clear"],C)})}function w(C){var P;const D=C.target;if(i.value=D.value,(P=e.modelModifiers)!=null&&P.trim){const I=[D.selectionStart,D.selectionEnd];Ot(()=>{D.selectionStart=I[0],D.selectionEnd=I[1]})}}const b=te(),T=te(+e.rows),S=R(()=>["plain","underlined"].includes(e.variant));Xr(()=>{e.autoGrow||(T.value=+e.rows)});function A(){e.autoGrow&&Ot(()=>{if(!b.value||!h.value)return;const C=getComputedStyle(b.value),D=getComputedStyle(h.value.$el),P=parseFloat(C.getPropertyValue("--v-field-padding-top"))+parseFloat(C.getPropertyValue("--v-input-padding-top"))+parseFloat(C.getPropertyValue("--v-field-padding-bottom")),I=b.value.scrollHeight,k=parseFloat(C.lineHeight),V=Math.max(parseFloat(e.rows)*k+P,parseFloat(D.getPropertyValue("--v-input-control-height"))),H=parseFloat(e.maxRows)*k+P||1/0,O=ca(I??0,V,H);T.value=Math.floor((O-P)/k),v.value=ze(O)})}Qt(A),Le(i,A),Le(()=>e.rows,A),Le(()=>e.maxRows,A),Le(()=>e.density,A);let M;return Le(b,C=>{C?(M=new ResizeObserver(A),M.observe(b.value)):M==null||M.disconnect()}),Jn(()=>{M==null||M.disconnect()}),Ee(()=>{const C=!!(a.counter||e.counter||e.counterValue),D=!!(C||a.details),[P,I]=Bc(r),[{modelValue:k,...V}]=Qn.filterProps(e),[H]=tA(e);return E(Qn,Te({ref:d,modelValue:i.value,"onUpdate:modelValue":O=>i.value=O,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":S.value},e.class],style:e.style},P,V,{centerAffix:T.value===1&&!S.value,focused:o.value}),{...a,default:O=>{let{isDisabled:L,isDirty:F,isReadonly:X,isValid:Y}=O;return E(Xp,Te({ref:h,style:{"--v-textarea-control-height":v.value},onClick:y,onMousedown:_,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},H,{active:m.value||F.value,centerAffix:T.value===1&&!S.value,dirty:F.value||e.dirty,disabled:L.value,focused:o.value,error:Y.value===!1}),{...a,default:G=>{let{props:{class:z,...N}}=G;return E(Ce,null,[e.prefix&&E("span",{class:"v-text-field__prefix"},[e.prefix]),Cr(E("textarea",Te({ref:p,class:z,value:i.value,onInput:w,autofocus:e.autofocus,readonly:X.value,disabled:L.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:g,onBlur:l},N,I),null),[[Ja("intersect"),{handler:f},null,{once:!0}]]),e.autoGrow&&Cr(E("textarea",{class:[z,"v-textarea__sizer"],"onUpdate:modelValue":U=>i.value=U,ref:b,readonly:!0,"aria-hidden":"true"},null),[[$$,i.value]]),e.suffix&&E("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:D?O=>{var L;return E(Ce,null,[(L=a.details)==null?void 0:L.call(a,O),C&&E(Ce,null,[E("span",null,null),E(k_,{active:e.persistentCounter||o.value,value:u.value,max:c.value},a.counter)])])}:void 0})}),Eo({},d,h,p)}});const Bce=ce({withBackground:Boolean,...Be(),...Yt(),...St()},"VThemeProvider"),Vce=xe()({name:"VThemeProvider",props:Bce(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e);return()=>{var a;return e.withBackground?E(e.tag,{class:["v-theme-provider",n.value,e.class],style:e.style},{default:()=>{var i;return[(i=r.default)==null?void 0:i.call(r)]}}):(a=r.default)==null?void 0:a.call(r)}}});const Fce=ce({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Be(),...Vn(),...St(),...Yt()},"VTimeline"),zce=xe()({name:"VTimeline",props:Fce(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=cr(e),{densityClasses:a}=ya(e),{rtlClasses:i}=Xn();En({VTimelineDivider:{lineColor:_e(e,"lineColor")},VTimelineItem:{density:_e(e,"density"),lineInset:_e(e,"lineInset")}});const o=R(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),s=R(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return Ee(()=>E(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,s.value,{"v-timeline--inset-line":!!e.lineInset},n.value,a.value,o.value,i.value,e.class],style:[{"--v-timeline-line-thickness":ze(e.lineThickness)},e.style]},r)),{}}}),Uce=ce({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:vt,iconColor:String,lineColor:String,...Be(),...Hr(),...qs(),...Bn()},"VTimelineDivider"),Hce=xe()({name:"VTimelineDivider",props:Uce(),setup(e,t){let{slots:r}=t;const{sizeClasses:n,sizeStyles:a}=Ud(e,"v-timeline-divider__dot"),{backgroundColorStyles:i,backgroundColorClasses:o}=bn(_e(e,"dotColor")),{roundedClasses:s}=Qr(e,"v-timeline-divider__dot"),{elevationClasses:l}=ea(e),{backgroundColorClasses:u,backgroundColorStyles:c}=bn(_e(e,"lineColor"));return Ee(()=>E("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[E("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&E("div",{key:"dot",class:["v-timeline-divider__dot",l.value,s.value,n.value],style:a.value},[E("div",{class:["v-timeline-divider__inner-dot",o.value,s.value],style:i.value},[r.default?E(_r,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},r.default):E(Dr,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),E("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)])),{}}}),Gce=ce({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:vt,iconColor:String,lineInset:[Number,String],...Be(),...Ji(),...Bn(),...Hr(),...qs(),...St()},"VTimelineItem"),$ce=xe()({name:"VTimelineItem",props:Gce(),setup(e,t){let{slots:r}=t;const{dimensionStyles:n}=eo(e),a=Oe(0),i=te();return Le(i,o=>{var s;o&&(a.value=((s=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:s.getBoundingClientRect().width)??0)},{flush:"post"}),Ee(()=>{var o,s;return E("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":ze(a.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${ze(e.lineInset)})`:ze(0)},e.style]},[E("div",{class:"v-timeline-item__body",style:n.value},[(o=r.default)==null?void 0:o.call(r)]),E(Hce,{ref:i,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:r.icon}),e.density!=="compact"&&E("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((s=r.opposite)==null?void 0:s.call(r))])])}),{}}}),Wce=ce({...Be(),...ro({variant:"text"})},"VToolbarItems"),Yce=xe()({name:"VToolbarItems",props:Wce(),setup(e,t){let{slots:r}=t;return En({VBtn:{color:_e(e,"color"),height:"inherit",variant:_e(e,"variant")}}),Ee(()=>{var n;return E("div",{class:["v-toolbar-items",e.class],style:e.style},[(n=r.default)==null?void 0:n.call(r)])}),{}}});const Xce=ce({id:String,text:String,...os(Yp({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),jce=xe()({name:"VTooltip",props:Xce(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=mt(e,"modelValue"),{scopeId:a}=Wd(),i=ga(),o=R(()=>e.id||`v-tooltip-${i}`),s=te(),l=R(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=R(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=R(()=>e.transition?e.transition:n.value?"scale-transition":"fade-transition"),f=R(()=>Te({"aria-describedby":o.value},e.activatorProps));return Ee(()=>{const[d]=Vs.filterProps(e);return E(Vs,Te({ref:s,class:["v-tooltip",e.class],style:e.style,id:o.value},d,{modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},a),{activator:r.activator,default:function(){var m;for(var h=arguments.length,v=new Array(h),p=0;p<h;p++)v[p]=arguments[p];return((m=r.default)==null?void 0:m.call(r,...v))??e.text}})}),Eo({},s)}}),qce=xe()({name:"VValidation",props:h4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=v4(e,"validation");return()=>{var a;return(a=r.default)==null?void 0:a.call(r,n)}}}),Zce=Object.freeze(Object.defineProperty({__proto__:null,VAlert:woe,VAlertTitle:o4,VApp:Aie,VAppBar:Yie,VAppBarNavIcon:yoe,VAppBarTitle:_oe,VAutocomplete:Gse,VAvatar:zl,VBadge:Wse,VBanner:jse,VBannerActions:z4,VBannerText:U4,VBottomNavigation:Zse,VBreadcrumbs:ele,VBreadcrumbsDivider:H4,VBreadcrumbsItem:G4,VBtn:Pa,VBtnGroup:OS,VBtnToggle:Qie,VCard:nle,VCardActions:$4,VCardItem:X4,VCardSubtitle:W4,VCardText:j4,VCardTitle:Y4,VCarousel:dle,VCarouselItem:vle,VCheckbox:Poe,VCheckboxBtn:dd,VChip:Wp,VChipGroup:Roe,VClassIcon:$2,VCode:ple,VCol:Aue,VColorPicker:nue,VCombobox:oue,VComponentIcon:NS,VContainer:wue,VCounter:k_,VDefaultsProvider:_r,VDialog:lue,VDialogBottomTransition:Pie,VDialogTopTransition:Lie,VDialogTransition:T_,VDivider:C4,VExpandTransition:C_,VExpandXTransition:z2,VExpansionPanel:vue,VExpansionPanelText:iz,VExpansionPanelTitle:sz,VExpansionPanels:fue,VFabTransition:Mie,VFadeTransition:LS,VField:Xp,VFieldLabel:Jh,VFileInput:mue,VFooter:yue,VForm:xue,VHover:Nue,VIcon:Dr,VImg:Sc,VInput:Qn,VItem:Fue,VItemGroup:Vue,VKbd:zue,VLabel:$d,VLayout:Hue,VLayoutItem:$ue,VLazy:Yue,VLigatureIcon:toe,VList:L_,VListGroup:zS,VListImg:ese,VListItem:Bs,VListItemAction:rse,VListItemMedia:ase,VListItemSubtitle:w4,VListItemTitle:S4,VListSubheader:T4,VLocaleProvider:jue,VMain:Zue,VMenu:O_,VMessages:f4,VNavigationDrawer:ice,VNoSsr:oce,VOverlay:Vs,VPagination:uce,VParallax:dce,VProgressCircular:Y2,VProgressLinear:X2,VRadio:vce,VRadioGroup:mce,VRangeSlider:yce,VRating:xce,VResponsive:IS,VRow:Rue,VScaleTransition:$5,VScrollXReverseTransition:Rie,VScrollXTransition:Iie,VScrollYReverseTransition:kie,VScrollYTransition:Oie,VSelect:Vse,VSelectionControl:fd,VSelectionControlGroup:l4,VSheet:QS,VSlideGroup:JS,VSlideGroupItem:wce,VSlideXReverseTransition:Bie,VSlideXTransition:Nie,VSlideYReverseTransition:Vie,VSlideYTransition:F2,VSlider:KS,VSnackbar:Tce,VSpacer:Oue,VSvgIcon:G2,VSwitch:Ace,VSystemBar:Dce,VTab:wz,VTable:Oce,VTabs:Ice,VTextField:Tc,VTextarea:Nce,VThemeProvider:Vce,VTimeline:zce,VTimelineItem:$ce,VToolbar:RS,VToolbarItems:Yce,VToolbarTitle:V2,VTooltip:jce,VValidation:qce,VVirtualScroll:V_,VWindow:WS,VWindowItem:YS},Symbol.toStringTag,{value:"Module"}));function Kce(e,t){const r=t.modifiers||{},n=t.value,{once:a,immediate:i,...o}=r,s=!Object.keys(o).length,{handler:l,options:u}=typeof n=="object"?n:{handler:n,options:{attributes:(o==null?void 0:o.attr)??s,characterData:(o==null?void 0:o.char)??s,childList:(o==null?void 0:o.child)??s,subtree:(o==null?void 0:o.sub)??s}},c=new MutationObserver(function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;l==null||l(f,d),a&&Sz(e,t)});i&&(l==null||l([],c)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:c},c.observe(e,u)}function Sz(e,t){var r;(r=e._mutate)!=null&&r[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Qce={mounted:Kce,unmounted:Sz};function Jce(e,t){var a,i;const r=t.value,n={passive:!((a=t.modifiers)!=null&&a.active)};window.addEventListener("resize",r,n),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:r,options:n},(i=t.modifiers)!=null&&i.quiet||r()}function efe(e,t){var a;if(!((a=e._onResize)!=null&&a[t.instance.$.uid]))return;const{handler:r,options:n}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",r,n),delete e._onResize[t.instance.$.uid]}const tfe={mounted:Jce,unmounted:efe};function Tz(e,t){const{self:r=!1}=t.modifiers??{},n=t.value,a=typeof n=="object"&&n.options||{passive:!0},i=typeof n=="function"||"handleEvent"in n?n:n.handler,o=r?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",i,a),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:i,options:a,target:r?void 0:o})}function Cz(e,t){var i;if(!((i=e._onScroll)!=null&&i[t.instance.$.uid]))return;const{handler:r,options:n,target:a=e}=e._onScroll[t.instance.$.uid];a.removeEventListener("scroll",r,n),delete e._onScroll[t.instance.$.uid]}function rfe(e,t){t.value!==t.oldValue&&(Cz(e,t),Tz(e,t))}const nfe={mounted:Tz,unmounted:Cz,updated:rfe},afe=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:B4,Intersect:Hp,Mutate:Qce,Resize:tfe,Ripple:Wl,Scroll:nfe,Touch:aA},Symbol.toStringTag,{value:"Module"})),eT={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function ife(e,t){const r=[];let n=[];const a=Az(e),i=Ez(e),o=a.getDay()-eT[t.slice(-2).toUpperCase()],s=i.getDay()-eT[t.slice(-2).toUpperCase()];for(let l=0;l<o;l++){const u=new Date(a);u.setDate(u.getDate()-(o-l)),n.push(u)}for(let l=1;l<=i.getDate();l++){const u=new Date(e.getFullYear(),e.getMonth(),l);n.push(u),n.length===7&&(r.push(n),n=[])}for(let l=1;l<7-s;l++){const u=new Date(i);u.setDate(u.getDate()+l),n.push(u)}return r.push(n),r}function Az(e){return new Date(e.getFullYear(),e.getMonth(),1)}function Ez(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function ofe(e){const t=e.split("-").map(i=>i.padStart(2,"0")).join("-"),r=new Date().getTimezoneOffset()/-60,n=r<0?"-":"+",a=Math.abs(r).toString().padStart(2,"0");return`${t}T00:00:00.000${n}${a}:00`}const sfe=/([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))/;function lfe(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(sfe.test(e)?t=Date.parse(ofe(e)):t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const $I=new Date(2e3,0,2);function ufe(e){const t=eT[e.slice(-2).toUpperCase()];return Es(7).map(r=>{const n=new Date($I);return n.setDate($I.getDate()+t+r),new Intl.DateTimeFormat(e,{weekday:"short"}).format(n)})}function cfe(e,t,r){const n=new Date(e);let a={};switch(t){case"fullDateWithWeekday":a={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":a={};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"dayOfMonth":a={day:"numeric"};break;default:a={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(r,a).format(n)}function ffe(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r}function dfe(e,t){const r=new Date(e);return r.setMonth(r.getMonth()+t),r}function hfe(e){return e.getFullYear()}function vfe(e){return e.getMonth()}function pfe(e){return new Date(e.getFullYear(),0,1)}function mfe(e){return new Date(e.getFullYear(),11,31)}function gfe(e,t){return tT(e,t[0])&&_fe(e,t[1])}function yfe(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function tT(e,t){return e.getTime()>t.getTime()}function _fe(e,t){return e.getTime()<t.getTime()}function WI(e,t){return e.getTime()===t.getTime()}function xfe(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function bfe(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function wfe(e,t,r){const n=new Date(e),a=new Date(t);return r==="month"?n.getMonth()-a.getMonth()+(n.getFullYear()-a.getFullYear())*12:Math.floor((n.getTime()-a.getTime())/(1e3*60*60*24))}function Sfe(e,t){const r=new Date(e);return r.setFullYear(t),r}class Tfe{constructor(t){this.locale=t.locale}date(t){return lfe(t)}toJsDate(t){return t}addDays(t,r){return ffe(t,r)}addMonths(t,r){return dfe(t,r)}getWeekArray(t){return ife(t,this.locale)}startOfMonth(t){return Az(t)}endOfMonth(t){return Ez(t)}format(t,r){return cfe(t,r,this.locale)}isEqual(t,r){return WI(t,r)}isValid(t){return yfe(t)}isWithinRange(t,r){return gfe(t,r)}isAfter(t,r){return tT(t,r)}isBefore(t,r){return!tT(t,r)&&!WI(t,r)}isSameDay(t,r){return xfe(t,r)}isSameMonth(t,r){return bfe(t,r)}setYear(t,r){return Sfe(t,r)}getDiff(t,r,n){return wfe(t,r,n)}getWeekdays(){return ufe(this.locale)}getYear(t){return hfe(t)}getMonth(t){return vfe(t)}startOfYear(t){return pfe(t)}endOfYear(t){return mfe(t)}}const YI=Symbol.for("vuetify:date-adapter");function Cfe(e){return Oi({adapter:Tfe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"nn-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e)}function Dz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...r}=e,n=Oi(t,r),{aliases:a={},components:i={},directives:o={}}=n,s=Kae(n.defaults),l=bse(n.display,n.ssr),u=Tie(n.theme),c=noe(n.icons),f=die(n.locale),d=Cfe(n.date);return{install:v=>{for(const p in o)v.directive(p,o[p]);for(const p in i)v.component(p,i[p]);for(const p in a)v.component(p,Ki({...a[p],name:p,aliasName:a[p].name}));if(u.install(v),v.provide(ip,s),v.provide($S,l),v.provide(sp,u),v.provide(kS,c),v.provide(cd,f),v.provide(YI,d),xn&&n.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=v;v.mount=function(){const m=p(...arguments);return Ot(()=>l.update()),v.mount=p,m}}ga.reset(),v.mixin({computed:{$vuetify(){return Tr({defaults:xf.call(this,ip),display:xf.call(this,$S),theme:xf.call(this,sp),icons:xf.call(this,kS),locale:xf.call(this,cd),date:xf.call(this,YI)})}}})},defaults:s,display:l,theme:u,icons:c,locale:f,date:d}}const Afe="3.3.10";Dz.version=Afe;function xf(e){var n,a;const t=this.$,r=((n=t.parent)==null?void 0:n.provides)??((a=t.vnode.appContext)==null?void 0:a.provides);if(r&&e in r)return r[e]}const Efe=Dz({components:Zce,directives:afe,theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function dt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Je(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ht(e){Je(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ji(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ms(e,t){Je(2,arguments);var r=ht(e),n=dt(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function qo(e,t){Je(2,arguments);var r=ht(e),n=dt(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function Mz(e,t){if(Je(2,arguments),!t||ji(t)!=="object")return new Date(NaN);var r=t.years?dt(t.years):0,n=t.months?dt(t.months):0,a=t.weeks?dt(t.weeks):0,i=t.days?dt(t.days):0,o=t.hours?dt(t.hours):0,s=t.minutes?dt(t.minutes):0,l=t.seconds?dt(t.seconds):0,u=ht(e),c=n||r?qo(u,n+r*12):u,f=i||a?Ms(c,i+a*7):c,d=s+o*60,h=l+d*60,v=h*1e3,p=new Date(f.getTime()+v);return p}function Dfe(e,t){Je(2,arguments);var r=ht(e).getTime(),n=dt(t);return new Date(r+n)}var Mfe={};function ss(){return Mfe}function Cc(e,t){var r,n,a,i,o,s,l,u;Je(1,arguments);var c=ss(),f=dt((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ht(e),h=d.getDay(),v=(h<f?7:0)+h-f;return d.setDate(d.getDate()-v),d.setHours(0,0,0,0),d}function t0(e){return Je(1,arguments),Cc(e,{weekStartsOn:1})}function Pfe(e){Je(1,arguments);var t=ht(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var a=t0(n),i=new Date(0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);var o=t0(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Lfe(e){Je(1,arguments);var t=Pfe(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=t0(r);return n}function r0(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function XI(e){Je(1,arguments);var t=ht(e);return t.setHours(0,0,0,0),t}var Ife=864e5;function Rfe(e,t){Je(2,arguments);var r=XI(e),n=XI(t),a=r.getTime()-r0(r),i=n.getTime()-r0(n);return Math.round((a-i)/Ife)}function Pz(e,t){Je(2,arguments);var r=dt(t);return qo(e,r*12)}var lA=6e4,uA=36e5,Ofe=1e3;function Lz(e){return Je(1,arguments),e instanceof Date||ji(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Dv(e){if(Je(1,arguments),!Lz(e)&&typeof e!="number")return!1;var t=ht(e);return!isNaN(Number(t))}function jI(e,t){var r;Je(1,arguments);var n=e||{},a=ht(n.start),i=ht(n.end),o=i.getTime();if(!(a.getTime()<=o))throw new RangeError("Invalid interval");var s=[],l=a;l.setHours(0,0,0,0);var u=Number((r=t==null?void 0:t.step)!==null&&r!==void 0?r:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)s.push(ht(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return s}function kfe(e,t){var r,n,a,i,o,s,l,u;Je(1,arguments);var c=ss(),f=dt((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ht(e),h=d.getDay(),v=(h<f?-7:0)+6-(h-f);return d.setDate(d.getDate()+v),d.setHours(23,59,59,999),d}function Iz(e,t){Je(2,arguments);var r=dt(t);return Dfe(e,-r)}var Nfe=864e5;function Bfe(e){Je(1,arguments);var t=ht(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Nfe)+1}function hd(e){Je(1,arguments);var t=1,r=ht(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function Rz(e){Je(1,arguments);var t=ht(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=hd(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=hd(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Vfe(e){Je(1,arguments);var t=Rz(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=hd(r);return n}var Ffe=6048e5;function Oz(e){Je(1,arguments);var t=ht(e),r=hd(t).getTime()-Vfe(t).getTime();return Math.round(r/Ffe)+1}function Ac(e,t){var r,n,a,i,o,s,l,u;Je(1,arguments);var c=ss(),f=dt((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ht(e),h=d.getUTCDay(),v=(h<f?7:0)+h-f;return d.setUTCDate(d.getUTCDate()-v),d.setUTCHours(0,0,0,0),d}function cA(e,t){var r,n,a,i,o,s,l,u;Je(1,arguments);var c=ht(e),f=c.getUTCFullYear(),d=ss(),h=dt((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,h),v.setUTCHours(0,0,0,0);var p=Ac(v,t),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var g=Ac(m,t);return c.getTime()>=p.getTime()?f+1:c.getTime()>=g.getTime()?f:f-1}function zfe(e,t){var r,n,a,i,o,s,l,u;Je(1,arguments);var c=ss(),f=dt((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),d=cA(e,t),h=new Date(0);h.setUTCFullYear(d,0,f),h.setUTCHours(0,0,0,0);var v=Ac(h,t);return v}var Ufe=6048e5;function kz(e,t){Je(1,arguments);var r=ht(e),n=Ac(r,t).getTime()-zfe(r,t).getTime();return Math.round(n/Ufe)+1}function pr(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Hfe={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return pr(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):pr(n+1,2)},d:function(t,r){return pr(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return pr(t.getUTCHours()%12||12,r.length)},H:function(t,r){return pr(t.getUTCHours(),r.length)},m:function(t,r){return pr(t.getUTCMinutes(),r.length)},s:function(t,r){return pr(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return pr(i,r.length)}};const vl=Hfe;var bf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gfe={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return vl.y(t,r)},Y:function(t,r,n,a){var i=cA(t,a),o=i>0?i:1-i;if(r==="YY"){var s=o%100;return pr(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):pr(o,r.length)},R:function(t,r){var n=Rz(t);return pr(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return pr(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return pr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return pr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return vl.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return pr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=kz(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):pr(i,r.length)},I:function(t,r,n){var a=Oz(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):pr(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):vl.d(t,r)},D:function(t,r,n){var a=Bfe(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):pr(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return pr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return pr(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return pr(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=bf.noon:a===0?i=bf.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=bf.evening:a>=12?i=bf.afternoon:a>=4?i=bf.morning:i=bf.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return vl.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):vl.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):pr(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):pr(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):vl.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):vl.s(t,r)},S:function(t,r){return vl.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return ZI(o);case"XXXX":case"XX":return Bu(o);case"XXXXX":case"XXX":default:return Bu(o,":")}},x:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return ZI(o);case"xxxx":case"xx":return Bu(o);case"xxxxx":case"xxx":default:return Bu(o,":")}},O:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+qI(o,":");case"OOOO":default:return"GMT"+Bu(o,":")}},z:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+qI(o,":");case"zzzz":default:return"GMT"+Bu(o,":")}},t:function(t,r,n,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return pr(o,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,o=i.getTime();return pr(o,r.length)}};function qI(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var o=t||"";return r+String(a)+o+pr(i,2)}function ZI(e,t){if(e%60===0){var r=e>0?"-":"+";return r+pr(Math.abs(e)/60,2)}return Bu(e,t)}function Bu(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=pr(Math.floor(a/60),2),o=pr(a%60,2);return n+i+r+o}const $fe=Gfe;var KI=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Nz=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Wfe=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return KI(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",KI(a,r)).replace("{{time}}",Nz(i,r))},Yfe={p:Nz,P:Wfe};const rT=Yfe;var Xfe=["D","DD"],jfe=["YY","YYYY"];function Bz(e){return Xfe.indexOf(e)!==-1}function Vz(e){return jfe.indexOf(e)!==-1}function n0(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var qfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zfe=function(t,r,n){var a,i=qfe[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const Kfe=Zfe;function eb(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Qfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ede={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tde={date:eb({formats:Qfe,defaultWidth:"full"}),time:eb({formats:Jfe,defaultWidth:"full"}),dateTime:eb({formats:ede,defaultWidth:"full"})};const rde=tde;var nde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ade=function(t,r,n,a){return nde[t]};const ide=ade;function Mh(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var ode={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ude={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dde=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hde={ordinalNumber:dde,era:Mh({values:ode,defaultWidth:"wide"}),quarter:Mh({values:sde,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Mh({values:lde,defaultWidth:"wide"}),day:Mh({values:ude,defaultWidth:"wide"}),dayPeriod:Mh({values:cde,defaultWidth:"wide",formattingValues:fde,defaultFormattingWidth:"wide"})};const vde=hde;function Ph(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?mde(s,function(f){return f.test(o)}):pde(s,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var c=t.slice(o.length);return{value:u,rest:c}}}function pde(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function mde(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function gde(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var s=t.slice(a.length);return{value:o,rest:s}}}var yde=/^(\d+)(th|st|nd|rd)?/i,_de=/\d+/i,xde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bde={any:[/^b/i,/^(a|c)/i]},wde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sde={any:[/1/i,/2/i,/3/i,/4/i]},Tde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ade={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ede={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pde={ordinalNumber:gde({matchPattern:yde,parsePattern:_de,valueCallback:function(t){return parseInt(t,10)}}),era:Ph({matchPatterns:xde,defaultMatchWidth:"wide",parsePatterns:bde,defaultParseWidth:"any"}),quarter:Ph({matchPatterns:wde,defaultMatchWidth:"wide",parsePatterns:Sde,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ph({matchPatterns:Tde,defaultMatchWidth:"wide",parsePatterns:Cde,defaultParseWidth:"any"}),day:Ph({matchPatterns:Ade,defaultMatchWidth:"wide",parsePatterns:Ede,defaultParseWidth:"any"}),dayPeriod:Ph({matchPatterns:Dde,defaultMatchWidth:"any",parsePatterns:Mde,defaultParseWidth:"any"})};const Lde=Pde;var Ide={code:"en-US",formatDistance:Kfe,formatLong:rde,formatRelative:ide,localize:vde,match:Lde,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Fz=Ide;var Rde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ode=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kde=/^'([^]*?)'?$/,Nde=/''/g,Bde=/[a-zA-Z]/;function dc(e,t,r){var n,a,i,o,s,l,u,c,f,d,h,v,p,m,g,y,_,x;Je(2,arguments);var w=String(t),b=ss(),T=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:Fz,S=dt((i=(o=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:b.firstWeekContainsDate)!==null&&o!==void 0?o:(f=b.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=dt((h=(v=(p=(m=r==null?void 0:r.weekStartsOn)!==null&&m!==void 0?m:r==null||(g=r.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&v!==void 0?v:(_=b.locale)===null||_===void 0||(x=_.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&h!==void 0?h:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var M=ht(e);if(!Dv(M))throw new RangeError("Invalid time value");var C=r0(M),D=Iz(M,C),P={firstWeekContainsDate:S,weekStartsOn:A,locale:T,_originalDate:M},I=w.match(Ode).map(function(k){var V=k[0];if(V==="p"||V==="P"){var H=rT[V];return H(k,T.formatLong)}return k}).join("").match(Rde).map(function(k){if(k==="''")return"'";var V=k[0];if(V==="'")return Vde(k);var H=$fe[V];if(H)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Vz(k)&&n0(k,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Bz(k)&&n0(k,t,String(e)),H(D,k,T.localize,P);if(V.match(Bde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return k}).join("");return I}function Vde(e){var t=e.match(kde);return t?t[1].replace(Nde,"'"):e}function Fde(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function zde(e){Je(1,arguments);var t=ht(e),r=t.getDay();return r}function Ude(e){Je(1,arguments);var t=ht(e),r=t.getFullYear(),n=t.getMonth(),a=new Date(0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function bs(e){Je(1,arguments);var t=ht(e),r=t.getHours();return r}var Hde=6048e5;function Gde(e){Je(1,arguments);var t=ht(e),r=t0(t).getTime()-Lfe(t).getTime();return Math.round(r/Hde)+1}function ws(e){Je(1,arguments);var t=ht(e),r=t.getMinutes();return r}function Rr(e){Je(1,arguments);var t=ht(e),r=t.getMonth();return r}function vd(e){Je(1,arguments);var t=ht(e),r=t.getSeconds();return r}function $de(e,t){var r,n,a,i,o,s,l,u;Je(1,arguments);var c=ht(e),f=c.getFullYear(),d=ss(),h=dt((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,h),v.setHours(0,0,0,0);var p=Cc(v,t),m=new Date(0);m.setFullYear(f,0,h),m.setHours(0,0,0,0);var g=Cc(m,t);return c.getTime()>=p.getTime()?f+1:c.getTime()>=g.getTime()?f:f-1}function Wde(e,t){var r,n,a,i,o,s,l,u;Je(1,arguments);var c=ss(),f=dt((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),d=$de(e,t),h=new Date(0);h.setFullYear(d,0,f),h.setHours(0,0,0,0);var v=Cc(h,t);return v}var Yde=6048e5;function Xde(e,t){Je(1,arguments);var r=ht(e),n=Cc(r,t).getTime()-Wde(r,t).getTime();return Math.round(n/Yde)+1}function Vr(e){return Je(1,arguments),ht(e).getFullYear()}function dp(e,t){Je(2,arguments);var r=ht(e),n=ht(t);return r.getTime()>n.getTime()}function hp(e,t){Je(2,arguments);var r=ht(e),n=ht(t);return r.getTime()<n.getTime()}function Zu(e,t){Je(2,arguments);var r=ht(e),n=ht(t);return r.getTime()===n.getTime()}function QI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jde(e,t){if(e){if(typeof e=="string")return QI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QI(e,t)}}function JI(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=jde(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nT(e,t){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nT(e,t)}function tr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nT(e,t)}function a0(e){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a0(e)}function qde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zde(e,t){if(t&&(ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function rr(e){var t=qde();return function(){var n=a0(e),a;if(t){var i=a0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Zde(this,a)}}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kde(e,t){if(ji(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ji(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zz(e){var t=Kde(e,"string");return ji(t)==="symbol"?t:String(t)}function eR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zz(n.key),n)}}function jt(e,t,r){return t&&eR(e.prototype,t),r&&eR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function He(e,t,r){return t=zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qde=10,Uz=function(){function e(){Xt(this,e),He(this,"priority",void 0),He(this,"subPriority",0)}return jt(e,[{key:"validate",value:function(r,n){return!0}}]),e}(),Jde=function(e){tr(r,e);var t=rr(r);function r(n,a,i,o,s){var l;return Xt(this,r),l=t.call(this),l.value=n,l.validateValue=a,l.setValue=i,l.priority=o,s&&(l.subPriority=s),l}return jt(r,[{key:"validate",value:function(a,i){return this.validateValue(a,this.value,i)}},{key:"set",value:function(a,i,o){return this.setValue(a,i,this.value,o)}}]),r}(Uz),ehe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",Qde),He($e(n),"subPriority",-1),n}return jt(r,[{key:"set",value:function(a,i){if(i.timestampIsSet)return a;var o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}}]),r}(Uz),fr=function(){function e(){Xt(this,e),He(this,"incompatibleTokens",void 0),He(this,"priority",void 0),He(this,"subPriority",void 0)}return jt(e,[{key:"run",value:function(r,n,a,i){var o=this.parse(r,n,a,i);return o?{setter:new Jde(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(r,n,a){return!0}}]),e}(),the=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",140),He($e(n),"incompatibleTokens",["R","u","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"G":case"GG":case"GGG":return o.era(a,{width:"abbreviated"})||o.era(a,{width:"narrow"});case"GGGGG":return o.era(a,{width:"narrow"});case"GGGG":default:return o.era(a,{width:"wide"})||o.era(a,{width:"abbreviated"})||o.era(a,{width:"narrow"})}}},{key:"set",value:function(a,i,o){return i.era=o,a.setUTCFullYear(o,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(fr),vn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},$o={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pn(e,t){return e&&{value:t(e.value),rest:e.rest}}function qr(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Wo(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*uA+i*lA+o*Ofe),rest:t.slice(r[0].length)}}function Hz(e){return qr(vn.anyDigitsSigned,e)}function ln(e,t){switch(e){case 1:return qr(vn.singleDigit,t);case 2:return qr(vn.twoDigits,t);case 3:return qr(vn.threeDigits,t);case 4:return qr(vn.fourDigits,t);default:return qr(new RegExp("^\\d{1,"+e+"}"),t)}}function i0(e,t){switch(e){case 1:return qr(vn.singleDigitSigned,t);case 2:return qr(vn.twoDigitsSigned,t);case 3:return qr(vn.threeDigitsSigned,t);case 4:return qr(vn.fourDigitsSigned,t);default:return qr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function fA(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Gz(e,t){var r=t>0,n=r?t:1-t,a;if(n<=50)a=e||100;else{var i=n+50,o=Math.floor(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return r?a:1-a}function $z(e){return e%400===0||e%4===0&&e%100!==0}var rhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",130),He($e(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){var s=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return pn(ln(4,a),s);case"yo":return pn(o.ordinalNumber(a,{unit:"year"}),s);default:return pn(ln(i.length,a),s)}}},{key:"validate",value:function(a,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(a,i,o){var s=a.getUTCFullYear();if(o.isTwoDigitYear){var l=Gz(o.year,s);return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}var u=!("era"in i)||i.era===1?o.year:1-o.year;return a.setUTCFullYear(u,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(fr),nhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",130),He($e(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){var s=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return pn(ln(4,a),s);case"Yo":return pn(o.ordinalNumber(a,{unit:"year"}),s);default:return pn(ln(i.length,a),s)}}},{key:"validate",value:function(a,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(a,i,o,s){var l=cA(a,s);if(o.isTwoDigitYear){var u=Gz(o.year,l);return a.setUTCFullYear(u,0,s.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Ac(a,s)}var c=!("era"in i)||i.era===1?o.year:1-o.year;return a.setUTCFullYear(c,0,s.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Ac(a,s)}}]),r}(fr),ahe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",130),He($e(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i){return i0(i==="R"?4:i.length,a)}},{key:"set",value:function(a,i,o){var s=new Date(0);return s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0),hd(s)}}]),r}(fr),ihe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",130),He($e(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i){return i0(i==="u"?4:i.length,a)}},{key:"set",value:function(a,i,o){return a.setUTCFullYear(o,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(fr),ohe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",120),He($e(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"Q":case"QQ":return ln(i.length,a);case"Qo":return o.ordinalNumber(a,{unit:"quarter"});case"QQQ":return o.quarter(a,{width:"abbreviated",context:"formatting"})||o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(a,{width:"wide",context:"formatting"})||o.quarter(a,{width:"abbreviated",context:"formatting"})||o.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=1&&i<=4}},{key:"set",value:function(a,i,o){return a.setUTCMonth((o-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(fr),she=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",120),He($e(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"q":case"qq":return ln(i.length,a);case"qo":return o.ordinalNumber(a,{unit:"quarter"});case"qqq":return o.quarter(a,{width:"abbreviated",context:"standalone"})||o.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(a,{width:"wide",context:"standalone"})||o.quarter(a,{width:"abbreviated",context:"standalone"})||o.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=1&&i<=4}},{key:"set",value:function(a,i,o){return a.setUTCMonth((o-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(fr),lhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),He($e(n),"priority",110),n}return jt(r,[{key:"parse",value:function(a,i,o){var s=function(u){return u-1};switch(i){case"M":return pn(qr(vn.month,a),s);case"MM":return pn(ln(2,a),s);case"Mo":return pn(o.ordinalNumber(a,{unit:"month"}),s);case"MMM":return o.month(a,{width:"abbreviated",context:"formatting"})||o.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(a,{width:"wide",context:"formatting"})||o.month(a,{width:"abbreviated",context:"formatting"})||o.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){return a.setUTCMonth(o,1),a.setUTCHours(0,0,0,0),a}}]),r}(fr),uhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",110),He($e(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){var s=function(u){return u-1};switch(i){case"L":return pn(qr(vn.month,a),s);case"LL":return pn(ln(2,a),s);case"Lo":return pn(o.ordinalNumber(a,{unit:"month"}),s);case"LLL":return o.month(a,{width:"abbreviated",context:"standalone"})||o.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(a,{width:"wide",context:"standalone"})||o.month(a,{width:"abbreviated",context:"standalone"})||o.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){return a.setUTCMonth(o,1),a.setUTCHours(0,0,0,0),a}}]),r}(fr);function che(e,t,r){Je(2,arguments);var n=ht(e),a=dt(t),i=kz(n,r)-a;return n.setUTCDate(n.getUTCDate()-i*7),n}var fhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",100),He($e(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"w":return qr(vn.week,a);case"wo":return o.ordinalNumber(a,{unit:"week"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=53}},{key:"set",value:function(a,i,o,s){return Ac(che(a,o,s),s)}}]),r}(fr);function dhe(e,t){Je(2,arguments);var r=ht(e),n=dt(t),a=Oz(r)-n;return r.setUTCDate(r.getUTCDate()-a*7),r}var hhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",100),He($e(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"I":return qr(vn.week,a);case"Io":return o.ordinalNumber(a,{unit:"week"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=53}},{key:"set",value:function(a,i,o){return hd(dhe(a,o))}}]),r}(fr),vhe=[31,28,31,30,31,30,31,31,30,31,30,31],phe=[31,29,31,30,31,30,31,31,30,31,30,31],mhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",90),He($e(n),"subPriority",1),He($e(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"d":return qr(vn.date,a);case"do":return o.ordinalNumber(a,{unit:"date"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){var o=a.getUTCFullYear(),s=$z(o),l=a.getUTCMonth();return s?i>=1&&i<=phe[l]:i>=1&&i<=vhe[l]}},{key:"set",value:function(a,i,o){return a.setUTCDate(o),a.setUTCHours(0,0,0,0),a}}]),r}(fr),ghe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",90),He($e(n),"subpriority",1),He($e(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"D":case"DD":return qr(vn.dayOfYear,a);case"Do":return o.ordinalNumber(a,{unit:"date"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){var o=a.getUTCFullYear(),s=$z(o);return s?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(a,i,o){return a.setUTCMonth(0,o),a.setUTCHours(0,0,0,0),a}}]),r}(fr);function dA(e,t,r){var n,a,i,o,s,l,u,c;Je(2,arguments);var f=ss(),d=dt((n=(a=(i=(o=r==null?void 0:r.weekStartsOn)!==null&&o!==void 0?o:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&a!==void 0?a:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ht(e),v=dt(t),p=h.getUTCDay(),m=v%7,g=(m+7)%7,y=(g<d?7:0)+v-p;return h.setUTCDate(h.getUTCDate()+y),h}var yhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",90),He($e(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"E":case"EE":case"EEE":return o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=dA(a,o,s),a.setUTCHours(0,0,0,0),a}}]),r}(fr),_he=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",90),He($e(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o,s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return pn(ln(i.length,a),l);case"eo":return pn(o.ordinalNumber(a,{unit:"day"}),l);case"eee":return o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"eeeee":return o.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=dA(a,o,s),a.setUTCHours(0,0,0,0),a}}]),r}(fr),xhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",90),He($e(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o,s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return pn(ln(i.length,a),l);case"co":return pn(o.ordinalNumber(a,{unit:"day"}),l);case"ccc":return o.day(a,{width:"abbreviated",context:"standalone"})||o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"});case"ccccc":return o.day(a,{width:"narrow",context:"standalone"});case"cccccc":return o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(a,{width:"wide",context:"standalone"})||o.day(a,{width:"abbreviated",context:"standalone"})||o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=dA(a,o,s),a.setUTCHours(0,0,0,0),a}}]),r}(fr);function bhe(e,t){Je(2,arguments);var r=dt(t);r%7===0&&(r=r-7);var n=1,a=ht(e),i=a.getUTCDay(),o=r%7,s=(o+7)%7,l=(s<n?7:0)+r-i;return a.setUTCDate(a.getUTCDate()+l),a}var whe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",90),He($e(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){var s=function(u){return u===0?7:u};switch(i){case"i":case"ii":return ln(i.length,a);case"io":return o.ordinalNumber(a,{unit:"day"});case"iii":return pn(o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s);case"iiiii":return pn(o.day(a,{width:"narrow",context:"formatting"}),s);case"iiiiii":return pn(o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s);case"iiii":default:return pn(o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(a,i){return i>=1&&i<=7}},{key:"set",value:function(a,i,o){return a=bhe(a,o),a.setUTCHours(0,0,0,0),a}}]),r}(fr),She=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",80),He($e(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"a":case"aa":case"aaa":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(fA(o),0,0,0),a}}]),r}(fr),The=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",80),He($e(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"b":case"bb":case"bbb":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(fA(o),0,0,0),a}}]),r}(fr),Che=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",80),He($e(n),"incompatibleTokens",["a","b","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"B":case"BB":case"BBB":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(fA(o),0,0,0),a}}]),r}(fr),Ahe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",70),He($e(n),"incompatibleTokens",["H","K","k","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"h":return qr(vn.hour12h,a);case"ho":return o.ordinalNumber(a,{unit:"hour"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=12}},{key:"set",value:function(a,i,o){var s=a.getUTCHours()>=12;return s&&o<12?a.setUTCHours(o+12,0,0,0):!s&&o===12?a.setUTCHours(0,0,0,0):a.setUTCHours(o,0,0,0),a}}]),r}(fr),Ehe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",70),He($e(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"H":return qr(vn.hour23h,a);case"Ho":return o.ordinalNumber(a,{unit:"hour"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=23}},{key:"set",value:function(a,i,o){return a.setUTCHours(o,0,0,0),a}}]),r}(fr),Dhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",70),He($e(n),"incompatibleTokens",["h","H","k","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"K":return qr(vn.hour11h,a);case"Ko":return o.ordinalNumber(a,{unit:"hour"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){var s=a.getUTCHours()>=12;return s&&o<12?a.setUTCHours(o+12,0,0,0):a.setUTCHours(o,0,0,0),a}}]),r}(fr),Mhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",70),He($e(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"k":return qr(vn.hour24h,a);case"ko":return o.ordinalNumber(a,{unit:"hour"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=24}},{key:"set",value:function(a,i,o){var s=o<=24?o%24:o;return a.setUTCHours(s,0,0,0),a}}]),r}(fr),Phe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",60),He($e(n),"incompatibleTokens",["t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"m":return qr(vn.minute,a);case"mo":return o.ordinalNumber(a,{unit:"minute"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=59}},{key:"set",value:function(a,i,o){return a.setUTCMinutes(o,0,0),a}}]),r}(fr),Lhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",50),He($e(n),"incompatibleTokens",["t","T"]),n}return jt(r,[{key:"parse",value:function(a,i,o){switch(i){case"s":return qr(vn.second,a);case"so":return o.ordinalNumber(a,{unit:"second"});default:return ln(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=59}},{key:"set",value:function(a,i,o){return a.setUTCSeconds(o,0),a}}]),r}(fr),Ihe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",30),He($e(n),"incompatibleTokens",["t","T"]),n}return jt(r,[{key:"parse",value:function(a,i){var o=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return pn(ln(i.length,a),o)}},{key:"set",value:function(a,i,o){return a.setUTCMilliseconds(o),a}}]),r}(fr),Rhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",10),He($e(n),"incompatibleTokens",["t","T","x"]),n}return jt(r,[{key:"parse",value:function(a,i){switch(i){case"X":return Wo($o.basicOptionalMinutes,a);case"XX":return Wo($o.basic,a);case"XXXX":return Wo($o.basicOptionalSeconds,a);case"XXXXX":return Wo($o.extendedOptionalSeconds,a);case"XXX":default:return Wo($o.extended,a)}}},{key:"set",value:function(a,i,o){return i.timestampIsSet?a:new Date(a.getTime()-o)}}]),r}(fr),Ohe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",10),He($e(n),"incompatibleTokens",["t","T","X"]),n}return jt(r,[{key:"parse",value:function(a,i){switch(i){case"x":return Wo($o.basicOptionalMinutes,a);case"xx":return Wo($o.basic,a);case"xxxx":return Wo($o.basicOptionalSeconds,a);case"xxxxx":return Wo($o.extendedOptionalSeconds,a);case"xxx":default:return Wo($o.extended,a)}}},{key:"set",value:function(a,i,o){return i.timestampIsSet?a:new Date(a.getTime()-o)}}]),r}(fr),khe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",40),He($e(n),"incompatibleTokens","*"),n}return jt(r,[{key:"parse",value:function(a){return Hz(a)}},{key:"set",value:function(a,i,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),r}(fr),Nhe=function(e){tr(r,e);var t=rr(r);function r(){var n;Xt(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),He($e(n),"priority",20),He($e(n),"incompatibleTokens","*"),n}return jt(r,[{key:"parse",value:function(a){return Hz(a)}},{key:"set",value:function(a,i,o){return[new Date(o),{timestampIsSet:!0}]}}]),r}(fr),Bhe={G:new the,y:new rhe,Y:new nhe,R:new ahe,u:new ihe,Q:new ohe,q:new she,M:new lhe,L:new uhe,w:new fhe,I:new hhe,d:new mhe,D:new ghe,E:new yhe,e:new _he,c:new xhe,i:new whe,a:new She,b:new The,B:new Che,h:new Ahe,H:new Ehe,K:new Dhe,k:new Mhe,m:new Phe,s:new Lhe,S:new Ihe,X:new Rhe,x:new Ohe,t:new khe,T:new Nhe},Vhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zhe=/^'([^]*?)'?$/,Uhe=/''/g,Hhe=/\S/,Ghe=/[a-zA-Z]/;function aT(e,t,r,n){var a,i,o,s,l,u,c,f,d,h,v,p,m,g,y,_,x,w;Je(3,arguments);var b=String(e),T=String(t),S=ss(),A=(a=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:S.locale)!==null&&a!==void 0?a:Fz;if(!A.match)throw new RangeError("locale must contain match property");var M=dt((o=(s=(l=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(c=n.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:S.firstWeekContainsDate)!==null&&s!==void 0?s:(d=S.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=dt((v=(p=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(y=n.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:S.weekStartsOn)!==null&&p!==void 0?p:(x=S.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&v!==void 0?v:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(T==="")return b===""?ht(r):new Date(NaN);var D={firstWeekContainsDate:M,weekStartsOn:C,locale:A},P=[new ehe],I=T.match(Fhe).map(function(K){var q=K[0];if(q in rT){var ue=rT[q];return ue(K,A.formatLong)}return K}).join("").match(Vhe),k=[],V=JI(I),H;try{var O=function(){var q=H.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&Vz(q)&&n0(q,T,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Bz(q)&&n0(q,T,e);var ue=q[0],se=Bhe[ue];if(se){var B=se.incompatibleTokens;if(Array.isArray(B)){var $=k.find(function(re){return B.includes(re.token)||re.token===ue});if($)throw new RangeError("The format string mustn't contain `".concat($.fullToken,"` and `").concat(q,"` at the same time"))}else if(se.incompatibleTokens==="*"&&k.length>0)throw new RangeError("The format string mustn't contain `".concat(q,"` and any other token at the same time"));k.push({token:ue,fullToken:q});var Q=se.run(b,q,A.match,D);if(!Q)return{v:new Date(NaN)};P.push(Q.setter),b=Q.rest}else{if(ue.match(Ghe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ue+"`");if(q==="''"?q="'":ue==="'"&&(q=$he(q)),b.indexOf(q)===0)b=b.slice(q.length);else return{v:new Date(NaN)}}};for(V.s();!(H=V.n()).done;){var L=O();if(ji(L)==="object")return L.v}}catch(K){V.e(K)}finally{V.f()}if(b.length>0&&Hhe.test(b))return new Date(NaN);var F=P.map(function(K){return K.priority}).sort(function(K,q){return q-K}).filter(function(K,q,ue){return ue.indexOf(K)===q}).map(function(K){return P.filter(function(q){return q.priority===K}).sort(function(q,ue){return ue.subPriority-q.subPriority})}).map(function(K){return K[0]}),X=ht(r);if(isNaN(X.getTime()))return new Date(NaN);var Y=Iz(X,r0(X)),G={},z=JI(F),N;try{for(z.s();!(N=z.n()).done;){var U=N.value;if(!U.validate(Y,D))return new Date(NaN);var Z=U.set(Y,G,D);Array.isArray(Z)?(Y=Z[0],Fde(G,Z[1])):Y=Z}}catch(K){z.e(K)}finally{z.f()}return Y}function $he(e){return e.match(zhe)[1].replace(Uhe,"'")}function Whe(e,t){Je(2,arguments);var r=dt(t);return Ms(e,-r)}function Yhe(e,t){var r;Je(1,arguments);var n=dt((r=t==null?void 0:t.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Zhe(e),i;if(a.date){var o=Khe(a.date,n);i=Qhe(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var s=i.getTime(),l=0,u;if(a.time&&(l=Jhe(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(u=eve(a.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(s+l),f=new Date(0);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return new Date(s+l+u)}var lg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Xhe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jhe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qhe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Zhe(e){var t={},r=e.split(lg.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],lg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(lg.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=lg.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Khe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Qhe(e,t){if(t===null)return new Date(NaN);var r=e.match(Xhe);if(!r)return new Date(NaN);var n=!!r[4],a=Lh(r[1]),i=Lh(r[2])-1,o=Lh(r[3]),s=Lh(r[4]),l=Lh(r[5])-1;if(n)return ive(t,s,l)?tve(t,s,l):new Date(NaN);var u=new Date(0);return!nve(t,i,o)||!ave(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}function Lh(e){return e?parseInt(e):1}function Jhe(e){var t=e.match(jhe);if(!t)return NaN;var r=tb(t[1]),n=tb(t[2]),a=tb(t[3]);return ove(r,n,a)?r*uA+n*lA+a*1e3:NaN}function tb(e){return e&&parseFloat(e.replace(",","."))||0}function eve(e){if(e==="Z")return 0;var t=e.match(qhe);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return sve(n,a)?r*(n*uA+a*lA):NaN}function tve(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var rve=[31,null,31,30,31,30,31,31,30,31,30,31];function Wz(e){return e%400===0||e%4===0&&e%100!==0}function nve(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(rve[t]||(Wz(e)?29:28))}function ave(e,t){return t>=1&&t<=(Wz(e)?366:365)}function ive(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function ove(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function sve(e,t){return t>=0&&t<=59}function zf(e,t){Je(2,arguments);var r=ht(e),n=dt(t),a=r.getFullYear(),i=r.getDate(),o=new Date(0);o.setFullYear(a,n,15),o.setHours(0,0,0,0);var s=Ude(o);return r.setMonth(n,Math.min(i,s)),r}function Un(e,t){if(Je(2,arguments),ji(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var r=ht(e);return isNaN(r.getTime())?new Date(NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=zf(r,t.month)),t.date!=null&&r.setDate(dt(t.date)),t.hours!=null&&r.setHours(dt(t.hours)),t.minutes!=null&&r.setMinutes(dt(t.minutes)),t.seconds!=null&&r.setSeconds(dt(t.seconds)),t.milliseconds!=null&&r.setMilliseconds(dt(t.milliseconds)),r)}function Yz(e,t){Je(2,arguments);var r=ht(e),n=dt(t);return r.setHours(n),r}function hA(e,t){Je(2,arguments);var r=ht(e),n=dt(t);return r.setMilliseconds(n),r}function Xz(e,t){Je(2,arguments);var r=ht(e),n=dt(t);return r.setMinutes(n),r}function jz(e,t){Je(2,arguments);var r=ht(e),n=dt(t);return r.setSeconds(n),r}function Ps(e,t){Je(2,arguments);var r=ht(e),n=dt(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}function Qf(e,t){Je(2,arguments);var r=dt(t);return qo(e,-r)}function lve(e,t){if(Je(2,arguments),!t||ji(t)!=="object")return new Date(NaN);var r=t.years?dt(t.years):0,n=t.months?dt(t.months):0,a=t.weeks?dt(t.weeks):0,i=t.days?dt(t.days):0,o=t.hours?dt(t.hours):0,s=t.minutes?dt(t.minutes):0,l=t.seconds?dt(t.seconds):0,u=Qf(e,n+r*12),c=Whe(u,i+a*7),f=s+o*60,d=l+f*60,h=d*1e3,v=new Date(c.getTime()-h);return v}function uve(e,t){Je(2,arguments);var r=dt(t);return Pz(e,-r)}function F_(){return ee(),be("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ve("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ve("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ve("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ve("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function cve(){return ee(),be("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ve("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ve("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function tR(){return ee(),be("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ve("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function rR(){return ee(),be("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ve("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function qz(){return ee(),be("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ve("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ve("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Zz(){return ee(),be("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ve("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Kz(){return ee(),be("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ve("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const nR=(e,t,r,n,a)=>{const i=aT(e,t.slice(0,e.length),new Date);return Dv(i)&&Lz(i)?n||a?i:Un(i,{hours:+r.hours,minutes:+(r==null?void 0:r.minutes),seconds:+(r==null?void 0:r.seconds),milliseconds:0}):null},fve=(e,t,r,n,a)=>{const i=Array.isArray(r)?r[0]:r;if(typeof t=="string")return nR(e,t,i,n,a);if(Array.isArray(t)){let o=null;for(const s of t)if(o=nR(e,s,i,n,a),o)break;return o}return typeof t=="function"?t(e):null},Se=e=>e?new Date(e):new Date,dve=(e,t,r)=>{if(t){const a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=r?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${a}-${i}T${o}:${s}:${l}.000Z`}const n=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(n).toISOString()},zi=e=>{let t=Se(JSON.parse(JSON.stringify(e)));return t=Yz(t,0),t=Xz(t,0),t=jz(t,0),t=hA(t,0),t},Si=(e,t,r,n)=>{let a=e?Se(e):Se();return(t||t===0)&&(a=Yz(a,+t)),(r||r===0)&&(a=Xz(a,+r)),(n||n===0)&&(a=jz(a,+n)),hA(a,0)},la=(e,t)=>!e||!t?!1:hp(zi(e),zi(t)),gr=(e,t)=>!e||!t?!1:Zu(zi(e),zi(t)),Oa=(e,t)=>!e||!t?!1:dp(zi(e),zi(t)),Qz=(e,t,r)=>e&&e[0]&&e[1]?Oa(r,e[0])&&la(r,e[1]):e&&e[0]&&t?Oa(r,e[0])&&la(r,t)||la(r,e[0])&&Oa(r,t):!1,Ih=e=>{const t=Un(new Date(e),{date:1});return zi(t)},rb=(e,t,r)=>t&&(r||r===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===t?[n,r]:[n,isNaN(+e[n])?void 0:+e[n]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},ug=e=>({hours:bs(e),minutes:ws(e),seconds:vd(e)}),Rh=Tr({menuFocused:!1,shiftKeyInMenu:!1}),Jz=()=>{const e=r=>{Rh.menuFocused=r},t=r=>{Rh.shiftKeyInMenu!==r&&(Rh.shiftKeyInMenu=r)};return{control:R(()=>({shiftKeyInMenu:Rh.shiftKeyInMenu,menuFocused:Rh.menuFocused})),setMenuFocused:e,setShiftKey:t}};function vA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eU={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(eU);var hve=eU.exports,iT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}e.exports=t.default})(iT,iT.exports);var vve=iT.exports;const pve=vA(vve);var oT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){var a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),n.getTime()-a.getTime()}e.exports=t.default})(oT,oT.exports);var mve=oT.exports;const aR=vA(mve);function gve(e,t){var r=bve(t);return r.formatToParts?_ve(r,e):xve(r,e)}var yve={year:0,month:1,day:2,hour:3,minute:4,second:5};function _ve(e,t){try{for(var r=e.formatToParts(t),n=[],a=0;a<r.length;a++){var i=yve[r[a].type];i>=0&&(n[i]=parseInt(r[a].value,10))}return n}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function xve(e,t){var r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var nb={};function bve(e){if(!nb[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="06/25/2014 00:00:00";nb[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return nb[e]}function pA(e,t,r,n,a,i,o){var s=new Date(0);return s.setUTCFullYear(e,t,r),s.setUTCHours(n,a,i,o),s}var iR=36e5,wve=6e4,ab={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function mA(e,t,r){var n,a;if(!e||(n=ab.timezoneZ.exec(e),n))return 0;var i;if(n=ab.timezoneHH.exec(e),n)return i=parseInt(n[1],10),oR(i)?-(i*iR):NaN;if(n=ab.timezoneHHMM.exec(e),n){i=parseInt(n[1],10);var o=parseInt(n[2],10);return oR(i,o)?(a=Math.abs(i)*iR+o*wve,i>0?-a:a):NaN}if(Cve(e)){t=new Date(t||Date.now());var s=r?t:Sve(t),l=sT(s,e),u=r?l:Tve(t,l,e);return-u}return NaN}function Sve(e){return pA(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function sT(e,t){var r=gve(e,t),n=pA(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),a=e.getTime(),i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function Tve(e,t,r){var n=e.getTime(),a=n-t,i=sT(new Date(a),r);if(t===i)return t;a-=i-t;var o=sT(new Date(a),r);return i===o?i:Math.max(i,o)}function oR(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var sR={};function Cve(e){if(sR[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),sR[e]=!0,!0}catch{return!1}}var Ave=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const tU=Ave;var ib=36e5,lR=6e4,Eve=2,La={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:tU};function lT(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r=t||{},n=r.additionalDigits==null?Eve:pve(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Dve(e),i=Mve(a.date,n),o=i.year,s=i.restDateString,l=Pve(s,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,f;if(a.time&&(c=Lve(a.time),isNaN(c)))return new Date(NaN);if(a.timeZone||r.timeZone){if(f=mA(a.timeZone||r.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=aR(new Date(u+c)),f=aR(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function Dve(e){var t={},r=La.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=La.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){var a=La.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function Mve(e,t){var r=La.YYY[t],n=La.YYYYY[t],a;if(a=La.YYYY.exec(e)||n.exec(e),a){var i=a[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(a=La.YY.exec(e)||r.exec(e),a){var o=a[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function Pve(e,t){if(t===null)return null;var r,n,a,i;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(r=La.MM.exec(e),r)return n=new Date(0),a=parseInt(r[1],10)-1,cR(t,a)?(n.setUTCFullYear(t,a),n):new Date(NaN);if(r=La.DDD.exec(e),r){n=new Date(0);var o=parseInt(r[1],10);return Ove(t,o)?(n.setUTCFullYear(t,0,o),n):new Date(NaN)}if(r=La.MMDD.exec(e),r){n=new Date(0),a=parseInt(r[1],10)-1;var s=parseInt(r[2],10);return cR(t,a,s)?(n.setUTCFullYear(t,a,s),n):new Date(NaN)}if(r=La.Www.exec(e),r)return i=parseInt(r[1],10)-1,fR(t,i)?uR(t,i):new Date(NaN);if(r=La.WwwD.exec(e),r){i=parseInt(r[1],10)-1;var l=parseInt(r[2],10)-1;return fR(t,i,l)?uR(t,i,l):new Date(NaN)}return null}function Lve(e){var t,r,n;if(t=La.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),ob(r)?r%24*ib:NaN;if(t=La.HHMM.exec(e),t)return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),ob(r,n)?r%24*ib+n*lR:NaN;if(t=La.HHMMSS.exec(e),t){r=parseInt(t[1],10),n=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return ob(r,n,a)?r%24*ib+n*lR+a*1e3:NaN}return null}function uR(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=t*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var Ive=[31,28,31,30,31,30,31,31,30,31,30,31],Rve=[31,29,31,30,31,30,31,31,30,31,30,31];function rU(e){return e%400===0||e%4===0&&e%100!==0}function cR(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var n=rU(e);if(n&&r>Rve[t]||!n&&r>Ive[t])return!1}return!0}function Ove(e,t){if(t<1)return!1;var r=rU(e);return!(r&&t>366||!r&&t>365)}function fR(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function ob(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}var uT={exports:{}},cT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,a){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i]);return n}e.exports=t.default})(cT,cT.exports);var kve=cT.exports;(function(e,t){var r=hve.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=r(kve);function a(i){return(0,n.default)({},i)}e.exports=t.default})(uT,uT.exports);var Nve=uT.exports;const Bve=vA(Nve);function Vve(e,t,r){var n=lT(e,r),a=mA(t,n,!0),i=new Date(n.getTime()-a),o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}function Fve(e,t,r){if(typeof e=="string"&&!e.match(tU)){var n=Bve(r);return n.timeZone=t,lT(e,n)}var a=lT(e,r),i=pA(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).getTime(),o=mA(t,new Date(i));return new Date(i+o)}const zve=(e,t=3)=>{const r=[];for(let n=0;n<e.length;n+=t)r.push([e[n],e[n+1],e[n+2]]);return r};function dR(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function Uve(e){return t=>dc(new Date(`2017-01-0${t}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Hve=(e,t,r)=>{const n=[1,2,3,4,5,6,7];let a;if(e!==null)try{a=n.map(Uve(e))}catch{a=n.map(dR(t))}else a=n.map(dR(t));const i=a.slice(0,r),o=a.slice(r+1,a.length);return[a[r]].concat(...o).concat(...i)},Gve=(e,t)=>{const r=[];for(let n=+e[0];n<=+e[1];n++)r.push({value:+n,text:`${n}`});return t?r.reverse():r},$ve=(e,t,r)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const o=i<10?`0${i}`:i;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const i=r==="long"?"MMMM":"MMM";return n.map((o,s)=>{const l=dc(o,i,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:s}})}catch{}const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return n.map((i,o)=>{const s=a.format(i);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:o}})},Wve=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],nn=e=>{const t=ie(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},Yve=e=>Object.assign({type:"dot"},e),nU=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,o0={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},na=e=>e,hR=e=>e===0?e:!e||isNaN(+e)?null:+e,Xve=e=>e===0?!0:!!e,vR=e=>e===null,jve=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},pR=e=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),qve=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},e),Zve=e=>e===null?0:typeof e=="boolean"?e?2:0:+e>=2?+e:2,Kve=(e,t,r)=>e||(typeof r=="string"?r:t),Qve=e=>typeof e=="boolean"?e?pR({}):!1:pR(e),Jve=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),epe=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),tpe=e=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},e),fi=e=>{const t=()=>{if(e.partialRange)return null;throw new Error(o0.prop("partial-range"))},r=R(()=>({ariaLabels:qve(e.ariaLabels),textInputOptions:Object.assign(Jve(),e.textInputOptions),multiCalendars:Zve(e.multiCalendars),previewFormat:Kve(e.previewFormat,e.format,i()),filters:epe(e.filters),transitions:Qve(e.transitions),startTime:h(),actionRow:tpe(e.actionRow)})),n=G=>{if(e.range)return G();throw new Error(o0.prop("range"))},a=()=>{const G=e.enableSeconds?":ss":"";return e.is24?`HH:mm${G}`:`hh:mm${G} aa`},i=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy",o=(G,z)=>{if(typeof e.format=="function")return e.format(G);const N=z||i(),U=e.formatLocale?{locale:e.formatLocale}:void 0;return Array.isArray(G)?`${dc(G[0],N,U)}${e.modelAuto&&!G[1]?"":r.value.textInputOptions.rangeSeparator||"-"}${G[1]?dc(G[1],N,U):""}`:dc(G,N,U)},s=G=>e.timezone?Vve(G,e.timezone):G,l=G=>e.timezone?Fve(G,e.timezone):G,u=R(()=>G=>{var z;return(z=e.hideNavigation)==null?void 0:z.includes(G)}),c=G=>{var z,N,U,Z;return Array.isArray(e.allowedDates)&&!((z=e.allowedDates)!=null&&z.length)?!0:(N=e.arrMapValues)!=null&&N.allowedDates?!y(G,e.arrMapValues.allowedDates):(U=e.allowedDates)!=null&&U.length?!((Z=e.allowedDates)!=null&&Z.some(K=>gr(s(Se(K)),s(G)))):!1},f=G=>{var z;const N=e.maxDate?Oa(s(G),s(Se(e.maxDate))):!1,U=e.minDate?la(s(G),s(Se(e.minDate))):!1,Z=y(G,(z=e.arrMapValues)!=null&&z.disabledDates?e.arrMapValues.disabledDates:e.disabledDates),K=r.value.filters.months.map($=>+$).includes(Rr(G)),q=e.disabledWeekDays.length?e.disabledWeekDays.some($=>+$===zde(G)):!1,ue=c(G),se=Vr(G),B=se<+e.yearRange[0]||se>+e.yearRange[1];return!(N||U||Z||K||B||q||ue)},d=G=>{const z={hours:bs(Se()),minutes:ws(Se()),seconds:e.enableSeconds?vd(Se()):0};return Object.assign(z,G)},h=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[d(e.startTime[0]),d(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?d(e.startTime):null,v=G=>!f(G),p=G=>Array.isArray(G)?Dv(G[0])&&(G[1]?Dv(G[1]):!0):G?Dv(G):!1,m=G=>G instanceof Date?G:Yhe(G),g=G=>{const z=Cc(s(G),{weekStartsOn:+e.weekStart}),N=kfe(s(G),{weekStartsOn:+e.weekStart});return[z,N]},y=(G,z)=>G?z instanceof Map?!!z.get(F(G)):Array.isArray(z)?z.some(N=>gr(s(Se(N)),s(G))):z(Se(JSON.parse(JSON.stringify(G)))):!0,_=(G,z,N)=>{let U=G?Se(G):Se();return(z||z===0)&&(U=zf(U,z)),N&&(U=Ps(U,N)),U},x=G=>Un(Se(),ug(G)),w=G=>Un(Se(),{hours:+G.hours||0,minutes:+G.minutes||0,seconds:+G.seconds||0}),b=(G,z,N,U)=>{if(!G)return!0;if(U){const Z=N==="max"?hp(G,z):dp(G,z),K={seconds:0,milliseconds:0};return Z||Zu(Un(G,K),Un(z,K))}return N==="max"?G.getTime()<=z.getTime():G.getTime()>=z.getTime()},T=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,S=G=>Array.isArray(G)?[G[0]?x(G[0]):null,G[1]?x(G[1]):null]:x(G),A=G=>{const z=e.maxTime?w(e.maxTime):Se(e.maxDate);return Array.isArray(G)?b(G[0],z,"max",!!e.maxDate)&&b(G[1],z,"max",!!e.maxDate):b(G,z,"max",!!e.maxDate)},M=(G,z)=>{const N=e.minTime?w(e.minTime):Se(e.minDate);return Array.isArray(G)?b(G[0],N,"min",!!e.minDate)&&b(G[1],N,"min",!!e.minDate)&&z:b(G,N,"min",!!e.minDate)&&z},C=G=>{let z=!0;if(!G||T())return!0;const N=!e.minDate&&!e.maxDate?S(G):G;if((e.maxTime||e.maxDate)&&(z=A(na(N))),(e.minTime||e.minDate)&&(z=M(na(N),z)),e.disabledTimes){const U=Array.isArray(G)?[ug(G[0]),G[1]?ug(G[1]):void 0]:ug(G);z=!e.disabledTimes(U)}return z},D=(G,z)=>{const N=Se(JSON.parse(JSON.stringify(G))),U=[];for(let Z=0;Z<7;Z++){const K=Ms(N,Z),q=Rr(K)!==z;U.push({text:e.hideOffsetDates&&q?"":K.getDate(),value:K,current:!q,classData:{}})}return U},P=(G,z)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[G==0,!0];case"fair":return[G==0||z>G,!0];case"append":return[!1,!1];default:return[!1,!1]}},I=(G,z)=>{const N=[],U=Se(s(new Date(z,G))),Z=Se(s(new Date(z,G+1,0))),K=e.weekStart,q=Cc(U,{weekStartsOn:K}),ue=se=>{const B=D(se,G);if(N.push({days:B}),!N[N.length-1].days.some($=>gr(zi($.value),zi(Z)))){const $=Ms(se,7);ue($)}};if(ue(q),e.sixWeeks&&N.length<6){const se=6-N.length,B=(U.getDay()+7-K)%7,$=6-(Z.getDay()+7-K)%7,[Q,re]=P(B,$);for(let le=1;le<=se;le++)if(re?!!(le%2)==Q:Q){const de=N[0].days[0],Ae=D(Ms(de.value,-7),Rr(U));N.unshift({days:Ae})}else{const de=N[N.length-1],Ae=de.days[de.days.length-1],we=D(Ms(Ae.value,1),Rr(U));N.push({days:we})}}return N},k=(G,z,N)=>[Un(Se(G),{date:1}),Un(Se(),{month:z,year:N,date:1})],V=(G,z)=>la(...k(e.minDate,G,z))||gr(...k(e.minDate,G,z)),H=(G,z)=>Oa(...k(e.maxDate,G,z))||gr(...k(e.maxDate,G,z)),O=(G,z,N)=>{let U=!1;return e.maxDate&&N&&H(G,z)&&(U=!0),e.minDate&&!N&&V(G,z)&&(U=!0),U},L=(G,z,N,U)=>{let Z=!1;return U?e.minDate&&e.maxDate?Z=O(G,z,N):(e.minDate&&V(G,z)||e.maxDate&&H(G,z))&&(Z=!0):Z=!0,Z},F=G=>{const z=zi(s(Se(G))).toISOString(),[N]=z.split("T");return N},X=G=>new Map(G.map(z=>[F(z),!0])),Y=G=>Array.isArray(G)&&G.length>0;return{checkPartialRangeValue:t,checkRangeEnabled:n,getZonedDate:s,getZonedToUtc:l,formatDate:o,getDefaultPattern:i,validateDate:f,getDefaultStartTime:h,isDisabled:v,isValidDate:p,sanitizeDate:m,getWeekFromDate:g,matchDate:y,setDateMonthOrYear:_,isValidTime:C,getCalendarDays:I,validateMonthYearInRange:L,validateMaxDate:H,validateMinDate:V,assignDefaultTime:d,mapDatesArrToMap:G=>{Y(e.allowedDates)&&(G.allowedDates=X(e.allowedDates)),Y(e.highlight)&&(G.highlightedDates=X(e.highlight)),Y(e.disabledDates)&&(G.disabledDates=X(e.disabledDates))},defaults:r,hideNavigationButtons:u}},Br=Tr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),sb=te(null),cg=te(!1),lb=te(!1),ub=te(!1),cb=te(!1),ba=te(0),qn=te(0),Xl=()=>{const e=R(()=>cg.value?[...Br.selectionGrid,Br.actionRow].filter(f=>f.length):lb.value?[...Br.timePicker[0],...Br.timePicker[1],cb.value?[]:[sb.value],Br.actionRow].filter(f=>f.length):ub.value?[...Br.monthPicker,Br.actionRow]:[Br.monthYear,...Br.calendar,Br.time,Br.actionRow].filter(f=>f.length)),t=f=>{ba.value=f?ba.value+1:ba.value-1;let d=null;e.value[qn.value]&&(d=e.value[qn.value][ba.value]),d||(ba.value=f?ba.value-1:ba.value+1)},r=f=>{qn.value===0&&!f||qn.value===e.value.length&&f||(qn.value=f?qn.value+1:qn.value-1,e.value[qn.value]?e.value[qn.value]&&!e.value[qn.value][ba.value]&&ba.value!==0&&(ba.value=e.value[qn.value].length-1):qn.value=f?qn.value-1:qn.value+1)},n=f=>{let d=null;e.value[qn.value]&&(d=e.value[qn.value][ba.value]),d?d.focus({preventScroll:!cg.value}):ba.value=f?ba.value-1:ba.value+1},a=()=>{t(!0),n(!0)},i=()=>{t(!1),n(!1)},o=()=>{r(!1),n(!0)},s=()=>{r(!0),n(!0)},l=(f,d)=>{Br[d]=f},u=(f,d)=>{Br[d]=f},c=()=>{ba.value=0,qn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:f=>{sb.value=f},setSelectionGrid:f=>{cg.value=f,c(),f||(Br.selectionGrid=[])},setTimePicker:(f,d=!1)=>{lb.value=f,cb.value=d,c(),f||(Br.timePicker[0]=[],Br.timePicker[1]=[])},setTimePickerElements:(f,d=0)=>{Br.timePicker[d]=f},arrowRight:a,arrowLeft:i,arrowUp:o,arrowDown:s,clearArrowNav:()=>{Br.monthYear=[],Br.calendar=[],Br.time=[],Br.actionRow=[],Br.selectionGrid=[],Br.timePicker[0]=[],Br.timePicker[1]=[],cg.value=!1,lb.value=!1,cb.value=!1,ub.value=!1,c(),sb.value=null},setMonthPicker:f=>{ub.value=f,c()},refSets:Br}},mR=e=>Array.isArray(e),Cu=e=>Array.isArray(e),gR=e=>Array.isArray(e)&&e.length===2,rpe=(e,t,r,n,a)=>{const{getDefaultStartTime:i,isDisabled:o,sanitizeDate:s,getWeekFromDate:l,setDateMonthOrYear:u,validateMonthYearInRange:c,defaults:f}=fi(e),d=R({get:()=>e.internalModelValue,set:J=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",J)}}),h=te([]);Le(d,(J,he)=>{e.range?T():Zu(J,he)||T()});const v=_e(e,"multiCalendars");Le(v,()=>{oe(0)});const p=te([{month:Rr(Se()),year:Vr(Se())}]);Le(p,()=>{p.value.forEach((J,he)=>{t("update-month-year",{instance:he,month:J.month,year:J.year})})},{deep:!0});const m=Tr({hours:e.range?[bs(Se()),bs(Se())]:bs(Se()),minutes:e.range?[ws(Se()),ws(Se())]:ws(Se()),seconds:e.range?[0,0]:0}),g=R(()=>J=>p.value[J]?p.value[J].month:0),y=R(()=>J=>p.value[J]?p.value[J].year:0),_=R(()=>{var J;return(J=e.flow)!=null&&J.length&&!e.partialFlow?a.value===e.flow.length:!0}),x=(J,he,We)=>{var Ke,Nr;p.value[J]||(p.value[J]={month:0,year:0}),p.value[J].month=vR(he)?(Ke=p.value[J])==null?void 0:Ke.month:he,p.value[J].year=vR(We)?(Nr=p.value[J])==null?void 0:Nr.year:We},w=(J,he)=>{m[J]=he},b=()=>{e.startDate&&(x(0,Rr(Se(e.startDate)),Vr(Se(e.startDate))),f.value.multiCalendars&&oe(0))};Qt(()=>{d.value||(b(),f.value.startTime&&H()),T(!0),e.focusStartDate&&e.startDate&&b()});const T=(J=!1)=>{if(d.value)return Array.isArray(d.value)?(h.value=d.value,D(J)):A(d.value,J);if(e.timePicker)return P();if(e.monthPicker&&!e.range)return I();if(e.yearPicker&&!e.range)return k();if(f.value.multiCalendars&&J&&!e.startDate)return S(Se(),J)},S=(J,he=!1)=>{if((!f.value.multiCalendars||!e.multiStatic||he)&&x(0,Rr(J),Vr(J)),f.value.multiCalendars)for(let We=1;We<f.value.multiCalendars;We++){const Ke=Un(Se(),{month:g.value(We-1),year:y.value(We-1)}),Nr=Mz(Ke,{months:1});p.value[We]={month:Rr(Nr),year:Vr(Nr)}}},A=(J,he)=>{S(J),w("hours",bs(J)),w("minutes",ws(J)),w("seconds",vd(J)),f.value.multiCalendars&&he&&L()},M=(J,he)=>{J[1]&&e.showLastInRange?S(J[1],he):S(J[0],he);const We=(Ke,Nr)=>[Ke(J[0]),J[1]?Ke(J[1]):m[Nr][1]];w("hours",We(bs,"hours")),w("minutes",We(ws,"minutes")),w("seconds",We(vd,"seconds"))},C=(J,he)=>{if((e.range||e.weekPicker)&&!e.multiDates)return M(J,he);if(e.multiDates){const We=J[J.length-1];return A(We,he)}},D=J=>{const he=d.value;C(he,J),f.value.multiCalendars&&e.multiCalendarsSolo&&L()},P=()=>{if(H(),!e.range)d.value=Si(Se(),m.hours,m.minutes,V());else{const J=m.hours,he=m.minutes;d.value=[Si(Se(),J[0],he[0],V()),Si(Se(),J[1],he[1],V(!1))]}},I=()=>{e.multiDates?d.value=[u(Se(),g.value(0),y.value(0))]:d.value=u(Se(),g.value(0),y.value(0))},k=()=>{d.value=Se()},V=(J=!0)=>e.enableSeconds?Array.isArray(m.seconds)?J?m.seconds[0]:m.seconds[1]:m.seconds:0,H=()=>{const J=i();if(J){const he=Array.isArray(J),We=he?[+J[0].hours,+J[1].hours]:+J.hours,Ke=he?[+J[0].minutes,+J[1].minutes]:+J.minutes,Nr=he?[+J[0].seconds,+J[1].seconds]:+J.seconds;w("hours",We),w("minutes",Ke),e.enableSeconds&&w("seconds",Nr)}},O=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null,L=()=>{if(Array.isArray(d.value)&&d.value.length===2){const J=Se(Se(d.value[1]?d.value[1]:qo(d.value[0],1))),[he,We]=[Rr(d.value[0]),Vr(d.value[0])],[Ke,Nr]=[Rr(d.value[1]),Vr(d.value[1])];(he!==Ke||he===Ke&&We!==Nr)&&e.multiCalendarsSolo&&x(1,Rr(J),Vr(J))}else d.value&&!Array.isArray(d.value)&&x(0,Rr(d.value),Vr(d.value))},F=J=>{const he=qo(J,1);return{month:Rr(he),year:Vr(he)}},X=J=>{const he=Rr(Se(J)),We=Vr(Se(J));if(x(0,he,We),f.value.multiCalendars>0)for(let Ke=1;Ke<f.value.multiCalendars;Ke++){const Nr=F(Un(Se(J),{year:g.value(Ke-1),month:y.value(Ke-1)}));x(Ke,Nr.month,Nr.year)}},Y=J=>{if(d.value&&Array.isArray(d.value))if(d.value.some(he=>gr(J,he))){const he=d.value.filter(We=>!gr(We,J));d.value=he.length?he:null}else(e.multiDatesLimit&&+e.multiDatesLimit>d.value.length||!e.multiDatesLimit)&&d.value.push(J);else d.value=[J]},G=(J,he)=>{const We=Oa(J,he)?he:J,Ke=Oa(he,J)?he:J;return jI({start:We,end:Ke})},z=(J,he=0)=>{if(Array.isArray(d.value)&&d.value[he]){const We=Rfe(J,d.value[he]),Ke=G(d.value[he],J),Nr=Ke.length===1?0:Ke.filter(ls=>o(ls)).length,Mo=Math.abs(We)-Nr;if(e.minRange&&e.maxRange)return Mo>=+e.minRange&&Mo<=+e.maxRange;if(e.minRange)return Mo>=+e.minRange;if(e.maxRange)return Mo<=+e.maxRange}return!0},N=J=>Array.isArray(d.value)&&d.value.length===2?e.fixedStart&&(Oa(J,d.value[0])||gr(J,d.value[0]))?[d.value[0],J]:e.fixedEnd&&(la(J,d.value[1])||gr(J,d.value[1]))?[J,d.value[1]]:(t("invalid-fixed-range",J),d.value):[],U=()=>{e.autoApply&&_.value&&t("auto-apply",e.partialFlow)},Z=()=>{e.autoApply&&t("select-date")},K=J=>!jI({start:J[0],end:J[1]}).some(he=>o(he)),q=J=>(d.value=l(Se(J.value)),U()),ue=J=>{const he=Si(Se(J.value),m.hours,m.minutes,V());e.multiDates?Y(he):d.value=he,r(),U()},se=()=>{h.value=d.value?d.value.slice():[],h.value.length===2&&!(e.fixedStart||e.fixedEnd)&&(h.value=[])},B=(J,he)=>{const We=[Se(J.value),Ms(Se(J.value),+e.autoRange)];K(We)&&(he&&X(J.value),h.value=We)},$=J=>{Q(J.value)||!z(J.value,e.fixedStart?0:1)||(h.value=N(Se(J.value)))},Q=J=>e.noDisabledRange?G(h.value[0],J).some(he=>o(he)):!1,re=(J,he)=>{if(se(),e.autoRange)return B(J,he);if(e.fixedStart||e.fixedEnd)return $(J);h.value[0]?z(Se(J.value))&&!Q(J.value)&&(la(Se(J.value),Se(h.value[0]))?(h.value.unshift(Se(J.value)),t("range-end",h.value[0])):(h.value[1]=Se(J.value),t("range-end",h.value[1]))):(h.value[0]=Se(J.value),t("range-start",h.value[0]))},le=J=>{h.value[J]=Si(h.value[J],m.hours[J],m.minutes[J],V(J!==1))},de=()=>{var J,he;h.value[0]&&h.value[1]&&+((J=h.value)==null?void 0:J[0])>+((he=h.value)==null?void 0:he[1])&&(h.value.reverse(),t("range-start",h.value[0]),t("range-end",h.value[1]))},Ae=()=>{h.value.length&&(h.value[0]&&!h.value[1]?le(0):(le(0),le(1),r()),de(),d.value=h.value.slice(),h.value[0]&&h.value[1]&&e.autoApply&&t("auto-apply"),h.value[0]&&!h.value[1]&&e.modelAuto&&e.autoApply&&t("auto-apply"))},we=(J,he=!1)=>{if(!(o(J.value)||!J.current&&e.hideOffsetDates)){if(e.weekPicker)return q(J);if(!e.range)return ue(J);Cu(m.hours)&&Cu(m.minutes)&&!e.multiDates&&(re(J,he),Ae())}},Ie=J=>{const he=J[0];return e.weekNumbers==="local"?Xde(he.value,{weekStartsOn:+e.weekStart}):e.weekNumbers==="iso"?Gde(he.value):typeof e.weekNumbers=="function"?e.weekNumbers(he.value):""},oe=J=>{for(let he=J-1;he>=0;he--){const We=Qf(Un(Se(),{month:g.value(he+1),year:y.value(he+1)}),1);x(he,Rr(We),Vr(We))}for(let he=J+1;he<=f.value.multiCalendars-1;he++){const We=qo(Un(Se(),{month:g.value(he-1),year:y.value(he-1)}),1);x(he,Rr(We),Vr(We))}},me=J=>u(Se(),g.value(J),y.value(J)),ge=J=>Si(J,m.hours,m.minutes,V()),Ze=J=>{Y(me(J))},ot=(J,he)=>{const We=e.monthPicker?g.value(J)!==he.month||!he.fromNav:y.value(J)!==he.year||!he.fromNav;if(x(J,he.month,he.year),f.value.multiCalendars&&!e.multiCalendarsSolo&&oe(J),e.monthPicker||e.yearPicker)if(e.multiDates)We&&Ze(J);else if(e.range){if(We&&z(me(J))){let Ke=d.value?d.value.slice():[];Ke.length===2&&Ke[1]!==null&&(Ke=[]),Ke.length?la(me(J),Ke[0])?Ke.unshift(me(J)):Ke[1]=me(J):Ke=[me(J)],d.value=Ke}}else(e.autoApplyMonth||We)&&(d.value=me(J));n(e.multiCalendarsSolo?J:void 0)},Pt=async(J=!1)=>{if(e.autoApply&&(e.monthPicker||e.yearPicker)){await Ot();const he=e.monthPicker?J:!1;e.range?t("auto-apply",he||!d.value||d.value.length===1):t("auto-apply",he)}r()},lr=(J,he)=>{const We=Un(Se(),{month:g.value(he),year:y.value(he)}),Ke=J<0?qo(We,1):Qf(We,1);c(Rr(Ke),Vr(Ke),J<0,e.preventMinMaxNavigation)&&(x(he,Rr(Ke),Vr(Ke)),f.value.multiCalendars&&!e.multiCalendarsSolo&&oe(he),n())},qt=J=>{mR(J)&&mR(d.value)&&Cu(m.hours)&&Cu(m.minutes)?(J[0]&&d.value[0]&&(d.value[0]=Si(J[0],m.hours[0],m.minutes[0],V())),J[1]&&d.value[1]&&(d.value[1]=Si(J[1],m.hours[1],m.minutes[1],V(!1)))):e.multiDates&&Array.isArray(d.value)?d.value[d.value.length-1]=ge(J):!e.range&&!gR(J)&&(d.value=ge(J)),t("time-update")},Gr=(J,he=!0,We=!1)=>{const Ke=he?J:m.hours,Nr=!he&&!We?J:m.minutes,Mo=We?J:m.seconds;if(e.range&&gR(d.value)&&Cu(Ke)&&Cu(Nr)&&Cu(Mo)&&!e.disableTimeRangeValidation){const ls=Ge=>Si(d.value[Ge],Ke[Ge],Nr[Ge],Mo[Ge]),ye=Ge=>hA(d.value[Ge],0);if(gr(d.value[0],d.value[1])&&(dp(ls(0),ye(1))||hp(ls(1),ye(0))))return}if(w("hours",Ke),w("minutes",Nr),w("seconds",Mo),d.value)if(e.multiDates){const ls=O();ls&&qt(ls)}else qt(d.value);else e.timePicker&&qt(e.range?[Se(),Se()]:Se());r()},_a=(J,he)=>{e.monthChangeOnScroll&&lr(e.monthChangeOnScroll!=="inverse"?-J.deltaY:J.deltaY,he)},Do=(J,he,We=!1)=>{e.monthChangeOnArrows&&e.vertical===We&&Ql(J,he)},Ql=(J,he)=>{lr(J==="right"?-1:1,he)};return{time:m,month:g,year:y,modelValue:d,calendars:p,monthYearSelect:Pt,isDisabled:o,updateTime:Gr,getWeekNum:Ie,selectDate:we,updateMonthYear:ot,handleScroll:_a,getMarker:J=>e.markers.find(he=>gr(s(J.value),s(he.date))),handleArrow:Do,handleSwipe:Ql,selectCurrentDate:()=>{e.range?d.value&&Array.isArray(d.value)&&d.value[0]?d.value=la(Se(),d.value[0])?[Se(),d.value[0]]:[d.value[0],Se()]:d.value=[Se()]:d.value=Se(),Z()},presetDateRange:(J,he)=>{he||J.length&&J.length<=2&&e.range&&(d.value=J.map(We=>Se(We)),Z(),e.multiCalendars&&Ot().then(()=>T(!0)))}}},npe=(e,t,r)=>{const n=te(),{getZonedToUtc:a,getZonedDate:i,formatDate:o,getDefaultPattern:s,checkRangeEnabled:l,checkPartialRangeValue:u,isValidDate:c,setDateMonthOrYear:f,defaults:d}=fi(t),h=te(""),v=_e(t,"format");Le(n,()=>{e("internal-model-change",n.value)}),Le(v,()=>{O()});const p=z=>{const N=z||Se();return t.modelType?F(N):{hours:bs(N),minutes:ws(N),seconds:t.enableSeconds?vd(N):0}},m=z=>t.modelType?F(z):{month:Rr(z),year:Vr(z)},g=z=>Array.isArray(z)?l(()=>[Ps(Se(),z[0]),z[1]?Ps(Se(),z[1]):u()]):Ps(Se(),+z),y=(z,N)=>(typeof z=="string"||typeof z=="number")&&t.modelType?L(z):N,_=z=>Array.isArray(z)?[y(z[0],Si(null,+z[0].hours,+z[0].minutes,z[0].seconds)),y(z[1],Si(null,+z[1].hours,+z[1].minutes,z[1].seconds))]:y(z,Si(null,z.hours,z.minutes,z.seconds)),x=z=>Array.isArray(z)?t.multiDates?z.map(N=>y(N,f(null,+N.month,+N.year))):l(()=>[y(z[0],f(null,+z[0].month,+z[0].year)),y(z[1],z[1]?f(null,+z[1].month,+z[1].year):u())]):y(z,f(null,+z.month,+z.year)),w=z=>{if(Array.isArray(z))return z.map(N=>L(N));throw new Error(o0.dateArr("multi-dates"))},b=z=>{if(Array.isArray(z))return[Se(z[0]),Se(z[1])];throw new Error(o0.dateArr("week-picker"))},T=z=>t.modelAuto?Array.isArray(z)?[L(z[0]),L(z[1])]:t.autoApply?[L(z)]:[L(z),null]:Array.isArray(z)?l(()=>[L(z[0]),z[1]?L(z[1]):u()]):L(z),S=()=>{Array.isArray(n.value)&&t.range&&n.value.length===1&&n.value.push(u())},A=()=>{const z=n.value;return[F(z[0]),z[1]?F(z[1]):u()]},M=()=>n.value[1]?A():F(na(n.value[0])),C=()=>(n.value||[]).map(z=>F(z)),D=()=>(S(),t.modelAuto?M():t.multiDates?C():Array.isArray(n.value)?l(()=>A()):F(na(n.value))),P=z=>z?t.timePicker?_(na(z)):t.monthPicker?x(na(z)):t.yearPicker?g(na(z)):t.multiDates?w(na(z)):t.weekPicker?b(na(z)):T(na(z)):null,I=z=>{const N=P(z);c(na(N))?(n.value=na(N),O()):(n.value=null,h.value="")},k=()=>{var z;const N=U=>{var Z;return dc(U,(Z=d.value.textInputOptions)==null?void 0:Z.format)};return`${N(n.value[0])} ${(z=d.value.textInputOptions)==null?void 0:z.rangeSeparator} ${n.value[1]?N(n.value[1]):""}`},V=()=>{var z;return r.value&&n.value?Array.isArray(n.value)?k():dc(n.value,(z=d.value.textInputOptions)==null?void 0:z.format):o(n.value)},H=()=>{var z;return n.value?t.multiDates?n.value.map(N=>o(N)).join("; "):t.textInput&&typeof((z=d.value.textInputOptions)==null?void 0:z.format)=="string"?V():o(n.value):""},O=()=>{!t.format||typeof t.format=="string"||t.textInput&&typeof t.textInputOptions.format=="string"?h.value=H():h.value=t.format(n.value)},L=z=>{if(t.utc){const N=new Date(z);return t.utc==="preserve"?new Date(N.getTime()+N.getTimezoneOffset()*6e4):N}return t.modelType?t.modelType==="date"||t.modelType==="timestamp"?i(new Date(z)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?aT(z,s(),new Date):i(aT(z,t.modelType,new Date)):i(new Date(z))},F=z=>z?t.utc?dve(z,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+a(z):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?o(a(z)):o(a(z),t.modelType):a(z):"",X=z=>{e("update:model-value",z)},Y=z=>Array.isArray(n.value)?t.multiDates?n.value.map(N=>z(N)):[z(n.value[0]),n.value[1]?z(n.value[1]):u()]:z(na(n.value)),G=z=>X(na(Y(z)));return{inputValue:h,internalModelValue:n,checkBeforeEmit:()=>n.value?t.range?t.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:I,formatInputValue:O,emitModelValue:()=>(O(),t.monthPicker?G(m):t.timePicker?G(p):t.yearPicker?G(Vr):t.weekPicker?X(n.value):X(D()))}},ape=(e,t)=>{const{validateMonthYearInRange:r,validateMaxDate:n,validateMinDate:a,defaults:i}=fi(e),o=(f,d)=>{let h=f;return i.value.filters.months.includes(Rr(h))?(h=d?qo(f,1):Qf(f,1),o(h,d)):h},s=(f,d)=>{let h=f;return i.value.filters.years.includes(Vr(h))?(h=d?Pz(f,1):uve(f,1),s(h,d)):h},l=f=>{const d=Un(new Date,{month:e.month,year:e.year});let h=f?qo(d,1):Qf(d,1);e.disableYearSelect&&(h=Ps(h,e.year));let v=Rr(h),p=Vr(h);i.value.filters.months.includes(v)&&(h=o(h,f),v=Rr(h),p=Vr(h)),i.value.filters.years.includes(p)&&(h=s(h,f),p=Vr(h)),r(v,p,f,e.preventMinMaxNavigation)&&u(v,p)},u=(f,d)=>{t("update-month-year",{month:f,year:d})},c=R(()=>f=>{if(!e.preventMinMaxNavigation||f&&!e.maxDate||!f&&!e.minDate)return!1;const d=Un(new Date,{month:e.month,year:e.year}),h=f?qo(d,1):Qf(d,1),v=[Rr(h),Vr(h)];return f?!n(...v):!a(...v)});return{handleMonthYearChange:l,isDisabled:c,updateMonthYear:u}};var Kg=(e=>(e.center="center",e.left="left",e.right="right",e))(Kg||{});const ipe=(e,t,r,n)=>{const a=te({top:"0",left:"0",transform:"none",opacity:"0"}),i=te(!1),o=_e(n,"teleportCenter"),s=R(()=>i.value?"-100%":"0"),l=()=>{u(),a.value.opacity="0"};Le(o,()=>{y()}),Qt(()=>{u()});const u=()=>{const D=nn(t);if(D){const{top:P,left:I,width:k,height:V}=v(D);a.value.top=`${P+V/2}px`,h(I,k,50)}},c=D=>{if(n.teleport){const P=D.getBoundingClientRect();return{left:P.left+window.scrollX,top:P.top+window.scrollY}}return{top:0,left:0}},f=(D,P)=>{a.value.left=`${D+P}px`,a.value.transform=`translate(-100%, ${s.value})`},d=D=>{a.value.left=`${D}px`,a.value.transform=`translate(0, ${s.value})`},h=(D,P,I)=>{n.position===Kg.left&&d(D),n.position===Kg.right&&f(D,P),n.position===Kg.center&&(a.value.left=`${D+P/2}px`,a.value.transform=I?`translate(-50%, -${I}%)`:`translate(-50%, ${s.value})`)},v=D=>{const{width:P,height:I}=D.getBoundingClientRect(),{top:k,left:V}=n.altPosition?n.altPosition(D):c(D);return{top:+k,left:+V,width:P,height:I}},p=()=>{const D=nn(t);if(D){const{top:P,left:I,width:k,height:V}=v(D),H=T();a.value.top=`${P+V/2}px`,h(I,k,H==="top"?100:0)}},m=()=>{a.value.left="50%",a.value.top="50%",a.value.transform="translate(-50%, -50%)",a.value.position="fixed",delete a.value.opacity},g=()=>{const D=nn(t),{top:P,left:I,transform:k}=n.altPosition(D);a.value={top:`${P}px`,left:`${I}px`,transform:k||""}},y=(D=!0)=>{if(!n.inline)return o.value?m():n.altPosition!==null?g():(D&&r("recalculate-position"),A())},_=({inputEl:D,menuEl:P,left:I,width:k})=>{window.screen.width>768&&h(I,k),b(D,P)},x=(D,P)=>{const{top:I,left:k,height:V,width:H}=v(D);a.value.top=`${V+I+ +n.offset}px`,i.value=!1,_({inputEl:D,menuEl:P,left:k,width:H})},w=(D,P)=>{const{top:I,left:k,width:V}=v(D);a.value.top=`${I-+n.offset}px`,i.value=!0,_({inputEl:D,menuEl:P,left:k,width:V})},b=(D,P)=>{if(n.autoPosition){const{left:I,width:k}=v(D),{left:V,right:H}=P.getBoundingClientRect();return V<=0?d(I):H>=document.documentElement.clientWidth?f(I,k):h(I,k)}},T=()=>{const D=nn(e),P=nn(t);if(D&&P){const{height:I}=D.getBoundingClientRect(),{top:k,height:V}=P.getBoundingClientRect(),H=window.innerHeight-k-V,O=k;return I<=H?"bottom":I>H&&I<=O?"top":H>=O?"bottom":"top"}return"bottom"},S=(D,P)=>T()==="bottom"?x(D,P):w(D,P),A=()=>{const D=nn(t),P=nn(e);if(D&&P)return n.autoPosition?S(D,P):x(D,P)},M=function(D){if(D){const P=D.scrollHeight>D.clientHeight,I=window.getComputedStyle(D).overflowY.indexOf("hidden")!==-1;return P&&!I}return!0},C=function(D){return!D||D===document.body||D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:M(D)?D:C(D.parentNode)};return{openOnTop:i,menuStyle:a,resetPosition:l,setMenuPosition:y,setInitialPosition:p,getScrollableParent:C}},wf=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar","month-year"]},{name:"arrow-down",use:["time","calendar","month-year"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar"]}],ope=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],spe={all:()=>wf,monthYear:()=>wf.filter(e=>e.use.includes("month-year")),input:()=>ope,timePicker:()=>wf.filter(e=>e.use.includes("time")),action:()=>wf.filter(e=>e.use.includes("action")),calendar:()=>wf.filter(e=>e.use.includes("calendar")),menu:()=>wf.filter(e=>e.use.includes("menu"))},Ku=(e,t,r)=>{const n=[];return spe[t]().forEach(a=>{e[a.name]&&n.push(a.name)}),r&&r.length&&r.forEach(a=>{a.slot&&n.push(a.slot)}),n},z_=e=>({transitionName:R(()=>t=>e&&typeof e!="boolean"?t?e.open:e.close:""),showTransition:!!e}),jl={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:Function,default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},autoApplyMonth:{type:Boolean,default:!0}},lpe={key:1,class:"dp__input_wrap"},upe=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],cpe={key:2,class:"dp__clear_icon"},fpe=or({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...jl},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:t,emit:r}){const n=e,{getDefaultPattern:a,isValidDate:i,defaults:o,getDefaultStartTime:s,assignDefaultTime:l}=fi(n),u=te(),c=te(null),f=te(!1),d=te(!1),h=R(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:f.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),v=()=>{r("set-input-date",null),n.autoApply&&(r("set-empty-date"),u.value=null)},p=C=>{var D;const P=s();return fve(C,((D=o.value.textInputOptions)==null?void 0:D.format)||a(),P||l({}),n.inputValue,d.value)},m=C=>{const{rangeSeparator:D}=o.value.textInputOptions,[P,I]=C.split(`${D}`);if(P){const k=p(P.trim()),V=I?p(I.trim()):null,H=k&&V?[k,V]:[k];u.value=k?H:null}},g=()=>{d.value=!0},y=C=>{if(n.range)m(C);else if(n.multiDates){const D=C.split(";");u.value=D.map(P=>p(P.trim())).filter(P=>P)}else u.value=p(C)},_=C=>{var D,P;const I=typeof C=="string"?C:(D=C.target)==null?void 0:D.value;I!==""?((P=o.value.textInputOptions)!=null&&P.openMenu&&!n.isMenuOpen&&r("open"),y(I),r("set-input-date",u.value)):v(),d.value=!1,r("update:input-value",I)},x=C=>{var D,P;n.textInput?(y(C.target.value),(D=o.value.textInputOptions)!=null&&D.enterSubmit&&i(u.value)&&n.inputValue!==""?(r("set-input-date",u.value,!0),u.value=null):(P=o.value.textInputOptions)!=null&&P.enterSubmit&&n.inputValue===""&&(u.value=null,r("clear"))):T(C)},w=C=>{var D,P,I;n.textInput&&(D=o.value.textInputOptions)!=null&&D.tabSubmit&&y(C.target.value),(P=o.value.textInputOptions)!=null&&P.tabSubmit&&i(u.value)&&n.inputValue!==""?(r("set-input-date",u.value,!0),u.value=null):(I=o.value.textInputOptions)!=null&&I.tabSubmit&&n.inputValue===""&&(u.value=null,r("clear"))},b=()=>{f.value=!0,r("focus")},T=C=>{var D;C.preventDefault(),C.stopImmediatePropagation(),C.stopPropagation(),n.textInput&&(D=o.value.textInputOptions)!=null&&D.openMenu&&!n.inlineWithInput?(r("toggle"),o.value.textInputOptions.enterSubmit&&r("select-date")):n.textInput||r("toggle")},S=()=>{r("real-blur"),f.value=!1,(!n.isMenuOpen||n.inline&&n.inlineWithInput)&&r("blur"),n.autoApply&&n.textInput&&u.value&&!n.isMenuOpen&&(r("set-input-date",u.value),r("select-date"),u.value=null)},A=()=>{r("clear")},M=C=>{if(!n.textInput){if(C.code==="Tab")return;C.preventDefault()}};return t({focusInput:()=>{var C;(C=c.value)==null||C.focus({preventScroll:!0})},setParsedDate:C=>{u.value=C}}),(C,D)=>{var P;return ee(),be("div",{onClick:T},[C.$slots.trigger&&!C.$slots["dp-input"]&&!C.inline?Ye(C.$slots,"trigger",{key:0}):fe("",!0),!C.$slots.trigger&&(!C.inline||C.inlineWithInput)?(ee(),be("div",lpe,[C.$slots["dp-input"]&&!C.$slots.trigger&&!C.inline?Ye(C.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:_,onEnter:x,onTab:w,onClear:A,onBlur:S,onKeypress:M,onPaste:g}):fe("",!0),C.$slots["dp-input"]?fe("",!0):(ee(),be("input",{key:1,ref_key:"inputRef",ref:c,id:C.uid?`dp-input-${C.uid}`:void 0,name:C.name,class:Gt(h.value),inputmode:C.textInput?"text":"none",placeholder:C.placeholder,disabled:C.disabled,readonly:C.readonly,required:C.required,value:e.inputValue,autocomplete:C.autocomplete,"aria-label":(P=ie(o).ariaLabels)==null?void 0:P.input,onInput:_,onKeydown:[yt(x,["enter"]),yt(w,["tab"]),M],onBlur:S,onFocus:b,onKeypress:M,onPaste:g},null,42,upe)),Ve("div",{onClick:D[2]||(D[2]=I=>r("toggle"))},[C.$slots["input-icon"]&&!C.hideInputIcon?(ee(),be("span",{key:0,class:"dp__input_icon",onClick:D[0]||(D[0]=I=>r("toggle"))},[Ye(C.$slots,"input-icon")])):fe("",!0),!C.$slots["input-icon"]&&!C.hideInputIcon&&!C.$slots["dp-input"]?(ee(),Me(ie(F_),{key:1,onClick:D[1]||(D[1]=I=>r("toggle")),class:"dp__input_icon dp__input_icons"})):fe("",!0)]),C.$slots["clear-icon"]&&e.inputValue&&C.clearable&&!C.disabled&&!C.readonly?(ee(),be("span",cpe,[Ye(C.$slots,"clear-icon",{clear:A})])):fe("",!0),C.clearable&&!C.$slots["clear-icon"]&&e.inputValue&&!C.disabled&&!C.readonly?(ee(),Me(ie(cve),{key:3,class:"dp__clear_icon dp__input_icons",onClick:ua(A,["stop","prevent"])},null,8,["onClick"])):fe("",!0)])):fe("",!0)])}}}),dpe=["title"],hpe={class:"dp__action_buttons"},vpe=["onKeydown","disabled"],ppe=or({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...jl},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const r=e,{formatDate:n,isValidTime:a,defaults:i}=fi(r),{buildMatrix:o}=Xl(),s=te(null),l=te(null);Qt(()=>{r.arrowNavigation&&o([nn(s),nn(l)],"actionRow")});const u=R(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),c=R(()=>!f.value||!d.value||!u.value),f=R(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:a(r.internalModelValue)),d=R(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(w=>!_(w)).length:_(r.internalModelValue):!0),h=()=>{const w=i.value.previewFormat;return r.timePicker||r.monthPicker,w(na(r.internalModelValue))},v=()=>{const w=r.internalModelValue;return i.value.multiCalendars>0?`${p(w[0])} - ${p(w[1])}`:[p(w[0]),p(w[1])]},p=w=>n(w,i.value.previewFormat),m=R(()=>!r.internalModelValue||!r.menuMount?"":typeof i.value.previewFormat=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?v():r.multiDates?r.internalModelValue.map(w=>`${p(w)}`):r.modelAuto?`${p(r.internalModelValue[0])}`:`${p(r.internalModelValue[0])} -`:p(r.internalModelValue):h()),g=()=>r.multiDates?"; ":" - ",y=R(()=>Array.isArray(m.value)?m.value.join(g()):m.value),_=w=>{if(!r.monthPicker)return!0;let b=!0;const T=Se(Ih(w));if(r.minDate&&r.maxDate){const S=Se(Ih(r.minDate)),A=Se(Ih(r.maxDate));return Oa(T,S)&&la(T,A)||gr(T,S)||gr(T,A)}if(r.minDate){const S=Se(Ih(r.minDate));b=Oa(T,S)||gr(T,S)}if(r.maxDate){const S=Se(Ih(r.maxDate));b=la(T,S)||gr(T,S)}return b},x=()=>{f.value&&d.value&&u.value?t("select-date"):t("invalid-select")};return(w,b)=>(ee(),be("div",{class:"dp__action_row",style:Ii(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[w.$slots["action-row"]?Ye(w.$slots,"action-row",oa(Te({key:0},{internalModelValue:e.internalModelValue,disabled:c.value,selectDate:()=>w.$emit("select-date"),closePicker:()=>w.$emit("close-picker")}))):(ee(),be(Ce,{key:1},[ie(i).actionRow.showPreview?(ee(),be("div",{key:0,class:"dp__selection_preview",title:y.value},[w.$slots["action-preview"]?Ye(w.$slots,"action-preview",{key:0,value:e.internalModelValue}):fe("",!0),w.$slots["action-preview"]?fe("",!0):(ee(),be(Ce,{key:1},[Xe(Rt(y.value),1)],64))],8,dpe)):fe("",!0),Ve("div",hpe,[w.$slots["action-buttons"]?Ye(w.$slots,"action-buttons",{key:0,value:e.internalModelValue}):fe("",!0),w.$slots["action-buttons"]?fe("",!0):(ee(),be(Ce,{key:1},[!w.inline&&ie(i).actionRow.showCancel?(ee(),be("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:b[0]||(b[0]=T=>w.$emit("close-picker")),onKeydown:[b[1]||(b[1]=yt(T=>w.$emit("close-picker"),["enter"])),b[2]||(b[2]=yt(T=>w.$emit("close-picker"),["space"]))]},Rt(w.cancelText),545)):fe("",!0),w.showNowButton||ie(i).actionRow.showNow?(ee(),be("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:b[3]||(b[3]=T=>w.$emit("select-now")),onKeydown:[b[4]||(b[4]=yt(T=>w.$emit("select-now"),["enter"])),b[5]||(b[5]=yt(T=>w.$emit("select-now"),["space"]))]},Rt(w.nowButtonLabel),545)):fe("",!0),ie(i).actionRow.showSelect?(ee(),be("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[yt(x,["enter"]),yt(x,["space"])],onClick:x,disabled:c.value,ref_key:"selectButtonRef",ref:l},Rt(w.selectText),41,vpe)):fe("",!0)],64))])],64))],4))}}),mpe=["aria-label"],gpe={class:"dp__calendar_header",role:"row"},ype={key:0,class:"dp__calendar_header_item",role:"gridcell"},_pe=Ve("div",{class:"dp__calendar_header_separator"},null,-1),xpe=["aria-label"],bpe={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},wpe={class:"dp__cell_inner"},Spe=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Tpe=or({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...jl},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:r}){const n=e,{buildMultiLevelMatrix:a}=Xl(),{setDateMonthOrYear:i,defaults:o}=fi(n),s=te(null),l=te({bottom:"",left:"",transform:""}),u=te([]),c=te(null),f=te(!0),d=te(""),h=te({startX:0,endX:0,startY:0,endY:0}),v=te([]),p=te({left:"50%"}),m=R(()=>n.calendar?n.calendar(n.mappedDates):n.mappedDates),g=R(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Hve(n.formatLocale,n.locale,+n.weekStart));Qt(()=>{r("mount",{cmp:"calendar",refs:u}),n.noSwipe||c.value&&(c.value.addEventListener("touchstart",D,{passive:!1}),c.value.addEventListener("touchend",P,{passive:!1}),c.value.addEventListener("touchmove",I,{passive:!1})),n.monthChangeOnScroll&&c.value&&c.value.addEventListener("wheel",H,{passive:!1})});const y=O=>O?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",_=(O,L)=>{if(n.transitions){const F=zi(i(Se(),n.month,n.year));d.value=Oa(zi(i(Se(),O,L)),F)?o.value.transitions[y(!0)]:o.value.transitions[y(!1)],f.value=!1,Ot(()=>{f.value=!0})}},x=R(()=>({[n.calendarClassName]:!!n.calendarClassName})),w=R(()=>O=>{const L=Yve(O);return{dp__marker_dot:L.type==="dot",dp__marker_line:L.type==="line"}}),b=R(()=>O=>gr(O,s.value)),T=R(()=>({dp__calendar:!0,dp__calendar_next:o.value.multiCalendars>0&&n.instance!==0})),S=R(()=>O=>n.hideOffsetDates?O.current:!0),A=R(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),M=async(O,L,F)=>{var X,Y;if(r("set-hover-date",O),(Y=(X=O.marker)==null?void 0:X.tooltip)!=null&&Y.length){const G=nn(u.value[L][F]);if(G){const{width:z,height:N}=G.getBoundingClientRect();s.value=O.value;let U={left:`${z/2}px`},Z=-50;if(await Ot(),v.value[0]){const{left:K,width:q}=v.value[0].getBoundingClientRect();K<0&&(U={left:"0"},Z=0,p.value.left=`${z/2}px`),window.innerWidth<K+q&&(U={right:"0"},Z=0,p.value.left=`${q-z/2}px`)}l.value={bottom:`${N}px`,...U,transform:`translateX(${Z}%)`},r("tooltip-open",O.marker)}}},C=O=>{s.value&&(s.value=null,l.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",O.marker))},D=O=>{h.value.startX=O.changedTouches[0].screenX,h.value.startY=O.changedTouches[0].screenY},P=O=>{h.value.endX=O.changedTouches[0].screenX,h.value.endY=O.changedTouches[0].screenY,k()},I=O=>{n.vertical&&!n.inline&&O.preventDefault()},k=()=>{const O=n.vertical?"Y":"X";Math.abs(h.value[`start${O}`]-h.value[`end${O}`])>10&&r("handle-swipe",h.value[`start${O}`]>h.value[`end${O}`]?"right":"left")},V=(O,L,F)=>{O&&(Array.isArray(u.value[L])?u.value[L][F]=O:u.value[L]=[O]),n.arrowNavigation&&a(u.value,"calendar")},H=O=>{n.monthChangeOnScroll&&(O.preventDefault(),r("handle-scroll",O))};return t({triggerTransition:_}),(O,L)=>{var F;return ee(),be("div",{class:Gt(T.value)},[Ve("div",{style:Ii(A.value),ref_key:"calendarWrapRef",ref:c,role:"grid",class:Gt(x.value),"aria-label":(F=ie(o).ariaLabels)==null?void 0:F.calendarWrap},[e.specificMode?fe("",!0):(ee(),be(Ce,{key:0},[Ve("div",gpe,[O.weekNumbers?(ee(),be("div",ype,Rt(O.weekNumName),1)):fe("",!0),(ee(!0),be(Ce,null,an(g.value,(X,Y)=>(ee(),be("div",{class:"dp__calendar_header_item",role:"gridcell",key:Y},[O.$slots["calendar-header"]?Ye(O.$slots,"calendar-header",{key:0,day:X,index:Y}):fe("",!0),O.$slots["calendar-header"]?fe("",!0):(ee(),be(Ce,{key:1},[Xe(Rt(X),1)],64))]))),128))]),_pe,E(ha,{name:d.value,css:!!O.transitions},{default:ne(()=>{var X;return[f.value?(ee(),be("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(X=ie(o).ariaLabels)==null?void 0:X.calendarDays},[(ee(!0),be(Ce,null,an(m.value,(Y,G)=>(ee(),be("div",{class:"dp__calendar_row",role:"row",key:G},[O.weekNumbers?(ee(),be("div",bpe,[Ve("div",wpe,Rt(e.getWeekNum(Y.days)),1)])):fe("",!0),(ee(!0),be(Ce,null,an(Y.days,(z,N)=>{var U,Z,K;return ee(),be("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:q=>V(q,G,N),key:N+G,"aria-selected":z.classData.dp__active_date||z.classData.dp__range_start||z.classData.dp__range_start,"aria-disabled":z.classData.dp__cell_disabled,"aria-label":(Z=(U=ie(o).ariaLabels)==null?void 0:U.day)==null?void 0:Z.call(U,z),tabindex:"0",onClick:ua(q=>O.$emit("select-date",z),["stop","prevent"]),onKeydown:[yt(q=>O.$emit("select-date",z),["enter"]),yt(q=>O.$emit("handle-space",z),["space"])],onMouseenter:q=>M(z,G,N),onMouseleave:q=>C(z)},[Ve("div",{class:Gt(["dp__cell_inner",z.classData])},[O.$slots.day&&S.value(z)?Ye(O.$slots,"day",{key:0,day:+z.text,date:z.value}):fe("",!0),O.$slots.day?fe("",!0):(ee(),be(Ce,{key:1},[Xe(Rt(z.text),1)],64)),z.marker&&S.value(z)?(ee(),be(Ce,{key:2},[O.$slots.marker?Ye(O.$slots,"marker",{key:0,marker:z.marker,day:+z.text,date:z.value}):(ee(),be("div",{key:1,class:Gt(w.value(z.marker)),style:Ii(z.marker.color?{backgroundColor:z.marker.color}:{})},null,6))],64)):fe("",!0),b.value(z.value)?(ee(),be("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:v,style:Ii(l.value)},[(K=z.marker)!=null&&K.tooltip?(ee(),be("div",{key:0,class:"dp__tooltip_content",onClick:L[0]||(L[0]=ua(()=>{},["stop"]))},[(ee(!0),be(Ce,null,an(z.marker.tooltip,(q,ue)=>(ee(),be("div",{key:ue,class:"dp__tooltip_text"},[O.$slots["marker-tooltip"]?Ye(O.$slots,"marker-tooltip",{key:0,tooltip:q,day:z.value}):fe("",!0),O.$slots["marker-tooltip"]?fe("",!0):(ee(),be(Ce,{key:1},[Ve("div",{class:"dp__tooltip_mark",style:Ii(q.color?{backgroundColor:q.color}:{})},null,4),Ve("div",null,Rt(q.text),1)],64))]))),128)),Ve("div",{class:"dp__arrow_bottom_tp",style:Ii(p.value)},null,4)])):fe("",!0)],4)):fe("",!0)],2)],40,Spe)}),128))]))),128))],8,xpe)):fe("",!0)]}),_:3},8,["name","css"])],64))],14,mpe)],2)}}}),Cpe=["aria-label","aria-disabled"],fb=or({__name:"ActionIcon",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const r=te(null);return Qt(()=>t("set-ref",r)),(n,a)=>(ee(),be("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:a[0]||(a[0]=i=>n.$emit("activate")),onKeydown:[a[1]||(a[1]=yt(ua(i=>n.$emit("activate"),["prevent"]),["enter"])),a[2]||(a[2]=yt(ua(i=>n.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":n.ariaLabel,"aria-disabled":n.disabled,ref_key:"elRef",ref:r},[Ve("span",{class:Gt(["dp__inner_nav",{dp__inner_nav_disabled:n.disabled}])},[Ye(n.$slots,"default")],2)],40,Cpe))}}),Ape=["onKeydown"],Epe={class:"dp__selection_grid_header"},Dpe=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Mpe=["aria-label","onKeydown"],Mv=or({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},autoApplyMonth:{type:Boolean,default:!1}},emits:["update:model-value","selected","toggle","reset-flow"],setup(e,{expose:t,emit:r}){const n=e,{setSelectionGrid:a,buildMultiLevelMatrix:i,setMonthPicker:o}=Xl(),{hideNavigationButtons:s}=fi(n),l=te(!1),u=te(null),c=te(null),f=te([]),d=te(),h=te(null),v=te(0),p=te(null);GT(()=>{u.value=null}),Qt(()=>{var H;Ot().then(()=>A()),g(),m(!0),(H=u.value)==null||H.focus({preventScroll:!0})}),Dp(()=>m(!1));const m=H=>{var O;n.arrowNavigation&&((O=n.headerRefs)!=null&&O.length?o(H):a(H))},g=()=>{const H=nn(c);H&&(n.textInput||H.focus({preventScroll:!0}),l.value=H.clientHeight<H.scrollHeight)},y=R(()=>({dp__overlay:!0})),_=R(()=>({dp__overlay_col:!0})),x=H=>n.monthPicker&&!n.autoApplyMonth?gr(n.internalModelValue,Ps(zf(new Date,H.value),n.year)):n.skipActive?!1:H.value===n.modelValue,w=R(()=>n.items.map(H=>H.filter(O=>O).map(O=>{var L,F,X;const Y=n.disabledValues.some(z=>z===O.value)||S(O.value),G=(L=n.multiModelValue)!=null&&L.length?(F=n.multiModelValue)==null?void 0:F.some(z=>gr(z,Ps(n.monthPicker?zf(new Date,O.value):new Date,n.monthPicker?n.year:O.value))):x(O);return{...O,className:{dp__overlay_cell_active:G,dp__overlay_cell:!G,dp__overlay_cell_disabled:Y,dp__overlay_cell_active_disabled:Y&&G,dp__overlay_cell_pad:!0,dp__cell_in_between:(X=n.multiModelValue)!=null&&X.length&&n.skipActive?C(O.value):!1}}}))),b=R(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:l.value,dp__button_bottom:n.autoApply})),T=R(()=>{var H,O;return{dp__overlay_container:!0,dp__container_flex:((H=n.items)==null?void 0:H.length)<=6,dp__container_block:((O=n.items)==null?void 0:O.length)>6}}),S=H=>{const O=n.maxValue||n.maxValue===0,L=n.minValue||n.minValue===0;return!O&&!L?!1:O&&L?+H>+n.maxValue||+H<+n.minValue:O?+H>+n.maxValue:L?+H<+n.minValue:!1},A=()=>{const H=nn(u),O=nn(c),L=nn(h),F=nn(p),X=L?L.getBoundingClientRect().height:0;O&&(v.value=O.getBoundingClientRect().height-X),H&&F&&(F.scrollTop=H.offsetTop-F.offsetTop-(v.value/2-H.getBoundingClientRect().height)-X)},M=H=>{!n.disabledValues.some(O=>O===H)&&!S(H)&&(r("update:model-value",H),r("selected"))},C=H=>{const O=n.monthPicker?n.year:H;return Qz(n.multiModelValue,Ps(n.monthPicker?zf(new Date,d.value||0):new Date,n.monthPicker?O:d.value||O),Ps(n.monthPicker?zf(new Date,H):new Date,O))},D=()=>{r("toggle"),r("reset-flow")},P=()=>{n.escClose&&D()},I=(H,O,L,F)=>{H&&(O.value===+n.modelValue&&!n.disabledValues.includes(O.value)&&(u.value=H),n.arrowNavigation&&(Array.isArray(f.value[L])?f.value[L][F]=H:f.value[L]=[H],k()))},k=()=>{var H,O;const L=(H=n.headerRefs)!=null&&H.length?[n.headerRefs].concat(f.value):f.value.concat([n.skipButtonRef?[]:[h.value]]);i(na(L),(O=n.headerRefs)!=null&&O.length?"monthPicker":"selectionGrid")},V=H=>{n.arrowNavigation||H.stopImmediatePropagation()};return t({focusGrid:g}),(H,O)=>{var L;return ee(),be("div",{ref_key:"gridWrapRef",ref:c,class:Gt(y.value),role:"dialog",tabindex:"0",onKeydown:[yt(P,["esc"]),O[0]||(O[0]=yt(F=>V(F),["left"])),O[1]||(O[1]=yt(F=>V(F),["up"])),O[2]||(O[2]=yt(F=>V(F),["down"])),O[3]||(O[3]=yt(F=>V(F),["right"]))]},[Ve("div",{class:Gt(T.value),ref_key:"containerRef",ref:p,role:"grid",style:Ii({height:`${v.value}px`})},[Ve("div",Epe,[Ye(H.$slots,"header")]),H.$slots.overlay?Ye(H.$slots,"overlay",{key:0}):(ee(!0),be(Ce,{key:1},an(w.value,(F,X)=>(ee(),be("div",{class:Gt(["dp__overlay_row",{dp__flex_row:w.value.length>=3}]),key:X,role:"row"},[(ee(!0),be(Ce,null,an(F,(Y,G)=>(ee(),be("div",{role:"gridcell",class:Gt(_.value),key:Y.value,"aria-selected":Y.value===e.modelValue&&!e.disabledValues.includes(Y.value),"aria-disabled":Y.className.dp__overlay_cell_disabled,ref_for:!0,ref:z=>I(z,Y,X,G),tabindex:"0",onClick:z=>M(Y.value),onKeydown:[yt(z=>M(Y.value),["enter"]),yt(z=>M(Y.value),["space"])],onMouseover:z=>d.value=Y.value},[Ve("div",{class:Gt(Y.className)},[H.$slots.item?Ye(H.$slots,"item",{key:0,item:Y}):fe("",!0),H.$slots.item?fe("",!0):(ee(),be(Ce,{key:1},[Xe(Rt(Y.text),1)],64))],2)],42,Dpe))),128))],2))),128))],6),H.$slots["button-icon"]?Cr((ee(),be("div",{key:0,role:"button","aria-label":(L=e.ariaLabels)==null?void 0:L.toggleOverlay,class:Gt(b.value),tabindex:"0",ref_key:"toggleButton",ref:h,onClick:D,onKeydown:[yt(D,["enter"]),yt(D,["tab"])]},[Ye(H.$slots,"button-icon")],42,Mpe)),[[qa,!ie(s)(e.type)]]):fe("",!0)],42,Ape)}}}),Ppe=["aria-label"],yR=or({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(e,{emit:t}){const r=e,{transitionName:n,showTransition:a}=z_(r.transitions),i=te(null);return Qt(()=>t("set-ref",i)),(o,s)=>(ee(),be(Ce,null,[Ve("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:s[0]||(s[0]=l=>o.$emit("toggle")),onKeydown:[s[1]||(s[1]=yt(ua(l=>o.$emit("toggle"),["prevent"]),["enter"])),s[2]||(s[2]=yt(ua(l=>o.$emit("toggle"),["prevent"]),["space"]))],"aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:i},[Ye(o.$slots,"default")],40,Ppe),E(ha,{name:ie(n)(e.showSelectionGrid),css:ie(a)},{default:ne(()=>[e.showSelectionGrid?(ee(),Me(Mv,Te({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue,escClose:e.escClose,type:e.type,arrowNavigation:e.arrowNavigation,textInput:e.textInput,autoApply:e.autoApply,ariaLabels:e.ariaLabels,hideNavigation:e.hideNavigation},{"header-refs":[],"onUpdate:modelValue":s[3]||(s[3]=l=>o.$emit("update:model-value",l)),onToggle:s[4]||(s[4]=l=>o.$emit("toggle"))}),Ya({"button-icon":ne(()=>[o.$slots["calendar-icon"]?Ye(o.$slots,"calendar-icon",{key:0}):fe("",!0),o.$slots["calendar-icon"]?fe("",!0):(ee(),Me(ie(F_),{key:1}))]),_:2},[o.$slots[e.slotName]?{name:"item",fn:ne(({item:l})=>[Ye(o.$slots,e.slotName,{item:l})]),key:"0"}:void 0,o.$slots[e.overlaySlot]?{name:"overlay",fn:ne(()=>[Ye(o.$slots,e.overlaySlot)]),key:"1"}:void 0,o.$slots[`${e.overlaySlot}-header`]?{name:"header",fn:ne(()=>[Ye(o.$slots,`${e.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):fe("",!0)]),_:3},8,["name","css"])],64))}}),Lpe={class:"dp__month_year_row"},Ipe={class:"dp__month_picker_header"},Rpe=["aria-label"],Ope=["aria-label"],kpe=["aria-label"],Npe=or({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...jl},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:r}){const n=e,{defaults:a}=fi(n),{transitionName:i,showTransition:o}=z_(a.value.transitions),{buildMatrix:s}=Xl(),{handleMonthYearChange:l,isDisabled:u,updateMonthYear:c}=ape(n,r),f=te(!1),d=te(!1),h=te([null,null,null,null]),v=te(null),p=te(null),m=te(null);Qt(()=>{r("mount")});const g=N=>({get:()=>n[N],set:U=>{const Z=N==="month"?"year":"month";r("update-month-year",{[N]:U,[Z]:n[Z]}),r("month-year-select",N==="year"),N==="month"?F(!0):X(!0)}}),y=R(g("month")),_=R(g("year")),x=N=>{const U=Vr(Se(N));return n.year===U},w=R(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(N=>Se(N)).filter(N=>x(N)).map(N=>Rr(N)):[]:[]),b=R(()=>N=>{const U=N==="month";return{showSelectionGrid:(U?f:d).value,items:(U?k:V).value,disabledValues:a.value.filters[U?"months":"years"].concat(w.value),minValue:(U?M:S).value,maxValue:(U?C:A).value,headerRefs:U&&n.monthPicker?[v.value,p.value,m.value]:[],escClose:n.escClose,transitions:a.value.transitions,ariaLabels:a.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),T=R(()=>N=>({month:n.month,year:n.year,items:N==="month"?n.months:n.years,instance:n.instance,updateMonthYear:c,toggle:N==="month"?F:X})),S=R(()=>n.minDate?Vr(Se(n.minDate)):null),A=R(()=>n.maxDate?Vr(Se(n.maxDate)):null),M=R(()=>{if(n.minDate&&S.value){if(S.value>n.year)return 12;if(S.value===n.year)return Rr(Se(n.minDate))}return null}),C=R(()=>n.maxDate&&A.value?A.value<n.year?-1:A.value===n.year?Rr(Se(n.maxDate)):null:null),D=R(()=>(n.range||n.multiDates)&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),P=N=>{const U=[],Z=K=>K;for(let K=0;K<N.length;K+=3){const q=[N[K],N[K+1],N[K+2]];U.push(Z(q))}return U},I=R(()=>n.months.find(U=>U.value===n.month)||{text:"",value:0}),k=R(()=>P(n.months)),V=R(()=>P(n.years)),H=R(()=>a.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),O=R(()=>a.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===a.value.multiCalendars-1:!0),L=(N,U)=>{U!==void 0?N.value=U:N.value=!N.value},F=(N=!1,U)=>{Y(N),L(f,U),f.value||r("overlay-closed")},X=(N=!1,U)=>{Y(N),L(d,U),d.value||r("overlay-closed")},Y=N=>{N||r("reset-flow")},G=(N=!1)=>{u.value(N)||r("update-month-year",{year:N?n.year+1:n.year-1,month:n.month,fromNav:!0})},z=(N,U)=>{n.arrowNavigation&&(h.value[U]=nn(N),s(h.value,"monthYear"))};return t({toggleMonthPicker:F,toggleYearPicker:X,handleMonthYearChange:l}),(N,U)=>{var Z,K,q,ue,se;return ee(),be("div",Lpe,[N.$slots["month-year"]?Ye(N.$slots,"month-year",oa(Te({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:ie(c),handleMonthYearChange:ie(l),instance:e.instance}))):(ee(),be(Ce,{key:1},[!N.monthPicker&&!N.yearPicker?(ee(),be(Ce,{key:0},[H.value&&!N.vertical?(ee(),Me(fb,{key:0,"aria-label":(Z=ie(a).ariaLabels)==null?void 0:Z.prevMonth,disabled:ie(u)(!1),onActivate:U[0]||(U[0]=B=>ie(l)(!1)),onSetRef:U[1]||(U[1]=B=>z(B,0))},{default:ne(()=>[N.$slots["arrow-left"]?Ye(N.$slots,"arrow-left",{key:0}):fe("",!0),N.$slots["arrow-left"]?fe("",!0):(ee(),Me(ie(tR),{key:1}))]),_:3},8,["aria-label","disabled"])):fe("",!0),Ve("div",{class:Gt(["dp__month_year_wrap",{dp__year_disable_select:n.disableYearSelect}])},[E(yR,Te({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(K=ie(a).ariaLabels)==null?void 0:K.openMonthsOverlay,modelValue:y.value,"onUpdate:modelValue":U[2]||(U[2]=B=>y.value=B)},b.value("month"),{onToggle:F,onSetRef:U[3]||(U[3]=B=>z(B,1))}),Ya({default:ne(()=>[N.$slots.month?Ye(N.$slots,"month",oa(Te({key:0},I.value))):fe("",!0),N.$slots.month?fe("",!0):(ee(),be(Ce,{key:1},[Xe(Rt(I.value.text),1)],64))]),_:2},[N.$slots["calendar-icon"]?{name:"calendar-icon",fn:ne(()=>[Ye(N.$slots,"calendar-icon")]),key:"0"}:void 0,N.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:ne(({item:B})=>[Ye(N.$slots,"month-overlay-value",{text:B.text,value:B.value})]),key:"1"}:void 0,N.$slots["month-overlay"]?{name:"overlay-month",fn:ne(()=>[Ye(N.$slots,"month-overlay",oa(Ai(T.value("month"))))]),key:"2"}:void 0,N.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:ne(()=>[Ye(N.$slots,"month-overlay-header",{toggle:F})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),n.disableYearSelect?fe("",!0):(ee(),Me(yR,Te({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(q=ie(a).ariaLabels)==null?void 0:q.openYearsOverlay,modelValue:_.value,"onUpdate:modelValue":U[4]||(U[4]=B=>_.value=B)},b.value("year"),{onToggle:X,onSetRef:U[5]||(U[5]=B=>z(B,2))}),Ya({default:ne(()=>[N.$slots.year?Ye(N.$slots,"year",{key:0,year:e.year}):fe("",!0),N.$slots.year?fe("",!0):(ee(),be(Ce,{key:1},[Xe(Rt(e.year),1)],64))]),_:2},[N.$slots["calendar-icon"]?{name:"calendar-icon",fn:ne(()=>[Ye(N.$slots,"calendar-icon")]),key:"0"}:void 0,N.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:ne(({item:B})=>[Ye(N.$slots,"year-overlay-value",{text:B.text,value:B.value})]),key:"1"}:void 0,N.$slots["year-overlay"]?{name:"overlay-year",fn:ne(()=>[Ye(N.$slots,"year-overlay",oa(Ai(T.value("year"))))]),key:"2"}:void 0,N.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:ne(()=>[Ye(N.$slots,"year-overlay-header",{toggle:X})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),H.value&&N.vertical?(ee(),Me(fb,{key:1,"aria-label":(ue=ie(a).ariaLabels)==null?void 0:ue.prevMonth,disabled:ie(u)(!1),onActivate:U[6]||(U[6]=B=>ie(l)(!1))},{default:ne(()=>[N.$slots["arrow-up"]?Ye(N.$slots,"arrow-up",{key:0}):fe("",!0),N.$slots["arrow-up"]?fe("",!0):(ee(),Me(ie(Zz),{key:1}))]),_:3},8,["aria-label","disabled"])):fe("",!0),O.value?(ee(),Me(fb,{key:2,ref:"rightIcon",disabled:ie(u)(!0),"aria-label":(se=ie(a).ariaLabels)==null?void 0:se.nextMonth,onActivate:U[7]||(U[7]=B=>ie(l)(!0)),onSetRef:U[8]||(U[8]=B=>z(B,3))},{default:ne(()=>[N.$slots[N.vertical?"arrow-down":"arrow-right"]?Ye(N.$slots,N.vertical?"arrow-down":"arrow-right",{key:0}):fe("",!0),N.$slots[N.vertical?"arrow-down":"arrow-right"]?fe("",!0):(ee(),Me(WT(N.vertical?ie(Kz):ie(rR)),{key:1}))]),_:3},8,["disabled","aria-label"])):fe("",!0)],64)):fe("",!0),N.monthPicker?(ee(),Me(Mv,Te({key:1},b.value("month"),{"skip-active":N.range,"internal-model-value":e.internalModelValue,year:e.year,"auto-apply-month":N.autoApplyMonth,"multi-model-value":D.value,"month-picker":"",modelValue:y.value,"onUpdate:modelValue":U[17]||(U[17]=B=>y.value=B),onToggle:F,onSelected:U[18]||(U[18]=B=>N.$emit("overlay-closed"))}),Ya({header:ne(()=>{var B,$,Q;return[Ve("div",Ipe,[Ve("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:v,onClick:U[9]||(U[9]=re=>G(!1)),onKeydown:U[10]||(U[10]=yt(re=>G(!1),["enter"]))},[Ve("div",{class:Gt(["dp__inner_nav",{dp__inner_nav_disabled:ie(u)(!1)}]),role:"button","aria-label":(B=ie(a).ariaLabels)==null?void 0:B.prevMonth},[N.$slots["arrow-left"]?Ye(N.$slots,"arrow-left",{key:0}):fe("",!0),N.$slots["arrow-left"]?fe("",!0):(ee(),Me(ie(tR),{key:1}))],10,Rpe)],544),Ve("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:p,"aria-label":($=ie(a).ariaLabels)==null?void 0:$.openYearsOverlay,tabindex:"0",onClick:U[11]||(U[11]=()=>X(!1)),onKeydown:U[12]||(U[12]=yt(()=>X(!1),["enter"]))},[N.$slots.year?Ye(N.$slots,"year",{key:0,year:e.year}):fe("",!0),N.$slots.year?fe("",!0):(ee(),be(Ce,{key:1},[Xe(Rt(e.year),1)],64))],40,Ope),Ve("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:m,onClick:U[13]||(U[13]=re=>G(!0)),onKeydown:U[14]||(U[14]=yt(re=>G(!0),["enter"]))},[Ve("div",{class:Gt(["dp__inner_nav",{dp__inner_nav_disabled:ie(u)(!0)}]),role:"button","aria-label":(Q=ie(a).ariaLabels)==null?void 0:Q.nextMonth},[N.$slots["arrow-right"]?Ye(N.$slots,"arrow-right",{key:0}):fe("",!0),N.$slots["arrow-right"]?fe("",!0):(ee(),Me(ie(rR),{key:1}))],10,kpe)],544)]),E(ha,{name:ie(i)(d.value),css:ie(o)},{default:ne(()=>[d.value?(ee(),Me(Mv,Te({key:0},b.value("year"),{modelValue:_.value,"onUpdate:modelValue":U[15]||(U[15]=re=>_.value=re),onToggle:X,onSelected:U[16]||(U[16]=re=>N.$emit("overlay-closed"))}),Ya({"button-icon":ne(()=>[N.$slots["calendar-icon"]?Ye(N.$slots,"calendar-icon",{key:0}):fe("",!0),N.$slots["calendar-icon"]?fe("",!0):(ee(),Me(ie(F_),{key:1}))]),_:2},[N.$slots["year-overlay-value"]?{name:"item",fn:ne(({item:re})=>[Ye(N.$slots,"year-overlay-value",{text:re.text,value:re.value})]),key:"0"}:void 0]),1040,["modelValue"])):fe("",!0)]),_:3},8,["name","css"])]}),_:2},[N.$slots["month-overlay-value"]?{name:"item",fn:ne(({item:B})=>[Ye(N.$slots,"month-overlay-value",{text:B.text,value:B.value})]),key:"0"}:void 0]),1040,["skip-active","internal-model-value","year","auto-apply-month","multi-model-value","modelValue"])):fe("",!0),N.yearPicker?(ee(),Me(Mv,Te({key:2},b.value("year"),{modelValue:_.value,"onUpdate:modelValue":U[19]||(U[19]=B=>_.value=B),"multi-model-value":D.value,"skip-active":N.range,"skip-button-ref":"","year-picker":"",onToggle:X,onSelected:U[20]||(U[20]=B=>N.$emit("overlay-closed"))}),Ya({_:2},[N.$slots["year-overlay-value"]?{name:"item",fn:ne(({item:B})=>[Ye(N.$slots,"year-overlay-value",{text:B.text,value:B.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):fe("",!0)],64))])}}}),Bpe={key:0,class:"dp__time_input"},Vpe=["aria-label","onKeydown","onClick"],Fpe=Ve("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),zpe=Ve("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Upe=["aria-label","onKeydown","onClick"],Hpe=["aria-label","onKeydown","onClick"],Gpe=Ve("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),$pe=Ve("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Wpe={key:0},Ype=["aria-label","onKeydown"],Xpe=or({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...jl},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:r}){const n=e,{setTimePickerElements:a,setTimePickerBackRef:i}=Xl(),{defaults:o}=fi(n),{transitionName:s,showTransition:l}=z_(o.value.transitions),u=Tr({hours:!1,minutes:!1,seconds:!1}),c=te("AM"),f=te(null),d=te([]);Qt(()=>{r("mounted")});const h=L=>Un(new Date,{hours:L.hours,minutes:L.minutes,seconds:n.enableSeconds?L.seconds:0,milliseconds:0}),v=R(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),p=R(()=>L=>!S(+n[L]+ +n[`${L}Increment`],L)),m=R(()=>L=>!S(+n[L]-+n[`${L}Increment`],L)),g=(L,F)=>Mz(Un(Se(),L),F),y=(L,F)=>lve(Un(Se(),L),F),_=R(()=>({dp__time_col:!0,dp__time_col_block:!n.timePickerInline,dp__time_col_reg_block:!n.enableSeconds&&n.is24&&!n.timePickerInline,dp__time_col_reg_inline:!n.enableSeconds&&n.is24&&n.timePickerInline,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),x=R(()=>{const L=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?L.concat([{type:"",separator:!0},{type:"seconds"}]):L}),w=R(()=>x.value.filter(L=>!L.separator)),b=R(()=>L=>{if(L==="hours"){const F=I(+n.hours);return{text:F<10?`0${F}`:`${F}`,value:F}}return{text:n[L]<10?`0${n[L]}`:`${n[L]}`,value:n[L]}}),T=L=>{const F=n.is24?24:12,X=L==="hours"?F:60,Y=+n[`${L}GridIncrement`],G=L==="hours"&&!n.is24?Y:0,z=[];for(let N=G;N<X;N+=Y)z.push({value:N,text:N<10?`0${N}`:`${N}`});return L==="hours"&&!n.is24&&z.push({value:0,text:"12"}),zve(z)},S=(L,F)=>{const X=n.minTime?h(rb(n.minTime)):null,Y=n.maxTime?h(rb(n.maxTime)):null,G=h(rb(v.value,F,L));return X&&Y?(hp(G,Y)||Zu(G,Y))&&(dp(G,X)||Zu(G,X)):X?dp(G,X)||Zu(G,X):Y?hp(G,Y)||Zu(G,Y):!0},A=R(()=>L=>T(L).flat().filter(F=>Xve(F.value)).map(F=>F.value).filter(F=>!S(F,L))),M=L=>n[`no${L[0].toUpperCase()+L.slice(1)}Overlay`],C=L=>{M(L)||(u[L]=!u[L],u[L]||r("overlay-closed"))},D=L=>L==="hours"?bs:L==="minutes"?ws:vd,P=(L,F=!0)=>{const X=F?g:y,Y=F?+n[`${L}Increment`]:-+n[`${L}Increment`];S(+n[L]+Y,L)&&r(`update:${L}`,D(L)(X({[L]:+n[L]},{[L]:+n[`${L}Increment`]})))},I=L=>n.is24?L:(L>=12?c.value="PM":c.value="AM",Wve(L)),k=()=>{c.value==="PM"?(c.value="AM",r("update:hours",n.hours-12)):(c.value="PM",r("update:hours",n.hours+12)),r("am-pm-change",c.value)},V=L=>{u[L]=!0},H=(L,F,X)=>{if(L&&n.arrowNavigation){Array.isArray(d.value[F])?d.value[F][X]=L:d.value[F]=[L];const Y=d.value.reduce((G,z)=>z.map((N,U)=>[...G[U]||[],z[U]]),[]);i(n.closeTimePickerBtn),f.value&&(Y[1]=Y[1].concat(f.value)),a(Y,n.order)}},O=(L,F)=>L==="hours"&&!n.is24?r(`update:${L}`,c.value==="PM"?F+12:F):r(`update:${L}`,F);return t({openChildCmp:V}),(L,F)=>{var X;return L.disabled?fe("",!0):(ee(),be("div",Bpe,[(ee(!0),be(Ce,null,an(x.value,(Y,G)=>{var z,N,U;return ee(),be("div",{key:G,class:Gt(_.value)},[Y.separator?(ee(),be(Ce,{key:0},[Xe(" : ")],64)):(ee(),be(Ce,{key:1},[Ve("button",{type:"button",class:Gt({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_top:n.timePickerInline,dp__inc_dec_button_disabled:p.value(Y.type)}),"aria-label":(z=ie(o).ariaLabels)==null?void 0:z.incrementValue(Y.type),tabindex:"0",onKeydown:[yt(Z=>P(Y.type),["enter"]),yt(Z=>P(Y.type),["space"])],onClick:Z=>P(Y.type),ref_for:!0,ref:Z=>H(Z,G,0)},[n.timePickerInline?(ee(),be(Ce,{key:1},[Fpe,zpe],64)):(ee(),be(Ce,{key:0},[L.$slots["arrow-up"]?Ye(L.$slots,"arrow-up",{key:0}):fe("",!0),L.$slots["arrow-up"]?fe("",!0):(ee(),Me(ie(Zz),{key:1}))],64))],42,Vpe),Ve("button",{type:"button","aria-label":(N=ie(o).ariaLabels)==null?void 0:N.openTpOverlay(Y.type),class:Gt(["dp__btn",M(Y.type)?void 0:{dp__time_display:!0,dp__time_display_block:!n.timePickerInline,dp__time_display_inline:n.timePickerInline}]),tabindex:"0",onKeydown:[yt(Z=>C(Y.type),["enter"]),yt(Z=>C(Y.type),["space"])],onClick:Z=>C(Y.type),ref_for:!0,ref:Z=>H(Z,G,1)},[L.$slots[Y.type]?Ye(L.$slots,Y.type,{key:0,text:b.value(Y.type).text,value:b.value(Y.type).value}):fe("",!0),L.$slots[Y.type]?fe("",!0):(ee(),be(Ce,{key:1},[Xe(Rt(b.value(Y.type).text),1)],64))],42,Upe),Ve("button",{type:"button",class:Gt({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_bottom:n.timePickerInline,dp__inc_dec_button_disabled:m.value(Y.type)}),"aria-label":(U=ie(o).ariaLabels)==null?void 0:U.decrementValue(Y.type),tabindex:"0",onKeydown:[yt(Z=>P(Y.type,!1),["enter"]),yt(Z=>P(Y.type,!1),["space"])],onClick:Z=>P(Y.type,!1),ref_for:!0,ref:Z=>H(Z,G,2)},[n.timePickerInline?(ee(),be(Ce,{key:1},[Gpe,$pe],64)):(ee(),be(Ce,{key:0},[L.$slots["arrow-down"]?Ye(L.$slots,"arrow-down",{key:0}):fe("",!0),L.$slots["arrow-down"]?fe("",!0):(ee(),Me(ie(Kz),{key:1}))],64))],42,Hpe)],64))],2)}),128)),L.is24?fe("",!0):(ee(),be("div",Wpe,[L.$slots["am-pm-button"]?Ye(L.$slots,"am-pm-button",{key:0,toggle:k,value:c.value}):fe("",!0),L.$slots["am-pm-button"]?fe("",!0):(ee(),be("button",{key:1,ref_key:"amPmButton",ref:f,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(X=ie(o).ariaLabels)==null?void 0:X.amPmButton,tabindex:"0",onClick:k,onKeydown:[yt(ua(k,["prevent"]),["enter"]),yt(ua(k,["prevent"]),["space"])]},Rt(c.value),41,Ype))])),(ee(!0),be(Ce,null,an(w.value,(Y,G)=>(ee(),Me(ha,{key:G,name:ie(s)(u[Y.type]),css:ie(l)},{default:ne(()=>[u[Y.type]?(ee(),Me(Mv,{key:0,items:T(Y.type),"disabled-values":ie(o).filters.times[Y.type].concat(A.value(Y.type)),"esc-close":L.escClose,"aria-labels":ie(o).ariaLabels,"hide-navigation":L.hideNavigation,"onUpdate:modelValue":z=>O(Y.type,z),onSelected:z=>C(Y.type),onToggle:z=>C(Y.type),onResetFlow:F[0]||(F[0]=z=>L.$emit("reset-flow")),type:Y.type},Ya({"button-icon":ne(()=>[L.$slots["clock-icon"]?Ye(L.$slots,"clock-icon",{key:0}):fe("",!0),L.$slots["clock-icon"]?fe("",!0):(ee(),Me(ie(qz),{key:1}))]),_:2},[L.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:ne(({item:z})=>[Ye(L.$slots,`${Y.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):fe("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),jpe=["aria-label"],qpe=["tabindex"],Zpe=["aria-label"],Kpe=or({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...jl},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:r}){const n=e,{buildMatrix:a,setTimePicker:i}=Xl(),o=XT(),{hideNavigationButtons:s,defaults:l}=fi(n),{transitionName:u,showTransition:c}=z_(l.value.transitions),f=te(null),d=te(null),h=te([]),v=te(null);Qt(()=>{r("mount"),!n.timePicker&&n.arrowNavigation?a([nn(f.value)],"time"):i(!0,n.timePicker)});const p=R(()=>n.range&&n.modelAuto?nU(n.internalModelValue):!0),m=te(!1),g=C=>({hours:Array.isArray(n.hours)?n.hours[C]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[C]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[C]:n.seconds}),y=R(()=>{const C=[];if(n.range)for(let D=0;D<2;D++)C.push(g(D));else C.push(g(0));return C}),_=(C,D=!1,P="")=>{D||r("reset-flow"),m.value=C,r(C?"overlay-opened":"overlay-closed"),n.arrowNavigation&&i(C),Ot(()=>{P!==""&&h.value[0]&&h.value[0].openChildCmp(P)})},x=R(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!n.keepActionRow})),w=Ku(o,"timePicker"),b=(C,D,P)=>n.range?D===0?[C,y.value[1][P]]:[y.value[0][P],C]:C,T=C=>{r("update:hours",C)},S=C=>{r("update:minutes",C)},A=C=>{r("update:seconds",C)},M=()=>{if(v.value){const C=jve(v.value);C&&C.focus({preventScroll:!0})}};return t({toggleTimePicker:_}),(C,D)=>{var P;return ee(),be("div",null,[!C.timePicker&&!C.timePickerInline?Cr((ee(),be("button",{key:0,type:"button",class:Gt(x.value),"aria-label":(P=ie(l).ariaLabels)==null?void 0:P.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:f,onKeydown:[D[0]||(D[0]=yt(I=>_(!0),["enter"])),D[1]||(D[1]=yt(I=>_(!0),["space"]))],onClick:D[2]||(D[2]=I=>_(!0))},[C.$slots["clock-icon"]?Ye(C.$slots,"clock-icon",{key:0}):fe("",!0),C.$slots["clock-icon"]?fe("",!0):(ee(),Me(ie(qz),{key:1}))],42,jpe)),[[qa,!ie(s)("time")]]):fe("",!0),E(ha,{name:ie(u)(m.value),css:ie(c)&&!C.timePickerInline},{default:ne(()=>{var I;return[m.value||C.timePicker||C.timePickerInline?(ee(),be("div",{key:0,class:Gt({dp__overlay:!C.timePickerInline}),ref_key:"overlayRef",ref:v,tabindex:C.timePickerInline?void 0:0},[Ve("div",{class:Gt(C.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[C.$slots["time-picker-overlay"]?Ye(C.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:T,setMinutes:S,setSeconds:A}):fe("",!0),C.$slots["time-picker-overlay"]?fe("",!0):(ee(),be("div",{key:1,class:Gt(C.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ee(!0),be(Ce,null,an(y.value,(k,V)=>Cr((ee(),Me(Xpe,Te({key:V},{...C.$props,order:V,hours:k.hours,minutes:k.minutes,seconds:k.seconds,closeTimePickerBtn:d.value,disabled:V===0?C.fixedStart:C.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:h,"onUpdate:hours":H=>T(b(H,V,"hours")),"onUpdate:minutes":H=>S(b(H,V,"minutes")),"onUpdate:seconds":H=>A(b(H,V,"seconds")),onMounted:M,onOverlayClosed:M,onAmPmChange:D[3]||(D[3]=H=>C.$emit("am-pm-change",H))}),Ya({_:2},[an(ie(w),(H,O)=>({name:H,fn:ne(L=>[Ye(C.$slots,H,oa(Ai(L)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[qa,V===0?!0:p.value]])),128))],2)),!C.timePicker&&!C.timePickerInline?Cr((ee(),be("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:d,class:Gt(x.value),"aria-label":(I=ie(l).ariaLabels)==null?void 0:I.closeTimePicker,tabindex:"0",onKeydown:[D[4]||(D[4]=yt(k=>_(!1),["enter"])),D[5]||(D[5]=yt(k=>_(!1),["space"]))],onClick:D[6]||(D[6]=k=>_(!1))},[C.$slots["calendar-icon"]?Ye(C.$slots,"calendar-icon",{key:0}):fe("",!0),C.$slots["calendar-icon"]?fe("",!0):(ee(),Me(ie(F_),{key:1}))],42,Zpe)),[[qa,!ie(s)("time")]]):fe("",!0)],2)],10,qpe)):fe("",!0)]}),_:3},8,["name","css"])])}}}),Qpe=(e,t)=>{const{isDisabled:r,matchDate:n,getWeekFromDate:a,defaults:i}=fi(t),o=te(null),s=te(Se()),l=L=>{!L.current&&t.hideOffsetDates||(o.value=L.value)},u=()=>{o.value=null},c=L=>Array.isArray(e.value)&&t.range&&e.value[0]&&o.value?L?Oa(o.value,e.value[0]):la(o.value,e.value[0]):!0,f=(L,F)=>{const X=()=>e.value?F?e.value[0]||null:e.value[1]:null,Y=e.value&&Array.isArray(e.value)?X():null;return gr(Se(L.value),Y)},d=L=>{const F=Array.isArray(e.value)?e.value[0]:null;return L?!la(o.value||null,F):!0},h=(L,F=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!L.current?!1:gr(Se(L.value),e.value[F?0:1]):t.range?f(L,F)&&d(F)||gr(L.value,Array.isArray(e.value)?e.value[0]:null)&&c(F):!1,v=(L,F,X)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?L?!1:X?Oa(e.value[0],F.value):la(e.value[0],F.value):!1,p=L=>!e.value||t.hideOffsetDates&&!L.current?!1:t.range?t.modelAuto&&Array.isArray(e.value)?gr(L.value,e.value[0]?e.value[0]:s.value):!1:t.multiDates&&Array.isArray(e.value)?e.value.some(F=>gr(F,L.value)):gr(L.value,e.value?e.value:s.value),m=L=>{if(t.autoRange||t.weekPicker){if(o.value){if(t.hideOffsetDates&&!L.current)return!1;const F=Ms(o.value,+t.autoRange),X=a(Se(o.value));return t.weekPicker?gr(X[1],Se(L.value)):gr(F,Se(L.value))}return!1}return!1},g=L=>{if(t.autoRange||t.weekPicker){if(o.value){const F=Ms(o.value,+t.autoRange);if(t.hideOffsetDates&&!L.current)return!1;const X=a(Se(o.value));return t.weekPicker?Oa(L.value,X[0])&&la(L.value,X[1]):Oa(L.value,o.value)&&la(L.value,F)}return!1}return!1},y=L=>{if(t.autoRange||t.weekPicker){if(o.value){if(t.hideOffsetDates&&!L.current)return!1;const F=a(Se(o.value));return t.weekPicker?gr(F[0],L.value):gr(o.value,L.value)}return!1}return!1},_=L=>Qz(e.value,o.value,L.value),x=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,w=()=>t.modelAuto?nU(t.internalModelValue):!0,b=L=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const F=t.range?!h(L)&&!h(L,!1):!0;return!r(L.value)&&!p(L)&&!(!L.current&&t.hideOffsetDates)&&F},T=L=>t.range?t.modelAuto?x()&&p(L):!1:p(L),S=L=>{var F;return t.highlight?n(L.value,(F=t.arrMapValues)!=null&&F.highlightedDates?t.arrMapValues.highlightedDates:t.highlight):!1},A=L=>r(L.value)&&t.highlightDisabledDays===!1,M=L=>t.highlightWeekDays&&t.highlightWeekDays.includes(L.value.getDay()),C=L=>(t.range||t.weekPicker)&&(!(i.value.multiCalendars>0)||L.current)&&w()&&!(!L.current&&t.hideOffsetDates)&&!p(L)?_(L):!1,D=L=>{const{isRangeStart:F,isRangeEnd:X}=k(L),Y=t.range?F||X:!1;return{dp__cell_offset:!L.current,dp__pointer:!t.disabled&&!(!L.current&&t.hideOffsetDates)&&!r(L.value),dp__cell_disabled:r(L.value),dp__cell_highlight:!A(L)&&(S(L)||M(L))&&!T(L)&&!Y,dp__cell_highlight_active:!A(L)&&(S(L)||M(L))&&T(L),dp__today:!t.noToday&&gr(L.value,s.value)&&L.current}},P=L=>({dp__active_date:T(L),dp__date_hover:b(L)}),I=L=>({...V(L),...H(L),dp__range_between_week:C(L)&&t.weekPicker}),k=L=>{const F=i.value.multiCalendars>0?L.current&&h(L)&&w():h(L)&&w(),X=i.value.multiCalendars>0?L.current&&h(L,!1)&&w():h(L,!1)&&w();return{isRangeStart:F,isRangeEnd:X}},V=L=>{const{isRangeStart:F,isRangeEnd:X}=k(L);return{dp__range_start:F,dp__range_end:X,dp__range_between:C(L)&&!t.weekPicker,dp__date_hover_start:v(b(L),L,!0),dp__date_hover_end:v(b(L),L,!1)}},H=L=>({...V(L),dp__cell_auto_range:g(L),dp__cell_auto_range_start:y(L),dp__cell_auto_range_end:m(L)}),O=L=>t.range?t.autoRange?H(L):t.modelAuto?{...P(L),...V(L)}:V(L):t.weekPicker?I(L):P(L);return{setHoverDate:l,clearHoverDate:u,getDayClassData:L=>t.hideOffsetDates&&!L.current?{}:{...D(L),...O(L),[t.dayClass?t.dayClass(L.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName}}},Jpe=["id","onKeydown"],eme={key:0,class:"dp__sidebar_left"},tme={key:1,class:"dp__preset_ranges"},rme=["onClick"],nme={key:2,class:"dp__sidebar_right"},ame={key:3,class:"dp__action_extra"},ime=or({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},...jl},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:r}){const n=e,a=R(()=>{const{openOnTop:ye,internalModelValue:Ge,arrMapValues:Jr,...en}=n;return en}),{setMenuFocused:i,setShiftKey:o,control:s}=Jz(),{getCalendarDays:l,defaults:u}=fi(n),c=XT(),f=te(null),d=Tr({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),h=te([]),v=te([]),p=te(null),m=te(null),g=te(0),y=te(!1),_=te(0);Qt(()=>{var ye;y.value=!0,!((ye=n.presetRanges)!=null&&ye.length)&&!c["left-sidebar"]&&!c["right-sidebar"]&&(we(),window.addEventListener("resize",we));const Ge=nn(m);if(Ge&&!n.textInput&&!n.inline&&(i(!0),A()),Ge){const Jr=en=>{n.allowPreventDefault&&en.preventDefault(),en.stopImmediatePropagation(),en.stopPropagation()};Ge.addEventListener("pointerdown",Jr),Ge.addEventListener("mousedown",Jr)}}),Dp(()=>{window.removeEventListener("resize",we)});const{arrowRight:x,arrowLeft:w,arrowDown:b,arrowUp:T}=Xl(),S=ye=>{ye||ye===0?v.value[ye].triggerTransition(I.value(ye),k.value(ye)):v.value.forEach((Ge,Jr)=>Ge.triggerTransition(I.value(Jr),k.value(Jr)))},A=()=>{const ye=nn(m);ye&&ye.focus({preventScroll:!0})},M=()=>{var ye;(ye=n.flow)!=null&&ye.length&&_.value!==-1&&(_.value+=1,r("flow-step",_.value),We())},C=()=>{_.value=-1},{calendars:D,modelValue:P,month:I,year:k,time:V,updateTime:H,updateMonthYear:O,selectDate:L,getWeekNum:F,monthYearSelect:X,handleScroll:Y,handleArrow:G,handleSwipe:z,getMarker:N,selectCurrentDate:U,presetDateRange:Z}=rpe(n,r,M,S,_),{setHoverDate:K,clearHoverDate:q,getDayClassData:ue}=Qpe(P,n),se={modelValue:P,month:I,year:k,time:V,updateTime:H,updateMonthYear:O,selectDate:L,presetDateRange:Z,handleMonthYearChange:ye=>{h.value[0]&&h.value[0].handleMonthYearChange(ye)}};Le(D,()=>{n.openOnTop&&setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const B=Ku(c,"calendar"),$=Ku(c,"action"),Q=Ku(c,"timePicker"),re=Ku(c,"monthYear"),le=R(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),de=R(()=>Gve(n.yearRange,n.reverseYears)),Ae=R(()=>$ve(n.formatLocale,n.locale,n.monthNameFormat)),we=()=>{const ye=nn(f);ye&&(g.value=ye.getBoundingClientRect().width)},Ie=R(()=>ye=>l(I.value(ye),k.value(ye))),oe=R(()=>u.value.multiCalendars>0?[...Array(u.value.multiCalendars).keys()]:[0]),me=R(()=>ye=>ye===1),ge=R(()=>n.monthPicker||n.timePicker||n.yearPicker),Ze=R(()=>({dp__menu_inner:!0,dp__flex_display:u.value.multiCalendars>0})),ot=R(()=>({dp__instance_calendar:u.value.multiCalendars>0})),Pt=R(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),lr=R(()=>ye=>Gr(Ie,ye)),qt=R(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),Gr=(ye,Ge)=>ye.value(Ge).map(Jr=>({...Jr,days:Jr.days.map(en=>(en.marker=N(en),en.classData=ue(en),en))})),_a=ye=>{ye.stopPropagation(),ye.stopImmediatePropagation()},Do=()=>{n.escClose&&r("close-picker")},Ql=(ye,Ge=!1)=>{L(ye,Ge),n.spaceConfirm&&r("select-date")},J=ye=>{var Ge;(Ge=n.flow)!=null&&Ge.length&&(d[ye]=!0,Object.keys(d).filter(Jr=>!d[Jr]).length||We())},he=(ye,Ge,Jr,en,...Po)=>{if(n.flow[_.value]===ye){const et=en?Ge.value[0]:Ge.value;et&&et[Jr](...Po)}},We=()=>{he("month",h,"toggleMonthPicker",!0,!0),he("year",h,"toggleYearPicker",!0,!0),he("calendar",p,"toggleTimePicker",!1,!1,!0),he("time",p,"toggleTimePicker",!1,!0,!0);const ye=n.flow[_.value];(ye==="hours"||ye==="minutes"||ye==="seconds")&&he(ye,p,"toggleTimePicker",!1,!0,!0,ye)},Ke=ye=>{if(n.arrowNavigation){if(ye==="up")return T();if(ye==="down")return b();if(ye==="left")return w();if(ye==="right")return x()}else ye==="left"||ye==="up"?G("left",0,ye==="up"):G("right",0,ye==="down")},Nr=ye=>{o(ye.shiftKey),!n.disableMonthYearSelect&&ye.code==="Tab"&&ye.target.classList.contains("dp__menu")&&s.value.shiftKeyInMenu&&(ye.preventDefault(),ye.stopImmediatePropagation(),r("close-picker"))},Mo=()=>{A(),r("time-picker-close")},ls=ye=>{var Ge,Jr,en,Po,et;(Ge=p.value)==null||Ge.toggleTimePicker(!1,!1),(en=(Jr=h.value)==null?void 0:Jr[ye])==null||en.toggleMonthPicker(!1,!1),(et=(Po=h.value)==null?void 0:Po[ye])==null||et.toggleYearPicker(!1,!1)};return t({updateMonthYear:O,switchView:(ye,Ge=0)=>{var Jr,en,Po,et,us;return ye==="month"?(en=(Jr=h.value)==null?void 0:Jr[Ge])==null?void 0:en.toggleMonthPicker(!1,!0):ye==="year"?(et=(Po=h.value)==null?void 0:Po[Ge])==null?void 0:et.toggleYearPicker(!1,!0):ye==="time"?(us=p.value)==null?void 0:us.toggleTimePicker(!0,!1):ls(Ge)}}),(ye,Ge)=>{var Jr;return ee(),Me(ha,{appear:"",name:(Jr=ie(u).transitions)==null?void 0:Jr.menuAppear,css:!!ye.transitions},{default:ne(()=>{var en,Po;return[Ve("div",{id:ye.uid?`dp-menu-${ye.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:m,role:"dialog",class:Gt(qt.value),onMouseleave:Ge[14]||(Ge[14]=(...et)=>ie(q)&&ie(q)(...et)),onClick:_a,onKeydown:[yt(Do,["esc"]),Ge[15]||(Ge[15]=yt(ua(et=>Ke("left"),["prevent"]),["left"])),Ge[16]||(Ge[16]=yt(ua(et=>Ke("up"),["prevent"]),["up"])),Ge[17]||(Ge[17]=yt(ua(et=>Ke("down"),["prevent"]),["down"])),Ge[18]||(Ge[18]=yt(ua(et=>Ke("right"),["prevent"]),["right"])),Nr]},[(ye.disabled||ye.readonly)&&ye.inline?(ee(),be("div",{key:0,class:Gt(Pt.value)},null,2)):fe("",!0),!ye.inline&&!ye.teleportCenter?(ee(),be("div",{key:1,class:Gt(le.value)},null,2)):fe("",!0),Ve("div",{class:Gt({dp__menu_content_wrapper:((en=ye.presetRanges)==null?void 0:en.length)||!!ye.$slots["left-sidebar"]||!!ye.$slots["right-sidebar"]})},[ye.$slots["left-sidebar"]?(ee(),be("div",eme,[Ye(ye.$slots,"left-sidebar",oa(Ai(se)))])):fe("",!0),(Po=ye.presetRanges)!=null&&Po.length?(ee(),be("div",tme,[(ee(!0),be(Ce,null,an(ye.presetRanges,(et,us)=>(ee(),be("div",{key:us,style:Ii(et.style||{}),class:"dp__preset_range",onClick:Zt=>ie(Z)(et.range,!!et.slot)},[et.slot?Ye(ye.$slots,et.slot,{key:0,presetDateRange:ie(Z),label:et.label,range:et.range}):(ee(),be(Ce,{key:1},[Xe(Rt(et.label),1)],64))],12,rme))),128))])):fe("",!0),Ve("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:f,role:"document"},[Ve("div",{class:Gt(Ze.value)},[(ee(!0),be(Ce,null,an(oe.value,(et,us)=>(ee(),be("div",{key:et,class:Gt(ot.value)},[!ye.disableMonthYearSelect&&!ye.timePicker?(ee(),Me(Npe,Te({key:0,ref_for:!0,ref:Zt=>{Zt&&(h.value[us]=Zt)},months:Ae.value,years:de.value,month:ie(I)(et),year:ie(k)(et),instance:et,"internal-model-value":e.internalModelValue},a.value,{onMount:Ge[0]||(Ge[0]=Zt=>J("monthYearInput")),onResetFlow:C,onUpdateMonthYear:Zt=>ie(O)(et,Zt),onMonthYearSelect:ie(X),onOverlayClosed:A}),Ya({_:2},[an(ie(re),(Zt,xH)=>({name:Zt,fn:ne(K_=>[Ye(ye.$slots,Zt,oa(Ai(K_)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):fe("",!0),E(Tpe,Te({ref_for:!0,ref:Zt=>{Zt&&(v.value[us]=Zt)},"specific-mode":ge.value,"get-week-num":ie(F),instance:et,"mapped-dates":lr.value(et),month:ie(I)(et),year:ie(k)(et)},a.value,{onSelectDate:Zt=>ie(L)(Zt,!me.value(et)),onHandleSpace:Zt=>Ql(Zt,!me.value(et)),onSetHoverDate:Ge[1]||(Ge[1]=Zt=>ie(K)(Zt)),onHandleScroll:Zt=>ie(Y)(Zt,et),onHandleSwipe:Zt=>ie(z)(Zt,et),onMount:Ge[2]||(Ge[2]=Zt=>J("calendar")),onResetFlow:C,onTooltipOpen:Ge[3]||(Ge[3]=Zt=>ye.$emit("tooltip-open",Zt)),onTooltipClose:Ge[4]||(Ge[4]=Zt=>ye.$emit("tooltip-close",Zt))}),Ya({_:2},[an(ie(B),(Zt,xH)=>({name:Zt,fn:ne(K_=>[Ye(ye.$slots,Zt,oa(Ai({...K_})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),Ve("div",null,[ye.$slots["time-picker"]?Ye(ye.$slots,"time-picker",oa(Te({key:0},{time:ie(V),updateTime:ie(H)}))):(ee(),be(Ce,{key:1},[ye.enableTimePicker&&!ye.monthPicker&&!ye.weekPicker?(ee(),Me(Kpe,Te({key:0,ref_key:"timePickerRef",ref:p,hours:ie(V).hours,minutes:ie(V).minutes,seconds:ie(V).seconds,"internal-model-value":e.internalModelValue},a.value,{onMount:Ge[5]||(Ge[5]=et=>J("timePicker")),"onUpdate:hours":Ge[6]||(Ge[6]=et=>ie(H)(et)),"onUpdate:minutes":Ge[7]||(Ge[7]=et=>ie(H)(et,!1)),"onUpdate:seconds":Ge[8]||(Ge[8]=et=>ie(H)(et,!1,!0)),onResetFlow:C,onOverlayClosed:Mo,onOverlayOpened:Ge[9]||(Ge[9]=et=>ye.$emit("time-picker-open",et)),onAmPmChange:Ge[10]||(Ge[10]=et=>ye.$emit("am-pm-change",et))}),Ya({_:2},[an(ie(Q),(et,us)=>({name:et,fn:ne(Zt=>[Ye(ye.$slots,et,oa(Ai(Zt)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):fe("",!0)],64))])],512),ye.$slots["right-sidebar"]?(ee(),be("div",nme,[Ye(ye.$slots,"right-sidebar",oa(Ai(se)))])):fe("",!0),ye.$slots["action-extra"]?(ee(),be("div",ame,[ye.$slots["action-extra"]?Ye(ye.$slots,"action-extra",{key:0,selectCurrentDate:ie(U)}):fe("",!0)])):fe("",!0)],2),!ye.autoApply||ye.keepActionRow?(ee(),Me(ppe,Te({key:2,"menu-mount":y.value,"calendar-width":g.value,"internal-model-value":e.internalModelValue},a.value,{onClosePicker:Ge[11]||(Ge[11]=et=>ye.$emit("close-picker")),onSelectDate:Ge[12]||(Ge[12]=et=>ye.$emit("select-date")),onInvalidSelect:Ge[13]||(Ge[13]=et=>ye.$emit("invalid-select")),onSelectNow:ie(U)}),Ya({_:2},[an(ie($),(et,us)=>({name:et,fn:ne(Zt=>[Ye(ye.$slots,et,oa(Ai({...Zt})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):fe("",!0)],42,Jpe)]}),_:3},8,["name","css"])}}}),ome=typeof window<"u"?window:void 0,db=()=>{},sme=e=>LT()?(da(e),!0):!1,lme=(e,t,r,n)=>{if(!e)return db;let a=db;const i=Le(()=>ie(e),s=>{a(),s&&(s.addEventListener(t,r,n),a=()=>{s.removeEventListener(t,r,n),a=db})},{immediate:!0,flush:"post"}),o=()=>{i(),a()};return sme(o),o},ume=(e,t,r,n={})=>{const{window:a=ome,event:i="pointerdown"}=n;return a?lme(a,i,o=>{const s=nn(e),l=nn(t);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||r(o)},{passive:!0}):void 0},cme=or({__name:"VueDatePicker",props:{...jl},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:r}){const n=e,a=XT(),i=te(!1),o=_e(n,"modelValue"),s=_e(n,"timezone"),l=te(null),u=te(null),c=te(!1),f=te(null),d=Tr({disabledDates:null,allowedDates:null,highlightedDates:null}),{setMenuFocused:h,setShiftKey:v}=Jz(),{clearArrowNav:p}=Xl(),{validateDate:m,isValidTime:g,defaults:y,mapDatesArrToMap:_}=fi(n);Qt(()=>{I(n.modelValue),n.inline||(C(f.value).addEventListener("scroll",X),window.addEventListener("resize",Y)),n.inline&&(i.value=!0),_(d)}),Dp(()=>{if(!n.inline){const oe=C(f.value);oe&&oe.removeEventListener("scroll",X),window.removeEventListener("resize",Y)}});const x=Ku(a,"all",n.presetRanges),w=Ku(a,"input");Le([o,s],()=>{I(o.value)},{deep:!0});const{openOnTop:b,menuStyle:T,resetPosition:S,setMenuPosition:A,setInitialPosition:M,getScrollableParent:C}=ipe(l,u,r,n),{inputValue:D,internalModelValue:P,parseExternalModelValue:I,emitModelValue:k,formatInputValue:V,checkBeforeEmit:H}=npe(r,n,c),O=R(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),L=R(()=>n.dark?"dp__theme_dark":"dp__theme_light"),F=R(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:n.inline}:{class:"dp__outer_menu_wrap"}),X=()=>{i.value&&(n.closeOnScroll?se():A())},Y=()=>{i.value&&A()},G=async()=>{var oe,me,ge;!n.disabled&&!n.readonly&&(S(),await Ot(),i.value=!0,await Ot(),M(),await Ot(),A(),delete T.value.opacity,!((oe=y.value.transitions)!=null&&oe.menuAppear)&&n.transitions&&((ge=(me=l.value)==null?void 0:me.$el)==null||ge.classList.add("dp__menu_transitioned")),i.value&&r("open"),i.value||ue(),I(n.modelValue))},z=()=>{D.value="",ue(),r("update:model-value",null),r("cleared"),n.closeOnClearValue&&se()},N=()=>{const oe=P.value;return!oe||!Array.isArray(oe)&&m(oe)?!0:Array.isArray(oe)?oe.length===2&&m(oe[0])&&m(oe[1])?!0:m(oe[0]):!1},U=()=>{H()&&N()?(k(),se()):r("invalid-select",P.value)},Z=oe=>{K(),k(),n.closeOnAutoApply&&!oe&&se()},K=()=>{u.value&&n.textInput&&u.value.setParsedDate(P.value)},q=(oe=!1)=>{n.autoApply&&g(P.value)&&N()&&(n.range&&Array.isArray(P.value)?(n.partialRange||P.value.length===2)&&Z(oe):Z(oe))},ue=()=>{n.textInput||(P.value=null)},se=()=>{n.inline||(i.value&&(i.value=!1,h(!1),v(!1),p(),r("closed"),M(),D.value&&I(o.value)),ue())},B=(oe,me)=>{if(!oe){P.value=null;return}P.value=oe,me&&(U(),r("text-submit"))},$=()=>{n.autoApply&&g(P.value)&&k(),K()},Q=()=>i.value?se():G(),re=oe=>{P.value=oe},le=()=>{n.textInput&&(c.value=!0,V()),r("focus")},de=()=>{n.textInput&&(c.value=!1,I(n.modelValue)),r("blur")},Ae=oe=>{l.value&&l.value.updateMonthYear(0,{month:hR(oe.month),year:hR(oe.year)})},we=oe=>{I(oe||n.modelValue)},Ie=(oe,me)=>{var ge;(ge=l.value)==null||ge.switchView(oe,me)};return ume(l,u,n.onClickOutside?()=>n.onClickOutside(N):se),t({closeMenu:se,selectDate:U,clearValue:z,openMenu:G,onScroll:X,formatInputValue:V,updateInternalModelValue:re,setMonthYear:Ae,parseModel:we,switchView:Ie}),(oe,me)=>(ee(),be("div",{class:Gt(O.value),ref_key:"pickerWrapperRef",ref:f},[E(fpe,Te({ref_key:"inputRef",ref:u,"is-menu-open":i.value,"input-value":ie(D),"onUpdate:inputValue":me[0]||(me[0]=ge=>yr(D)?D.value=ge:null)},oe.$props,{onClear:z,onOpen:G,onSetInputDate:B,onSetEmptyDate:ie(k),onSelectDate:U,onToggle:Q,onClose:se,onFocus:le,onBlur:de,onRealBlur:me[1]||(me[1]=ge=>c.value=!1)}),Ya({_:2},[an(ie(w),(ge,Ze)=>({name:ge,fn:ne(ot=>[Ye(oe.$slots,ge,oa(Ai(ot)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),i.value?(ee(),Me(WT(oe.teleport?Ak:"div"),oa(Te({key:0},F.value)),{default:ne(()=>[i.value?(ee(),Me(ime,Te({key:0,ref_key:"dpMenuRef",ref:l,class:L.value,style:oe.inline?void 0:ie(T),"open-on-top":ie(b),"arr-map-values":d},oe.$props,{"internal-model-value":ie(P),"onUpdate:internalModelValue":me[2]||(me[2]=ge=>yr(P)?P.value=ge:null),onClosePicker:se,onSelectDate:U,onAutoApply:q,onTimeUpdate:$,onFlowStep:me[3]||(me[3]=ge=>oe.$emit("flow-step",ge)),onUpdateMonthYear:me[4]||(me[4]=ge=>oe.$emit("update-month-year",ge)),onInvalidSelect:me[5]||(me[5]=ge=>oe.$emit("invalid-select",ie(P))),onInvalidFixedRange:me[6]||(me[6]=ge=>oe.$emit("invalid-fixed-range",ge)),onRecalculatePosition:ie(A),onTooltipOpen:me[7]||(me[7]=ge=>oe.$emit("tooltip-open",ge)),onTooltipClose:me[8]||(me[8]=ge=>oe.$emit("tooltip-close",ge)),onTimePickerOpen:me[9]||(me[9]=ge=>oe.$emit("time-picker-open",ge)),onTimePickerClose:me[10]||(me[10]=ge=>oe.$emit("time-picker-close",ge)),onAmPmChange:me[11]||(me[11]=ge=>oe.$emit("am-pm-change",ge)),onRangeStart:me[12]||(me[12]=ge=>oe.$emit("range-start",ge)),onRangeEnd:me[13]||(me[13]=ge=>oe.$emit("range-end",ge))}),Ya({_:2},[an(ie(x),(ge,Ze)=>({name:ge,fn:ne(ot=>[Ye(oe.$slots,ge,oa(Ai({...ot})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])):fe("",!0)]),_:3},16)):fe("",!0)],2))}}),gA=(()=>{const e=cme;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),fme=Object.freeze(Object.defineProperty({__proto__:null,default:gA},Symbol.toStringTag,{value:"Module"}));Object.entries(fme).forEach(([e,t])=>{e!=="default"&&(gA[e]=t)});vr(BF);vr(yne);function _R(e,t,r){var n=Ed.createCanvas(),a=t.getWidth(),i=t.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=i+"px",n.setAttribute("data-zr-dom-id",e)),n.width=a*r,n.height=i*r,n}var dme=function(e){Ar(t,e);function t(r,n,a){var i=e.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var o;a=a||wy,typeof r=="string"?o=_R(r,n,a):lt(r)&&(o=r,r=o.id),i.id=r,i.dom=o;var s=o.style;return s&&(VN(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=n,i.dpr=a,i}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=_R("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,n,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Ut(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var _=new Ut(0,0,0,0);_.copy(y),o.push(_)}else{for(var x=!1,w=1/0,b=0,T=0;T<o.length;++T){var S=o[T];if(S.intersect(y)){var A=new Ut(0,0,0,0);A.copy(S),A.union(y),o[T]=A,x=!0;break}else if(l){u.copy(y),u.union(S);var M=y.width*y.height,C=S.width*S.height,D=u.width*u.height,P=D-M-C;P<w&&(w=P,b=T)}}if(l&&(o[b].union(y),x=!0),!x){var _=new Ut(0,0,0,0);_.copy(y),o.push(_)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=r[f];if(d){var h=d.shouldBePainted(a,i,!0,!0),v=d.__isRendered&&(d.__dirty&ai||!h)?d.getPrevPaintRect():null;v&&c(v);var p=h&&(d.__dirty&ai||!d.__isRendered)?d.getPaintRect():null;p&&c(p)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=n[f],h=d.shouldBePainted(a,i,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var v=d.getPrevPaintRect();v&&c(v)}}var m;do{m=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var g=f+1;g<o.length;)o[f].intersect(o[g])?(m=!0,o[f].union(o[g]),o.splice(g,1)):g++;f++}}while(m);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,n){var a=this.dpr,i=this.dom,o=i.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),i.width=r*a,i.height=n*a,s&&(s.width=r*a,s.height=n*a,a!==1&&this.ctxBack.scale(a,a))},t.prototype.clear=function(r,n,a){var i=this.dom,o=this.ctx,s=i.width,l=i.height;n=n||this.clearColor;var u=this.motionBlur&&!r,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/f,l/f));var h=this.domBack;function v(p,m,g,y){if(o.clearRect(p,m,g,y),n&&n!=="transparent"){var _=void 0;if(H0(n)){var x=n.global||n.__width===g&&n.__height===y;_=x&&n.__canvasGradient||Jw(o,n,{x:0,y:0,width:g,height:y}),n.__canvasGradient=_,n.__width=g,n.__height=y}else xY(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,_=eS(o,n,{dirty:function(){d.setUnpainted(),d.__painter.refresh()}}));o.save(),o.fillStyle=_||n,o.fillRect(p,m,g,y),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(h,p,m,g,y),o.restore())}!a||u?v(0,0,s,l):a.length&&j(a,function(p){v(p.x*f,p.y*f,p.width*f,p.height*f)})},t}(as);const hb=dme;var xR=1e5,Au=314159,fg=.01,hme=.001;function vme(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function pme(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var mme=function(){function e(t,r,n,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=De({},n||{}),this.dpr=n.devicePixelRatio||wy,this._singleCanvas=i,this.root=t;var o=t.style;o&&(VN(t),t.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=t,f=c.width,d=c.height;n.width!=null&&(f=n.width),n.height!=null&&(d=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new hb(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[Au]=h,h.zlevel=Au,s.push(Au),this._domRoot=t}else{this._width=Rm(t,0,n),this._height=Rm(t,1,n);var u=this._domRoot=pme(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,t,this._redrawId);for(var i=0;i<a.length;i++){var o=a[i],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=i===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,o=0;o<r;o++){var s=t[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(xR)),i||(i=n.ctx,i.save()),Xu(i,s,a,o===r-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(xR)},e.prototype.paintOne=function(t,r){g_(t,r)},e.prototype._paintList=function(t,r,n,a){if(this._redrawId===a){n=n||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,r,n),o=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;sd(function(){l._paintList(t,r,n,a)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(Au).ctx,r=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,r,n),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,r,n)})},e.prototype._doPaintList=function(t,r,n){for(var a=this,i=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&i.push(u)}for(var c=!0,f=!1,d=function(p){var m=i[p],g=m.ctx,y=o&&m.createRepaintRects(t,r,h._width,h._height),_=n?m.__startIndex:m.__drawIndex,x=!n&&m.incremental&&Date.now,w=x&&Date.now(),b=m.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,b,y);else if(_===m.__startIndex){var T=t[_];(!T.incremental||!T.notClear||n)&&m.clear(!1,b,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=m.__startIndex);var S,A=function(P){var I={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(S=_;S<m.__endIndex;S++){var k=t[S];if(k.__inHover&&(f=!0),a._doPaintEl(k,m,o,P,I,S===m.__endIndex-1),x){var V=Date.now()-w;if(V>15)break}}I.prevElClipPaths&&g.restore()};if(y)if(y.length===0)S=m.__endIndex;else for(var M=h.dpr,C=0;C<y.length;++C){var D=y[C];g.save(),g.beginPath(),g.rect(D.x*M,D.y*M,D.width*M,D.height*M),g.clip(),A(D),g.restore()}else g.save(),A(),g.restore();m.__drawIndex=S,m.__drawIndex<m.__endIndex&&(c=!1)},h=this,v=0;v<i.length;v++)d(v);return Nt.wxa&&j(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:c,needsRefreshHover:f}},e.prototype._doPaintEl=function(t,r,n,a,i,o){var s=r.ctx;if(n){var l=t.getPaintRect();(!a||l&&l.intersect(a))&&(Xu(s,t,i,o),t.setPrevPaintRect(l))}else Xu(s,t,i,o)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Au);var n=this._layers[t];return n||(n=new hb("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?je(n,this._layerConfig[t],!0):this._layerConfig[t-fg]&&je(n,this._layerConfig[t-fg],!0),r&&(n.virtual=r),this.insertLayer(t,n),n.initContext()),n},e.prototype.insertLayer=function(t,r){var n=this._layers,a=this._zlevelList,i=a.length,o=this._domRoot,s=null,l=-1;if(!n[t]&&vme(r)){if(i>0&&t>a[0]){for(l=0;l<i-1&&!(a[l]<t&&a[l+1]>t);l++);s=n[a[l]]}if(a.splice(l+1,0,t),n[t]=r,!r.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(r.dom,u.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.__painter=this}},e.prototype.eachLayer=function(t,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a];t.call(r,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(t,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],o=this._layers[i];o.__builtin__&&t.call(r,o,i)}},e.prototype.eachOtherLayer=function(t,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],o=this._layers[i];o.__builtin__||t.call(r,o,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function r(f){i&&(i.__endIndex!==f&&(i.__dirty=!0),i.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var a=t[n];if(a.zlevel!==t[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,o=0,s,l;for(l=0;l<t.length;l++){var a=t[l],u=a.zlevel,c=void 0;s!==u&&(s=u,o=0),a.incremental?(c=this.getLayer(u+hme,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?fg:0),this._needsManuallyCompositing),c.__builtin__||dC("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,r(l),i=c),a.__dirty&ai&&!a.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,j(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var n=this._layerConfig;n[t]?je(n[t],r,!0):n[t]=r;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===t||i===t+fg){var o=this._layers[i];je(o,n[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,n=this._zlevelList,a=r[t];a&&(a.dom.parentNode.removeChild(a.dom),delete r[t],n.splice($t(n,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var a=this._opts,i=this.root;if(t!=null&&(a.width=t),r!=null&&(a.height=r),t=Rm(i,0,a),r=Rm(i,1,a),n.style.display="",this._width!==t||r!==this._height){n.style.width=t+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer(Au).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Au].dom;var r=new hb("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var n=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=r.dom.width,i=r.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,a,i):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Xu(n,c,o,l===u-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();const gme=mme;function yme(e){e.registerPainter("canvas",gme)}vr([yme,Nne]);vr(IJ);function bR(e,t,r){typeof t=="object"&&(r=t,t=null);var n=this,a;if(!(e instanceof Function)){a=[];for(var i in e)e.hasOwnProperty(i)&&a.push(i)}var o=function(l){if(n.apply(this,arguments),e instanceof Function?wR(this,e.call(this,l)):_me(this,e,a),this.constructor===o)for(var u=o.__initializers__,c=0;c<u.length;c++)u[c].apply(this,arguments)};o.__super__=n,n.__initializers__?o.__initializers__=n.__initializers__.slice():o.__initializers__=[],t&&o.__initializers__.push(t);var s=function(){};return s.prototype=n.prototype,o.prototype=new s,o.prototype.constructor=o,wR(o.prototype,r),o.extend=n.extend,o.derive=n.extend,o}function wR(e,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function _me(e,t,r){for(var n=0;n<r.length;n++){var a=r[n];e[a]=t[a]}}const xme={extend:bR,derive:bR};function bme(e,t){this.action=e,this.context=t}var wme={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var t=this.__handlers__[e],r=t.length,n=-1,a=arguments;switch(a.length){case 1:for(;++n<r;)t[n].action.call(t[n].context);return;case 2:for(;++n<r;)t[n].action.call(t[n].context,a[1]);return;case 3:for(;++n<r;)t[n].action.call(t[n].context,a[1],a[2]);return;case 4:for(;++n<r;)t[n].action.call(t[n].context,a[1],a[2],a[3]);return;case 5:for(;++n<r;)t[n].action.call(t[n].context,a[1],a[2],a[3],a[4]);return;default:for(;++n<r;)t[n].action.apply(t[n].context,Array.prototype.slice.call(a,1));return}}},on:function(e,t,r){if(!(!e||!t)){var n=this.__handlers__||(this.__handlers__={});if(!n[e])n[e]=[];else if(this.has(e,t))return;var a=new bme(t,r||this);return n[e].push(a),this}},once:function(e,t,r){if(!e||!t)return;var n=this;function a(){n.off(e,a),t.apply(this,arguments)}return this.on(e,a,r)},before:function(e,t,r){if(!(!e||!t))return e="before"+e,this.on(e,t,r)},after:function(e,t,r){if(!(!e||!t))return e="after"+e,this.on(e,t,r)},success:function(e,t){return this.once("success",e,t)},error:function(e,t){return this.once("error",e,t)},off:function(e,t){var r=this.__handlers__||(this.__handlers__={});if(!t){r[e]=[];return}if(r[e]){for(var n=r[e],a=[],i=0;i<n.length;i++)t&&n[i].action!==t&&a.push(n[i]);r[e]=a}return this},has:function(e,t){var r=this.__handlers__;if(!r||!r[e])return!1;for(var n=r[e],a=0;a<n.length;a++)if(n[a].action===t)return!0}};const yA=wme;var Sme=0,Tme=Array.prototype,Cme=Tme.forEach,ev={genGUID:function(){return++Sme},relative2absolute:function(e,t){if(!t||e.match(/^\//))return e;for(var r=e.split("/"),n=t.split("/"),a=r[0];a==="."||a==="..";)a===".."&&n.pop(),r.shift(),a=r[0];return n.join("/")+"/"+r.join("/")},extend:function(e,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},defaults:function(e,t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e},extendWithPropList:function(e,t,r){if(t)for(var n=0;n<r.length;n++){var a=r[n];e[a]=t[a]}return e},defaultsWithPropList:function(e,t,r){if(t)for(var n=0;n<r.length;n++){var a=r[n];e[a]==null&&(e[a]=t[a])}return e},each:function(e,t,r){if(e&&t)if(e.forEach&&e.forEach===Cme)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,a=e.length;n<a;n++)t.call(r,e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(r,e[i],i,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return e?e.length===+e.length:!1},clone:function(e){if(ev.isObject(e)){if(ev.isArray(e))return e.slice();if(ev.isArrayLike(e)){for(var t=new e.constructor(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}else return ev.extend({},e)}else return e}};const Hn=ev;var U_=function(){this.__uid__=Hn.genGUID()};U_.__initializers__=[function(e){Hn.extend(this,e)}];Hn.extend(U_,xme);Hn.extend(U_.prototype,yA);const Va=U_;var SR=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],TR=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function Ame(e){for(var t={},r={},n=0;n<SR.length;n++){var a=SR[n];o(a)}for(var n=0;n<TR.length;n++){var i=TR[n];r[i]=e.getParameter(e[i])}this.getExtension=function(s){return s in t||o(s),t[s]},this.getParameter=function(s){return r[s]};function o(s){if(e.getExtension){var l=e.getExtension(s);l||(l=e.getExtension("MOZ_"+s)),l||(l=e.getExtension("WEBKIT_"+s)),t[s]=l}}}const ve={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444};function Eme(e){var t=new XMLHttpRequest;t.open("get",e.url),t.responseType=e.responseType||"text",e.onprogress&&(t.onprogress=function(r){if(r.lengthComputable){var n=r.loaded/r.total;e.onprogress(n,r.loaded,r.total)}else e.onprogress(null)}),t.onload=function(r){t.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(t.response)},e.onerror&&(t.onerror=e.onerror),t.send(null)}const Dme={get:Eme};var vb,Fa={};Fa.supportWebGL=function(){if(vb==null)try{var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)throw new Error}catch{vb=!1}return vb};Fa.Int8Array=typeof Int8Array>"u"?Array:Int8Array;Fa.Uint8Array=typeof Uint8Array>"u"?Array:Uint8Array;Fa.Uint16Array=typeof Uint16Array>"u"?Array:Uint16Array;Fa.Uint32Array=typeof Uint32Array>"u"?Array:Uint32Array;Fa.Int16Array=typeof Int16Array>"u"?Array:Int16Array;Fa.Float32Array=typeof Float32Array>"u"?Array:Float32Array;Fa.Float64Array=typeof Float64Array>"u"?Array:Float64Array;var Qu={};typeof window<"u"?Qu=window:typeof global<"u"&&(Qu=global);Fa.requestAnimationFrame=Qu.requestAnimationFrame||Qu.msRequestAnimationFrame||Qu.mozRequestAnimationFrame||Qu.webkitRequestAnimationFrame||function(e){setTimeout(e,16)};Fa.createCanvas=function(){return document.createElement("canvas")};Fa.createImage=function(){return new Qu.Image};Fa.request={get:Dme.get};Fa.addEventListener=function(e,t,r,n){e.addEventListener(t,r,n)};Fa.removeEventListener=function(e,t,r){e.removeEventListener(t,r)};const hn=Fa;var Nn=function(){this.head=null,this.tail=null,this._length=0};Nn.prototype.insert=function(e){var t=new Nn.Entry(e);return this.insertEntry(t),t};Nn.prototype.insertAt=function(e,t){if(!(e<0)){for(var r=this.head,n=0;r&&n!=e;)r=r.next,n++;if(r){var a=new Nn.Entry(t),i=r.prev;i?(i.next=a,a.prev=i):this.head=a,a.next=r,r.prev=a}else this.insert(t)}};Nn.prototype.insertBeforeEntry=function(e,t){var r=new Nn.Entry(e),n=t.prev;n?(n.next=r,r.prev=n):this.head=r,r.next=t,t.prev=r,this._length++};Nn.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++};Nn.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._length--};Nn.prototype.removeAt=function(e){if(!(e<0)){for(var t=this.head,r=0;t&&r!=e;)t=t.next,r++;if(t)return this.remove(t),t.value}};Nn.prototype.getHead=function(){if(this.head)return this.head.value};Nn.prototype.getTail=function(){if(this.tail)return this.tail.value};Nn.prototype.getAt=function(e){if(!(e<0)){for(var t=this.head,r=0;t&&r!=e;)t=t.next,r++;return t.value}};Nn.prototype.indexOf=function(e){for(var t=this.head,r=0;t;){if(t.value===e)return r;t=t.next,r++}};Nn.prototype.length=function(){return this._length};Nn.prototype.isEmpty=function(){return this._length===0};Nn.prototype.forEach=function(e,t){for(var r=this.head,n=0,a=typeof t<"u";r;)a?e.call(t,r.value,n):e(r.value,n),r=r.next,n++};Nn.prototype.clear=function(){this.tail=this.head=null,this._length=0};Nn.Entry=function(e){this.value=e,this.next=null,this.prev=null};const Mme=Nn;var Yd=function(e){this._list=new Mme,this._map={},this._maxSize=e||10};Yd.prototype.setMaxSize=function(e){this._maxSize=e};Yd.prototype.put=function(e,t){if(!this._map.hasOwnProperty(e)){var r=this._list.length();if(r>=this._maxSize&&r>0){var n=this._list.head;this._list.remove(n),delete this._map[n.key]}var a=this._list.insert(t);a.key=e,this._map[e]=a}};Yd.prototype.get=function(e){var t=this._map[e];if(this._map.hasOwnProperty(e))return t!==this._list.tail&&(this._list.remove(t),this._list.insertEntry(t)),t.value};Yd.prototype.remove=function(e){var t=this._map[e];typeof t<"u"&&(delete this._map[e],this._list.remove(t))};Yd.prototype.clear=function(){this._list.clear(),this._map={}};const aU=Yd;var Ur={},CR={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function xo(e){return e=Math.round(e),e<0?0:e>255?255:e}function Pme(e){return e=Math.round(e),e<0?0:e>360?360:e}function vp(e){return e<0?0:e>1?1:e}function pb(e){return e.length&&e.charAt(e.length-1)==="%"?xo(parseFloat(e)/100*255):xo(parseInt(e,10))}function pd(e){return e.length&&e.charAt(e.length-1)==="%"?vp(parseFloat(e)/100):vp(parseFloat(e))}function mb(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Ml(e,t,r){return e+(t-e)*r}function so(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function fT(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var iU=new aU(20),dg=null;function Sf(e,t){dg&&fT(dg,t),dg=iU.put(e,dg||t.slice())}Ur.parse=function(e,t){if(e){t=t||[];var r=iU.get(e);if(r)return fT(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in CR)return fT(t,CR[n]),Sf(e,t),t;if(n.charAt(0)==="#"){if(n.length===4){var a=parseInt(n.substr(1),16);if(!(a>=0&&a<=4095)){so(t,0,0,0,1);return}return so(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,1),Sf(e,t),t}else if(n.length===7){var a=parseInt(n.substr(1),16);if(!(a>=0&&a<=16777215)){so(t,0,0,0,1);return}return so(t,(a&16711680)>>16,(a&65280)>>8,a&255,1),Sf(e,t),t}return}var i=n.indexOf("("),o=n.indexOf(")");if(i!==-1&&o+1===n.length){var s=n.substr(0,i),l=n.substr(i+1,o-(i+1)).split(","),u=1;switch(s){case"rgba":if(l.length!==4){so(t,0,0,0,1);return}u=pd(l.pop());case"rgb":if(l.length!==3){so(t,0,0,0,1);return}return so(t,pb(l[0]),pb(l[1]),pb(l[2]),u),Sf(e,t),t;case"hsla":if(l.length!==4){so(t,0,0,0,1);return}return l[3]=pd(l[3]),dT(l,t),Sf(e,t),t;case"hsl":if(l.length!==3){so(t,0,0,0,1);return}return dT(l,t),Sf(e,t),t;default:return}}so(t,0,0,0,1)}};Ur.parseToFloat=function(e,t){if(t=Ur.parse(e,t),!!t)return t[0]/=255,t[1]/=255,t[2]/=255,t};function dT(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=pd(e[1]),a=pd(e[2]),i=a<=.5?a*(n+1):a+n-a*n,o=a*2-i;return t=t||[],so(t,xo(mb(o,i,r+1/3)*255),xo(mb(o,i,r)*255),xo(mb(o,i,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function Lme(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=i-a,s=(i+a)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(i+a):u=o/(2-i-a);var c=((i-t)/6+o/2)/o,f=((i-r)/6+o/2)/o,d=((i-n)/6+o/2)/o;t===i?l=d-f:r===i?l=1/3+c-d:n===i&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return e[3]!=null&&h.push(e[3]),h}}Ur.lift=function(e,t){var r=Ur.parse(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0;return Ur.stringify(r,r.length===4?"rgba":"rgb")}};Ur.toHex=function(e){var t=Ur.parse(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)};Ur.fastLerp=function(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),a=Math.floor(n),i=Math.ceil(n),o=t[a],s=t[i],l=n-a;return r[0]=xo(Ml(o[0],s[0],l)),r[1]=xo(Ml(o[1],s[1],l)),r[2]=xo(Ml(o[2],s[2],l)),r[3]=vp(Ml(o[3],s[3],l)),r}};Ur.fastMapToColor=Ur.fastLerp;Ur.lerp=function(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),a=Math.floor(n),i=Math.ceil(n),o=Ur.parse(t[a]),s=Ur.parse(t[i]),l=n-a,u=Ur.stringify([xo(Ml(o[0],s[0],l)),xo(Ml(o[1],s[1],l)),xo(Ml(o[2],s[2],l)),vp(Ml(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:a,rightIndex:i,value:n}:u}};Ur.mapToColor=Ur.lerp;Ur.modifyHSL=function(e,t,r,n){if(e=Ur.parse(e),e)return e=Lme(e),t!=null&&(e[0]=Pme(t)),r!=null&&(e[1]=pd(r)),n!=null&&(e[2]=pd(n)),Ur.stringify(dT(e),"rgba")};Ur.modifyAlpha=function(e,t){if(e=Ur.parse(e),e&&t!=null)return e[3]=vp(t),Ur.stringify(e,"rgba")};Ur.stringify=function(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}};const Ime=Ur;var Rme=Ime.parseToFloat,gb={};function AR(e){var t=Object.keys(e);t.sort();for(var r=[],n=0;n<t.length;n++){var a=t[n],i=e[a];i===null?r.push(a):r.push(a+" "+i.toString())}return r.join(`
`)}function Ome(e,t,r){r.sort();for(var n=[],a=0;a<r.length;a++){var i=r[a];n.push(i)}var o=AR(e)+`
`+AR(t)+`
`+n.join(`
`);if(gb[o])return gb[o];var s=Hn.genGUID();return gb[o]=s,s}var kme=Va.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(e,t){t===void 0&&console.warn('Uniform value "'+e+'" is undefined');var r=this.uniforms[e];r&&(typeof t=="string"&&(t=Rme(t)||t),r.value=t,this.autoUpdateTextureStatus&&r.type==="t"&&(t?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var t in e){var r=e[t];this.setUniform(t,r)}},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,t){if(typeof e=="object")for(var r in e){var n=e[r];this.setUniform(r,n)}else this.setUniform(e,t)},get:function(e){var t=this.uniforms[e];if(t)return t.value},attachShader:function(e,t){var r=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var n=this.uniforms;this._enabledUniforms=Object.keys(n),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(u){var c=this.uniforms[u].type;return c==="t"||c==="tv"},this);var a=this.vertexDefines,i=this.fragmentDefines;if(this.vertexDefines=Hn.clone(e.vertexDefines),this.fragmentDefines=Hn.clone(e.fragmentDefines),t){for(var o in r)n[o]&&(n[o].value=r[o].value);Hn.defaults(this.vertexDefines,a),Hn.defaults(this.fragmentDefines,i)}var s={};for(var l in e.textures)s[l]={shaderType:e.textures[l].shaderType,type:e.textures[l].type,enabled:t&&this._textureStatus[l]?this._textureStatus[l].enabled:!1};this._textureStatus=s,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var t in this.uniforms)e.uniforms[t].value=this.uniforms[t].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=Hn.clone(this.vertexDefines),e.fragmentDefines=Hn.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,t,r){var n=this.vertexDefines,a=this.fragmentDefines;e!=="vertex"&&e!=="fragment"&&e!=="both"&&arguments.length<3&&(r=t,t=e,e="both"),r=r??null,(e==="vertex"||e==="both")&&n[t]!==r&&(n[t]=r,this._programKey=""),(e==="fragment"||e==="both")&&a[t]!==r&&(a[t]=r,e!=="both"&&(this._programKey=""))},undefine:function(e,t){e!=="vertex"&&e!=="fragment"&&e!=="both"&&arguments.length<2&&(t=e,e="both"),(e==="vertex"||e==="both")&&this.isDefined("vertex",t)&&(delete this.vertexDefines[t],this._programKey=""),(e==="fragment"||e==="both")&&this.isDefined("fragment",t)&&(delete this.fragmentDefines[t],e!=="both"&&(this._programKey=""))},isDefined:function(e,t){switch(e){case"vertex":return this.vertexDefines[t]!==void 0;case"fragment":return this.fragmentDefines[t]!==void 0}},getDefine:function(e,t){switch(e){case"vertex":return this.vertexDefines[t];case"fragment":return this.fragmentDefines[t]}},enableTexture:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)this.enableTexture(e[t]);return}var r=this._textureStatus[e];if(r){var n=r.enabled;n||(r.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)this.disableTexture(e[t]);return}var r=this._textureStatus[e];if(r){var n=!r.enabled;n||(r.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var t=this._textureStatus;return!!t[e]&&t[e].enabled},getEnabledTextures:function(){var e=[],t=this._textureStatus;for(var r in t)t[r].enabled&&e.push(r);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=Ome(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});const Ui=kme;var Qg=1e-6,jn=Array,Uf=Math.random,gt={};gt.create=function(){var e=new jn(2);return e[0]=0,e[1]=0,e};gt.clone=function(e){var t=new jn(2);return t[0]=e[0],t[1]=e[1],t};gt.fromValues=function(e,t){var r=new jn(2);return r[0]=e,r[1]=t,r};gt.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e};gt.set=function(e,t,r){return e[0]=t,e[1]=r,e};gt.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e};gt.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e};gt.sub=gt.subtract;gt.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e};gt.mul=gt.multiply;gt.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e};gt.div=gt.divide;gt.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e};gt.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e};gt.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e};gt.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e};gt.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)};gt.dist=gt.distance;gt.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n};gt.sqrDist=gt.squaredDistance;gt.length=function(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)};gt.len=gt.length;gt.squaredLength=function(e){var t=e[0],r=e[1];return t*t+r*r};gt.sqrLen=gt.squaredLength;gt.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e};gt.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e};gt.normalize=function(e,t){var r=t[0],n=t[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a),e};gt.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]};gt.cross=function(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e};gt.lerp=function(e,t,r,n){var a=t[0],i=t[1];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e};gt.random=function(e,t){t=t||1;var r=GLMAT_RANDOM()*2*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e};gt.transformMat2=function(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e};gt.transformMat2d=function(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e};gt.transformMat3=function(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[3]*a+r[6],e[1]=r[1]*n+r[4]*a+r[7],e};gt.transformMat4=function(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e};gt.forEach=function(){var e=gt.create();return function(t,r,n,a,i,o){var s,l;for(r||(r=2),n||(n=0),a?l=Math.min(a*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}();const tt=gt;var Mt=function(e,t){e=e||0,t=t||0,this.array=tt.fromValues(e,t),this._dirty=!0};Mt.prototype={constructor:Mt,add:function(e){return tt.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t){return this.array[0]=e,this.array[1]=t,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new Mt(this.x,this.y)},copy:function(e){return tt.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return tt.cross(e.array,this.array,t.array),e._dirty=!0,this},dist:function(e){return tt.dist(this.array,e.array)},distance:function(e){return tt.distance(this.array,e.array)},div:function(e){return tt.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return tt.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return tt.dot(this.array,e.array)},len:function(){return tt.len(this.array)},length:function(){return tt.length(this.array)},lerp:function(e,t,r){return tt.lerp(this.array,e.array,t.array,r),this._dirty=!0,this},min:function(e){return tt.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return tt.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return tt.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return tt.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return tt.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return tt.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return tt.random(this.array,e),this._dirty=!0,this},scale:function(e){return tt.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return tt.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return tt.sqrDist(this.array,e.array)},squaredDistance:function(e){return tt.squaredDistance(this.array,e.array)},sqrLen:function(){return tt.sqrLen(this.array)},squaredLength:function(){return tt.squaredLength(this.array)},sub:function(e){return tt.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return tt.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return tt.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return tt.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return tt.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return tt.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};if(Object.defineProperty){var ER=Mt.prototype;Object.defineProperty(ER,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(ER,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}Mt.add=function(e,t,r){return tt.add(e.array,t.array,r.array),e._dirty=!0,e};Mt.set=function(e,t,r){return tt.set(e.array,t,r),e._dirty=!0,e};Mt.copy=function(e,t){return tt.copy(e.array,t.array),e._dirty=!0,e};Mt.cross=function(e,t,r){return tt.cross(e.array,t.array,r.array),e._dirty=!0,e};Mt.dist=function(e,t){return tt.distance(e.array,t.array)};Mt.distance=Mt.dist;Mt.div=function(e,t,r){return tt.divide(e.array,t.array,r.array),e._dirty=!0,e};Mt.divide=Mt.div;Mt.dot=function(e,t){return tt.dot(e.array,t.array)};Mt.len=function(e){return tt.length(e.array)};Mt.lerp=function(e,t,r,n){return tt.lerp(e.array,t.array,r.array,n),e._dirty=!0,e};Mt.min=function(e,t,r){return tt.min(e.array,t.array,r.array),e._dirty=!0,e};Mt.max=function(e,t,r){return tt.max(e.array,t.array,r.array),e._dirty=!0,e};Mt.mul=function(e,t,r){return tt.multiply(e.array,t.array,r.array),e._dirty=!0,e};Mt.multiply=Mt.mul;Mt.negate=function(e,t){return tt.negate(e.array,t.array),e._dirty=!0,e};Mt.normalize=function(e,t){return tt.normalize(e.array,t.array),e._dirty=!0,e};Mt.random=function(e,t){return tt.random(e.array,t),e._dirty=!0,e};Mt.scale=function(e,t,r){return tt.scale(e.array,t.array,r),e._dirty=!0,e};Mt.scaleAndAdd=function(e,t,r,n){return tt.scaleAndAdd(e.array,t.array,r.array,n),e._dirty=!0,e};Mt.sqrDist=function(e,t){return tt.sqrDist(e.array,t.array)};Mt.squaredDistance=Mt.sqrDist;Mt.sqrLen=function(e){return tt.sqrLen(e.array)};Mt.squaredLength=Mt.sqrLen;Mt.sub=function(e,t,r){return tt.subtract(e.array,t.array,r.array),e._dirty=!0,e};Mt.subtract=Mt.sub;Mt.transformMat2=function(e,t,r){return tt.transformMat2(e.array,t.array,r.array),e._dirty=!0,e};Mt.transformMat2d=function(e,t,r){return tt.transformMat2d(e.array,t.array,r.array),e._dirty=!0,e};Mt.transformMat3=function(e,t,r){return tt.transformMat3(e.array,t.array,r.array),e._dirty=!0,e};Mt.transformMat4=function(e,t,r){return tt.transformMat4(e.array,t.array,r.array),e._dirty=!0,e};const ni=Mt;var DR=1,MR=2,yb=3,PR={};function Nme(e){for(var t=e.split(`
`),r=0,n=t.length;r<n;r++)t[r]=r+1+": "+t[r];return t.join(`
`)}function LR(e,t,r){if(!e.getShaderParameter(t,e.COMPILE_STATUS))return[e.getShaderInfoLog(t),Nme(r)].join(`
`)}var IR=new hn.Float32Array(16),Bme=Va.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){var t=this._locations[e];return t!=null},useTextureSlot:function(e,t,r){t&&(e.gl.activeTexture(e.gl.TEXTURE0+r),t.isRenderable()?t.bind(e):t.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,t){var r=this._textureSlot;return this.useTextureSlot(e,t,r),this._textureSlot++,r},setUniform:function(e,t,r,n){var a=this._locations,i=a[r];if(i==null)return!1;switch(t){case"m4":if(!(n instanceof Float32Array)){for(var o=0;o<n.length;o++)IR[o]=n[o];n=IR}e.uniformMatrix4fv(i,!1,n);break;case"2i":e.uniform2i(i,n[0],n[1]);break;case"2f":e.uniform2f(i,n[0],n[1]);break;case"3i":e.uniform3i(i,n[0],n[1],n[2]);break;case"3f":e.uniform3f(i,n[0],n[1],n[2]);break;case"4i":e.uniform4i(i,n[0],n[1],n[2],n[3]);break;case"4f":e.uniform4f(i,n[0],n[1],n[2],n[3]);break;case"1i":e.uniform1i(i,n);break;case"1f":e.uniform1f(i,n);break;case"1fv":e.uniform1fv(i,n);break;case"1iv":e.uniform1iv(i,n);break;case"2iv":e.uniform2iv(i,n);break;case"2fv":e.uniform2fv(i,n);break;case"3iv":e.uniform3iv(i,n);break;case"3fv":e.uniform3fv(i,n);break;case"4iv":e.uniform4iv(i,n);break;case"4fv":e.uniform4fv(i,n);break;case"m2":case"m2v":e.uniformMatrix2fv(i,!1,n);break;case"m3":case"m3v":e.uniformMatrix3fv(i,!1,n);break;case"m4v":if(Array.isArray(n)&&Array.isArray(n[0])){for(var s=new hn.Float32Array(n.length*16),l=0,o=0;o<n.length;o++)for(var u=n[o],c=0;c<16;c++)s[l++]=u[c];e.uniformMatrix4fv(i,!1,s)}else e.uniformMatrix4fv(i,!1,n);break}return!0},setUniformOfSemantic:function(e,t,r){var n=this.uniformSemantics[t];return n?this.setUniform(e,n.type,n.symbol,r):!1},enableAttributes:function(e,t,r){var n=e.gl,a=this._program,i=this._locations,o;r?o=r.__enabledAttributeList:o=PR[e.__uid__],o||(r?o=r.__enabledAttributeList=[]:o=PR[e.__uid__]=[]);for(var s=[],l=0;l<t.length;l++){var u=t[l];if(!this.attributes[u]){s[l]=-1;continue}var c=i[u];if(c==null){if(c=n.getAttribLocation(a,u),c===-1){s[l]=-1;continue}i[u]=c}s[l]=c,o[c]?o[c]=MR:o[c]=DR}for(var l=0;l<o.length;l++)switch(o[l]){case DR:n.enableVertexAttribArray(l),o[l]=yb;break;case MR:o[l]=yb;break;case yb:n.disableVertexAttribArray(l),o[l]=0;break}return s},getAttribLocation:function(e,t){var r=this._locations,n=r[t];return n==null&&(n=e.getAttribLocation(this._program,t),r[t]=n),n},buildProgram:function(e,t,r,n){var a=e.createShader(e.VERTEX_SHADER),i=e.createProgram();e.shaderSource(a,r),e.compileShader(a);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,n),e.compileShader(o);var s=LR(e,a,r);if(s||(s=LR(e,o,n),s))return s;if(e.attachShader(i,a),e.attachShader(i,o),t.attributeSemantics.POSITION)e.bindAttribLocation(i,0,t.attributeSemantics.POSITION.symbol);else{var l=Object.keys(this.attributes);e.bindAttribLocation(i,0,l[0])}if(e.linkProgram(i),e.deleteShader(a),e.deleteShader(o),this._program=i,this.vertexCode=r,this.fragmentCode=n,!e.getProgramParameter(i,e.LINK_STATUS))return`Could not link program
`+e.getProgramInfoLog(i);for(var u=0;u<t.uniforms.length;u++){var c=t.uniforms[u];this._locations[c]=e.getUniformLocation(i,c)}}});const Vme=Bme;var Fme=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function RR(e,t,r){function n(o,s,l,u){var c="";isNaN(s)&&(s in t?s=t[s]:s=a[s]),isNaN(l)&&(l in t?l=t[l]:l=a[l]);for(var f=parseInt(s);f<parseInt(l);f++)c+="{"+u.replace(/float\s*\(\s*_idx_\s*\)/g,f.toFixed(1)).replace(/_idx_/g,f)+"}";return c}var a={};for(var i in r)a[i+"_COUNT"]=r[i];return e.replace(Fme,n)}function _b(e,t,r){var n=[];if(t)for(var a in t){var i=t[a];i>0&&n.push("#define "+a.toUpperCase()+"_COUNT "+i)}if(r)for(var o=0;o<r.length;o++){var s=r[o];n.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in e){var l=e[s];l===null?n.push("#define "+s):n.push("#define "+s+" "+l.toString())}return n.join(`
`)}function zme(e){for(var t=[],r=0;r<e.length;r++)t.push("#extension GL_"+e[r]+" : enable");return t.join(`
`)}function Ume(e){return["precision",e,"float"].join(" ")+`;
`+["precision",e,"int"].join(" ")+`;
`+["precision",e,"sampler2D"].join(" ")+`;
`}function oU(e){this._renderer=e,this._cache={}}oU.prototype.getProgram=function(e,t,r){var n=this._cache,a=e.isSkinnedMesh&&e.isSkinnedMesh(),i=e.isInstancedMesh&&e.isInstancedMesh(),o="s"+t.shader.shaderID+"m"+t.getProgramKey();r&&(o+="se"+r.getProgramKey(e.lightGroup)),a&&(o+=",sk"+e.joints.length),i&&(o+=",is");var x=n[o];if(x)return x;var s=r?r.getLightsNumbers(e.lightGroup):{},l=this._renderer,u=l.gl,c=t.getEnabledTextures(),f="";if(a){var d={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>l.getMaxJointNumber()&&(d.USE_SKIN_MATRICES_TEXTURE=null),f+=`
`+_b(d)+`
`}i&&(f+=`
#define INSTANCING
`);var h=f+_b(t.vertexDefines,s,c),v=f+_b(t.fragmentDefines,s,c),p=h+`
`+t.shader.vertex,m=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(b){return l.getGLExtension(b)!=null});m.indexOf("EXT_shader_texture_lod")>=0&&(v+=`
#define SUPPORT_TEXTURE_LOD`),m.indexOf("OES_standard_derivatives")>=0&&(v+=`
#define SUPPORT_STANDARD_DERIVATIVES`);var g=zme(m)+`
`+Ume(t.precision)+`
`+v+`
`+t.shader.fragment,y=RR(p,t.vertexDefines,s),_=RR(g,t.fragmentDefines,s),x=new Vme;x.uniformSemantics=t.shader.uniformSemantics,x.attributes=t.shader.attributes;var w=x.buildProgram(u,t.shader,y,_);return x.__error=w,n[o]=x,x};var OR=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,Hme=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,kR=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,Gme={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function ds(e){for(var t=[],r=0;r<e;r++)t[r]=0;return t}var NR={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return ds(2)},vec3:function(){return ds(3)},vec4:function(){return ds(4)},ivec2:function(){return ds(2)},ivec3:function(){return ds(3)},ivec4:function(){return ds(4)},mat2:function(){return ds(4)},mat3:function(){return ds(9)},mat4:function(){return ds(16)},array:function(){return[]}},hT=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],sU=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],lU=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],$me={vec4:4,vec3:3,vec2:2,float:1},xb={},uU={};function Wme(e,t){var r="vertex:"+e+"fragment:"+t;if(xb[r])return xb[r];var n=Hn.genGUID();return xb[r]=n,uU[n]={vertex:e,fragment:t},n}function BR(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function Tf(){console.error("Wrong uniform/attributes syntax")}function VR(e,t){for(var r=/[,=\(\):]/,n=t.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),a=[],i=0;i<n.length;i++)n[i].match(r)?a.push(n[i].charAt(0),n[i].slice(1)):a.push(n[i]);n=a;var o=0,s=1,l=2,u=3,c=4,f=5,d=o,h={},v=null,p;m(n[0]);function m(_){_||Tf();var x=_.match(/\[(.*?)\]/);p=_.replace(/\[(.*?)\]/,""),h[p]={},x&&(h[p].isArray=!0,h[p].arraySize=x[1])}for(var i=1;i<n.length;i++){var g=n[i];if(g){if(g==="="){if(d!==o&&d!==u){Tf();break}d=s;continue}else if(g===":"){d=c;continue}else if(g===","){if(d===l){if(!(v instanceof Array)){Tf();break}v.push(+n[++i])}else d=f;continue}else if(g===")"){h[p].value=new hn.Float32Array(v),v=null,d=f;continue}else if(g==="("){if(d!==l){Tf();break}if(!(v instanceof Array)){Tf();break}v.push(+n[++i]);continue}else if(g.indexOf("vec")>=0){if(d!==s&&d!==c){Tf();break}d=l,v=[];continue}else if(d===s){e==="bool"?h[p].value=g==="true":h[p].value=parseFloat(g),v=null;continue}else if(d===c){var y=g;hT.indexOf(y)>=0||sU.indexOf(y)>=0||lU.indexOf(y)>=0?h[p].semantic=y:y==="ignore"||y==="unconfigurable"?h[p].ignore=!0:e==="bool"?h[p].value=y==="true":h[p].value=parseFloat(y);continue}m(g),d=o}}return h}function Pe(e,t){typeof e=="object"&&(t=e.fragment,e=e.vertex),e=BR(e),t=BR(t),this._shaderID=Wme(e,t),this._vertexCode=Pe.parseImport(e),this._fragmentCode=Pe.parseImport(t),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}Pe.prototype={constructor:Pe,createUniforms:function(){var e={};for(var t in this.uniformTemplates){var r=this.uniformTemplates[t];e[t]={type:r.type,value:r.value()}}return e},_parseImport:function(){this._vertexCode=Pe.parseImport(this.vertex),this._fragmentCode=Pe.parseImport(this.fragment)},_addSemanticUniform:function(e,t,r){if(hT.indexOf(r)>=0)this.attributeSemantics[r]={symbol:e,type:t};else if(lU.indexOf(r)>=0){var n=!1,a=r;r.match(/TRANSPOSE$/)&&(n=!0,a=r.slice(0,-9)),this.matrixSemantics[r]={symbol:e,type:t,isTranspose:n,semanticNoTranspose:a}}else sU.indexOf(r)>=0&&(this.uniformSemantics[r]={symbol:e,type:t})},_addMaterialUniform:function(e,t,r,n,a,i){i[e]={type:r,value:a?NR.array:n||NR[t],semantic:null}},_parseUniforms:function(){var e={},t=this,r="vertex";this._uniformList=[],this._vertexCode=this._vertexCode.replace(OR,a),r="fragment",this._fragmentCode=this._fragmentCode.replace(OR,a),t.matrixSemanticKeys=Object.keys(this.matrixSemantics);function n(i){return i!=null?function(){return i}:null}function a(i,o,s){var l=VR(o,s),u=[];for(var c in l){var f=l[c],d=f.semantic,h=c,v=Gme[o],p=n(l[c].value);l[c].isArray&&(h+="["+l[c].arraySize+"]",v+="v"),u.push(h),t._uniformList.push(c),f.ignore||((o==="sampler2D"||o==="samplerCube")&&(t.textures[c]={shaderType:r,type:o}),d?t._addSemanticUniform(c,v,d):t._addMaterialUniform(c,o,v,p,l[c].isArray,e))}return u.length>0?"uniform "+o+" "+u.join(",")+`;
`:""}this.uniformTemplates=e},_parseAttributes:function(){var e={},t=this;this._vertexCode=this._vertexCode.replace(Hme,r);function r(n,a,i){var o=VR(a,i),s=$me[a]||1,l=[];for(var u in o){var c=o[u].semantic;if(e[u]={type:"float",size:s,semantic:c||null},c){if(hT.indexOf(c)<0)throw new Error('Unkown semantic "'+c+'"');t.attributeSemantics[c]={symbol:u,type:a}}l.push(u)}return"attribute "+a+" "+l.join(",")+`;
`}this.attributes=e},_parseDefines:function(){var e=this,t="vertex";this._vertexCode=this._vertexCode.replace(kR,r),t="fragment",this._fragmentCode=this._fragmentCode.replace(kR,r);function r(n,a,i){var o=t==="vertex"?e.vertexDefines:e.fragmentDefines;return o[a]||(i==="false"?o[a]=!1:i==="true"?o[a]=!0:o[a]=i?isNaN(parseFloat(i))?i.trim():parseFloat(i):null),""}},clone:function(){var e=uU[this._shaderID],t=new Pe(e.vertex,e.fragment);return t}};Object.defineProperty&&(Object.defineProperty(Pe.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(Pe.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(Pe.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(Pe.prototype,"uniforms",{get:function(){return this._uniformList}}));var Yme=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;Pe.parseImport=function(e){return e=e.replace(Yme,function(a,r,n){var a=Pe.source(n);return a?Pe.parseImport(a):(console.error('Shader chunk "'+n+'" not existed in library'),"")}),e};var Xme=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;Pe.import=function(e){e.replace(Xme,function(t,r,n,i){var i=i.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(i){for(var o=n.split("."),s=Pe.codes,l=0,u;l<o.length-1;)u=o[l++],s[u]||(s[u]={}),s=s[u];u=o[l],s[u]=i}return i})};Pe.codes={};Pe.source=function(e){for(var t=e.split("."),r=Pe.codes,n=0;r&&n<t.length;){var a=t[n++];r=r[a]}return typeof r!="string"?(console.error('Shader "'+e+'" not existed in library'),""):r};const cU=`@export clay.prez.vertex
uniform mat4 WVP : WORLDVIEWPROJECTION;
attribute vec3 pos : POSITION;
attribute vec2 uv : TEXCOORD_0;
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec2 v_Texcoord;
void main()
{
 vec4 P = vec4(pos, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = WVP * P;
 v_Texcoord = uv * uvRepeat + uvOffset;
}
@end
@export clay.prez.fragment
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
varying vec2 v_Texcoord;
void main()
{
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
 gl_FragColor = vec4(0.0,0.0,0.0,1.0);
}
@end`;var br={};br.create=function(){var e=new jn(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};br.clone=function(e){var t=new jn(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};br.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};br.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};br.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e};br.invert=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15],y=r*s-n*o,_=r*l-a*o,x=r*u-i*o,w=n*l-a*s,b=n*u-i*s,T=a*u-i*l,S=c*p-f*v,A=c*m-d*v,M=c*g-h*v,C=f*m-d*p,D=f*g-h*p,P=d*g-h*m,I=y*P-_*D+x*C+w*M-b*A+T*S;return I?(I=1/I,e[0]=(s*P-l*D+u*C)*I,e[1]=(a*D-n*P-i*C)*I,e[2]=(p*T-m*b+g*w)*I,e[3]=(d*b-f*T-h*w)*I,e[4]=(l*M-o*P-u*A)*I,e[5]=(r*P-a*M+i*A)*I,e[6]=(m*x-v*T-g*_)*I,e[7]=(c*T-d*x+h*_)*I,e[8]=(o*D-s*M+u*S)*I,e[9]=(n*M-r*D-i*S)*I,e[10]=(v*b-p*x+g*y)*I,e[11]=(f*x-c*b-h*y)*I,e[12]=(s*A-o*C-l*S)*I,e[13]=(r*C-n*A+a*S)*I,e[14]=(p*_-v*w-m*y)*I,e[15]=(c*w-f*_+d*y)*I,e):null};br.adjoint=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15];return e[0]=s*(d*g-h*m)-f*(l*g-u*m)+p*(l*h-u*d),e[1]=-(n*(d*g-h*m)-f*(a*g-i*m)+p*(a*h-i*d)),e[2]=n*(l*g-u*m)-s*(a*g-i*m)+p*(a*u-i*l),e[3]=-(n*(l*h-u*d)-s*(a*h-i*d)+f*(a*u-i*l)),e[4]=-(o*(d*g-h*m)-c*(l*g-u*m)+v*(l*h-u*d)),e[5]=r*(d*g-h*m)-c*(a*g-i*m)+v*(a*h-i*d),e[6]=-(r*(l*g-u*m)-o*(a*g-i*m)+v*(a*u-i*l)),e[7]=r*(l*h-u*d)-o*(a*h-i*d)+c*(a*u-i*l),e[8]=o*(f*g-h*p)-c*(s*g-u*p)+v*(s*h-u*f),e[9]=-(r*(f*g-h*p)-c*(n*g-i*p)+v*(n*h-i*f)),e[10]=r*(s*g-u*p)-o*(n*g-i*p)+v*(n*u-i*s),e[11]=-(r*(s*h-u*f)-o*(n*h-i*f)+c*(n*u-i*s)),e[12]=-(o*(f*m-d*p)-c*(s*m-l*p)+v*(s*d-l*f)),e[13]=r*(f*m-d*p)-c*(n*m-a*p)+v*(n*d-a*f),e[14]=-(r*(s*m-l*p)-o*(n*m-a*p)+v*(n*l-a*s)),e[15]=r*(s*d-l*f)-o*(n*d-a*f)+c*(n*l-a*s),e};br.determinant=function(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],v=e[13],p=e[14],m=e[15],g=t*o-r*i,y=t*s-n*i,_=t*l-a*i,x=r*s-n*o,w=r*l-a*o,b=n*l-a*s,T=u*v-c*h,S=u*p-f*h,A=u*m-d*h,M=c*p-f*v,C=c*m-d*v,D=f*m-d*p;return g*D-y*C+_*M+x*A-w*S+b*T};br.multiply=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],v=t[11],p=t[12],m=t[13],g=t[14],y=t[15],_=r[0],x=r[1],w=r[2],b=r[3];return e[0]=_*n+x*s+w*f+b*p,e[1]=_*a+x*l+w*d+b*m,e[2]=_*i+x*u+w*h+b*g,e[3]=_*o+x*c+w*v+b*y,_=r[4],x=r[5],w=r[6],b=r[7],e[4]=_*n+x*s+w*f+b*p,e[5]=_*a+x*l+w*d+b*m,e[6]=_*i+x*u+w*h+b*g,e[7]=_*o+x*c+w*v+b*y,_=r[8],x=r[9],w=r[10],b=r[11],e[8]=_*n+x*s+w*f+b*p,e[9]=_*a+x*l+w*d+b*m,e[10]=_*i+x*u+w*h+b*g,e[11]=_*o+x*c+w*v+b*y,_=r[12],x=r[13],w=r[14],b=r[15],e[12]=_*n+x*s+w*f+b*p,e[13]=_*a+x*l+w*d+b*m,e[14]=_*i+x*u+w*h+b*g,e[15]=_*o+x*c+w*v+b*y,e};br.multiplyAffine=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[4],s=t[5],l=t[6],u=t[8],c=t[9],f=t[10],d=t[12],h=t[13],v=t[14],p=r[0],m=r[1],g=r[2];return e[0]=p*n+m*o+g*u,e[1]=p*a+m*s+g*c,e[2]=p*i+m*l+g*f,p=r[4],m=r[5],g=r[6],e[4]=p*n+m*o+g*u,e[5]=p*a+m*s+g*c,e[6]=p*i+m*l+g*f,p=r[8],m=r[9],g=r[10],e[8]=p*n+m*o+g*u,e[9]=p*a+m*s+g*c,e[10]=p*i+m*l+g*f,p=r[12],m=r[13],g=r[14],e[12]=p*n+m*o+g*u+d,e[13]=p*a+m*s+g*c+h,e[14]=p*i+m*l+g*f+v,e};br.mul=br.multiply;br.mulAffine=br.multiplyAffine;br.translate=function(e,t,r){var n=r[0],a=r[1],i=r[2],o,s,l,u,c,f,d,h,v,p,m,g;return t===e?(e[12]=t[0]*n+t[4]*a+t[8]*i+t[12],e[13]=t[1]*n+t[5]*a+t[9]*i+t[13],e[14]=t[2]*n+t[6]*a+t[10]*i+t[14],e[15]=t[3]*n+t[7]*a+t[11]*i+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],c=t[4],f=t[5],d=t[6],h=t[7],v=t[8],p=t[9],m=t[10],g=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=v,e[9]=p,e[10]=m,e[11]=g,e[12]=o*n+c*a+v*i+t[12],e[13]=s*n+f*a+p*i+t[13],e[14]=l*n+d*a+m*i+t[14],e[15]=u*n+h*a+g*i+t[15]),e};br.scale=function(e,t,r){var n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};br.rotate=function(e,t,r,n){var a=n[0],i=n[1],o=n[2],s=Math.sqrt(a*a+i*i+o*o),l,u,c,f,d,h,v,p,m,g,y,_,x,w,b,T,S,A,M,C,D,P,I,k;return Math.abs(s)<Qg?null:(s=1/s,a*=s,i*=s,o*=s,l=Math.sin(r),u=Math.cos(r),c=1-u,f=t[0],d=t[1],h=t[2],v=t[3],p=t[4],m=t[5],g=t[6],y=t[7],_=t[8],x=t[9],w=t[10],b=t[11],T=a*a*c+u,S=i*a*c+o*l,A=o*a*c-i*l,M=a*i*c-o*l,C=i*i*c+u,D=o*i*c+a*l,P=a*o*c+i*l,I=i*o*c-a*l,k=o*o*c+u,e[0]=f*T+p*S+_*A,e[1]=d*T+m*S+x*A,e[2]=h*T+g*S+w*A,e[3]=v*T+y*S+b*A,e[4]=f*M+p*C+_*D,e[5]=d*M+m*C+x*D,e[6]=h*M+g*C+w*D,e[7]=v*M+y*C+b*D,e[8]=f*P+p*I+_*k,e[9]=d*P+m*I+x*k,e[10]=h*P+g*I+w*k,e[11]=v*P+y*I+b*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)};br.rotateX=function(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+u*n,e[5]=o*a+c*n,e[6]=s*a+f*n,e[7]=l*a+d*n,e[8]=u*a-i*n,e[9]=c*a-o*n,e[10]=f*a-s*n,e[11]=d*a-l*n,e};br.rotateY=function(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-u*n,e[1]=o*a-c*n,e[2]=s*a-f*n,e[3]=l*a-d*n,e[8]=i*n+u*a,e[9]=o*n+c*a,e[10]=s*n+f*a,e[11]=l*n+d*a,e};br.rotateZ=function(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+u*n,e[1]=o*a+c*n,e[2]=s*a+f*n,e[3]=l*a+d*n,e[4]=u*a-i*n,e[5]=c*a-o*n,e[6]=f*a-s*n,e[7]=d*a-l*n,e};br.fromRotationTranslation=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=n+n,l=a+a,u=i+i,c=n*s,f=n*l,d=n*u,h=a*l,v=a*u,p=i*u,m=o*s,g=o*l,y=o*u;return e[0]=1-(h+p),e[1]=f+y,e[2]=d-g,e[3]=0,e[4]=f-y,e[5]=1-(c+p),e[6]=v+m,e[7]=0,e[8]=d+g,e[9]=v-m,e[10]=1-(c+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e};br.fromQuat=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,l=a+a,u=r*o,c=n*o,f=n*s,d=a*o,h=a*s,v=a*l,p=i*o,m=i*s,g=i*l;return e[0]=1-f-v,e[1]=c+g,e[2]=d-m,e[3]=0,e[4]=c-g,e[5]=1-u-v,e[6]=h+p,e[7]=0,e[8]=d+m,e[9]=h-p,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};br.frustum=function(e,t,r,n,a,i,o){var s=1/(r-t),l=1/(a-n),u=1/(i-o);return e[0]=i*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(a+n)*l,e[10]=(o+i)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*u,e[15]=0,e};br.perspective=function(e,t,r,n,a){var i=1/Math.tan(t/2),o=1/(n-a);return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*o,e[15]=0,e};br.ortho=function(e,t,r,n,a,i,o){var s=1/(t-r),l=1/(n-a),u=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(a+n)*l,e[14]=(o+i)*u,e[15]=1,e};br.lookAt=function(e,t,r,n){var a,i,o,s,l,u,c,f,d,h,v=t[0],p=t[1],m=t[2],g=n[0],y=n[1],_=n[2],x=r[0],w=r[1],b=r[2];return Math.abs(v-x)<Qg&&Math.abs(p-w)<Qg&&Math.abs(m-b)<Qg?br.identity(e):(c=v-x,f=p-w,d=m-b,h=1/Math.sqrt(c*c+f*f+d*d),c*=h,f*=h,d*=h,a=y*d-_*f,i=_*c-g*d,o=g*f-y*c,h=Math.sqrt(a*a+i*i+o*o),h?(h=1/h,a*=h,i*=h,o*=h):(a=0,i=0,o=0),s=f*o-d*i,l=d*a-c*o,u=c*i-f*a,h=Math.sqrt(s*s+l*l+u*u),h?(h=1/h,s*=h,l*=h,u*=h):(s=0,l=0,u=0),e[0]=a,e[1]=s,e[2]=c,e[3]=0,e[4]=i,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=u,e[10]=d,e[11]=0,e[12]=-(a*v+i*p+o*m),e[13]=-(s*v+l*p+u*m),e[14]=-(c*v+f*p+d*m),e[15]=1,e)};br.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};const Re=br;var it={};it.create=function(){var e=new jn(3);return e[0]=0,e[1]=0,e[2]=0,e};it.clone=function(e){var t=new jn(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};it.fromValues=function(e,t,r){var n=new jn(3);return n[0]=e,n[1]=t,n[2]=r,n};it.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e};it.set=function(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e};it.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e};it.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e};it.sub=it.subtract;it.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e};it.mul=it.multiply;it.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e};it.div=it.divide;it.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e};it.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e};it.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e};it.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e};it.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(r*r+n*n+a*a)};it.dist=it.distance;it.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a};it.sqrDist=it.squaredDistance;it.length=function(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)};it.len=it.length;it.squaredLength=function(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n};it.sqrLen=it.squaredLength;it.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e};it.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e};it.normalize=function(e,t){var r=t[0],n=t[1],a=t[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e};it.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]};it.cross=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],l=r[2];return e[0]=a*l-i*s,e[1]=i*o-n*l,e[2]=n*s-a*o,e};it.lerp=function(e,t,r,n){var a=t[0],i=t[1],o=t[2];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e};it.random=function(e,t){t=t||1;var r=Uf()*2*Math.PI,n=Uf()*2-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e};it.transformMat4=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,e[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,e[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,e};it.transformMat3=function(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=n*r[0]+a*r[3]+i*r[6],e[1]=n*r[1]+a*r[4]+i*r[7],e[2]=n*r[2]+a*r[5]+i*r[8],e};it.transformQuat=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],l=r[2],u=r[3],c=u*n+s*i-l*a,f=u*a+l*n-o*i,d=u*i+o*a-s*n,h=-o*n-s*a-l*i;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e};it.rotateX=function(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e};it.rotateY=function(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e};it.rotateZ=function(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e};it.forEach=function(){var e=it.create();return function(t,r,n,a,i,o){var s,l;for(r||(r=3),n||(n=0),a?l=Math.min(a*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();it.angle=function(e,t){var r=it.fromValues(e[0],e[1],e[2]),n=it.fromValues(t[0],t[1],t[2]);it.normalize(r,r),it.normalize(n,n);var a=it.dot(r,n);return a>1?0:Math.acos(a)};const ae=it;Pe.import(cU);var Ir=Re.create,FR={};function zR(e){return e.material}function jme(e,t,r){return t.uniforms[r].value}function qme(e,t,r,n){return r!==n}function Zme(e){return!0}function UR(){}var HR={float:ve.FLOAT,byte:ve.BYTE,ubyte:ve.UNSIGNED_BYTE,short:ve.SHORT,ushort:ve.UNSIGNED_SHORT};function Kme(e,t,r){this.availableAttributes=e,this.availableAttributeSymbols=t,this.indicesBuffer=r,this.vao=null}function Qme(e){var t,r;this.bind=function(n){t||(t=hn.createCanvas(),t.width=t.height=1,t.getContext("2d"));var a=n.gl,i=!r;i&&(r=a.createTexture()),a.bindTexture(a.TEXTURE_2D,r),i&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,t)},this.unbind=function(n){n.gl.bindTexture(n.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var Ul=Va.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window<"u"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=hn.createCanvas());var e=this.canvas;try{var t={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!this.gl)throw new Error;this._glinfo=new Ame(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(r){throw"Error creating WebGL Context "+r}this._programMgr=new oU(this),this._placeholderTexture=new Qme},{resize:function(e,t){var r=this.canvas,n=this.devicePixelRatio;e!=null?(r.style&&(r.style.width=e+"px",r.style.height=t+"px"),r.width=e*n,r.height=t*n,this._width=e,this._height=t):(this._width=r.width/n,this._height=r.height/n),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,t,r,n,a){if(typeof e=="object"){var i=e;e=i.x,t=i.y,r=i.width,n=i.height,a=i.devicePixelRatio}a=a||this.devicePixelRatio,this.gl.viewport(e*a,t*a,r*a,n*a),this.viewport={x:e,y:t,width:r,height:n,devicePixelRatio:a}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,t,r,n){var a=this.gl,i=this.clearColor;if(this.clearBit){a.colorMask(!0,!0,!0,!0),a.depthMask(!0);var o=this.viewport,s=!1,l=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||l&&l!==this.devicePixelRatio||o.x||o.y)&&(s=!0,a.enable(a.SCISSOR_TEST),a.scissor(o.x*l,o.y*l,o.width*l,o.height*l)),a.clearColor(i[0],i[1],i[2],i[3]),a.clear(this.clearBit),s&&a.disable(a.SCISSOR_TEST)}if(r||e.update(!1),e.updateLights(),t=t||e.getMainCamera(),!t){console.error("Can't find camera in the scene.");return}t.update();var u=e.updateRenderList(t,!0);this._sceneRendering=e;var c=u.opaque,f=u.transparent,d=e.material;e.trigger("beforerender",this,e,t,u),n?(this.renderPreZ(c,e,t),a.depthFunc(a.LEQUAL)):a.depthFunc(a.LESS);for(var h=Ir(),v=ae.create(),p=0;p<f.length;p++){var m=f[p];Re.multiplyAffine(h,t.viewMatrix.array,m.worldTransform.array),ae.transformMat4(v,m.position.array,h),m.__depth=v[2]}this.renderPass(c,t,{getMaterial:function(g){return d||g.material},sortCompare:this.opaqueSortCompare}),this.renderPass(f,t,{getMaterial:function(g){return d||g.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,t,u),this._sceneRendering=null},getProgram:function(e,t,r){return t=t||e.material,this._programMgr.getProgram(e,t,r)},validateProgram:function(e){if(e.__error){var t=e.__error;if(FR[e.__uid__])return;if(FR[e.__uid__]=!0,this.throwError)throw new Error(t);this.trigger("error",t)}},updatePrograms:function(e,t,r){var n=r&&r.getMaterial||zR;t=t||null;for(var a=0;a<e.length;a++){var i=e[a],o=n.call(this,i);if(a>0){var s=e[a-1],l=s.joints?s.joints.length:0,u=i.joints?i.joints.length:0;if(u===l&&i.material===s.material&&i.lightGroup===s.lightGroup){i.__program=s.__program;continue}}var c=this._programMgr.getProgram(i,o,t);this.validateProgram(c),i.__program=c}},renderPass:function(e,t,r){this.trigger("beforerenderpass",this,e,t,r),r=r||{},r.getMaterial=r.getMaterial||zR,r.getUniform=r.getUniform||jme,r.isMaterialChanged=r.isMaterialChanged||qme,r.beforeRender=r.beforeRender||UR,r.afterRender=r.afterRender||UR;var n=r.ifRender||Zme;this.updatePrograms(e,this._sceneRendering,r),r.sortCompare&&e.sort(r.sortCompare);var a=this.viewport,i=a.devicePixelRatio,o=[a.x*i,a.y*i,a.width*i,a.height*i],s=this.devicePixelRatio,l=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],u=[o[2],o[3]],c=Date.now();t?(Re.copy(Lr.VIEW,t.viewMatrix.array),Re.copy(Lr.PROJECTION,t.projectionMatrix.array),Re.copy(Lr.VIEWINVERSE,t.worldTransform.array)):(Re.identity(Lr.VIEW),Re.identity(Lr.PROJECTION),Re.identity(Lr.VIEWINVERSE)),Re.multiply(Lr.VIEWPROJECTION,Lr.PROJECTION,Lr.VIEW),Re.invert(Lr.PROJECTIONINVERSE,Lr.PROJECTION),Re.invert(Lr.VIEWPROJECTIONINVERSE,Lr.VIEWPROJECTION);for(var f=this.gl,d=this._sceneRendering,h,v,p,m,g,y,_,x,w,b,T,S,A=null,M=0;M<e.length;M++){var C=e[M],D=C.worldTransform!=null,P;if(n(C)){D&&(P=C.isSkinnedMesh&&C.isSkinnedMesh()?C.offsetMatrix?C.offsetMatrix.array:Lr.IDENTITY:C.worldTransform.array);var I=C.geometry,k=r.getMaterial.call(this,C),V=C.__program,H=k.shader,O=I.__uid__+"-"+V.__uid__,L=O!==b;b=O,L&&A&&A.bindVertexArrayOES(null),D&&(Re.copy(Lr.WORLD,P),Re.multiply(Lr.WORLDVIEWPROJECTION,Lr.VIEWPROJECTION,P),Re.multiplyAffine(Lr.WORLDVIEW,Lr.VIEW,P),(H.matrixSemantics.WORLDINVERSE||H.matrixSemantics.WORLDINVERSETRANSPOSE)&&Re.invert(Lr.WORLDINVERSE,P),(H.matrixSemantics.WORLDVIEWINVERSE||H.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&Re.invert(Lr.WORLDVIEWINVERSE,Lr.WORLDVIEW),(H.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||H.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&Re.invert(Lr.WORLDVIEWPROJECTIONINVERSE,Lr.WORLDVIEWPROJECTION)),C.beforeRender&&C.beforeRender(this),r.beforeRender.call(this,C,k,h);var F=V!==v;F?(V.bind(this),V.setUniformOfSemantic(f,"VIEWPORT",o),V.setUniformOfSemantic(f,"WINDOW_SIZE",l),t&&(V.setUniformOfSemantic(f,"NEAR",t.near),V.setUniformOfSemantic(f,"FAR",t.far)),V.setUniformOfSemantic(f,"DEVICEPIXELRATIO",i),V.setUniformOfSemantic(f,"TIME",c),V.setUniformOfSemantic(f,"VIEWPORT_SIZE",u),d&&d.setLightUniforms(V,C.lightGroup,this)):V=v,(F||r.isMaterialChanged(C,p,k,h))&&(k.depthTest!==m&&(k.depthTest?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),m=k.depthTest),k.depthMask!==g&&(f.depthMask(k.depthMask),g=k.depthMask),k.transparent!==w&&(k.transparent?f.enable(f.BLEND):f.disable(f.BLEND),w=k.transparent),k.transparent&&(k.blend?k.blend(f):(f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA))),S=this._bindMaterial(C,k,V,p||null,h||null,v||null,r.getUniform),h=k);var X=H.matrixSemanticKeys;if(D)for(var Y=0;Y<X.length;Y++){var G=X[Y],z=H.matrixSemantics[G],N=Lr[G];if(z.isTranspose){var U=Lr[z.semanticNoTranspose];Re.transpose(N,U)}V.setUniform(f,z.type,z.symbol,N)}C.cullFace!==_&&(_=C.cullFace,f.cullFace(_)),C.frontFace!==x&&(x=C.frontFace,f.frontFace(x)),C.culling!==y&&(y=C.culling,y?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE)),this._updateSkeleton(C,V,S),L&&(T=this._bindVAO(A,H,I,V)),this._renderObject(C,T,V),r.afterRender(this,C),C.afterRender&&C.afterRender(this),v=V,p=C}}this.trigger("afterrenderpass",this,e,t,r)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,t,r){var n=this.gl,a=e.skeleton;if(a)if(a.update(),e.joints.length>this.getMaxJointNumber()){var i=a.getSubSkinMatricesTexture(e.__uid__,e.joints);t.useTextureSlot(this,i,r),t.setUniform(n,"1i","skinMatricesTexture",r),t.setUniform(n,"1f","skinMatricesTextureSize",i.width)}else{var o=a.getSubSkinMatrices(e.__uid__,e.joints);t.setUniformOfSemantic(n,"SKIN_MATRIX",o)}},_renderObject:function(e,t,r){var n=this.gl,a=e.geometry,i=e.mode;i==null&&(i=4);var o=null,s=e.isInstancedMesh&&e.isInstancedMesh();if(s&&(o=this.getGLExtension("ANGLE_instanced_arrays"),!o)){console.warn("Device not support ANGLE_instanced_arrays extension");return}var l;if(s&&(l=this._bindInstancedAttributes(e,r,o)),t.indicesBuffer){var u=this.getGLExtension("OES_element_index_uint"),c=u&&a.indices instanceof Uint32Array,f=c?n.UNSIGNED_INT:n.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(i,t.indicesBuffer.count,f,0,e.getInstanceCount()):n.drawElements(i,t.indicesBuffer.count,f,0)}else s?o.drawArraysInstancedANGLE(i,0,a.vertexCount,e.getInstanceCount()):n.drawArrays(i,0,a.vertexCount);if(s)for(var d=0;d<l.length;d++)n.disableVertexAttribArray(l[d])},_bindInstancedAttributes:function(e,t,r){for(var n=this.gl,a=e.getInstancedAttributesBuffers(this),i=[],o=0;o<a.length;o++){var s=a[o],l=t.getAttribLocation(n,s.symbol);if(!(l<0)){var u=HR[s.type]||n.FLOAT;n.enableVertexAttribArray(l),n.bindBuffer(n.ARRAY_BUFFER,s.buffer),n.vertexAttribPointer(l,s.size,u,!1,0,0),r.vertexAttribDivisorANGLE(l,s.divisor),i.push(l)}}return i},_bindMaterial:function(e,t,r,n,a,i,o){for(var s=this.gl,l=i===r,u=r.currentTextureSlot(),c=t.getEnabledUniforms(),f=t.getTextureUniforms(),d=this._placeholderTexture,h=0;h<f.length;h++){var v=f[h],p=o(e,t,v),m=t.uniforms[v].type;if(m==="t"&&p)p.__slot=-1;else if(m==="tv")for(var g=0;g<p.length;g++)p[g]&&(p[g].__slot=-1)}d.__slot=-1;for(var h=0;h<c.length;h++){var v=c[h],y=t.uniforms[v],p=o(e,t,v),m=y.type,_=m==="t";if(_&&(!p||!p.isRenderable())&&(p=d),a&&l){var x=o(n,a,v);if(_&&(!x||!x.isRenderable())&&(x=d),x===p){if(_)r.takeCurrentTextureSlot(this,null);else if(m==="tv"&&p)for(var g=0;g<p.length;g++)r.takeCurrentTextureSlot(this,null);continue}}if(p!=null)if(_)if(p.__slot<0){var w=r.currentTextureSlot(),b=r.setUniform(s,"1i",v,w);b&&(r.takeCurrentTextureSlot(this,p),p.__slot=w)}else r.setUniform(s,"1i",v,p.__slot);else if(Array.isArray(p)){if(p.length===0)continue;if(m==="tv"){if(!r.hasUniform(v))continue;for(var T=[],g=0;g<p.length;g++){var S=p[g];if(S.__slot<0){var w=r.currentTextureSlot();T.push(w),r.takeCurrentTextureSlot(this,S),S.__slot=w}else T.push(S.__slot)}r.setUniform(s,"1iv",v,T)}else r.setUniform(s,y.type,v,p)}else r.setUniform(s,y.type,v,p)}var A=r.currentTextureSlot();return r.resetTextureSlot(u),A},_bindVAO:function(e,t,r,n){var a=!r.dynamic,i=this.gl,o=this.__uid__+"-"+n.__uid__,s=r.__vaoCache[o];if(!s){var l=r.getBufferChunks(this);if(!l||!l.length)return;for(var u=l[0],c=u.attributeBuffers,x=u.indicesBuffer,_=[],f=[],d=0;d<c.length;d++){var h=c[d],v=h.name,p=h.semantic,m;if(p){var g=t.attributeSemantics[p];m=g&&g.symbol}else m=v;m&&n.attributes[m]&&(_.push(h),f.push(m))}s=new Kme(_,f,x),a&&(r.__vaoCache[o]=s)}var y=!0;e&&a&&(s.vao==null?s.vao=e.createVertexArrayOES():y=!1,e.bindVertexArrayOES(s.vao));var _=s.availableAttributes,x=s.indicesBuffer;if(y){for(var w=n.enableAttributes(this,s.availableAttributeSymbols,e&&a&&s),d=0;d<_.length;d++){var b=w[d];if(b!==-1){var h=_[d],T=h.buffer,S=h.size,A=HR[h.type]||i.FLOAT;i.bindBuffer(i.ARRAY_BUFFER,T),i.vertexAttribPointer(b,S,A,!1,0,0)}}r.isUseIndices()&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,x.buffer)}return s},renderPreZ:function(e,t,r){var n=this.gl,a=this._prezMaterial||new Ui({shader:new Pe(Pe.source("clay.prez.vertex"),Pe.source("clay.prez.fragment"))});this._prezMaterial=a,n.colorMask(!1,!1,!1,!1),n.depthMask(!0),this.renderPass(e,r,{ifRender:function(i){return!i.ignorePreZ},isMaterialChanged:function(i,o){var s=i.material,l=o.material;return s.get("diffuseMap")!==l.get("diffuseMap")||(s.get("alphaCutoff")||0)!==(l.get("alphaCutoff")||0)},getUniform:function(i,o,s){if(s==="alphaMap")return i.material.get("diffuseMap");if(s==="alphaCutoff"){if(i.material.isDefined("fragment","ALPHA_TEST")&&i.material.get("diffuseMap")){var l=i.material.get("alphaCutoff");return l||0}return 0}else return s==="uvRepeat"?i.material.get("uvRepeat"):s==="uvOffset"?i.material.get("uvOffset"):o.get(s)},getMaterial:function(){return a},sort:this.opaqueSortCompare}),n.colorMask(!0,!0,!0,!0),n.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,t,r){e.getParent()&&e.getParent().remove(e);var n={};e.traverse(function(a){var i=a.material;if(a.geometry&&t&&a.geometry.dispose(this),r&&i&&!n[i.__uid__]){for(var o=i.getTextureUniforms(),s=0;s<o.length;s++){var l=o[s],u=i.uniforms[l].value,c=i.uniforms[l].type;if(u){if(c==="t")u.dispose&&u.dispose(this);else if(c==="tv")for(var f=0;f<u.length;f++)u[f]&&u[f].dispose&&u[f].dispose(this)}}n[i.__uid__]=!0}a.dispose&&a.dispose(this)},this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,t,r){r||(r=new ni),t=this._height-t;var n=this.viewport,a=r.array;return a[0]=(e-n.x)/n.width,a[0]=a[0]*2-1,a[1]=(t-n.y)/n.height,a[1]=a[1]*2-1,r}});Ul.opaqueSortCompare=Ul.prototype.opaqueSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.renderOrder-t.renderOrder};Ul.transparentSortCompare=Ul.prototype.transparentSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__depth===t.__depth?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.__depth-t.__depth:e.renderOrder-t.renderOrder};var Lr={IDENTITY:Ir(),WORLD:Ir(),VIEW:Ir(),PROJECTION:Ir(),WORLDVIEW:Ir(),VIEWPROJECTION:Ir(),WORLDVIEWPROJECTION:Ir(),WORLDINVERSE:Ir(),VIEWINVERSE:Ir(),PROJECTIONINVERSE:Ir(),WORLDVIEWINVERSE:Ir(),VIEWPROJECTIONINVERSE:Ir(),WORLDVIEWPROJECTIONINVERSE:Ir(),WORLDTRANSPOSE:Ir(),VIEWTRANSPOSE:Ir(),PROJECTIONTRANSPOSE:Ir(),WORLDVIEWTRANSPOSE:Ir(),VIEWPROJECTIONTRANSPOSE:Ir(),WORLDVIEWPROJECTIONTRANSPOSE:Ir(),WORLDINVERSETRANSPOSE:Ir(),VIEWINVERSETRANSPOSE:Ir(),PROJECTIONINVERSETRANSPOSE:Ir(),WORLDVIEWINVERSETRANSPOSE:Ir(),VIEWPROJECTIONINVERSETRANSPOSE:Ir(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:Ir()};Ul.COLOR_BUFFER_BIT=ve.COLOR_BUFFER_BIT;Ul.DEPTH_BUFFER_BIT=ve.DEPTH_BUFFER_BIT;Ul.STENCIL_BUFFER_BIT=ve.STENCIL_BUFFER_BIT;const Pv=Ul;var at=function(e,t,r){e=e||0,t=t||0,r=r||0,this.array=ae.fromValues(e,t,r),this._dirty=!0};at.prototype={constructor:at,add:function(e){return ae.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,r){return this.array[0]=e,this.array[1]=t,this.array[2]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new at(this.x,this.y,this.z)},copy:function(e){return ae.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return ae.cross(this.array,e.array,t.array),this._dirty=!0,this},dist:function(e){return ae.dist(this.array,e.array)},distance:function(e){return ae.distance(this.array,e.array)},div:function(e){return ae.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return ae.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return ae.dot(this.array,e.array)},len:function(){return ae.len(this.array)},length:function(){return ae.length(this.array)},lerp:function(e,t,r){return ae.lerp(this.array,e.array,t.array,r),this._dirty=!0,this},min:function(e){return ae.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return ae.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return ae.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return ae.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return ae.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return ae.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return ae.random(this.array,e),this._dirty=!0,this},scale:function(e){return ae.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return ae.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return ae.sqrDist(this.array,e.array)},squaredDistance:function(e){return ae.squaredDistance(this.array,e.array)},sqrLen:function(){return ae.sqrLen(this.array)},squaredLength:function(){return ae.squaredLength(this.array)},sub:function(e){return ae.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return ae.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return ae.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return ae.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return ae.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var t=this.array;if(e=e.array,e[15]===0){var r=-1/t[2];t[0]=e[0]*t[0]*r,t[1]=e[5]*t[1]*r,t[2]=(e[10]*t[2]+e[14])*r}else t[0]=e[0]*t[0]+e[12],t[1]=e[5]*t[1]+e[13],t[2]=e[10]*t[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,t){at.eulerFromQuat(this,e,t)},eulerFromMat3:function(e,t){at.eulerFromMat3(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var hg=Object.defineProperty;if(hg){var bb=at.prototype;hg(bb,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),hg(bb,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),hg(bb,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}at.add=function(e,t,r){return ae.add(e.array,t.array,r.array),e._dirty=!0,e};at.set=function(e,t,r,n){ae.set(e.array,t,r,n),e._dirty=!0};at.copy=function(e,t){return ae.copy(e.array,t.array),e._dirty=!0,e};at.cross=function(e,t,r){return ae.cross(e.array,t.array,r.array),e._dirty=!0,e};at.dist=function(e,t){return ae.distance(e.array,t.array)};at.distance=at.dist;at.div=function(e,t,r){return ae.divide(e.array,t.array,r.array),e._dirty=!0,e};at.divide=at.div;at.dot=function(e,t){return ae.dot(e.array,t.array)};at.len=function(e){return ae.length(e.array)};at.lerp=function(e,t,r,n){return ae.lerp(e.array,t.array,r.array,n),e._dirty=!0,e};at.min=function(e,t,r){return ae.min(e.array,t.array,r.array),e._dirty=!0,e};at.max=function(e,t,r){return ae.max(e.array,t.array,r.array),e._dirty=!0,e};at.mul=function(e,t,r){return ae.multiply(e.array,t.array,r.array),e._dirty=!0,e};at.multiply=at.mul;at.negate=function(e,t){return ae.negate(e.array,t.array),e._dirty=!0,e};at.normalize=function(e,t){return ae.normalize(e.array,t.array),e._dirty=!0,e};at.random=function(e,t){return ae.random(e.array,t),e._dirty=!0,e};at.scale=function(e,t,r){return ae.scale(e.array,t.array,r),e._dirty=!0,e};at.scaleAndAdd=function(e,t,r,n){return ae.scaleAndAdd(e.array,t.array,r.array,n),e._dirty=!0,e};at.sqrDist=function(e,t){return ae.sqrDist(e.array,t.array)};at.squaredDistance=at.sqrDist;at.sqrLen=function(e){return ae.sqrLen(e.array)};at.squaredLength=at.sqrLen;at.sub=function(e,t,r){return ae.subtract(e.array,t.array,r.array),e._dirty=!0,e};at.subtract=at.sub;at.transformMat3=function(e,t,r){return ae.transformMat3(e.array,t.array,r.array),e._dirty=!0,e};at.transformMat4=function(e,t,r){return ae.transformMat4(e.array,t.array,r.array),e._dirty=!0,e};at.transformQuat=function(e,t,r){return ae.transformQuat(e.array,t.array,r.array),e._dirty=!0,e};function Pi(e,t,r){return e<t?t:e>r?r:e}var hr=Math.atan2,Li=Math.asin,Cf=Math.abs;at.eulerFromQuat=function(e,t,d){e._dirty=!0,t=t.array;var n=e.array,a=t[0],i=t[1],o=t[2],s=t[3],l=a*a,u=i*i,c=o*o,f=s*s,d=(d||"XYZ").toUpperCase();switch(d){case"XYZ":n[0]=hr(2*(a*s-i*o),f-l-u+c),n[1]=Li(Pi(2*(a*o+i*s),-1,1)),n[2]=hr(2*(o*s-a*i),f+l-u-c);break;case"YXZ":n[0]=Li(Pi(2*(a*s-i*o),-1,1)),n[1]=hr(2*(a*o+i*s),f-l-u+c),n[2]=hr(2*(a*i+o*s),f-l+u-c);break;case"ZXY":n[0]=Li(Pi(2*(a*s+i*o),-1,1)),n[1]=hr(2*(i*s-o*a),f-l-u+c),n[2]=hr(2*(o*s-a*i),f-l+u-c);break;case"ZYX":n[0]=hr(2*(a*s+o*i),f-l-u+c),n[1]=Li(Pi(2*(i*s-a*o),-1,1)),n[2]=hr(2*(a*i+o*s),f+l-u-c);break;case"YZX":n[0]=hr(2*(a*s-o*i),f-l+u-c),n[1]=hr(2*(i*s-a*o),f+l-u-c),n[2]=Li(Pi(2*(a*i+o*s),-1,1));break;case"XZY":n[0]=hr(2*(a*s+i*o),f-l+u-c),n[1]=hr(2*(a*o+i*s),f+l-u-c),n[2]=Li(Pi(2*(o*s-a*i),-1,1));break;default:console.warn("Unkown order: "+d)}return e};at.eulerFromMat3=function(e,t,v){var n=t.array,a=n[0],i=n[3],o=n[6],s=n[1],l=n[4],u=n[7],c=n[2],f=n[5],d=n[8],h=e.array,v=(v||"XYZ").toUpperCase();switch(v){case"XYZ":h[1]=Li(Pi(o,-1,1)),Cf(o)<.99999?(h[0]=hr(-u,d),h[2]=hr(-i,a)):(h[0]=hr(f,l),h[2]=0);break;case"YXZ":h[0]=Li(-Pi(u,-1,1)),Cf(u)<.99999?(h[1]=hr(o,d),h[2]=hr(s,l)):(h[1]=hr(-c,a),h[2]=0);break;case"ZXY":h[0]=Li(Pi(f,-1,1)),Cf(f)<.99999?(h[1]=hr(-c,d),h[2]=hr(-i,l)):(h[1]=0,h[2]=hr(s,a));break;case"ZYX":h[1]=Li(-Pi(c,-1,1)),Cf(c)<.99999?(h[0]=hr(f,d),h[2]=hr(s,a)):(h[0]=0,h[2]=hr(-i,l));break;case"YZX":h[2]=Li(Pi(s,-1,1)),Cf(s)<.99999?(h[0]=hr(-u,l),h[1]=hr(-c,a)):(h[0]=0,h[1]=hr(o,d));break;case"XZY":h[2]=Li(-Pi(i,-1,1)),Cf(i)<.99999?(h[0]=hr(f,l),h[1]=hr(o,a)):(h[0]=hr(-u,d),h[1]=0);break;default:console.warn("Unkown order: "+v)}return e._dirty=!0,e};Object.defineProperties(at,{POSITIVE_X:{get:function(){return new at(1,0,0)}},NEGATIVE_X:{get:function(){return new at(-1,0,0)}},POSITIVE_Y:{get:function(){return new at(0,1,0)}},NEGATIVE_Y:{get:function(){return new at(0,-1,0)}},POSITIVE_Z:{get:function(){return new at(0,0,1)}},NEGATIVE_Z:{get:function(){return new at(0,0,-1)}},UP:{get:function(){return new at(0,1,0)}},ZERO:{get:function(){return new at}}});const ke=at;var wb=1e-5,Jg=function(e,t){this.origin=e||new ke,this.direction=t||new ke};Jg.prototype={constructor:Jg,intersectPlane:function(e,t){var r=e.normal.array,n=e.distance,a=this.origin.array,i=this.direction.array,o=ae.dot(r,i);if(o===0)return null;t||(t=new ke);var s=(ae.dot(r,a)-n)/o;return ae.scaleAndAdd(t.array,a,i,-s),t._dirty=!0,t},mirrorAgainstPlane:function(e){var t=ae.dot(e.normal.array,this.direction.array);ae.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,-t*2),this.direction._dirty=!0},distanceToPoint:function(){var e=ae.create();return function(t){ae.sub(e,t,this.origin.array);var r=ae.dot(e,this.direction.array);if(r<0)return ae.distance(this.origin.array,t);var n=ae.lenSquared(e);return Math.sqrt(n-r*r)}}(),intersectSphere:function(){var e=ae.create();return function(t,r,n){var a=this.origin.array,i=this.direction.array;t=t.array,ae.sub(e,t,a);var o=ae.dot(e,i),s=ae.squaredLength(e),l=s-o*o,u=r*r;if(!(l>u)){var c=Math.sqrt(u-l),f=o-c,d=o+c;return n||(n=new ke),f<0?d<0?null:(ae.scaleAndAdd(n.array,a,i,d),n):(ae.scaleAndAdd(n.array,a,i,f),n)}}}(),intersectBoundingBox:function(e,t){var r=this.direction.array,n=this.origin.array,a=e.min.array,i=e.max.array,o=1/r[0],s=1/r[1],l=1/r[2],u,c,f,d,h,v;if(o>=0?(u=(a[0]-n[0])*o,c=(i[0]-n[0])*o):(c=(a[0]-n[0])*o,u=(i[0]-n[0])*o),s>=0?(f=(a[1]-n[1])*s,d=(i[1]-n[1])*s):(d=(a[1]-n[1])*s,f=(i[1]-n[1])*s),u>d||f>c||((f>u||u!==u)&&(u=f),(d<c||c!==c)&&(c=d),l>=0?(h=(a[2]-n[2])*l,v=(i[2]-n[2])*l):(v=(a[2]-n[2])*l,h=(i[2]-n[2])*l),u>v||h>c)||((h>u||u!==u)&&(u=h),(v<c||c!==c)&&(c=v),c<0))return null;var p=u>=0?u:c;return t||(t=new ke),ae.scaleAndAdd(t.array,n,r,p),t},intersectTriangle:function(){var e=ae.create(),t=ae.create(),r=ae.create(),n=ae.create();return function(a,i,o,s,l,u){var c=this.direction.array,f=this.origin.array;a=a.array,i=i.array,o=o.array,ae.sub(e,i,a),ae.sub(t,o,a),ae.cross(n,t,c);var d=ae.dot(e,n);if(s){if(d>-wb)return null}else if(d>-wb&&d<wb)return null;ae.sub(r,f,a);var h=ae.dot(n,r)/d;if(h<0||h>1)return null;ae.cross(n,e,r);var v=ae.dot(c,n)/d;if(v<0||v>1||h+v>1)return null;ae.cross(n,e,t);var p=-ae.dot(r,n)/d;return p<0?null:(l||(l=new ke),u&&ke.set(u,1-h-v,h,v),ae.scaleAndAdd(l.array,f,c,p),l)}}(),applyTransform:function(e){ke.add(this.direction,this.direction,this.origin),ke.transformMat4(this.origin,this.origin,e),ke.transformMat4(this.direction,this.direction,e),ke.sub(this.direction,this.direction,this.origin),ke.normalize(this.direction,this.direction)},copy:function(e){ke.copy(this.origin,e.origin),ke.copy(this.direction,e.direction)},clone:function(){var e=new Jg;return e.copy(this),e}};const s0=Jg;var wt={};wt.create=function(){var e=new jn(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e};wt.clone=function(e){var t=new jn(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};wt.fromValues=function(e,t,r,n){var a=new jn(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a};wt.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e};wt.set=function(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e};wt.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e};wt.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e};wt.sub=wt.subtract;wt.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e};wt.mul=wt.multiply;wt.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e};wt.div=wt.divide;wt.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e};wt.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e};wt.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e};wt.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e};wt.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(r*r+n*n+a*a+i*i)};wt.dist=wt.distance;wt.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+a*a+i*i};wt.sqrDist=wt.squaredDistance;wt.length=function(e){var t=e[0],r=e[1],n=e[2],a=e[3];return Math.sqrt(t*t+r*r+n*n+a*a)};wt.len=wt.length;wt.squaredLength=function(e){var t=e[0],r=e[1],n=e[2],a=e[3];return t*t+r*r+n*n+a*a};wt.sqrLen=wt.squaredLength;wt.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e};wt.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e};wt.normalize=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o),e};wt.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]};wt.lerp=function(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e};wt.random=function(e,t){return t=t||1,e[0]=Uf(),e[1]=Uf(),e[2]=Uf(),e[3]=Uf(),wt.normalize(e,e),wt.scale(e,e,t),e};wt.transformMat4=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,e};wt.transformQuat=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],l=r[2],u=r[3],c=u*n+s*i-l*a,f=u*a+l*n-o*i,d=u*i+o*a-s*n,h=-o*n-s*a-l*i;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e};wt.forEach=function(){var e=wt.create();return function(t,r,n,a,i,o){var s,l;for(r||(r=4),n||(n=0),a?l=Math.min(a*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();const Ue=wt;var Dn={};Dn.create=function(){var e=new jn(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e};Dn.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e};Dn.clone=function(e){var t=new jn(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t};Dn.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};Dn.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e};Dn.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e};Dn.invert=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,d=-c*i+s*l,h=u*i-o*l,v=r*f+n*d+a*h;return v?(v=1/v,e[0]=f*v,e[1]=(-c*n+a*u)*v,e[2]=(s*n-a*o)*v,e[3]=d*v,e[4]=(c*r-a*l)*v,e[5]=(-s*r+a*i)*v,e[6]=h*v,e[7]=(-u*r+n*l)*v,e[8]=(o*r-n*i)*v,e):null};Dn.adjoint=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=a*u-n*c,e[2]=n*s-a*o,e[3]=s*l-i*c,e[4]=r*c-a*l,e[5]=a*i-r*s,e[6]=i*u-o*l,e[7]=n*l-r*u,e[8]=r*o-n*i,e};Dn.determinant=function(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*i-o*l)+r*(-u*a+o*s)+n*(l*a-i*s)};Dn.multiply=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1],v=r[2],p=r[3],m=r[4],g=r[5],y=r[6],_=r[7],x=r[8];return e[0]=d*n+h*o+v*u,e[1]=d*a+h*s+v*c,e[2]=d*i+h*l+v*f,e[3]=p*n+m*o+g*u,e[4]=p*a+m*s+g*c,e[5]=p*i+m*l+g*f,e[6]=y*n+_*o+x*u,e[7]=y*a+_*s+x*c,e[8]=y*i+_*l+x*f,e};Dn.mul=Dn.multiply;Dn.translate=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=d*n+h*o+u,e[7]=d*a+h*s+c,e[8]=d*i+h*l+f,e};Dn.rotate=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*n+d*o,e[1]=h*a+d*s,e[2]=h*i+d*l,e[3]=h*o-d*n,e[4]=h*s-d*a,e[5]=h*l-d*i,e[6]=u,e[7]=c,e[8]=f,e};Dn.scale=function(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};Dn.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e};Dn.fromQuat=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,l=a+a,u=r*o,c=n*o,f=n*s,d=a*o,h=a*s,v=a*l,p=i*o,m=i*s,g=i*l;return e[0]=1-f-v,e[3]=c-g,e[6]=d+m,e[1]=c+g,e[4]=1-u-v,e[7]=h-p,e[2]=d-m,e[5]=h+p,e[8]=1-u-f,e};Dn.normalFromMat4=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15],y=r*s-n*o,_=r*l-a*o,x=r*u-i*o,w=n*l-a*s,b=n*u-i*s,T=a*u-i*l,S=c*p-f*v,A=c*m-d*v,M=c*g-h*v,C=f*m-d*p,D=f*g-h*p,P=d*g-h*m,I=y*P-_*D+x*C+w*M-b*A+T*S;return I?(I=1/I,e[0]=(s*P-l*D+u*C)*I,e[1]=(l*M-o*P-u*A)*I,e[2]=(o*D-s*M+u*S)*I,e[3]=(a*D-n*P-i*C)*I,e[4]=(r*P-a*M+i*A)*I,e[5]=(n*M-r*D-i*S)*I,e[6]=(p*T-m*b+g*w)*I,e[7]=(m*x-v*T-g*_)*I,e[8]=(v*b-p*x+g*y)*I,e):null};Dn.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};const It=Dn;var Ht={};Ht.create=function(){var e=new jn(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e};Ht.rotationTo=function(){var e=ae.create(),t=ae.fromValues(1,0,0),r=ae.fromValues(0,1,0);return function(n,a,i){var o=ae.dot(a,i);return o<-.999999?(ae.cross(e,t,a),ae.length(e)<1e-6&&ae.cross(e,r,a),ae.normalize(e,e),Ht.setAxisAngle(n,e,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(ae.cross(e,a,i),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+o,Ht.normalize(n,n))}}();Ht.setAxes=function(){var e=It.create();return function(t,r,n,a){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],Ht.normalize(t,Ht.fromMat3(t,e))}}();Ht.clone=Ue.clone;Ht.fromValues=Ue.fromValues;Ht.copy=Ue.copy;Ht.set=Ue.set;Ht.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e};Ht.setAxisAngle=function(e,t,r){r=r*.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e};Ht.add=Ue.add;Ht.multiply=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*c+o*s+a*u-i*l,e[1]=a*c+o*l+i*s-n*u,e[2]=i*c+o*u+n*l-a*s,e[3]=o*c-n*s-a*l-i*u,e};Ht.mul=Ht.multiply;Ht.scale=Ue.scale;Ht.rotateX=function(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+o*s,e[1]=a*l+i*s,e[2]=i*l-a*s,e[3]=o*l-n*s,e};Ht.rotateY=function(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l-i*s,e[1]=a*l+o*s,e[2]=i*l+n*s,e[3]=o*l-a*s,e};Ht.rotateZ=function(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*s,e[1]=a*l-n*s,e[2]=i*l+o*s,e[3]=o*l-i*s,e};Ht.calculateW=function(e,t){var r=t[0],n=t[1],a=t[2];return e[0]=r,e[1]=n,e[2]=a,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),e};Ht.dot=Ue.dot;Ht.lerp=Ue.lerp;Ht.slerp=function(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3],l=r[0],u=r[1],c=r[2],f=r[3],d,h,v,p,m;return h=a*l+i*u+o*c+s*f,h<0&&(h=-h,l=-l,u=-u,c=-c,f=-f),1-h>1e-6?(d=Math.acos(h),v=Math.sin(d),p=Math.sin((1-n)*d)/v,m=Math.sin(n*d)/v):(p=1-n,m=n),e[0]=p*a+m*l,e[1]=p*i+m*u,e[2]=p*o+m*c,e[3]=p*s+m*f,e};Ht.invert=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i,s=o?1/o:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-a*s,e[3]=i*s,e};Ht.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e};Ht.length=Ue.length;Ht.len=Ht.length;Ht.squaredLength=Ue.squaredLength;Ht.sqrLen=Ht.squaredLength;Ht.normalize=Ue.normalize;Ht.fromMat3=function(e,t){var r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[a*3+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(t[a*3+a]-t[i*3+i]-t[o*3+o]+1),e[a]=.5*n,n=.5/n,e[3]=(t[i*3+o]-t[o*3+i])*n,e[i]=(t[i*3+a]+t[a*3+i])*n,e[o]=(t[o*3+a]+t[a*3+o])*n}return e};const ct=Ht;var Mr=function(){this._axisX=new ke,this._axisY=new ke,this._axisZ=new ke,this.array=Re.create(),this._dirty=!0};Mr.prototype={constructor:Mr,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return Re.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new Mr().copy(this)},copy:function(e){return Re.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Re.determinant(this.array)},fromQuat:function(e){return Re.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,t){return Re.fromRotationTranslation(this.array,e.array,t.array),this._dirty=!0,this},fromMat2d:function(e){return Mr.fromMat2d(this,e),this},frustum:function(e,t,r,n,a,i){return Re.frustum(this.array,e,t,r,n,a,i),this._dirty=!0,this},identity:function(){return Re.identity(this.array),this._dirty=!0,this},invert:function(){return Re.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,t,r){return Re.lookAt(this.array,e.array,t.array,r.array),this._dirty=!0,this},mul:function(e){return Re.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Re.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Re.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Re.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,t,r,n,a,i){return Re.ortho(this.array,e,t,r,n,a,i),this._dirty=!0,this},perspective:function(e,t,r,n){return Re.perspective(this.array,e,t,r,n),this._dirty=!0,this},rotate:function(e,t){return Re.rotate(this.array,this.array,e,t.array),this._dirty=!0,this},rotateX:function(e){return Re.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return Re.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return Re.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Re.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Re.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return Re.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=ae.create(),t=ae.create(),r=ae.create(),n=It.create();return function(a,i,o){var s=this.array;ae.set(e,s[0],s[1],s[2]),ae.set(t,s[4],s[5],s[6]),ae.set(r,s[8],s[9],s[10]);var l=ae.length(e),u=ae.length(t),c=ae.length(r),f=this.determinant();f<0&&(l=-l),a&&a.set(l,u,c),o.set(s[12],s[13],s[14]),It.fromMat4(n,s),n[0]/=l,n[1]/=l,n[2]/=l,n[3]/=u,n[4]/=u,n[5]/=u,n[6]/=c,n[7]/=c,n[8]/=c,ct.fromMat3(i.array,n),ct.normalize(i.array,i.array),i._dirty=!0,o._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var vg=Object.defineProperty;if(vg){var Sb=Mr.prototype;vg(Sb,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var t=this.array;e=e.array,t[8]=e[0],t[9]=e[1],t[10]=e[2],this._dirty=!0}}),vg(Sb,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var t=this.array;e=e.array,t[4]=e[0],t[5]=e[1],t[6]=e[2],this._dirty=!0}}),vg(Sb,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var t=this.array;e=e.array,t[0]=e[0],t[1]=e[1],t[2]=e[2],this._dirty=!0}})}Mr.adjoint=function(e,t){return Re.adjoint(e.array,t.array),e._dirty=!0,e};Mr.copy=function(e,t){return Re.copy(e.array,t.array),e._dirty=!0,e};Mr.determinant=function(e){return Re.determinant(e.array)};Mr.identity=function(e){return Re.identity(e.array),e._dirty=!0,e};Mr.ortho=function(e,t,r,n,a,i,o){return Re.ortho(e.array,t,r,n,a,i,o),e._dirty=!0,e};Mr.perspective=function(e,t,r,n,a){return Re.perspective(e.array,t,r,n,a),e._dirty=!0,e};Mr.lookAt=function(e,t,r,n){return Re.lookAt(e.array,t.array,r.array,n.array),e._dirty=!0,e};Mr.invert=function(e,t){return Re.invert(e.array,t.array),e._dirty=!0,e};Mr.mul=function(e,t,r){return Re.mul(e.array,t.array,r.array),e._dirty=!0,e};Mr.multiply=Mr.mul;Mr.fromQuat=function(e,t){return Re.fromQuat(e.array,t.array),e._dirty=!0,e};Mr.fromRotationTranslation=function(e,t,r){return Re.fromRotationTranslation(e.array,t.array,r.array),e._dirty=!0,e};Mr.fromMat2d=function(n,r){n._dirty=!0;var r=r.array,n=n.array;return n[0]=r[0],n[4]=r[2],n[12]=r[4],n[1]=r[1],n[5]=r[3],n[13]=r[5],n};Mr.rotate=function(e,t,r,n){return Re.rotate(e.array,t.array,r,n.array),e._dirty=!0,e};Mr.rotateX=function(e,t,r){return Re.rotateX(e.array,t.array,r),e._dirty=!0,e};Mr.rotateY=function(e,t,r){return Re.rotateY(e.array,t.array,r),e._dirty=!0,e};Mr.rotateZ=function(e,t,r){return Re.rotateZ(e.array,t.array,r),e._dirty=!0,e};Mr.scale=function(e,t,r){return Re.scale(e.array,t.array,r.array),e._dirty=!0,e};Mr.transpose=function(e,t){return Re.transpose(e.array,t.array),e._dirty=!0,e};Mr.translate=function(e,t,r){return Re.translate(e.array,t.array,r.array),e._dirty=!0,e};const qe=Mr;var ar=function(e,t,r,n){e=e||0,t=t||0,r=r||0,n=n===void 0?1:n,this.array=ct.fromValues(e,t,r,n),this._dirty=!0};ar.prototype={constructor:ar,add:function(e){return ct.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return ct.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,t,r,n){return this.array[0]=e,this.array[1]=t,this.array[2]=r,this.array[3]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new ar(this.x,this.y,this.z,this.w)},conjugate:function(){return ct.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return ct.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return ct.dot(this.array,e.array)},fromMat3:function(e){return ct.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=It.create();return function(t){return It.fromMat4(e,t.array),It.transpose(e,e),ct.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return ct.identity(this.array),this._dirty=!0,this},invert:function(){return ct.invert(this.array,this.array),this._dirty=!0,this},len:function(){return ct.len(this.array)},length:function(){return ct.length(this.array)},lerp:function(e,t,r){return ct.lerp(this.array,e.array,t.array,r),this._dirty=!0,this},mul:function(e){return ct.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return ct.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return ct.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return ct.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return ct.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return ct.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return ct.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return ct.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,t){return ct.rotationTo(this.array,e.array,t.array),this._dirty=!0,this},setAxes:function(e,t,r){return ct.setAxes(this.array,e.array,t.array,r.array),this._dirty=!0,this},setAxisAngle:function(e,t){return ct.setAxisAngle(this.array,e.array,t),this._dirty=!0,this},slerp:function(e,t,r){return ct.slerp(this.array,e.array,t.array,r),this._dirty=!0,this},sqrLen:function(){return ct.sqrLen(this.array)},squaredLength:function(){return ct.squaredLength(this.array)},fromEuler:function(e,t){return ar.fromEuler(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Oh=Object.defineProperty;if(Oh){var pg=ar.prototype;Oh(pg,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Oh(pg,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),Oh(pg,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),Oh(pg,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}ar.add=function(e,t,r){return ct.add(e.array,t.array,r.array),e._dirty=!0,e};ar.set=function(e,t,r,n,a){ct.set(e.array,t,r,n,a),e._dirty=!0};ar.copy=function(e,t){return ct.copy(e.array,t.array),e._dirty=!0,e};ar.calculateW=function(e,t){return ct.calculateW(e.array,t.array),e._dirty=!0,e};ar.conjugate=function(e,t){return ct.conjugate(e.array,t.array),e._dirty=!0,e};ar.identity=function(e){return ct.identity(e.array),e._dirty=!0,e};ar.invert=function(e,t){return ct.invert(e.array,t.array),e._dirty=!0,e};ar.dot=function(e,t){return ct.dot(e.array,t.array)};ar.len=function(e){return ct.length(e.array)};ar.lerp=function(e,t,r,n){return ct.lerp(e.array,t.array,r.array,n),e._dirty=!0,e};ar.slerp=function(e,t,r,n){return ct.slerp(e.array,t.array,r.array,n),e._dirty=!0,e};ar.mul=function(e,t,r){return ct.multiply(e.array,t.array,r.array),e._dirty=!0,e};ar.multiply=ar.mul;ar.rotateX=function(e,t,r){return ct.rotateX(e.array,t.array,r),e._dirty=!0,e};ar.rotateY=function(e,t,r){return ct.rotateY(e.array,t.array,r),e._dirty=!0,e};ar.rotateZ=function(e,t,r){return ct.rotateZ(e.array,t.array,r),e._dirty=!0,e};ar.setAxisAngle=function(e,t,r){return ct.setAxisAngle(e.array,t.array,r),e._dirty=!0,e};ar.normalize=function(e,t){return ct.normalize(e.array,t.array),e._dirty=!0,e};ar.sqrLen=function(e){return ct.sqrLen(e.array)};ar.squaredLength=ar.sqrLen;ar.fromMat3=function(e,t){return ct.fromMat3(e.array,t.array),e._dirty=!0,e};ar.setAxes=function(e,t,r,n){return ct.setAxes(e.array,t.array,r.array,n.array),e._dirty=!0,e};ar.rotationTo=function(e,t,r){return ct.rotationTo(e.array,t.array,r.array),e._dirty=!0,e};ar.fromEuler=function(e,t,c){e._dirty=!0,t=t.array;var n=e.array,a=Math.cos(t[0]/2),i=Math.cos(t[1]/2),o=Math.cos(t[2]/2),s=Math.sin(t[0]/2),l=Math.sin(t[1]/2),u=Math.sin(t[2]/2),c=(c||"XYZ").toUpperCase();switch(c){case"XYZ":n[0]=s*i*o+a*l*u,n[1]=a*l*o-s*i*u,n[2]=a*i*u+s*l*o,n[3]=a*i*o-s*l*u;break;case"YXZ":n[0]=s*i*o+a*l*u,n[1]=a*l*o-s*i*u,n[2]=a*i*u-s*l*o,n[3]=a*i*o+s*l*u;break;case"ZXY":n[0]=s*i*o-a*l*u,n[1]=a*l*o+s*i*u,n[2]=a*i*u+s*l*o,n[3]=a*i*o-s*l*u;break;case"ZYX":n[0]=s*i*o-a*l*u,n[1]=a*l*o+s*i*u,n[2]=a*i*u-s*l*o,n[3]=a*i*o+s*l*u;break;case"YZX":n[0]=s*i*o+a*l*u,n[1]=a*l*o+s*i*u,n[2]=a*i*u-s*l*o,n[3]=a*i*o-s*l*u;break;case"XZY":n[0]=s*i*o-a*l*u,n[1]=a*l*o-s*i*u,n[2]=a*i*u+s*l*o,n[3]=a*i*o+s*l*u;break}};const fU=ar;var pl=ae.set,mg=ae.copy,ey=function(e,t){this.min=e||new ke(1/0,1/0,1/0),this.max=t||new ke(-1/0,-1/0,-1/0),this.vertices=null};ey.prototype={constructor:ey,updateFromVertices:function(e){if(e.length>0){var t=this.min,r=this.max,n=t.array,a=r.array;mg(n,e[0]),mg(a,e[0]);for(var i=1;i<e.length;i++){var o=e[i];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[2]<n[2]&&(n[2]=o[2]),o[0]>a[0]&&(a[0]=o[0]),o[1]>a[1]&&(a[1]=o[1]),o[2]>a[2]&&(a[2]=o[2])}t._dirty=!0,r._dirty=!0}},union:function(e){var t=this.min,r=this.max;return ae.min(t.array,t.array,e.min.array),ae.max(r.array,r.array,e.max.array),t._dirty=!0,r._dirty=!0,this},intersection:function(e){var t=this.min,r=this.max;return ae.max(t.array,t.array,e.min.array),ae.min(r.array,r.array,e.max.array),t._dirty=!0,r._dirty=!0,this},intersectBoundingBox:function(e){var t=this.min.array,r=this.max.array,n=e.min.array,a=e.max.array;return!(t[0]>a[0]||t[1]>a[1]||t[2]>a[2]||r[0]<n[0]||r[1]<n[1]||r[2]<n[2])},containBoundingBox:function(e){var t=this.min.array,r=this.max.array,n=e.min.array,a=e.max.array;return t[0]<=n[0]&&t[1]<=n[1]&&t[2]<=n[2]&&r[0]>=a[0]&&r[1]>=a[1]&&r[2]>=a[2]},containPoint:function(e){var t=this.min.array,r=this.max.array,n=e.array;return t[0]<=n[0]&&t[1]<=n[1]&&t[2]<=n[2]&&r[0]>=n[0]&&r[1]>=n[1]&&r[2]>=n[2]},isFinite:function(){var e=this.min.array,t=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=ae.create(),t=ae.create(),r=ae.create(),n=ae.create(),a=ae.create(),i=ae.create();return function(o,s){var l=o.min.array,u=o.max.array,c=s.array;return e[0]=c[0]*l[0],e[1]=c[1]*l[0],e[2]=c[2]*l[0],t[0]=c[0]*u[0],t[1]=c[1]*u[0],t[2]=c[2]*u[0],r[0]=c[4]*l[1],r[1]=c[5]*l[1],r[2]=c[6]*l[1],n[0]=c[4]*u[1],n[1]=c[5]*u[1],n[2]=c[6]*u[1],a[0]=c[8]*l[2],a[1]=c[9]*l[2],a[2]=c[10]*l[2],i[0]=c[8]*u[2],i[1]=c[9]*u[2],i[2]=c[10]*u[2],l=this.min.array,u=this.max.array,l[0]=Math.min(e[0],t[0])+Math.min(r[0],n[0])+Math.min(a[0],i[0])+c[12],l[1]=Math.min(e[1],t[1])+Math.min(r[1],n[1])+Math.min(a[1],i[1])+c[13],l[2]=Math.min(e[2],t[2])+Math.min(r[2],n[2])+Math.min(a[2],i[2])+c[14],u[0]=Math.max(e[0],t[0])+Math.max(r[0],n[0])+Math.max(a[0],i[0])+c[12],u[1]=Math.max(e[1],t[1])+Math.max(r[1],n[1])+Math.max(a[1],i[1])+c[13],u[2]=Math.max(e[2],t[2])+Math.max(r[2],n[2])+Math.max(a[2],i[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var t=this.min.array,r=this.max.array,n=e.array,a=t[0],i=t[1],o=t[2],s=r[0],l=r[1],u=t[2],c=r[0],f=r[1],d=r[2];if(n[15]===1)t[0]=n[0]*a+n[12],t[1]=n[5]*i+n[13],r[2]=n[10]*o+n[14],r[0]=n[0]*c+n[12],r[1]=n[5]*f+n[13],t[2]=n[10]*d+n[14];else{var h=-1/o;t[0]=n[0]*a*h,t[1]=n[5]*i*h,r[2]=(n[10]*o+n[14])*h,h=-1/u,r[0]=n[0]*s*h,r[1]=n[5]*l*h,h=-1/d,t[2]=(n[10]*d+n[14])*h}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var t=0;t<8;t++)e[t]=ae.fromValues(0,0,0);this.vertices=e}var r=this.min.array,n=this.max.array;return pl(e[0],r[0],r[1],r[2]),pl(e[1],r[0],n[1],r[2]),pl(e[2],n[0],r[1],r[2]),pl(e[3],n[0],n[1],r[2]),pl(e[4],r[0],r[1],n[2]),pl(e[5],r[0],n[1],n[2]),pl(e[6],n[0],r[1],n[2]),pl(e[7],n[0],n[1],n[2]),this},copy:function(e){var t=this.min,r=this.max;return mg(t.array,e.min.array),mg(r.array,e.max.array),t._dirty=!0,r._dirty=!0,this},clone:function(){var e=new ey;return e.copy(this),e}};const Ia=ey;var Jme=0,ege=Va.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+Jme++),this.position||(this.position=new ke),this.rotation||(this.rotation=new fU),this.scale||(this.scale=new ke(1,1,1)),this.worldTransform=new qe,this.localTransform=new qe,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var t=this._scene;if(t){var r=t._nodeRepository;delete r[this.name],r[e]=this}this.name=e},add:function(e){var t=e._parent;if(t!==this){t&&t.remove(e),e._parent=this,this._children.push(e);var r=this._scene;r&&r!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var t=this._children,r=t.indexOf(e);r<0||(t.splice(r,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,t=0;t<e.length;t++)e[t]._parent=null,this._scene&&e[t].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){for(var t=e._parent;t;){if(t===this)return!0;t=t._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},getDescendantByName:function(e){for(var t=this._children,r=0;r<t.length;r++){var n=t[r];if(n.name===e)return n;var a=n.getDescendantByName(e);if(a)return a}},queryNode:function(e){if(e){for(var t=e.split("/"),r=this,n=0;n<t.length;n++){var a=t[n];if(a){for(var i=!1,o=r._children,s=0;s<o.length;s++){var l=o[s];if(l.name===a){r=l,i=!0;break}}if(!i)return}}return r}},getPath:function(e){if(!this._parent)return"/";for(var t=this._parent,r=this.name;t._parent&&(r=t.name+"/"+r,t._parent!=e);)t=t._parent;return!t._parent&&e?null:r},traverse:function(e,t){e.call(t,this);for(var r=this._children,n=0,a=r.length;n<a;n++)r[n].traverse(e,t)},eachChild:function(e,t){for(var r=this._children,n=0,a=r.length;n<a;n++){var i=r[n];e.call(t,i,n)}},setLocalTransform:function(e){Re.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){var t=e?null:this.scale;this.localTransform.decomposeMatrix(t,this.rotation,this.position)},setWorldTransform:function(e){Re.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=Re.create();return function(t){var r=this.localTransform,n=this.worldTransform;this._parent?(Re.invert(e,this._parent.worldTransform.array),Re.multiply(r.array,e,n.array)):Re.copy(r.array,n.array);var a=t?null:this.scale;r.decomposeMatrix(a,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,t=this.rotation,r=this.scale;if(this.transformNeedsUpdate()){var n=this.localTransform.array;Re.fromRotationTranslation(n,t.array,e.array),Re.scale(n,n,r.array),t._dirty=!1,r._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,t=this.worldTransform.array;this._parent?Re.multiplyAffine(t,this._parent.worldTransform.array,e):Re.copy(t,e)},updateWorldTransform:function(){for(var e=this;e&&e.getParent()&&e.getParent().transformNeedsUpdate();)e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var t=this._children,r=0,n=t.length;r<n;r++)t[r].update(e)},getBoundingBox:function(){function e(a){return!a.invisible&&a.geometry}var t=new Ia,r=new qe,n=new qe;return function(a,i){return i=i||new Ia,this._parent?qe.invert(n,this._parent.worldTransform):qe.identity(n),this.traverse(function(o){o.geometry&&o.geometry.boundingBox&&(t.copy(o.geometry.boundingBox),qe.multiply(r,n,o.worldTransform),t.applyTransform(r),i.union(t))},this,e),i}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var t=this.worldTransform.array;if(e){var r=e.array;return r[0]=t[12],r[1]=t[13],r[2]=t[14],e}else return new ke(t[12],t[13],t[14])},clone:function(){var e=new this.constructor,t=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var r=0;r<t.length;r++)e.add(t[r].clone());return e},rotateAround:function(){var e=new ke,t=new qe;return function(r,n,a){e.copy(this.position).subtract(r);var i=this.localTransform;i.identity(),i.translate(r),i.rotate(a,n),t.fromRotationTranslation(this.rotation,e),i.multiply(t),i.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new qe;return function(t,r){e.lookAt(this.position,t,r||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=t}}()});const Qo=ege;var di=Qo.extend({material:null,geometry:null,mode:ve.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:ve.BACK,frontFace:ve.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,t){},getBoundingBox:function(e,t){return t=Qo.prototype.getBoundingBox.call(this,e,t),this.geometry&&this.geometry.boundingBox&&t.union(this.geometry.boundingBox),t},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var t=Qo.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var r=0;r<e.length;r++){var n=e[r];t[n]!==this[n]&&(t[n]=this[n])}return t}}()});di.POINTS=ve.POINTS;di.LINES=ve.LINES;di.LINE_LOOP=ve.LINE_LOOP;di.LINE_STRIP=ve.LINE_STRIP;di.TRIANGLES=ve.TRIANGLES;di.TRIANGLE_STRIP=ve.TRIANGLE_STRIP;di.TRIANGLE_FAN=ve.TRIANGLE_FAN;di.BACK=ve.BACK;di.FRONT=ve.FRONT;di.FRONT_AND_BACK=ve.FRONT_AND_BACK;di.CW=ve.CW;di.CCW=ve.CCW;const vT=di;var _A=Va.extend({scene:null,camera:null,renderer:null},function(){this._ray=new s0,this._ndc=new ni},{pick:function(e,t,r){var n=this.pickAll(e,t,[],r);return n[0]||null},pickAll:function(e,t,r,n){return this.renderer.screenToNDC(e,t,this._ndc),this.camera.castRay(this._ndc,this._ray),r=r||[],this._intersectNode(this.scene,r,n||!1),r.sort(this._intersectionCompareFunc),r},_intersectNode:function(e,t,r){e instanceof vT&&e.isRenderable()&&(!e.ignorePicking||r)&&(e.mode===ve.TRIANGLES&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)&&this._intersectRenderable(e,t);for(var n=0;n<e._children.length;n++)this._intersectNode(e._children[n],t,r)},_intersectRenderable:function(){var e=new ke,t=new ke,r=new ke,n=new s0,a=new qe;return function(i,o){var s=i.isSkinnedMesh();n.copy(this._ray),qe.invert(a,i.worldTransform),s||n.applyTransform(a);var l=i.geometry,u=s?i.skeleton.boundingBox:l.boundingBox;if(!(u&&!n.intersectBoundingBox(u))){if(l.pick){l.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,i,o);return}else if(l.pickByRay){l.pickByRay(n,i,o);return}var c=i.cullFace===ve.BACK&&i.frontFace===ve.CCW||i.cullFace===ve.FRONT&&i.frontFace===ve.CW,f,d=l.indices,h=l.attributes.position,v=l.attributes.weight,p=l.attributes.joint,m,g=[];if(!(!h||!h.value||!d)){if(s){m=i.skeleton.getSubSkinMatrices(i.__uid__,i.joints);for(var y=0;y<i.joints.length;y++){g[y]=g[y]||[];for(var _=0;_<16;_++)g[y][_]=m[y*16+_]}var x=[],w=[],b=[],T=[],S=[],A=l.attributes.skinnedPosition;(!A||!A.value)&&(l.createAttribute("skinnedPosition","f",3),A=l.attributes.skinnedPosition,A.init(l.vertexCount));for(var y=0;y<l.vertexCount;y++){h.get(y,x),v.get(y,w),p.get(y,b),w[3]=1-w[0]-w[1]-w[2],ae.set(T,0,0,0);for(var _=0;_<4;_++)b[_]>=0&&w[_]>1e-4&&(ae.transformMat4(S,x,g[b[_]]),ae.scaleAndAdd(T,T,S,w[_]));A.set(y,T)}}for(var y=0;y<d.length;y+=3){var M=d[y],C=d[y+1],D=d[y+2],P=s?l.attributes.skinnedPosition:h;if(P.get(M,e.array),P.get(C,t.array),P.get(D,r.array),c?f=n.intersectTriangle(e,t,r,i.culling):f=n.intersectTriangle(e,r,t,i.culling),f){var I=new ke;s?ke.copy(I,f):ke.transformMat4(I,f,i.worldTransform),o.push(new _A.Intersection(f,I,i,[M,C,D],y/3,ke.dist(I,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,t){return e.distance-t.distance}});_A.Intersection=function(e,t,r,n,a,i){this.point=e,this.pointWorld=t,this.target=r,this.triangle=n,this.triangleIndex=a,this.distance=i};const tge=_A;var kh="__dt__",l0=function(){this._contextId=0,this._caches=[],this._context={}};l0.prototype={use:function(e,t){var r=this._caches;r[e]||(r[e]={},t&&(r[e]=t())),this._contextId=e,this._context=r[e]},put:function(e,t){this._context[e]=t},get:function(e){return this._context[e]},dirty:function(e){e=e||"";var t=kh+e;this.put(t,!0)},dirtyAll:function(e){e=e||"";for(var t=kh+e,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][t]=!0)},fresh:function(e){e=e||"";var t=kh+e;this.put(t,!1)},freshAll:function(e){e=e||"";for(var t=kh+e,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][t]=!1)},isDirty:function(e){e=e||"";var t=kh+e,r=this._context;return!r.hasOwnProperty(t)||r[t]===!0},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,t){var r=Object.keys(this._caches);r.forEach(function(n){e&&e.call(t,n)})},miss:function(e){return!this._context.hasOwnProperty(e)}};l0.prototype.constructor=l0;const xA=l0;var Bt=Va.extend({width:512,height:512,type:ve.UNSIGNED_BYTE,format:ve.RGBA,wrapS:ve.REPEAT,wrapT:ve.REPEAT,minFilter:ve.LINEAR_MIPMAP_LINEAR,magFilter:ve.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new xA},{getWebGLTexture:function(e){var t=e.gl,r=this._cache;return r.use(e.__uid__),r.miss("webgl_texture")&&r.put("webgl_texture",t.createTexture()),this.dynamic?this.update(e):r.isDirty()&&(this.update(e),r.fresh()),r.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var t=e.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===ve.DEPTH_COMPONENT&&(this.useMipmap=!1);var r=e.getGLExtension("EXT_sRGB");this.format===Bt.SRGB&&!r&&(this.format=Bt.RGB),this.format===Bt.SRGB_ALPHA&&!r&&(this.format=Bt.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?ve.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?ve.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?e===ve.NEAREST_MIPMAP_NEAREST||e===ve.NEAREST_MIPMAP_LINEAR?ve.NEAREST:e===ve.LINEAR_MIPMAP_LINEAR||e===ve.LINEAR_MIPMAP_NEAREST?ve.LINEAR:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var t=1;t<32;t<<=1)e=e|e>>t;return e+1},dispose:function(e){var t=this._cache;t.use(e.__uid__);var r=t.get("webgl_texture");r&&e.gl.deleteTexture(r),t.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(Bt.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}});Object.defineProperty(Bt.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}});Bt.BYTE=ve.BYTE;Bt.UNSIGNED_BYTE=ve.UNSIGNED_BYTE;Bt.SHORT=ve.SHORT;Bt.UNSIGNED_SHORT=ve.UNSIGNED_SHORT;Bt.INT=ve.INT;Bt.UNSIGNED_INT=ve.UNSIGNED_INT;Bt.FLOAT=ve.FLOAT;Bt.HALF_FLOAT=36193;Bt.UNSIGNED_INT_24_8_WEBGL=34042;Bt.DEPTH_COMPONENT=ve.DEPTH_COMPONENT;Bt.DEPTH_STENCIL=ve.DEPTH_STENCIL;Bt.ALPHA=ve.ALPHA;Bt.RGB=ve.RGB;Bt.RGBA=ve.RGBA;Bt.LUMINANCE=ve.LUMINANCE;Bt.LUMINANCE_ALPHA=ve.LUMINANCE_ALPHA;Bt.SRGB=35904;Bt.SRGB_ALPHA=35906;Bt.COMPRESSED_RGB_S3TC_DXT1_EXT=33776;Bt.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777;Bt.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778;Bt.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779;Bt.NEAREST=ve.NEAREST;Bt.LINEAR=ve.LINEAR;Bt.NEAREST_MIPMAP_NEAREST=ve.NEAREST_MIPMAP_NEAREST;Bt.LINEAR_MIPMAP_NEAREST=ve.LINEAR_MIPMAP_NEAREST;Bt.NEAREST_MIPMAP_LINEAR=ve.NEAREST_MIPMAP_LINEAR;Bt.LINEAR_MIPMAP_LINEAR=ve.LINEAR_MIPMAP_LINEAR;Bt.REPEAT=ve.REPEAT;Bt.CLAMP_TO_EDGE=ve.CLAMP_TO_EDGE;Bt.MIRRORED_REPEAT=ve.MIRRORED_REPEAT;const Qe=Bt;var hi=vT.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=vT.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});hi.POINTS=ve.POINTS;hi.LINES=ve.LINES;hi.LINE_LOOP=ve.LINE_LOOP;hi.LINE_STRIP=ve.LINE_STRIP;hi.TRIANGLES=ve.TRIANGLES;hi.TRIANGLE_STRIP=ve.TRIANGLE_STRIP;hi.TRIANGLE_FAN=ve.TRIANGLE_FAN;hi.BACK=ve.BACK;hi.FRONT=ve.FRONT;hi.FRONT_AND_BACK=ve.FRONT_AND_BACK;hi.CW=ve.CW;hi.CCW=ve.CCW;const Ju=hi;var H_={};H_.isPowerOfTwo=function(e){return(e&e-1)===0};H_.nextPowerOfTwo=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e};H_.nearestPowerOfTwo=function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))};const dU=H_;var GR=dU.isPowerOfTwo;function $R(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function rge(e,t){var r=$R(e.width),n=$R(e.height);t=t||document.createElement("canvas"),t.width=r,t.height=n;var a=t.getContext("2d");return a.drawImage(e.image,0,0,r,n),t}var bA=Qe.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var r=this.format,n=this.type,a=!!(this.convertToPOT&&!this.mipmaps.length&&this.image&&(this.wrapS===Qe.REPEAT||this.wrapT===Qe.REPEAT)&&this.NPOT);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,a?this.wrapS:this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,a?this.wrapT:this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a?this.magFilter:this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a?this.minFilter:this.getAvailableMinFilter());var i=e.getGLExtension("EXT_texture_filter_anisotropic");if(i&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),n===36193){var o=e.getGLExtension("OES_texture_half_float");o||(n=ve.FLOAT)}if(this.mipmaps.length)for(var s=this.width,l=this.height,u=0;u<this.mipmaps.length;u++){var c=this.mipmaps[u];this._updateTextureData(t,c,u,s,l,r,n,!1),s/=2,l/=2}else this._updateTextureData(t,this,0,this.width,this.height,r,n,a),this.useMipmap&&(!this.NPOT||a)&&t.generateMipmap(t.TEXTURE_2D);t.bindTexture(t.TEXTURE_2D,null)},_updateTextureData:function(e,t,r,n,a,i,o,s){if(t.image){var l=t.image;s&&(this._potCanvas=rge(this,this._potCanvas),l=this._potCanvas),e.texImage2D(e.TEXTURE_2D,r,i,i,o,l)}else i<=Qe.COMPRESSED_RGBA_S3TC_DXT5_EXT&&i>=Qe.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,r,i,n,a,0,t.pixels):e.texImage2D(e.TEXTURE_2D,r,i,n,a,0,i,o,t.pixels)},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_2D))},isPowerOfTwo:function(){return GR(this.width)&&GR(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!!(this.width&&this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,t){var r=hn.createImage();t&&(r.crossOrigin=t);var n=this;return r.onload=function(){n.dirty(),n.trigger("success",n)},r.onerror=function(){n.trigger("error",n)},r.src=e,this.image=r,this}});Object.defineProperty(bA.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}});Object.defineProperty(bA.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const _t=bA;function hU(e){return{byte:hn.Int8Array,ubyte:hn.Uint8Array,short:hn.Int16Array,ushort:hn.Uint16Array}[e]||hn.Float32Array}function Tb(e){return"attr_"+e}function md(e,t,r,n){switch(this.name=e,this.type=t,this.size=r,this.semantic=n||"",this.value=null,r){case 1:this.get=function(a){return this.value[a]},this.set=function(a,i){this.value[a]=i},this.copy=function(a,i){this.value[a]=this.value[a]};break;case 2:this.get=function(a,i){var o=this.value;return i[0]=o[a*2],i[1]=o[a*2+1],i},this.set=function(a,i){var o=this.value;o[a*2]=i[0],o[a*2+1]=i[1]},this.copy=function(a,i){var o=this.value;i*=2,a*=2,o[a]=o[i],o[a+1]=o[i+1]};break;case 3:this.get=function(a,i){var o=a*3,s=this.value;return i[0]=s[o],i[1]=s[o+1],i[2]=s[o+2],i},this.set=function(a,i){var o=a*3,s=this.value;s[o]=i[0],s[o+1]=i[1],s[o+2]=i[2]},this.copy=function(a,i){var o=this.value;i*=3,a*=3,o[a]=o[i],o[a+1]=o[i+1],o[a+2]=o[i+2]};break;case 4:this.get=function(a,i){var o=this.value,s=a*4;return i[0]=o[s],i[1]=o[s+1],i[2]=o[s+2],i[3]=o[s+3],i},this.set=function(a,i){var o=this.value,s=a*4;o[s]=i[0],o[s+1]=i[1],o[s+2]=i[2],o[s+3]=i[3]},this.copy=function(a,i){var o=this.value;i*=4,a*=4,o[a]=o[i],o[a+1]=o[i+1],o[a+2]=o[i+2],o[a+3]=o[i+3]}}}md.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var t=hU(this.type);this.value=new t(e*this.size)}};md.prototype.fromArray=function(e){var t=hU(this.type),r;if(e[0]&&e[0].length){var n=0,a=this.size;r=new t(e.length*a);for(var i=0;i<e.length;i++)for(var o=0;o<a;o++)r[n++]=e[i][o]}else r=new t(e);this.value=r};md.prototype.clone=function(e){var t=new md(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),t};function vU(e,t,r,n,a){this.name=e,this.type=t,this.buffer=r,this.size=n,this.semantic=a,this.symbol="",this.needsRemove=!1}function pU(e){this.buffer=e,this.count=0}var Fs=Va.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new xA,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),t=0;t<e.length;t++)this.dirtyAttribute(e[t]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll(Tb(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,t){if(e<this.triangleCount&&e>=0){t||(t=[]);var r=this.indices;return t[0]=r[e*3],t[1]=r[e*3+1],t[2]=r[e*3+2],t}},setTriangleIndices:function(e,t){var r=this.indices;r[e*3]=t[0],r[e*3+1]=t[1],r[e*3+2]=t[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var t,r=this.vertexCount>65535?hn.Uint32Array:hn.Uint16Array;if(e[0]&&e[0].length){var n=0,a=3;t=new r(e.length*a);for(var i=0;i<e.length;i++)for(var o=0;o<a;o++)t[n++]=e[i][o]}else t=new r(e);this.indices=t},createAttribute:function(e,t,r,n){var a=new md(e,t,r,n);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=a,this._attributeList.push(e),a},removeAttribute:function(e){var t=this._attributeList,r=t.indexOf(e);return r>=0?(t.splice(r,1),delete this.attributes[e],!0):!1},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,t=this._attributeList;if(e)return e;for(var r=[],n=this.vertexCount,a=0;a<t.length;a++){var i=t[a],o=this.attributes[i];o.value&&o.value.length===n*o.size&&r.push(i)}return this._enabledAttributes=r,r},getBufferChunks:function(e){var t=this._cache;t.use(e.__uid__);var r=t.isDirty("attributes"),n=t.isDirty("indices");if(r||n){this._updateBuffer(e.gl,r,n);for(var a=this.getEnabledAttributes(),i=0;i<a.length;i++)t.fresh(Tb(a[i]));t.fresh("attributes"),t.fresh("indices")}return t.fresh("any"),t.get("chunks")},_updateBuffer:function(e,t,r){var n=this._cache,a=n.get("chunks"),i=!1;a||(a=[],a[0]={attributeBuffers:[],indicesBuffer:null},n.put("chunks",a),i=!0);var o=a[0],s=o.attributeBuffers,l=o.indicesBuffer;if(t||i){var u=this.getEnabledAttributes(),c={};if(!i)for(var f=0;f<s.length;f++)c[s[f].name]=s[f];for(var d=0;d<u.length;d++){var h=u[d],v=this.attributes[h],p;i||(p=c[h]);var m;p?m=p.buffer:m=e.createBuffer(),n.isDirty(Tb(h))&&(e.bindBuffer(e.ARRAY_BUFFER,m),e.bufferData(e.ARRAY_BUFFER,v.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),s[d]=new vU(h,v.type,m,v.size,v.semantic)}for(var f=d;f<s.length;f++)e.deleteBuffer(s[f].buffer);s.length=d}this.isUseIndices()&&(r||i)&&(l||(l=new pU(e.createBuffer()),o.indicesBuffer=l),l.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,l.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var t=this._cache;t.use(e.__uid__);var r=t.get("chunks");if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=0;i<a.attributeBuffers.length;i++){var o=a.attributeBuffers[i];e.gl.deleteBuffer(o.buffer)}a.indicesBuffer&&e.gl.deleteBuffer(a.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(Fs.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),!e||!e.value?0:e.value.length/e.size}}),Object.defineProperty(Fs.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}}));Fs.STATIC_DRAW=ve.STATIC_DRAW;Fs.DYNAMIC_DRAW=ve.DYNAMIC_DRAW;Fs.STREAM_DRAW=ve.STREAM_DRAW;Fs.AttributeBuffer=vU;Fs.IndicesBuffer=pU;Fs.Attribute=md;const Gc=Fs;var wa=ae.create,Af=ae.add,Eu=ae.set,Bo=Gc.Attribute,$c=Gc.extend(function(){return{attributes:{position:new Bo("position","float",3,"POSITION"),texcoord0:new Bo("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new Bo("texcoord1","float",2,"TEXCOORD_1"),normal:new Bo("normal","float",3,"NORMAL"),tangent:new Bo("tangent","float",4,"TANGENT"),color:new Bo("color","float",4,"COLOR"),weight:new Bo("weight","float",3,"WEIGHT"),joint:new Bo("joint","float",4,"JOINT"),barycentric:new Bo("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new Ia);var t=this.attributes.position.value;if(t&&t.length){var r=e.min,n=e.max,a=r.array,i=n.array;ae.set(a,t[0],t[1],t[2]),ae.set(i,t[0],t[1],t[2]);for(var o=3;o<t.length;){var s=t[o++],l=t[o++],u=t[o++];s<a[0]&&(a[0]=s),l<a[1]&&(a[1]=l),u<a[2]&&(a[2]=u),s>i[0]&&(i[0]=s),l>i[1]&&(i[1]=l),u>i[2]&&(i[2]=u)}r._dirty=!0,n._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,t=this.attributes,r=t.position.value,n=t.normal.value;if(!n||n.length!==r.length)n=t.normal.value=new hn.Float32Array(r.length);else for(var a=0;a<n.length;a++)n[a]=0;for(var i=wa(),o=wa(),s=wa(),l=wa(),u=wa(),c=wa(),f=e?e.length:this.vertexCount,d,h,v,p=0;p<f;){e?(d=e[p++],h=e[p++],v=e[p++]):(d=p++,h=p++,v=p++),Eu(i,r[d*3],r[d*3+1],r[d*3+2]),Eu(o,r[h*3],r[h*3+1],r[h*3+2]),Eu(s,r[v*3],r[v*3+1],r[v*3+2]),ae.sub(l,i,o),ae.sub(u,o,s),ae.cross(c,l,u);for(var a=0;a<3;a++)n[d*3+a]=n[d*3+a]+c[a],n[h*3+a]=n[h*3+a]+c[a],n[v*3+a]=n[v*3+a]+c[a]}for(var a=0;a<n.length;)Eu(c,n[a],n[a+1],n[a+2]),ae.normalize(c,c),n[a++]=c[0],n[a++]=c[1],n[a++]=c[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,t=this.attributes,r=t.position.value,n=t.normal.value,a=wa(),i=wa(),o=wa(),s=wa(),l=wa(),u=wa();n||(n=t.normal.value=new Float32Array(r.length));for(var c=e?e.length:this.vertexCount,f,d,h,v=0;v<c;){e?(f=e[v++],d=e[v++],h=e[v++]):(f=v++,d=v++,h=v++),Eu(a,r[f*3],r[f*3+1],r[f*3+2]),Eu(i,r[d*3],r[d*3+1],r[d*3+2]),Eu(o,r[h*3],r[h*3+1],r[h*3+2]),ae.sub(s,a,i),ae.sub(l,i,o),ae.cross(u,s,l),ae.normalize(u,u);for(var p=0;p<3;p++)n[f*3+p]=u[p],n[d*3+p]=u[p],n[h*3+p]=u[p]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,t=this.attributes;t.tangent.value||(t.tangent.value=new Float32Array(e*4));var r=t.texcoord0.value,n=t.position.value,a=t.tangent.value,i=t.normal.value;if(!r){console.warn("Geometry without texcoords can't generate tangents.");return}for(var o=[],s=[],l=0;l<e;l++)o[l]=[0,0,0],s[l]=[0,0,0];for(var u=[0,0,0],c=[0,0,0],f=this.indices,d=f?f.length:this.vertexCount,h,v,p,l=0;l<d;){f?(h=f[l++],v=f[l++],p=f[l++]):(h=l++,v=l++,p=l++);var m=r[h*2],g=r[v*2],y=r[p*2],_=r[h*2+1],x=r[v*2+1],w=r[p*2+1],b=n[h*3],T=n[v*3],S=n[p*3],A=n[h*3+1],M=n[v*3+1],C=n[p*3+1],D=n[h*3+2],P=n[v*3+2],I=n[p*3+2],k=T-b,V=S-b,H=M-A,O=C-A,L=P-D,F=I-D,X=g-m,Y=y-m,G=x-_,z=w-_,N=1/(X*z-G*Y);u[0]=(z*k-G*V)*N,u[1]=(z*H-G*O)*N,u[2]=(z*L-G*F)*N,c[0]=(X*V-Y*k)*N,c[1]=(X*O-Y*H)*N,c[2]=(X*F-Y*L)*N,Af(o[h],o[h],u),Af(o[v],o[v],u),Af(o[p],o[p],u),Af(s[h],s[h],c),Af(s[v],s[v],c),Af(s[p],s[p],c)}for(var U=wa(),Z=wa(),K=wa(),l=0;l<e;l++){K[0]=i[l*3],K[1]=i[l*3+1],K[2]=i[l*3+2];var q=o[l];ae.scale(U,K,ae.dot(K,q)),ae.sub(U,q,U),ae.normalize(U,U),ae.cross(Z,K,q),a[l*4]=U[0],a[l*4+1]=U[1],a[l*4+2]=U[2],a[l*4+3]=ae.dot(Z,s[l])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return this.isUseIndices()?this.vertexCount===this.indices.length:!0},generateUniqueVertex:function(){if(!(!this.vertexCount||!this.indices)){this.indices.length>65535&&(this.indices=new hn.Uint32Array(this.indices));for(var e=this.attributes,t=this.indices,r=this.getEnabledAttributes(),n={},a=0;a<r.length;a++){var i=r[a];n[i]=e[i].value,e[i].init(this.indices.length)}for(var o=0,s=0;s<t.length;s++){for(var l=t[s],a=0;a<r.length;a++)for(var i=r[a],u=e[i].value,c=e[i].size,f=0;f<c;f++)u[o*c+f]=n[i][l*c+f];t[s]=o,o++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,t=e.barycentric.value,r=this.indices;if(!(t&&t.length===r.length*3)){t=e.barycentric.value=new Float32Array(r.length*3);for(var n=0;n<(r?r.length:this.vertexCount/3);)for(var a=0;a<3;a++){var i=r?r[n++]:n*3+a;t[i*3+a]=1}this.dirty()}}},applyTransform:function(e){var t=this.attributes,r=t.position.value,n=t.normal.value,a=t.tangent.value;e=e.array;var i=Re.create();Re.invert(i,e),Re.transpose(i,i);var o=ae.transformMat4,s=ae.forEach;s(r,3,0,null,o,e),n&&s(n,3,0,null,o,i),a&&s(a,4,0,null,o,i),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var t=this._cache;t.use(e.__uid__);var r=t.get("chunks");if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=0;i<a.attributeBuffers.length;i++){var o=a.attributeBuffers[i];e.gl.deleteBuffer(o.buffer)}a.indicesBuffer&&e.gl.deleteBuffer(a.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});$c.STATIC_DRAW=Gc.STATIC_DRAW;$c.DYNAMIC_DRAW=Gc.DYNAMIC_DRAW;$c.STREAM_DRAW=Gc.STREAM_DRAW;$c.AttributeBuffer=Gc.AttributeBuffer;$c.IndicesBuffer=Gc.IndicesBuffer;$c.Attribute=Bo;const zt=$c,nge=`vec3 calcAmbientSHLight(int idx, vec3 N) {
 int offset = 9 * idx;
 return ambientSHLightCoefficients[0]
 + ambientSHLightCoefficients[1] * N.x
 + ambientSHLightCoefficients[2] * N.y
 + ambientSHLightCoefficients[3] * N.z
 + ambientSHLightCoefficients[4] * N.x * N.z
 + ambientSHLightCoefficients[5] * N.z * N.y
 + ambientSHLightCoefficients[6] * N.y * N.x
 + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)
 + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);
}`;var io="uniform vec3 ",Nh="uniform float ",Ef="@export clay.header.",Df="@end",Fn=":unconfigurable;";const age=[Ef+"directional_light",io+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+Fn,io+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+Fn,Df,Ef+"ambient_light",io+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+Fn,Df,Ef+"ambient_sh_light",io+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+Fn,io+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+Fn,nge,Df,Ef+"ambient_cubemap_light",io+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+Fn,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+Fn,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+Fn,Df,Ef+"point_light",io+"pointLightPosition[POINT_LIGHT_COUNT]"+Fn,Nh+"pointLightRange[POINT_LIGHT_COUNT]"+Fn,io+"pointLightColor[POINT_LIGHT_COUNT]"+Fn,Df,Ef+"spot_light",io+"spotLightPosition[SPOT_LIGHT_COUNT]"+Fn,io+"spotLightDirection[SPOT_LIGHT_COUNT]"+Fn,Nh+"spotLightRange[SPOT_LIGHT_COUNT]"+Fn,Nh+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+Fn,Nh+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+Fn,Nh+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+Fn,io+"spotLightColor[SPOT_LIGHT_COUNT]"+Fn,Df].join(`
`);Pe.import(age);var ige=Qo.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var e=Qo.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}});const So=ige;var ty=function(e,t){this.normal=e||new ke(0,1,0),this.distance=t||0};ty.prototype={constructor:ty,distanceToPoint:function(e){return ae.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,t){t||(t=new ke);var r=this.distanceToPoint(e);return ae.scaleAndAdd(t.array,e.array,this.normal.array,-r),t._dirty=!0,t},normalize:function(){var e=1/ae.len(this.normal.array);ae.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var t=e.vertices,r=this.normal.array,n=ae.dot(t[0].array,r)>this.distance,a=1;a<8;a++)if(ae.dot(t[a].array,r)>this.distance!=n)return!0},intersectLine:function(){var e=ae.create();return function(t,r,n){var a=this.distanceToPoint(t),i=this.distanceToPoint(r);if(a>0&&i>0||a<0&&i<0)return null;var o=this.normal.array,s=this.distance,l=t.array;ae.sub(e,r.array,t.array),ae.normalize(e,e);var u=ae.dot(o,e);if(u===0)return null;n||(n=new ke);var c=(ae.dot(o,l)-s)/u;return ae.scaleAndAdd(n.array,l,e,-c),n._dirty=!0,n}}(),applyTransform:function(){var e=Re.create(),t=Ue.create(),r=Ue.create();return r[3]=1,function(n){n=n.array,ae.scale(r,this.normal.array,this.distance),Ue.transformMat4(r,r,n),this.distance=ae.dot(r,this.normal.array),Re.invert(e,n),Re.transpose(e,e),t[3]=0,ae.copy(t,this.normal.array),Ue.transformMat4(t,t,e),ae.copy(this.normal.array,t)}}(),copy:function(e){ae.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new ty;return e.copy(this),e}};const mU=ty;var tn=ae.set,WR=ae.copy,YR=ae.transformMat4,Cb=Math.min,Ab=Math.max,gU=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new mU);this.boundingBox=new Ia,this.vertices=[];for(var e=0;e<8;e++)this.vertices[e]=ae.fromValues(0,0,0)};gU.prototype={setFromProjection:function(e){var t=this.planes,r=e.array,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],l=r[5],u=r[6],c=r[7],f=r[8],d=r[9],h=r[10],v=r[11],p=r[12],m=r[13],g=r[14],y=r[15];tn(t[0].normal.array,o-n,c-s,v-f),t[0].distance=-(y-p),t[0].normalize(),tn(t[1].normal.array,o+n,c+s,v+f),t[1].distance=-(y+p),t[1].normalize(),tn(t[2].normal.array,o+a,c+l,v+d),t[2].distance=-(y+m),t[2].normalize(),tn(t[3].normal.array,o-a,c-l,v-d),t[3].distance=-(y-m),t[3].normalize(),tn(t[4].normal.array,o-i,c-u,v-h),t[4].distance=-(y-g),t[4].normalize(),tn(t[5].normal.array,o+i,c+u,v+h),t[5].distance=-(y+g),t[5].normalize();var _=this.boundingBox,x=this.vertices;if(y===0){var w=l/n,b=-g/(h-1),T=-g/(h+1),S=-T/l,A=-b/l;_.min.set(-S*w,-S,T),_.max.set(S*w,S,b),tn(x[0],-S*w,-S,T),tn(x[1],-S*w,S,T),tn(x[2],S*w,-S,T),tn(x[3],S*w,S,T),tn(x[4],-A*w,-A,b),tn(x[5],-A*w,A,b),tn(x[6],A*w,-A,b),tn(x[7],A*w,A,b)}else{var M=(-1-p)/n,C=(1-p)/n,D=(1-m)/l,P=(-1-m)/l,I=(-1-g)/h,k=(1-g)/h;_.min.set(Math.min(M,C),Math.min(P,D),Math.min(k,I)),_.max.set(Math.max(C,M),Math.max(D,P),Math.max(I,k));var V=_.min.array,H=_.max.array;tn(x[0],V[0],V[1],V[2]),tn(x[1],V[0],H[1],V[2]),tn(x[2],H[0],V[1],V[2]),tn(x[3],H[0],H[1],V[2]),tn(x[4],V[0],V[1],H[2]),tn(x[5],V[0],H[1],H[2]),tn(x[6],H[0],V[1],H[2]),tn(x[7],H[0],H[1],H[2])}},getTransformedBoundingBox:function(){var e=ae.create();return function(t,r){var n=this.vertices,a=r.array,i=t.min,o=t.max,s=i.array,l=o.array,u=n[0];YR(e,u,a),WR(s,e),WR(l,e);for(var c=1;c<8;c++)u=n[c],YR(e,u,a),s[0]=Cb(e[0],s[0]),s[1]=Cb(e[1],s[1]),s[2]=Cb(e[2],s[2]),l[0]=Ab(e[0],l[0]),l[1]=Ab(e[1],l[1]),l[2]=Ab(e[2],l[2]);return i._dirty=!0,o._dirty=!0,t}}()};const wA=gU;var oge=Qo.extend(function(){return{projectionMatrix:new qe,invProjectionMatrix:new qe,viewMatrix:new qe,frustum:new wA}},function(){this.update(!0)},{update:function(e){Qo.prototype.update.call(this,e),qe.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),qe.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){qe.copy(this.viewMatrix,e),qe.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){qe.copy(this.projectionMatrix,e),qe.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=Ue.create();return function(t,r){var n=r!==void 0?r:new s0,a=t.array[0],i=t.array[1];return Ue.set(e,a,i,-1,1),Ue.transformMat4(e,e,this.invProjectionMatrix.array),Ue.transformMat4(e,e,this.worldTransform.array),ae.scale(n.origin.array,e,1/e[3]),Ue.set(e,a,i,1,1),Ue.transformMat4(e,e,this.invProjectionMatrix.array),Ue.transformMat4(e,e,this.worldTransform.array),ae.scale(e,e,1/e[3]),ae.sub(n.direction.array,e,n.origin.array),ae.normalize(n.direction.array,n.direction.array),n.direction._dirty=!0,n.origin._dirty=!0,n}}()});const gd=oge;var sge=Re.create(),XR=Re.create(),Eb={};function lge(e){var t=[],r=Object.keys(e);r.sort();for(var n=0;n<r.length;n++){var a=r[n];t.push(a+" "+e[a])}var i=t.join(`
`);if(Eb[i])return Eb[i];var o=Hn.genGUID();return Eb[i]=o,o}function G_(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}G_.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0};G_.prototype.add=function(e,t){t?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e};G_.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var uge=Qo.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new Ia,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new aU(20)}},function(){this._scene=this},{addToScene:function(e){e instanceof gd?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof So&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var t;e instanceof gd?(t=this._cameraList.indexOf(e),t>=0&&this._cameraList.splice(t,1)):e instanceof So&&(t=this.lights.indexOf(e),t>=0&&this.lights.splice(t,1)),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var t=this._cameraList.indexOf(e);t>=0&&this._cameraList.splice(t,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var t={},r=0;r<e.length;r++){var n=e[r];if(!n.invisible){var a=n.group;t[a]||(t[a]={}),t[a][n.type]=t[a][n.type]||0,t[a][n.type]++}}this._lightNumber=t;for(var i in t)this._lightProgramKeys[i]=lge(t[i]);this._updateLightUniforms()},cloneNode:function(e){var t=e.clone(),r={};function n(a,i){r[a.__uid__]=i;for(var o=0;o<a._children.length;o++){var s=a._children[o],l=i._children[o];n(s,l)}}return n(e,t),t.traverse(function(a){a.skeleton&&(a.skeleton=a.skeleton.clone(r)),a.material&&(a.material=a.material.clone())}),t},updateRenderList:function(e,t){var r=e.__uid__,n=this._renderLists.get(r);n||(n=new G_,this._renderLists.put(r,n)),n.startCount(),t&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var a=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,e,a,n,t),n.endCount(),n},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,t,r,n,a){if(!e.invisible)for(var i=0;i<e._children.length;i++){var o=e._children[i];if(o.isRenderable()){var s=o.isSkinnedMesh()?sge:o.worldTransform.array,l=o.geometry;Re.multiplyAffine(XR,t.viewMatrix.array,s),(a&&!l.boundingBox||!this.isFrustumCulled(o,t,XR))&&n.add(o,o.material.transparent||r)}o._children.length>0&&this._doUpdateRenderList(o,t,r,n,a)}},isFrustumCulled:function(){var e=new Ia,t=new qe;return function(r,n,a){var i=r.boundingBox;if(i||(r.skeleton&&r.skeleton.boundingBox?i=r.skeleton.boundingBox:i=r.geometry.boundingBox),!i)return!1;if(t.array=a,e.transformFrom(i,t),r.castShadow&&this.viewBoundingBoxLastFrame.union(e),r.frustumCulling){if(!e.intersectBoundingBox(n.frustum.boundingBox))return!0;t.array=n.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(t);var o=e.min.array,s=e.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(cge);var t=this._lightUniforms;for(var r in t)for(var n in t[r])t[r][n].value.length=0;for(var a=0;a<e.length;a++){var i=e[a];if(!i.invisible){var r=i.group;for(var n in i.uniformTemplates){var o=i.uniformTemplates[n],s=o.value(i);if(s!=null){t[r]||(t[r]={}),t[r][n]||(t[r][n]={type:"",value:[]});var l=t[r][n];switch(l.type=o.type+"v",o.type){case"1i":case"1f":case"t":l.value.push(s);break;case"2f":case"3f":case"4f":for(var u=0;u<s.length;u++)l.value.push(s[u]);break;default:console.error("Unkown light uniform type "+o.type)}}}}}},getLightGroups:function(){var e=[];for(var t in this._lightNumber)e.push(t);return e},getNumberChangedLightGroups:function(){var e=[];for(var t in this._lightNumber)this.isLightNumberChanged(t)&&e.push(t);return e},isLightNumberChanged:function(e){var t=this._previousLightNumber,r=this._lightNumber;for(var n in r[e])if(!t[e]||r[e][n]!==t[e][n])return!0;for(var n in t[e])if(!r[e]||r[e][n]!==t[e][n])return!0;return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(t,r,n){for(var a in t){var i=t[a];if(i.type==="tv"){if(!r.hasUniform(a))continue;for(var o=[],s=0;s<i.value.length;s++){var l=i.value[s],u=r.takeCurrentTextureSlot(n,l);o.push(u)}r.setUniform(n.gl,"1iv",a,o)}else r.setUniform(n.gl,i.type,a,i.value)}}return function(t,r,n){e(this._lightUniforms[r],t,n),e(this.shadowUniforms,t,n)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function cge(e,t){if(t.castShadow&&!e.castShadow)return!0}const ql=uge;var gg=dU.isPowerOfTwo,fge=["px","nx","py","ny","pz","nz"],SA=Qe.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var r=this.format,n=this.type;t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var a=e.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_CUBE_MAP,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),n===36193){var i=e.getGLExtension("OES_texture_half_float");i||(n=ve.FLOAT)}if(this.mipmaps.length)for(var o=this.width,s=this.height,l=0;l<this.mipmaps.length;l++){var u=this.mipmaps[l];this._updateTextureData(t,u,l,o,s,r,n),o/=2,s/=2}else this._updateTextureData(t,this,0,this.width,this.height,r,n),!this.NPOT&&this.useMipmap&&t.generateMipmap(t.TEXTURE_CUBE_MAP);t.bindTexture(t.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,t,r,n,a,i,o){for(var s=0;s<6;s++){var l=fge[s],u=t.image&&t.image[l];u?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,r,i,i,o,u):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,r,i,n,a,0,i,o,t.pixels&&t.pixels[l])}},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?gg(this.image.px.width)&&gg(this.image.px.height):gg(this.width)&&gg(this.height)},isRenderable:function(){return this.image.px?Mf(this.image.px)&&Mf(this.image.nx)&&Mf(this.image.py)&&Mf(this.image.ny)&&Mf(this.image.pz)&&Mf(this.image.nz):!!(this.width&&this.height)},load:function(e,t){var r=0,n=this;return Hn.each(e,function(a,i){var o=hn.createImage();t&&(o.crossOrigin=t),o.onload=function(){r--,r===0&&(n.dirty(),n.trigger("success",n))},o.onerror=function(){r--},r++,o.src=a,n.image[i]=o}),this}});Object.defineProperty(SA.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}});Object.defineProperty(SA.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});function Mf(e){return e.width>0&&e.height>0}const pp=SA;var dge=gd.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,t=Math.atan(1/e[5])*2;this.fov=t/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=gd.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}});const Pn=dge;var yg="framebuffer",_s="renderbuffer",jR=_s+"_width",qR=_s+"_height",Db=_s+"_attached",Mb="depthtexture_attached",Du=ve.FRAMEBUFFER,Bh=ve.RENDERBUFFER,tv=ve.DEPTH_ATTACHMENT,yU=ve.COLOR_ATTACHMENT0,jp=Va.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new xA,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var t=e.gl;t.bindFramebuffer(Du,this._getFrameBufferGL(e)),this._boundRenderer=e;var r=this._cache;r.put("viewport",e.viewport);var n=!1,a,i;for(var o in this._textures){n=!0;var s=this._textures[o];s&&(a=s.texture.width,i=s.texture.height,this._doAttach(e,s.texture,o,s.target))}this._width=a,this._height=i,!n&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,a,i,1);var l=r.get("attached_textures");if(l){for(var o in l)if(!this._textures[o]){var u=l[o];this._doDetach(t,o,u)}}if(!r.get(Mb)&&this.depthBuffer){r.miss(_s)&&r.put(_s,t.createRenderbuffer());var c=r.get(_s);(a!==r.get(jR)||i!==r.get(qR))&&(t.bindRenderbuffer(Bh,c),t.renderbufferStorage(Bh,t.DEPTH_COMPONENT16,a,i),r.put(jR,a),r.put(qR,i),t.bindRenderbuffer(Bh,null)),r.get(Db)||(t.framebufferRenderbuffer(Du,tv,Bh,c),r.put(Db,!0))}},unbind:function(e){e.__currentFrameBuffer=null;var t=e.gl;t.bindFramebuffer(Du,null),this._boundRenderer=null,this._cache.use(e.__uid__);var r=this._cache.get("viewport");r&&e.setViewport(r),this.updateMipmap(e)},updateMipmap:function(e){var t=e.gl;for(var r in this._textures){var n=this._textures[r];if(n){var a=n.texture;if(!a.NPOT&&a.useMipmap&&a.minFilter===Qe.LINEAR_MIPMAP_LINEAR){var i=a.textureType==="textureCube"?ve.TEXTURE_CUBE_MAP:ve.TEXTURE_2D;t.bindTexture(i,a.getWebGLTexture(e)),t.generateMipmap(i),t.bindTexture(i,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(Du)},_getFrameBufferGL:function(e){var t=this._cache;return t.use(e.__uid__),t.miss(yg)&&t.put(yg,e.gl.createFramebuffer()),t.get(yg)},attach:function(e,t,r){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");t=t||yU,r=r||ve.TEXTURE_2D;var n=this._boundRenderer,a=n&&n.gl,i;if(a){var o=this._cache;o.use(n.__uid__),i=o.get("attached_textures")}var s=this._textures[t];if(!(s&&s.target===r&&s.texture===e&&i&&i[t]!=null)){var l=!0;n&&(l=this._doAttach(n,e,t,r),this.viewport||n.setViewport(0,0,e.width,e.height,1)),l&&(this._textures[t]=this._textures[t]||{},this._textures[t].texture=e,this._textures[t].target=r)}},_doAttach:function(e,t,r,n){var a=e.gl,i=t.getWebGLTexture(e),o=this._cache.get("attached_textures");if(o&&o[r]){var s=o[r];if(s.texture===t&&s.target===n)return}r=+r;var l=!0;if(r===tv||r===ve.DEPTH_STENCIL_ATTACHMENT){var u=e.getGLExtension("WEBGL_depth_texture");if(u||(console.error("Depth texture is not supported by the browser"),l=!1),t.format!==ve.DEPTH_COMPONENT&&t.format!==ve.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),l=!1),l){var c=this._cache.get(_s);c&&(a.framebufferRenderbuffer(Du,tv,Bh,null),a.deleteRenderbuffer(c),this._cache.put(_s,!1)),this._cache.put(Db,!1),this._cache.put(Mb,!0)}}return a.framebufferTexture2D(Du,r,n,i,0),o||(o={},this._cache.put("attached_textures",o)),o[r]=o[r]||{},o[r].texture=t,o[r].target=n,l},_doDetach:function(e,t,r){e.framebufferTexture2D(Du,t,r,null,0);var n=this._cache.get("attached_textures");n&&n[t]&&(n[t]=null),(t===tv||t===ve.DEPTH_STENCIL_ATTACHMENT)&&this._cache.put(Mb,!1)},detach:function(e,t){if(this._textures[e]=null,this._boundRenderer){var r=this._cache;r.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,t)}},dispose:function(e){var t=e.gl,r=this._cache;r.use(e.__uid__);var n=r.get(_s);n&&t.deleteRenderbuffer(n);var a=r.get(yg);a&&t.deleteFramebuffer(a),r.deleteContext(e.__uid__),this._textures={}}});jp.DEPTH_ATTACHMENT=tv;jp.COLOR_ATTACHMENT0=yU;jp.STENCIL_ATTACHMENT=ve.STENCIL_ATTACHMENT;jp.DEPTH_STENCIL_ATTACHMENT=ve.DEPTH_STENCIL_ATTACHMENT;const Wn=jp;var hge=["px","nx","py","ny","pz","nz"],vge=Va.extend(function(){var e={position:new ke,far:1e3,near:.1,texture:null,shadowMapPass:null},t=e._cameras={px:new Pn({fov:90}),nx:new Pn({fov:90}),py:new Pn({fov:90}),ny:new Pn({fov:90}),pz:new Pn({fov:90}),nz:new Pn({fov:90})};return t.px.lookAt(ke.POSITIVE_X,ke.NEGATIVE_Y),t.nx.lookAt(ke.NEGATIVE_X,ke.NEGATIVE_Y),t.py.lookAt(ke.POSITIVE_Y,ke.POSITIVE_Z),t.ny.lookAt(ke.NEGATIVE_Y,ke.NEGATIVE_Z),t.pz.lookAt(ke.POSITIVE_Z,ke.NEGATIVE_Y),t.nz.lookAt(ke.NEGATIVE_Z,ke.NEGATIVE_Y),e._frameBuffer=new Wn,e},{getCamera:function(e){return this._cameras[e]},render:function(e,t,r){var n=e.gl;r||t.update();for(var a=this.texture.width,i=2*Math.atan(a/(a-.5))/Math.PI*180,o=0;o<6;o++){var s=hge[o],l=this._cameras[s];if(ke.copy(l.position,this.position),l.far=this.far,l.near=this.near,l.fov=i,this.shadowMapPass){l.update();var u=t.getBoundingBox();u.applyTransform(l.viewMatrix),t.viewBoundingBoxLastFrame.copy(u),this.shadowMapPass.render(e,t,l,!0)}this._frameBuffer.attach(this.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(e),e.render(t,l,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}});const TA=vge;var pge=zt.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var e=this.heightSegments,t=this.widthSegments,r=this.attributes,n=[],a=[],i=[],o=[],s=0;s<=e;s++)for(var l=s/e,u=0;u<=t;u++){var c=u/t;if(n.push([2*c-1,2*l-1,0]),a&&a.push([c,l]),i&&i.push([0,0,1]),u<t&&s<e){var f=u+s*(t+1);o.push([f,f+1,f+t+1]),o.push([f+t+1,f+1,f+t+2])}}r.position.fromArray(n),r.texcoord0.fromArray(a),r.normal.fromArray(i),this.initIndicesFromArray(o),this.boundingBox=new Ia,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});const $_=pge;var $r=new qe,mge=zt.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var e={px:Pf("px",this.depthSegments,this.heightSegments),nx:Pf("nx",this.depthSegments,this.heightSegments),py:Pf("py",this.widthSegments,this.depthSegments),ny:Pf("ny",this.widthSegments,this.depthSegments),pz:Pf("pz",this.widthSegments,this.heightSegments),nz:Pf("nz",this.widthSegments,this.heightSegments)},t=["position","texcoord0","normal"],r=0,n=0;for(var a in e)r+=e[a].vertexCount,n+=e[a].indices.length;for(var i=0;i<t.length;i++)this.attributes[t[i]].init(r);this.indices=new hn.Uint16Array(n);var o=0,s=0;for(var a in e){for(var l=e[a],i=0;i<t.length;i++)for(var u=t[i],c=l.attributes[u].value,f=l.attributes[u].size,d=u==="normal",h=0;h<c.length;h++){var v=c[h];this.inside&&d&&(v=-v),this.attributes[u].value[h+f*s]=v}for(var p=l.indices.length,h=0;h<l.indices.length;h++)this.indices[h+o]=s+l.indices[this.inside?p-h-1:h];o+=l.indices.length,s+=l.vertexCount}this.boundingBox=new Ia,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function Pf(e,t,r){$r.identity();var n=new $_({widthSegments:t,heightSegments:r});switch(e){case"px":qe.translate($r,$r,ke.POSITIVE_X),qe.rotateY($r,$r,Math.PI/2);break;case"nx":qe.translate($r,$r,ke.NEGATIVE_X),qe.rotateY($r,$r,-Math.PI/2);break;case"py":qe.translate($r,$r,ke.POSITIVE_Y),qe.rotateX($r,$r,-Math.PI/2);break;case"ny":qe.translate($r,$r,ke.NEGATIVE_Y),qe.rotateX($r,$r,Math.PI/2);break;case"pz":qe.translate($r,$r,ke.POSITIVE_Z);break;case"nz":qe.translate($r,$r,ke.NEGATIVE_Z),qe.rotateY($r,$r,Math.PI);break}return n.applyTransform($r),n}const _U=mge,gge=`@export clay.skybox.vertex
#define SHADER_NAME skybox
uniform mat4 world : WORLD;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
varying vec3 v_WorldPosition;
void main()
{
 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end
@export clay.skybox.fragment
#define PI 3.1415926
uniform mat4 viewInverse : VIEWINVERSE;
#ifdef EQUIRECTANGULAR
uniform sampler2D environmentMap;
#else
uniform samplerCube environmentMap;
#endif
uniform float lod: 0.0;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
@import clay.util.srgb
@import clay.util.ACES
void main()
{
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
#ifdef EQUIRECTANGULAR
 float phi = acos(V.y);
 float theta = atan(-V.x, V.z) + PI * 0.5;
 vec2 uv = vec2(theta / 2.0 / PI, phi / PI);
 vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));
#else
 #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)
 vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));
 #else
 vec4 texel = decodeHDR(textureCube(environmentMap, V));
 #endif
#endif
#ifdef SRGB_DECODE
 texel = sRGBToLinear(texel);
#endif
#ifdef TONEMAPPING
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
#ifdef SRGB_ENCODE
 texel = linearTosRGB(texel);
#endif
 gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));
}
@end`;Pe.import(gge);var yge=Ju.extend(function(){var e=new Pe({vertex:Pe.source("clay.skybox.vertex"),fragment:Pe.source("clay.skybox.fragment")}),t=new Ui({shader:e,depthMask:!1});return{scene:null,geometry:new _U,material:t,environmentMap:null,culling:!1,_dummyCamera:new Pn}},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){e.textureType==="texture2D"?(this.material.define("EQUIRECTANGULAR"),e.minFilter=Qe.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,t,r){this.renderSkybox(e,r)},renderSkybox:function(e,t){var r=this._dummyCamera;r.aspect=e.getViewportAspect(),r.fov=t.fov||50,r.updateProjectionMatrix(),qe.invert(r.invProjectionMatrix,r.projectionMatrix),r.worldTransform.copy(t.worldTransform),r.viewMatrix.copy(t.viewMatrix),this.position.copy(t.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],r)}});const mp=yge;var _ge=542327876,xge=131072,bge=512,wge=4;function CA(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var Sge=31,Tge=CA("DXT1"),Cge=CA("DXT3"),Age=CA("DXT5"),Ege=0,Dge=1,Mge=2,Pge=3,Lge=4,Ige=7,Rge=20,Oge=21,kge=28,Nge={parse:function(e,t){var r=new Int32Array(e,0,Sge);if(r[Ege]!==_ge||!r(Rge)&wge)return null;var n=r(Oge),a=r[Lge],i=r[Pge],o=r[kge]&bge,s=r[Mge]&xge,l,u;switch(n){case Tge:l=8,u=Qe.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case Cge:l=16,u=Qe.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case Age:l=16,u=Qe.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var c=r[Dge]+4,f=o?6:1,d=1;s&&(d=Math.max(1,r[Ige]));for(var h=[],v=0;v<f;v++){var p=a,m=i;h[v]=new _t({width:p,height:m,format:u});for(var g=[],y=0;y<d;y++){var _=Math.max(4,p)/4*Math.max(4,m)/4*l,x=new Uint8Array(e,c,_);c+=_,p*=.5,m*=.5,g[y]=x}h[v].pixels=g[0],s&&(h[v].mipmaps=g)}if(t)t.width=h[0].width,t.height=h[0].height,t.format=h[0].format,t.pixels=h[0].pixels,t.mipmaps=h[0].mipmaps;else return h[0]}};const Bge=Nge;var ry=String.fromCharCode,Vge=8,Fge=32767;function zge(e,t,r,n){if(e[3]>0){var a=Math.pow(2,e[3]-128-8+n);t[r+0]=e[0]*a,t[r+1]=e[1]*a,t[r+2]=e[2]*a}else t[r+0]=0,t[r+1]=0,t[r+2]=0;return t[r+3]=1,t}function Uge(e,t,r){for(var n="",a=t;a<r;a++)n+=ry(e[a]);return n}function Hge(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]}function ZR(e,t,r,n){for(var a=0,i=0,o=n;o>0;)if(e[i][0]=t[r++],e[i][1]=t[r++],e[i][2]=t[r++],e[i][3]=t[r++],e[i][0]===1&&e[i][1]===1&&e[i][2]===1){for(var s=e[i][3]<<a>>>0;s>0;s--)Hge(e[i-1],e[i]),i++,o--;a+=8}else i++,o--,a=0;return r}function Gge(e,t,r,n){if(n<Vge|n>Fge)return ZR(e,t,r,n);var a=t[r++];if(a!=2)return ZR(e,t,r-1,n);if(e[0][1]=t[r++],e[0][2]=t[r++],a=t[r++],(e[0][2]<<8>>>0|a)>>>0!==n)return null;for(var a=0;a<4;a++)for(var i=0;i<n;){var o=t[r++];if(o>128){o=(o&127)>>>0;for(var s=t[r++];o--;)e[i++][a]=s}else for(;o--;)e[i++][a]=t[r++]}return r}var $ge={parseRGBE:function(e,t,r){r==null&&(r=0);var n=new Uint8Array(e),a=n.length;if(Uge(n,0,2)==="#?"){for(var i=2;i<a&&!(ry(n[i])===`
`&&ry(n[i+1])===`
`);i++);if(!(i>=a)){i+=2;for(var o="";i<a;i++){var s=ry(n[i]);if(s===`
`)break;o+=s}var l=o.split(" "),u=parseInt(l[1]),c=parseInt(l[3]);if(!(!c||!u)){for(var f=i+1,d=[],h=0;h<c;h++){d[h]=[];for(var v=0;v<4;v++)d[h][v]=0}for(var p=new Float32Array(c*u*4),m=0,g=0;g<u;g++){var f=Gge(d,n,f,c);if(!f)return null;for(var h=0;h<c;h++)zge(d[h],p,m,r),m+=4}return t||(t=new _t),t.width=c,t.height=u,t.pixels=p,t.type=Qe.FLOAT,t}}}},parseRGBEFromPNG:function(e){}};const Wge=$ge;var ny={loadTexture:function(e,t,r,n){var a;if(typeof t=="function"?(r=t,n=r,t={}):t=t||{},typeof e=="string"){if(e.match(/.hdr$/)||t.fileType==="hdr")return a=new _t({width:0,height:0,sRGB:!1}),ny._fetchTexture(e,function(i){Wge.parseRGBE(i,a,t.exposure),a.dirty(),r&&r(a)},n),a;e.match(/.dds$/)||t.fileType==="dds"?(a=new _t({width:0,height:0}),ny._fetchTexture(e,function(i){Bge.parse(i,a),a.dirty(),r&&r(a)},n)):(a=new _t,a.load(e),a.success(r),a.error(n))}else typeof e=="object"&&typeof e.px<"u"&&(a=new pp,a.load(e),a.success(r),a.error(n));return a},loadPanorama:function(e,t,r,n,a,i){var o=this;typeof n=="function"?(a=n,i=a,n={}):n=n||{},ny.loadTexture(t,n,function(s){s.flipY=n.flipY||!1,o.panoramaToCubeMap(e,s,r,n),s.dispose(e),a&&a(r)},i)},panoramaToCubeMap:function(e,t,r,n){var a=new TA,i=new mp({scene:new ql});return i.setEnvironmentMap(t),n=n||{},n.encodeRGBM&&i.material.define("fragment","RGBM_ENCODE"),r.sRGB=t.sRGB,a.texture=r,a.render(e,i.scene),a.texture=null,a.dispose(e),r},heightToNormal:function(e,t){var r=document.createElement("canvas"),n=r.width=e.width,a=r.height=e.height,i=r.getContext("2d");i.drawImage(e,0,0,n,a),t=t||!1;for(var o=i.getImageData(0,0,n,a),s=i.createImageData(n,a),l=0;l<o.data.length;l+=4){if(t){var u=o.data[l],c=o.data[l+1],f=o.data[l+2],d=Math.abs(u-c)+Math.abs(c-f);if(d>20)return console.warn("Given image is not a height map"),e}var h,v,p,m;l%(n*4)===0?(h=o.data[l],p=o.data[l+4]):l%(n*4)===(n-1)*4?(h=o.data[l-4],p=o.data[l]):(h=o.data[l-4],p=o.data[l+4]),l<n*4?(v=o.data[l],m=o.data[l+n*4]):l>n*(a-1)*4?(v=o.data[l-n*4],m=o.data[l]):(v=o.data[l-n*4],m=o.data[l+n*4]),s.data[l]=h-p+127,s.data[l+1]=v-m+127,s.data[l+2]=255,s.data[l+3]=255}return i.putImageData(s,0,0),r},isHeightImage:function(e,t,r){if(!e||!e.width||!e.height)return!1;var n=document.createElement("canvas"),a=n.getContext("2d"),i=t||32;r=r||20,n.width=n.height=i,a.drawImage(e,0,0,i,i);for(var o=a.getImageData(0,0,i,i),s=0;s<o.data.length;s+=4){var l=o.data[s],u=o.data[s+1],c=o.data[s+2],f=Math.abs(l-u)+Math.abs(u-c);if(f>r)return!1}return!0},_fetchTexture:function(e,t,r){hn.request.get({url:e,responseType:"arraybuffer",onload:t,onerror:r})},createChessboard:function(e,t,r,n){e=e||512,t=t||64,r=r||"black",n=n||"white";var a=Math.ceil(e/t),i=document.createElement("canvas");i.width=e,i.height=e;var o=i.getContext("2d");o.fillStyle=n,o.fillRect(0,0,e,e),o.fillStyle=r;for(var s=0;s<a;s++)for(var l=0;l<a;l++){var u=l%2?s%2:s%2-1;u&&o.fillRect(s*t,l*t,t,t)}var c=new _t({image:i,anisotropic:8});return c},createBlank:function(e){var t=document.createElement("canvas");t.width=1,t.height=1;var r=t.getContext("2d");r.fillStyle=e,r.fillRect(0,0,1,1);var n=new _t({image:t});return n}};const hc=ny;var pT=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function mT(e){return"_on"+e}var gT=function(e){var t=this;this._texture=new _t({anisotropic:32,flipY:!1,surface:this,dispose:function(r){t.dispose(),_t.prototype.dispose.call(this,r)}}),pT.forEach(function(r){this[mT(r)]=function(n){n.triangle&&this._meshes.forEach(function(a){this.dispatchEvent(r,a,n.triangle,n.point)},this)}},this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};gT.prototype={constructor:gT,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var t=e.getDom();if(!(t instanceof HTMLCanvasElement))console.error("ECharts must init on canvas if it is used as texture."),t=document.createElement("canvas");else{var r=this,n=e.getZr(),a=n.__oldRefreshImmediately||n.refreshImmediately;n.refreshImmediately=function(){a.call(this),r._texture.dirty(),r.onupdate&&r.onupdate()},n.__oldRefreshImmediately=a}this._texture.image=t,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new ke,t=new ke,r=new ke,n=new ni,a=new ni,i=new ni,o=new ni,s=new ke;return function(l,u,c,f){var d=u.geometry,h=d.attributes.position,v=d.attributes.texcoord0,p=ke.dot,m=ke.cross;h.get(c[0],e.array),h.get(c[1],t.array),h.get(c[2],r.array),v.get(c[0],n.array),v.get(c[1],a.array),v.get(c[2],i.array),m(s,t,r);var g=p(e,s),y=p(f,s)/g;m(s,r,e);var _=p(f,s)/g;m(s,e,t);var x=p(f,s)/g;ni.scale(o,n,y),ni.scaleAndAdd(o,o,a,_),ni.scaleAndAdd(o,o,i,x);var w=o.x*this._chart.getWidth(),b=o.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(l,{zrX:w,zrY:b})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(pT.forEach(function(t){e.on(t,this[mT(t)],this)},this),this._meshes.push(e))},detachFromMesh:function(e){var t=this._meshes.indexOf(e);t>=0&&this._meshes.splice(t,1),pT.forEach(function(r){e.off(r,this[mT(r)])},this)},dispose:function(){this._meshes.forEach(function(e){this.detachFromMesh(e)},this)}};const Yge=gT;var Xge=gd.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=gd.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}});const yd=Xge,jge=`
@export clay.compositor.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
varying vec2 v_Texcoord;
void main()
{
 v_Texcoord = texcoord;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end`;Pe.import(jge);var qge=new $_,KR=new Ju({geometry:qge,frustumCulling:!1}),Zge=new yd,Kge=Va.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var e=new Pe(Pe.source("clay.compositor.vertex"),this.fragment),t=new Ui({shader:e});t.enableTexturesAll(),this.material=t},{setUniform:function(e,t){this.material.setUniform(e,t)},getUniform:function(e){var t=this.material.uniforms[e];if(t)return t.value},attachOutput:function(e,t){this.outputs||(this.outputs={}),t=t||ve.COLOR_ATTACHMENT0,this.outputs[t]=e},detachOutput:function(e){for(var t in this.outputs)this.outputs[t]===e&&(this.outputs[t]=null)},bind:function(e,t){if(this.outputs)for(var r in this.outputs){var n=this.outputs[r];n&&t.attach(n,r)}t&&t.bind(e)},unbind:function(e,t){t.unbind(e)},render:function(e,t){var r=e.gl;if(t){this.bind(e,t);var n=e.getGLExtension("EXT_draw_buffers");if(n&&this.outputs){var a=[];for(var i in this.outputs)i=+i,i>=r.COLOR_ATTACHMENT0&&i<=r.COLOR_ATTACHMENT0+8&&a.push(i);n.drawBuffersEXT(a)}}this.trigger("beforerender",this,e);var o=this.clearDepth?r.DEPTH_BUFFER_BIT:0;if(r.depthMask(!0),this.clearColor){o=o|r.COLOR_BUFFER_BIT,r.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&r.clearColor(s[0],s[1],s[2],s[3])}r.clear(o),this.blendWithPrevious?(r.enable(r.BLEND),this.material.transparent=!0):(r.disable(r.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),t&&this.unbind(e,t)},renderQuad:function(e){KR.material=this.material,e.renderPass([KR],Zge)},dispose:function(e){}});const mn=Kge,Qge=`#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform sampler2D normalDistribution;
uniform vec2 viewportSize : [512, 256];
const vec3 N = vec3(0.0, 0.0, 1.0);
const float fSampleNumber = float(SAMPLE_NUMBER);
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
float G_Smith(float roughness, float NoV, float NoL) {
 float k = roughness * roughness / 2.0;
 float G1V = NoV / (NoV * (1.0 - k) + k);
 float G1L = NoL / (NoL * (1.0 - k) + k);
 return G1L * G1V;
}
void main() {
 vec2 uv = gl_FragCoord.xy / viewportSize;
 float NoV = uv.x;
 float roughness = uv.y;
 vec3 V;
 V.x = sqrt(1.0 - NoV * NoV);
 V.y = 0.0;
 V.z = NoV;
 float A = 0.0;
 float B = 0.0;
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(L.z, 0.0, 1.0);
 float NoH = clamp(H.z, 0.0, 1.0);
 float VoH = clamp(dot(V, H), 0.0, 1.0);
 if (NoL > 0.0) {
 float G = G_Smith(roughness, NoV, NoL);
 float G_Vis = G * VoH / (NoH * NoV);
 float Fc = pow(1.0 - VoH, 5.0);
 A += (1.0 - Fc) * G_Vis;
 B += Fc * G_Vis;
 }
 }
 gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);
}
`,Jge=`#define SHADER_NAME prefilter
#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform mat4 viewInverse : VIEWINVERSE;
uniform samplerCube environmentMap;
uniform sampler2D normalDistribution;
uniform float roughness : 0.5;
varying vec2 v_Texcoord;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
void main() {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
 vec3 N = V;
 vec3 prefilteredColor = vec3(0.0);
 float totalWeight = 0.0;
 float fMaxSampleNumber = float(SAMPLE_NUMBER);
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(dot(N, L), 0.0, 1.0);
 if (NoL > 0.0) {
 prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;
 totalWeight += NoL;
 }
 }
 gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));
}
`;var vc={},Pb=["px","nx","py","ny","pz","nz"];vc.prefilterEnvironmentMap=function(e,t,r,n,a){(!a||!n)&&(n=vc.generateNormalDistribution(),a=vc.integrateBRDF(e,n)),r=r||{};var i=r.width||64,o=r.height||64,s=r.type||t.type,l=new pp({width:i,height:o,type:s,flipY:!1,mipmaps:[]});l.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var u=Math.min(i,o),c=Math.log(u)/Math.log(2)+1,f=new Ui({shader:new Pe({vertex:Pe.source("clay.skybox.vertex"),fragment:Jge})});f.set("normalDistribution",n),r.encodeRGBM&&f.define("fragment","RGBM_ENCODE"),r.decodeRGBM&&f.define("fragment","RGBM_DECODE");var d=new ql,h;if(t.textureType==="texture2D"){var v=new pp({width:i,height:o,type:s===Qe.FLOAT?Qe.HALF_FLOAT:s});hc.panoramaToCubeMap(e,t,v,{encodeRGBM:r.decodeRGBM}),t=v}h=new mp({scene:d,material:f}),h.material.set("environmentMap",t);var p=new TA({texture:l});r.encodeRGBM&&(s=l.type=Qe.UNSIGNED_BYTE);for(var m=new _t({width:i,height:o,type:s}),g=new Wn({depthBuffer:!1}),y=hn[s===Qe.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],_=0;_<c;_++){l.mipmaps[_]={pixels:{}},h.material.set("roughness",_/(c-1));for(var x=m.width,w=2*Math.atan(x/(x-.5))/Math.PI*180,b=0;b<Pb.length;b++){var T=new y(m.width*m.height*4);g.attach(m),g.bind(e);var S=p.getCamera(Pb[b]);S.fov=w,e.render(d,S),e.gl.readPixels(0,0,m.width,m.height,Qe.RGBA,s,T),g.unbind(e),l.mipmaps[_].pixels[Pb[b]]=T}m.width/=2,m.height/=2,m.dirty()}return g.dispose(e),m.dispose(e),h.dispose(e),n.dispose(e),{environmentMap:l,brdfLookup:a,normalDistribution:n,maxMipmapLevel:c}};vc.integrateBRDF=function(e,t){t=t||vc.generateNormalDistribution();var r=new Wn({depthBuffer:!1}),n=new mn({fragment:Qge}),a=new _t({width:512,height:256,type:Qe.HALF_FLOAT,wrapS:Qe.CLAMP_TO_EDGE,wrapT:Qe.CLAMP_TO_EDGE,minFilter:Qe.NEAREST,magFilter:Qe.NEAREST,useMipmap:!1});return n.setUniform("normalDistribution",t),n.setUniform("viewportSize",[512,256]),n.attachOutput(a),n.render(e,r),r.dispose(e),a};vc.generateNormalDistribution=function(r,n){for(var r=r||256,n=n||1024,a=new _t({width:r,height:n,type:Qe.FLOAT,minFilter:Qe.NEAREST,magFilter:Qe.NEAREST,wrapS:Qe.CLAMP_TO_EDGE,wrapT:Qe.CLAMP_TO_EDGE,useMipmap:!1}),i=new Float32Array(n*r*4),o=[],s=0;s<r;s++){for(var l=s/r,u=l*l,c=0;c<n;c++){var f=(c<<16|c>>>16)>>>0;f=((f&1431655765)<<1|(f&2863311530)>>>1)>>>0,f=((f&858993459)<<2|(f&3435973836)>>>2)>>>0,f=((f&252645135)<<4|(f&4042322160)>>>4)>>>0,f=(((f&16711935)<<8|(f&4278255360)>>>8)>>>0)/4294967296;var d=Math.sqrt((1-f)/(1+(u*u-1)*f));o[c]=d}for(var c=0;c<n;c++){var h=(c*r+s)*4,d=o[c],v=Math.sqrt(1-d*d),p=c/n,m=2*Math.PI*p;i[h]=v*Math.cos(m),i[h+1]=d,i[h+2]=v*Math.sin(m),i[h+3]=1}}return a.pixels=i,a};const ay=vc;var eye=So.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,t){if(!e.getGLExtension("EXT_shader_texture_lod")){console.warn("Device not support textureCubeLodEXT");return}this._brdfLookup||(this._normalDistribution=ay.generateNormalDistribution(),this._brdfLookup=ay.integrateBRDF(e,this._normalDistribution));var r=this.cubemap;if(!r.__prefiltered){var n=ay.prefilterEnvironmentMap(e,r,{encodeRGBM:!0,width:t,height:t},this._normalDistribution,this._brdfLookup);this.cubemap=n.environmentMap,this.cubemap.__prefiltered=!0,r.dispose(e)}},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}});const tye=eye;var rye=So.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new hn.Float32Array(9*3)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var t=e._coefficientsTmpArr,r=0;r<e.coefficients.length;r++)t[r]=e.coefficients[r];return t}}}});const nye=rye;var xU={},ec=["px","nx","py","ny","pz","nz"];function aye(e,t){var r=e[0],n=e[1],a=e[2];return t===0?1:t===1?r:t===2?n:t===3?a:t===4?r*a:t===5?n*a:t===6?r*n:t===7?3*a*a-1:r*r-n*n}var iye={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function oye(e,t,r,n){for(var a=new hn.Float32Array(27),i=ae.create(),o=ae.create(),s=ae.create(),l=0;l<9;l++){for(var u=ae.create(),c=0;c<ec.length;c++){for(var f=t[ec[c]],d=ae.create(),h=0,v=0,p=iye[ec[c]],m=0;m<n;m++)for(var g=0;g<r;g++){i[0]=g/(r-1)*2-1,i[1]=m/(n-1)*2-1,i[2]=-1,ae.normalize(i,i),s[0]=i[p[0]]*p[3],s[1]=i[p[1]]*p[4],s[2]=i[p[2]]*p[5],o[0]=f[v++]/255,o[1]=f[v++]/255,o[2]=f[v++]/255;var y=f[v++]/255*8.12;o[0]*=y,o[1]*=y,o[2]*=y,ae.scaleAndAdd(d,d,o,aye(s,l)*-i[2]),h+=-i[2]}ae.scaleAndAdd(u,u,d,1/h)}a[l*3]=u[0]/6,a[l*3+1]=u[1]/6,a[l*3+2]=u[2]/6}return a}xU.projectEnvironmentMap=function(e,t,r){r=r||{},r.lod=r.lod||0;var n,a=new ql,i=64;t.textureType==="texture2D"?n=new mp({scene:a,environmentMap:t}):(i=t.image&&t.image.px?t.image.px.width:t.width,n=new mp({scene:a,environmentMap:t}));var o=Math.ceil(i/Math.pow(2,r.lod)),s=Math.ceil(i/Math.pow(2,r.lod)),l=new _t({width:o,height:s}),u=new Wn;n.material.define("fragment","RGBM_ENCODE"),r.decodeRGBM&&n.material.define("fragment","RGBM_DECODE"),n.material.set("lod",r.lod);for(var c=new TA({texture:l}),f={},d=0;d<ec.length;d++){f[ec[d]]=new Uint8Array(o*s*4);var h=c.getCamera(ec[d]);h.fov=90,u.attach(l),u.bind(e),e.render(a,h),e.gl.readPixels(0,0,o,s,Qe.RGBA,Qe.UNSIGNED_BYTE,f[ec[d]]),u.unbind(e)}return n.dispose(e),u.dispose(e),l.dispose(e),oye(e,f,o,s)};const sye=xU;var lye={firstNotNull:function(){for(var e=0,t=arguments.length;e<t;e++)if(arguments[e]!=null)return arguments[e]},queryDataIndex:function(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Ne(t.dataIndex)?nt(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Ne(t.name)?nt(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}};const Tt=lye;var uye=zt.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var e=this.heightSegments,t=this.widthSegments,r=this.attributes.position,n=this.attributes.texcoord0,a=this.attributes.normal,i=(t+1)*(e+1);r.init(i),n.init(i),a.init(i);var o=i>65535?Uint32Array:Uint16Array,s=this.indices=new o(t*e*6),l,u,c,f,d,h,v,_=this.radius,p=this.phiStart,m=this.phiLength,g=this.thetaStart,y=this.thetaLength,_=this.radius,x=[],w=[],b=0,T=1/_;for(v=0;v<=e;v++)for(h=0;h<=t;h++)f=h/t,d=v/e,l=-_*Math.cos(p+f*m)*Math.sin(g+d*y),u=_*Math.cos(g+d*y),c=_*Math.sin(p+f*m)*Math.sin(g+d*y),x[0]=l,x[1]=u,x[2]=c,w[0]=f,w[1]=d,r.set(b,x),n.set(b,w),x[0]*=T,x[1]*=T,x[2]*=T,a.set(b,x),b++;var S,A,M,C,D=t+1,P=0;for(v=0;v<e;v++)for(h=0;h<t;h++)A=v*D+h,S=v*D+h+1,C=(v+1)*D+h+1,M=(v+1)*D+h,s[P++]=S,s[P++]=A,s[P++]=C,s[P++]=A,s[P++]=M,s[P++]=C;this.boundingBox=new Ia,this.boundingBox.max.set(_,_,_),this.boundingBox.min.set(-_,-_,-_)}});const cye=uye;var fye=So.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}}}});const dye=fye;var hye=So.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new ke,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}}},clone:function(){var e=So.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const vye=hye;var pye=So.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}}},clone:function(){var e=So.prototype.clone.call(this);return e.range=this.range,e}});const mye=pye;var gye=So.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new ke,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var t=e.color,r=e.intensity;return[t[0]*r,t[1]*r,t[2]*r]}}},clone:function(){var e=So.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const yye=gye;var Vt=function(e,t,r,n){e=e||0,t=t||0,r=r||0,n=n||0,this.array=Ue.fromValues(e,t,r,n),this._dirty=!0};Vt.prototype={constructor:Vt,add:function(e){return Ue.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,r,n){return this.array[0]=e,this.array[1]=t,this.array[2]=r,this.array[3]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new Vt(this.x,this.y,this.z,this.w)},copy:function(e){return Ue.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return Ue.dist(this.array,e.array)},distance:function(e){return Ue.distance(this.array,e.array)},div:function(e){return Ue.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return Ue.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return Ue.dot(this.array,e.array)},len:function(){return Ue.len(this.array)},length:function(){return Ue.length(this.array)},lerp:function(e,t,r){return Ue.lerp(this.array,e.array,t.array,r),this._dirty=!0,this},min:function(e){return Ue.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return Ue.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return Ue.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return Ue.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return Ue.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return Ue.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return Ue.random(this.array,e),this._dirty=!0,this},scale:function(e){return Ue.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return Ue.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return Ue.sqrDist(this.array,e.array)},squaredDistance:function(e){return Ue.squaredDistance(this.array,e.array)},sqrLen:function(){return Ue.sqrLen(this.array)},squaredLength:function(){return Ue.squaredLength(this.array)},sub:function(e){return Ue.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return Ue.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return Ue.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return Ue.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Vh=Object.defineProperty;if(Vh){var _g=Vt.prototype;Vh(_g,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Vh(_g,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),Vh(_g,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),Vh(_g,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}Vt.add=function(e,t,r){return Ue.add(e.array,t.array,r.array),e._dirty=!0,e};Vt.set=function(e,t,r,n,a){Ue.set(e.array,t,r,n,a),e._dirty=!0};Vt.copy=function(e,t){return Ue.copy(e.array,t.array),e._dirty=!0,e};Vt.dist=function(e,t){return Ue.distance(e.array,t.array)};Vt.distance=Vt.dist;Vt.div=function(e,t,r){return Ue.divide(e.array,t.array,r.array),e._dirty=!0,e};Vt.divide=Vt.div;Vt.dot=function(e,t){return Ue.dot(e.array,t.array)};Vt.len=function(e){return Ue.length(e.array)};Vt.lerp=function(e,t,r,n){return Ue.lerp(e.array,t.array,r.array,n),e._dirty=!0,e};Vt.min=function(e,t,r){return Ue.min(e.array,t.array,r.array),e._dirty=!0,e};Vt.max=function(e,t,r){return Ue.max(e.array,t.array,r.array),e._dirty=!0,e};Vt.mul=function(e,t,r){return Ue.multiply(e.array,t.array,r.array),e._dirty=!0,e};Vt.multiply=Vt.mul;Vt.negate=function(e,t){return Ue.negate(e.array,t.array),e._dirty=!0,e};Vt.normalize=function(e,t){return Ue.normalize(e.array,t.array),e._dirty=!0,e};Vt.random=function(e,t){return Ue.random(e.array,t),e._dirty=!0,e};Vt.scale=function(e,t,r){return Ue.scale(e.array,t.array,r),e._dirty=!0,e};Vt.scaleAndAdd=function(e,t,r,n){return Ue.scaleAndAdd(e.array,t.array,r.array,n),e._dirty=!0,e};Vt.sqrDist=function(e,t){return Ue.sqrDist(e.array,t.array)};Vt.squaredDistance=Vt.sqrDist;Vt.sqrLen=function(e){return Ue.sqrLen(e.array)};Vt.squaredLength=Vt.sqrLen;Vt.sub=function(e,t,r){return Ue.subtract(e.array,t.array,r.array),e._dirty=!0,e};Vt.subtract=Vt.sub;Vt.transformMat4=function(e,t,r){return Ue.transformMat4(e.array,t.array,r.array),e._dirty=!0,e};Vt.transformQuat=function(e,t,r){return Ue.transformQuat(e.array,t.array,r.array),e._dirty=!0,e};const _ye=Vt;var ma={};ma.create=function(){var e=new jn(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e};ma.clone=function(e){var t=new jn(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};ma.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e};ma.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e};ma.transpose=function(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e};ma.invert=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*i-a*n;return o?(o=1/o,e[0]=i*o,e[1]=-n*o,e[2]=-a*o,e[3]=r*o,e):null};ma.adjoint=function(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e};ma.determinant=function(e){return e[0]*e[3]-e[2]*e[1]};ma.multiply=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*s+i*l,e[1]=a*s+o*l,e[2]=n*u+i*c,e[3]=a*u+o*c,e};ma.mul=ma.multiply;ma.rotate=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*s,e[1]=a*l+o*s,e[2]=n*-s+i*l,e[3]=a*-s+o*l,e};ma.scale=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],l=r[1];return e[0]=n*s,e[1]=a*s,e[2]=i*l,e[3]=o*l,e};ma.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))};ma.LDU=function(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]};const jr=ma;var Na=function(){this.array=jr.create(),this._dirty=!0};Na.prototype={constructor:Na,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return new Na().copy(this)},copy:function(e){return jr.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return jr.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return jr.determinant(this.array)},identity:function(){return jr.identity(this.array),this._dirty=!0,this},invert:function(){return jr.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return jr.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return jr.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return jr.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return jr.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return jr.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return jr.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return jr.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};Na.adjoint=function(e,t){return jr.adjoint(e.array,t.array),e._dirty=!0,e};Na.copy=function(e,t){return jr.copy(e.array,t.array),e._dirty=!0,e};Na.determinant=function(e){return jr.determinant(e.array)};Na.identity=function(e){return jr.identity(e.array),e._dirty=!0,e};Na.invert=function(e,t){return jr.invert(e.array,t.array),e._dirty=!0,e};Na.mul=function(e,t,r){return jr.mul(e.array,t.array,r.array),e._dirty=!0,e};Na.multiply=Na.mul;Na.rotate=function(e,t,r){return jr.rotate(e.array,t.array,r),e._dirty=!0,e};Na.scale=function(e,t,r){return jr.scale(e.array,t.array,r.array),e._dirty=!0,e};Na.transpose=function(e,t){return jr.transpose(e.array,t.array),e._dirty=!0,e};const xye=Na;var ti={};ti.create=function(){var e=new jn(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e};ti.clone=function(e){var t=new jn(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t};ti.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e};ti.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e};ti.invert=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=r*i-n*a;return l?(l=1/l,e[0]=i*l,e[1]=-n*l,e[2]=-a*l,e[3]=r*l,e[4]=(a*s-i*o)*l,e[5]=(n*o-r*s)*l,e):null};ti.determinant=function(e){return e[0]*e[3]-e[1]*e[2]};ti.multiply=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1],f=r[2],d=r[3],h=r[4],v=r[5];return e[0]=n*u+i*c,e[1]=a*u+o*c,e[2]=n*f+i*d,e[3]=a*f+o*d,e[4]=n*h+i*v+s,e[5]=a*h+o*v+l,e};ti.mul=ti.multiply;ti.rotate=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+i*u,e[1]=a*c+o*u,e[2]=n*-u+i*c,e[3]=a*-u+o*c,e[4]=s,e[5]=l,e};ti.scale=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n*u,e[1]=a*u,e[2]=i*c,e[3]=o*c,e[4]=s,e[5]=l,e};ti.translate=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=n*u+i*c+s,e[5]=a*u+o*c+l,e};ti.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};const cn=ti;var Ka=function(){this.array=cn.create(),this._dirty=!0};Ka.prototype={constructor:Ka,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return new Ka().copy(this)},copy:function(e){return cn.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return cn.determinant(this.array)},identity:function(){return cn.identity(this.array),this._dirty=!0,this},invert:function(){return cn.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return cn.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return cn.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return cn.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return cn.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return cn.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return cn.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return cn.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};Ka.copy=function(e,t){return cn.copy(e.array,t.array),e._dirty=!0,e};Ka.determinant=function(e){return cn.determinant(e.array)};Ka.identity=function(e){return cn.identity(e.array),e._dirty=!0,e};Ka.invert=function(e,t){return cn.invert(e.array,t.array),e._dirty=!0,e};Ka.mul=function(e,t,r){return cn.mul(e.array,t.array,r.array),e._dirty=!0,e};Ka.multiply=Ka.mul;Ka.rotate=function(e,t,r){return cn.rotate(e.array,t.array,r),e._dirty=!0,e};Ka.scale=function(e,t,r){return cn.scale(e.array,t.array,r.array),e._dirty=!0,e};Ka.translate=function(e,t,r){return cn.translate(e.array,t.array,r.array),e._dirty=!0,e};const bye=Ka;var Tn=function(){this.array=It.create(),this._dirty=!0};Tn.prototype={constructor:Tn,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return It.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new Tn().copy(this)},copy:function(e){return It.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return It.determinant(this.array)},fromMat2d:function(e){return It.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return It.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return It.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return It.identity(this.array),this._dirty=!0,this},invert:function(){return It.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return It.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return It.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return It.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return It.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return It.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return It.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return It.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return It.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return It.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};Tn.adjoint=function(e,t){return It.adjoint(e.array,t.array),e._dirty=!0,e};Tn.copy=function(e,t){return It.copy(e.array,t.array),e._dirty=!0,e};Tn.determinant=function(e){return It.determinant(e.array)};Tn.identity=function(e){return It.identity(e.array),e._dirty=!0,e};Tn.invert=function(e,t){return It.invert(e.array,t.array),e};Tn.mul=function(e,t,r){return It.mul(e.array,t.array,r.array),e._dirty=!0,e};Tn.multiply=Tn.mul;Tn.fromMat2d=function(e,t){return It.fromMat2d(e.array,t.array),e._dirty=!0,e};Tn.fromMat4=function(e,t){return It.fromMat4(e.array,t.array),e._dirty=!0,e};Tn.fromQuat=function(e,t){return It.fromQuat(e.array,t.array),e._dirty=!0,e};Tn.normalFromMat4=function(e,t){return It.normalFromMat4(e.array,t.array),e._dirty=!0,e};Tn.rotate=function(e,t,r){return It.rotate(e.array,t.array,r),e._dirty=!0,e};Tn.scale=function(e,t,r){return It.scale(e.array,t.array,r.array),e._dirty=!0,e};Tn.transpose=function(e,t){return It.transpose(e.array,t.array),e._dirty=!0,e};Tn.translate=function(e,t,r){return It.translate(e.array,t.array,r.array),e._dirty=!0,e};const wye=Tn;var Sye={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,t){this._animators=this._animators||[];var r=this,n;if(e){for(var a=e.split("."),i=r,o=0,s=a.length;o<s;o++)i&&(i=i[a[o]]);i&&(n=i)}else n=r;if(n==null)throw new Error("Target "+e+" not exists");var l=this._animators,u=new Y0(n,t),c=this;return u.during(function(){c.__zr&&c.__zr.refresh()}).done(function(){var f=l.indexOf(u);f>=0&&l.splice(f,1)}),l.push(u),this.__zr&&this.__zr.animation.addAnimator(u),u},stopAnimation:function(e){this._animators=this._animators||[];for(var t=this._animators,r=t.length,n=0;n<r;n++)t[n].stop(e);return t.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.addAnimator(this._animators[t])},removeAnimatorsFromZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.removeAnimator(this._animators[t])}};const Tye=Sye,bU=`
@export clay.util.rand
highp float rand(vec2 uv) {
 const highp float a = 12.9898, b = 78.233, c = 43758.5453;
 highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);
 return fract(sin(sn) * c);
}
@end
@export clay.util.calculate_attenuation
uniform float attenuationFactor : 5.0;
float lightAttenuation(float dist, float range)
{
 float attenuation = 1.0;
 attenuation = dist*dist/(range*range+1.0);
 float att_s = attenuationFactor;
 attenuation = 1.0/(attenuation*att_s+1.0);
 att_s = 1.0/(att_s+1.0);
 attenuation = attenuation - att_s;
 attenuation /= 1.0 - att_s;
 return clamp(attenuation, 0.0, 1.0);
}
@end
@export clay.util.edge_factor
#ifdef SUPPORT_STANDARD_DERIVATIVES
float edgeFactor(float width)
{
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#else
float edgeFactor(float width)
{
 return 1.0;
}
#endif
@end
@export clay.util.encode_float
vec4 encodeFloat(const in float depth)
{
 const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
 const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
 vec4 res = fract(depth * bitShifts);
 res -= res.xxyz * bit_mask;
 return res;
}
@end
@export clay.util.decode_float
float decodeFloat(const in vec4 color)
{
 const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);
 return dot(color, bitShifts);
}
@end
@export clay.util.float
@import clay.util.encode_float
@import clay.util.decode_float
@end
@export clay.util.rgbm_decode
vec3 RGBMDecode(vec4 rgbm, float range) {
 return range * rgbm.rgb * rgbm.a;
}
@end
@export clay.util.rgbm_encode
vec4 RGBMEncode(vec3 color, float range) {
 if (dot(color, color) == 0.0) {
 return vec4(0.0);
 }
 vec4 rgbm;
 color /= range;
 rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);
 rgbm.a = ceil(rgbm.a * 255.0) / 255.0;
 rgbm.rgb = color / rgbm.a;
 return rgbm;
}
@end
@export clay.util.rgbm
@import clay.util.rgbm_decode
@import clay.util.rgbm_encode
vec4 decodeHDR(vec4 color)
{
#if defined(RGBM_DECODE) || defined(RGBM)
 return vec4(RGBMDecode(color, 8.12), 1.0);
#else
 return color;
#endif
}
vec4 encodeHDR(vec4 color)
{
#if defined(RGBM_ENCODE) || defined(RGBM)
 return RGBMEncode(color.xyz, 8.12);
#else
 return color;
#endif
}
@end
@export clay.util.srgb
vec4 sRGBToLinear(in vec4 value) {
 return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);
}
vec4 linearTosRGB(in vec4 value) {
 return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);
}
@end
@export clay.chunk.skinning_header
#ifdef SKINNING
attribute vec3 weight : WEIGHT;
attribute vec4 joint : JOINT;
#ifdef USE_SKIN_MATRICES_TEXTURE
uniform sampler2D skinMatricesTexture : ignore;
uniform float skinMatricesTextureSize: ignore;
mat4 getSkinMatrix(sampler2D tex, float idx) {
 float j = idx * 4.0;
 float x = mod(j, skinMatricesTextureSize);
 float y = floor(j / skinMatricesTextureSize) + 0.5;
 vec2 scale = vec2(skinMatricesTextureSize);
 return mat4(
 texture2D(tex, vec2(x + 0.5, y) / scale),
 texture2D(tex, vec2(x + 1.5, y) / scale),
 texture2D(tex, vec2(x + 2.5, y) / scale),
 texture2D(tex, vec2(x + 3.5, y) / scale)
 );
}
mat4 getSkinMatrix(float idx) {
 return getSkinMatrix(skinMatricesTexture, idx);
}
#else
uniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;
mat4 getSkinMatrix(float idx) {
 return skinMatrix[int(idx)];
}
#endif
#endif
@end
@export clay.chunk.skin_matrix
mat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;
if (weight.y > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.y) * weight.y;
}
if (weight.z > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.z) * weight.z;
}
float weightW = 1.0-weight.x-weight.y-weight.z;
if (weightW > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.w) * weightW;
}
@end
@export clay.chunk.instancing_header
#ifdef INSTANCING
attribute vec4 instanceMat1;
attribute vec4 instanceMat2;
attribute vec4 instanceMat3;
#endif
@end
@export clay.chunk.instancing_matrix
mat4 instanceMat = mat4(
 vec4(instanceMat1.xyz, 0.0),
 vec4(instanceMat2.xyz, 0.0),
 vec4(instanceMat3.xyz, 0.0),
 vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)
);
@end
@export clay.util.parallax_correct
vec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {
 vec3 first = (boxMax - pos) / dir;
 vec3 second = (boxMin - pos) / dir;
 vec3 further = max(first, second);
 float dist = min(further.x, min(further.y, further.z));
 vec3 fixedPos = pos + dir * dist;
 vec3 boxCenter = (boxMax + boxMin) * 0.5;
 return normalize(fixedPos - boxCenter);
}
@end
@export clay.util.clamp_sample
vec4 clampSample(const in sampler2D texture, const in vec2 coord)
{
#ifdef STEREO
 float eye = step(0.5, coord.x) * 0.5;
 vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));
#else
 vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));
#endif
 return texture2D(texture, coordClamped);
}
@end
@export clay.util.ACES
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
@end`,Cye=`
@export ecgl.common.transformUniforms
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;
uniform mat4 world : WORLD;
@end

@export ecgl.common.attributes
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
attribute vec3 normal : NORMAL;
@end

@export ecgl.common.uv.header
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
uniform vec2 detailUvRepeat : [1.0, 1.0];
uniform vec2 detailUvOffset : [0.0, 0.0];

varying vec2 v_Texcoord;
varying vec2 v_DetailTexcoord;
@end

@export ecgl.common.uv.main
v_Texcoord = texcoord * uvRepeat + uvOffset;
v_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;
@end

@export ecgl.common.uv.fragmentHeader
varying vec2 v_Texcoord;
varying vec2 v_DetailTexcoord;
@end


@export ecgl.common.albedo.main

 vec4 albedoTexel = vec4(1.0);
#ifdef DIFFUSEMAP_ENABLED
 albedoTexel = texture2D(diffuseMap, v_Texcoord);
 #ifdef SRGB_DECODE
 albedoTexel = sRGBToLinear(albedoTexel);
 #endif
#endif

#ifdef DETAILMAP_ENABLED
 vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);
 #ifdef SRGB_DECODE
 detailTexel = sRGBToLinear(detailTexel);
 #endif
 albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);
 albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;
#endif

@end

@export ecgl.common.wireframe.vertexHeader

#ifdef WIREFRAME_QUAD
attribute vec4 barycentric;
varying vec4 v_Barycentric;
#elif defined(WIREFRAME_TRIANGLE)
attribute vec3 barycentric;
varying vec3 v_Barycentric;
#endif

@end

@export ecgl.common.wireframe.vertexMain

#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)
 v_Barycentric = barycentric;
#endif

@end


@export ecgl.common.wireframe.fragmentHeader

uniform float wireframeLineWidth : 1;
uniform vec4 wireframeLineColor: [0, 0, 0, 0.5];

#ifdef WIREFRAME_QUAD
varying vec4 v_Barycentric;
float edgeFactor () {
 vec4 d = fwidth(v_Barycentric);
 vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);
 return min(min(min(a4.x, a4.y), a4.z), a4.w);
}
#elif defined(WIREFRAME_TRIANGLE)
varying vec3 v_Barycentric;
float edgeFactor () {
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#endif

@end


@export ecgl.common.wireframe.fragmentMain

#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)
 if (wireframeLineWidth > 0.) {
 vec4 lineColor = wireframeLineColor;
#ifdef SRGB_DECODE
 lineColor = sRGBToLinear(lineColor);
#endif

 gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);
 }
#endif
@end




@export ecgl.common.bumpMap.header

#ifdef BUMPMAP_ENABLED
uniform sampler2D bumpMap;
uniform float bumpScale : 1.0;


vec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)
{
 vec2 dSTdx = dFdx(v_Texcoord);
 vec2 dSTdy = dFdy(v_Texcoord);

 float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;
 float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;
 float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;

 vec3 vSigmaX = dFdx(surfPos);
 vec3 vSigmaY = dFdy(surfPos);
 vec3 vN = surfNormal;

 vec3 R1 = cross(vSigmaY, vN);
 vec3 R2 = cross(vN, vSigmaX);

 float fDet = dot(vSigmaX, R1);

 vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);
 return normalize(abs(fDet) * baseNormal - vGrad);

}
#endif

@end

@export ecgl.common.normalMap.vertexHeader

#ifdef NORMALMAP_ENABLED
attribute vec4 tangent : TANGENT;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@end

@export ecgl.common.normalMap.vertexMain

#ifdef NORMALMAP_ENABLED
 if (dot(tangent, tangent) > 0.0) {
 v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);
 v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);
 }
#endif

@end


@export ecgl.common.normalMap.fragmentHeader

#ifdef NORMALMAP_ENABLED
uniform sampler2D normalMap;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@end

@export ecgl.common.normalMap.fragmentMain
#ifdef NORMALMAP_ENABLED
 if (dot(v_Tangent, v_Tangent) > 0.0) {
 vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;
 if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;
 mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);
 N = normalize(tbn * N);
 }
 }
#endif
@end



@export ecgl.common.vertexAnimation.header

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute vec3 prevNormal;
uniform float percent;
#endif

@end

@export ecgl.common.vertexAnimation.main

#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
 vec3 norm = mix(prevNormal, normal, percent);
#else
 vec3 pos = position;
 vec3 norm = normal;
#endif

@end


@export ecgl.common.ssaoMap.header
#ifdef SSAOMAP_ENABLED
uniform sampler2D ssaoMap;
uniform vec4 viewport : VIEWPORT;
#endif
@end

@export ecgl.common.ssaoMap.main
 float ao = 1.0;
#ifdef SSAOMAP_ENABLED
 ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;
#endif
@end




@export ecgl.common.diffuseLayer.header

#if (LAYER_DIFFUSEMAP_COUNT > 0)
uniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];
uniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];
#endif

@end

@export ecgl.common.emissiveLayer.header

#if (LAYER_EMISSIVEMAP_COUNT > 0)
uniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];
uniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];
#endif

@end

@export ecgl.common.layers.header
@import ecgl.common.diffuseLayer.header
@import ecgl.common.emissiveLayer.header
@end

@export ecgl.common.diffuseLayer.main

#if (LAYER_DIFFUSEMAP_COUNT > 0)
 for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{
 float intensity = layerDiffuseIntensity[_idx_];
 vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);
 #ifdef SRGB_DECODE
 texel2 = sRGBToLinear(texel2);
 #endif
 albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);
 albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;
 }}
#endif

@end

@export ecgl.common.emissiveLayer.main

#if (LAYER_EMISSIVEMAP_COUNT > 0)
 for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)
 {{
 vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];
 #ifdef SRGB_DECODE
 texel2 = sRGBToLinear(texel2);
 #endif
 float intensity = layerEmissionIntensity[_idx_];
 gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;
 }}
#endif

@end
`,Aye=`@export ecgl.color.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

@import ecgl.common.uv.header

attribute vec2 texcoord : TEXCOORD_0;
attribute vec3 position: POSITION;

@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
uniform float percent : 1.0;
#endif

#ifdef ATMOSPHERE_ENABLED
attribute vec3 normal: NORMAL;
uniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;
varying vec3 v_Normal;
#endif

void main()
{
#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
#else
 vec3 pos = position;
#endif

 gl_Position = worldViewProjection * vec4(pos, 1.0);

 @import ecgl.common.uv.main

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

#ifdef ATMOSPHERE_ENABLED
 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);
#endif

 @import ecgl.common.wireframe.vertexMain

}

@end

@export ecgl.color.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0

uniform sampler2D diffuseMap;
uniform sampler2D detailMap;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
varying vec3 v_Normal;
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

@import ecgl.common.layers.header

@import ecgl.common.uv.fragmentHeader

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color);
#else
 gl_FragColor = color;
#endif

#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 gl_FragColor *= albedoTexel;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain

}
@end`,Eye=`/**
 * http: */

@export ecgl.lambert.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header


@import ecgl.common.attributes

@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif


@import ecgl.common.vertexAnimation.header


varying vec3 v_Normal;
varying vec3 v_WorldPosition;

void main()
{
 @import ecgl.common.uv.main

 @import ecgl.common.vertexAnimation.main


 gl_Position = worldViewProjection * vec4(pos, 1.0);

 v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

 @import ecgl.common.wireframe.vertexMain
}

@end


@export ecgl.lambert.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform sampler2D diffuseMap;
uniform sampler2D detailMap;

@import ecgl.common.layers.header

uniform float emissionIntensity: 1.0;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
#endif

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif


@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color);
#else
 gl_FragColor = color;
#endif

#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 gl_FragColor *= sRGBToLinear(v_Color);
 #else
 gl_FragColor *= v_Color;
 #endif
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 gl_FragColor *= albedoTexel;

 vec3 N = v_Normal;
#ifdef DOUBLE_SIDED
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 vec3 diffuseColor = vec3(0.0, 0.0, 0.0);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)
 {
 diffuseColor += ambientLightColor[i] * ambientFactor * ao;
 }
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;
 }}
#endif
#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)
 {
 vec3 lightDirection = -directionalLightDirection[i];
 vec3 lightColor = directionalLightColor[i];

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[i];
 }
#endif

 float ndl = dot(N, normalize(lightDirection)) * shadowContrib;

 diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);
 }
#endif

 gl_FragColor.rgb *= diffuseColor;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain
}

@end`,Dye=`@export ecgl.realistic.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes


@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

#ifdef NORMALMAP_ENABLED
attribute vec4 tangent : TANGENT;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@import ecgl.common.vertexAnimation.header

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

void main()
{

 @import ecgl.common.uv.main

 @import ecgl.common.vertexAnimation.main

 gl_Position = worldViewProjection * vec4(pos, 1.0);

 v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

#ifdef NORMALMAP_ENABLED
 v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);
 v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);
#endif

 @import ecgl.common.wireframe.vertexMain

}

@end



@export ecgl.realistic.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0
#define PI 3.14159265358979
#define ROUGHNESS_CHANEL 0
#define METALNESS_CHANEL 1

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform sampler2D diffuseMap;

uniform sampler2D detailMap;
uniform sampler2D metalnessMap;
uniform sampler2D roughnessMap;

@import ecgl.common.layers.header

uniform float emissionIntensity: 1.0;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

uniform float metalness : 0.0;
uniform float roughness : 0.5;

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
#endif

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif

#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT
@import clay.header.ambient_cubemap_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

@import ecgl.common.normalMap.fragmentHeader

@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import clay.util.rgbm

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

vec3 F_Schlick(float ndv, vec3 spec) {
 return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);
}

float D_Phong(float g, float ndh) {
 float a = pow(8192.0, g);
 return (a + 2.0) / 8.0 * pow(ndh, a);
}

void main()
{
 vec4 albedoColor = color;

 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);
#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 albedoColor *= sRGBToLinear(v_Color);
 #else
 albedoColor *= v_Color;
 #endif
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 albedoColor *= albedoTexel;

 float m = metalness;

#ifdef METALNESSMAP_ENABLED
 float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];
 m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);
#endif

 vec3 baseColor = albedoColor.rgb;
 albedoColor.rgb = baseColor * (1.0 - m);
 vec3 specFactor = mix(vec3(0.04), baseColor, m);

 float g = 1.0 - roughness;

#ifdef ROUGHNESSMAP_ENABLED
 float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];
 g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);
#endif

 vec3 N = v_Normal;

#ifdef DOUBLE_SIDED
 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

@import ecgl.common.normalMap.fragmentMain

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 vec3 diffuseTerm = vec3(0.0);
 vec3 specularTerm = vec3(0.0);

 float ndv = clamp(dot(N, V), 0.0, 1.0);
 vec3 fresnelTerm = F_Schlick(ndv, specFactor);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)
 {{
 diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;
 }}
#endif

#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;
 }}
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)
 {{
 vec3 L = -directionalLightDirection[_idx_];
 vec3 lc = directionalLightColor[_idx_];

 vec3 H = normalize(L + V);
 float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);
 float ndh = clamp(dot(N, H), 0.0, 1.0);

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[_idx_];
 }
#endif

 vec3 li = lc * ndl * shadowContrib;

 diffuseTerm += li;
 specularTerm += li * fresnelTerm * D_Phong(g, ndh);
 }}
#endif


#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT
 vec3 L = reflect(-V, N);
 L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);
 float rough2 = clamp(1.0 - g, 0.0, 1.0);
 float bias2 = rough2 * 5.0;
 vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;
 vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;
 vec3 envTexel2;
 for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)
 {{
 envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);
 specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;
 }}
#endif

 gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;
 gl_FragColor.a = albedoColor.a;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

#ifdef SRGB_ENCODE
 gl_FragColor = linearTosRGB(gl_FragColor);
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain
}

@end`,Mye=`@export ecgl.hatching.vertex

@import ecgl.realistic.vertex

@end


@export ecgl.hatching.fragment

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform vec4 color : [0.0, 0.0, 0.0, 1.0];
uniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif


@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

uniform sampler2D hatch1;
uniform sampler2D hatch2;
uniform sampler2D hatch3;
uniform sampler2D hatch4;
uniform sampler2D hatch5;
uniform sampler2D hatch6;

float shade(in float tone) {
 vec4 c = vec4(1. ,1., 1., 1.);
 float step = 1. / 6.;
 vec2 uv = v_DetailTexcoord;
 if (tone <= step / 2.0) {
 c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);
 }
 else if (tone <= step) {
 c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);
 }
 if(tone > step && tone <= 2. * step){
 c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));
 }
 if(tone > 2. * step && tone <= 3. * step){
 c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));
 }
 if(tone > 3. * step && tone <= 4. * step){
 c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));
 }
 if(tone > 4. * step && tone <= 5. * step){
 c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));
 }
 if(tone > 5. * step){
 c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));
 }

 return c.r;
}

const vec3 w = vec3(0.2125, 0.7154, 0.0721);

void main()
{
#ifdef SRGB_DECODE
 vec4 inkColor = sRGBToLinear(color);
#else
 vec4 inkColor = color;
#endif

#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 inkColor *= sRGBToLinear(v_Color);
 #else
 inkColor *= v_Color;
 #endif
#endif

 vec3 N = v_Normal;
#ifdef DOUBLE_SIDED
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float tone = 0.0;

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)
 {
 tone += dot(ambientLightColor[i], w) * ambientFactor * ao;
 }
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;
 }}
#endif
#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)
 {
 vec3 lightDirection = -directionalLightDirection[i];
 float lightTone = dot(directionalLightColor[i], w);

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[i];
 }
#endif

 float ndl = dot(N, normalize(lightDirection)) * shadowContrib;

 tone += lightTone * clamp(ndl, 0.0, 1.0);
 }
#endif

 gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));
 }
@end
`,Pye=`@export ecgl.sm.depth.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
uniform float percent : 1.0;
#endif

varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;

void main(){

#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
#else
 vec3 pos = position;
#endif

 v_ViewPosition = worldViewProjection * vec4(pos, 1.0);
 gl_Position = v_ViewPosition;

 v_Texcoord = texcoord;

}
@end



@export ecgl.sm.depth.fragment

@import clay.sm.depth.fragment

@end`;Object.assign(Qo.prototype,Tye);Pe.import(bU);Pe.import(cU);Pe.import(Cye);Pe.import(Aye);Pe.import(Eye);Pe.import(Dye);Pe.import(Mye);Pe.import(Pye);function Lye(e){return!e||e==="none"}function wU(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}function Iye(e){return e.getZr&&e.setOption}var Rye=ql.prototype.addToScene,Oye=ql.prototype.removeFromScene;ql.prototype.addToScene=function(e){if(Rye.call(this,e),this.__zr){var t=this.__zr;e.traverse(function(r){r.__zr=t,r.addAnimatorsToZr&&r.addAnimatorsToZr(t)})}};ql.prototype.removeFromScene=function(e){Oye.call(this,e),e.traverse(function(t){var r=t.__zr;t.__zr=null,r&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(r)})};Ui.prototype.setTextureImage=function(e,t,r,n){if(this.shader){var a=r.getZr(),i=this,o;return i.autoUpdateTextureStatus=!1,i.disableTexture(e),Lye(t)||(o=st.loadTexture(t,r,n,function(s){i.enableTexture(e),a&&a.refresh()}),i.set(e,o)),o}};var st={};st.Renderer=Pv;st.Node=Qo;st.Mesh=Ju;st.Shader=Pe;st.Material=Ui;st.Texture=Qe;st.Texture2D=_t;st.Geometry=zt;st.SphereGeometry=cye;st.PlaneGeometry=$_;st.CubeGeometry=_U;st.AmbientLight=dye;st.DirectionalLight=vye;st.PointLight=mye;st.SpotLight=yye;st.PerspectiveCamera=Pn;st.OrthographicCamera=yd;st.Vector2=ni;st.Vector3=ke;st.Vector4=_ye;st.Quaternion=fU;st.Matrix2=xye;st.Matrix2d=bye;st.Matrix3=wye;st.Matrix4=qe;st.Plane=mU;st.Ray=s0;st.BoundingBox=Ia;st.Frustum=wA;var xg=null;function kye(){return xg!==null||(xg=hc.createBlank("rgba(255,255,255,0)").image),xg}function QR(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function JR(e){if((e.wrapS===Qe.REPEAT||e.wrapT===Qe.REPEAT)&&e.image){var t=QR(e.width),r=QR(e.height);if(t!==e.width||r!==e.height){var n=document.createElement("canvas");n.width=t,n.height=r;var a=n.getContext("2d");a.drawImage(e.image,0,0,t,r),e.image=n}}}st.loadTexture=function(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};for(var a=Object.keys(r).sort(),i="",o=0;o<a.length;o++)i+=a[o]+"_"+r[a[o]]+"_";var s=t.__textureCache=t.__textureCache||new Pd(20);if(Iye(e)){var l=e.__textureid__,u=s.get(i+l);if(u)u.texture.surface.setECharts(e),n&&n(u.texture);else{var c=new Yge(e);c.onupdate=function(){t.getZr().refresh()},u={texture:c.getTexture()};for(var o=0;o<a.length;o++)u.texture[a[o]]=r[a[o]];l=e.__textureid__||"__ecgl_ec__"+u.texture.__uid__,e.__textureid__=l,s.put(i+l,u),n&&n(u.texture)}return u.texture}else if(wU(e)){var l=e.__textureid__,u=s.get(i+l);if(!u){u={texture:new st.Texture2D({image:e})};for(var o=0;o<a.length;o++)u.texture[a[o]]=r[a[o]];l=e.__textureid__||"__ecgl_image__"+u.texture.__uid__,e.__textureid__=l,s.put(i+l,u),JR(u.texture),n&&n(u.texture)}return u.texture}else{var u=s.get(i+e);if(u)u.callbacks?u.callbacks.push(n):n&&n(u.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){u={callbacks:[n]};var f=hc.loadTexture(e,{exposure:r.exposure,fileType:"hdr"},function(){f.dirty(),u.callbacks.forEach(function(v){v&&v(f)}),u.callbacks=null});u.texture=f,s.put(i+e,u)}else{for(var f=new st.Texture2D({image:new Image}),o=0;o<a.length;o++)f[a[o]]=r[a[o]];u={texture:f,callbacks:[n]};var d=f.image;d.onload=function(){f.image=d,JR(f),f.dirty(),u.callbacks.forEach(function(p){p&&p(f)}),u.callbacks=null},d.crossOrigin="Anonymous",d.src=e,f.image=kye(),s.put(i+e,u)}return u.texture}};st.createAmbientCubemap=function(e,t,r,n){e=e||{};var a=e.texture,i=Tt.firstNotNull(e.exposure,1),o=new tye({intensity:Tt.firstNotNull(e.specularIntensity,1)}),s=new nye({intensity:Tt.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=st.loadTexture(a,r,{exposure:i},function(){o.cubemap.flipY=!1,o.prefilter(t,32),s.coefficients=sye.projectEnvironmentMap(t,o.cubemap,{lod:1}),n&&n()}),{specular:o,diffuse:s}};st.createBlankTexture=hc.createBlank;st.isImage=wU;st.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)};st.parseColor=function(e,t){return e instanceof Array?(t||(t=[]),t[0]=e[0],t[1]=e[1],t[2]=e[2],e.length>3?t[3]=e[3]:t[3]=1,t):(t=_o(e||"#000",t)||[0,0,0,0],t[0]/=255,t[1]/=255,t[2]/=255,t)};st.directionFromAlphaBeta=function(e,t){var r=e/180*Math.PI+Math.PI/2,n=-t/180*Math.PI+Math.PI/2,a=[],i=Math.sin(r);return a[0]=i*Math.cos(n),a[1]=-Math.cos(r),a[2]=i*Math.sin(n),a};st.getShadowResolution=function(e){var t=1024;switch(e){case"low":t=512;break;case"medium":break;case"high":t=2048;break;case"ultra":t=4096;break}return t};st.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"];st.createShader=function(e){e==="ecgl.shadow"&&(e="ecgl.displayShadow");var t=Pe.source(e+".vertex"),r=Pe.source(e+".fragment");t||console.error("Vertex shader of '%s' not exits",e),r||console.error("Fragment shader of '%s' not exits",e);var n=new Pe(t,r);return n.name=e,n};st.createMaterial=function(e,t){t instanceof Array||(t=[t]);var r=st.createShader(e),n=new Ui({shader:r});return t.forEach(function(a){typeof a=="string"&&n.define(a)}),n};st.setMaterialFromModel=function(e,t,r,n){t.autoUpdateTextureStatus=!1;var a=r.getModel(e+"Material"),i=a.get("detailTexture"),o=Tt.firstNotNull(a.get("textureTiling"),1),s=Tt.firstNotNull(a.get("textureOffset"),0);typeof o=="number"&&(o=[o,o]),typeof s=="number"&&(s=[s,s]);var l=o[0]>1||o[1]>1?st.Texture.REPEAT:st.Texture.CLAMP_TO_EDGE,u={anisotropic:8,wrapS:l,wrapT:l};if(e==="realistic"){var c=a.get("roughness"),f=a.get("metalness");f!=null?isNaN(f)&&(t.setTextureImage("metalnessMap",f,n,u),f=Tt.firstNotNull(a.get("metalnessAdjust"),.5)):f=0,c!=null?isNaN(c)&&(t.setTextureImage("roughnessMap",c,n,u),c=Tt.firstNotNull(a.get("roughnessAdjust"),.5)):c=.5;var d=a.get("normalTexture");t.setTextureImage("detailMap",i,n,u),t.setTextureImage("normalMap",d,n,u),t.set({roughness:c,metalness:f,detailUvRepeat:o,detailUvOffset:s})}else if(e==="lambert")t.setTextureImage("detailMap",i,n,u),t.set({detailUvRepeat:o,detailUvOffset:s});else if(e==="color")t.setTextureImage("detailMap",i,n,u),t.set({detailUvRepeat:o,detailUvOffset:s});else if(e==="hatching"){var h=a.get("hatchingTextures")||[];h.length<6;for(var v=0;v<6;v++)t.setTextureImage("hatch"+(v+1),h[v],n,{anisotropic:8,wrapS:st.Texture.REPEAT,wrapT:st.Texture.REPEAT});t.set({detailUvRepeat:o,detailUvOffset:s})}};st.updateVertexAnimation=function(e,t,r,n){var a=n.get("animation"),i=n.get("animationDurationUpdate"),o=n.get("animationEasingUpdate"),s=r.shadowDepthMaterial;if(a&&t&&i>0&&t.geometry.vertexCount===r.geometry.vertexCount){r.material.define("vertex","VERTEX_ANIMATION"),r.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var l=0;l<e.length;l++)r.geometry.attributes[e[l][0]].value=t.geometry.attributes[e[l][1]].value;r.geometry.dirty(),r.__percent=0,r.material.set("percent",0),r.stopAnimation(),r.animate().when(i,{__percent:1}).during(function(){r.material.set("percent",r.__percent),s&&s.set("percent",r.__percent)}).done(function(){r.ignorePreZ=!1,r.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")}).start(o)}else r.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")};const W=st;var wr=function(e,t){this.id=e,this.zr=t;try{this.renderer=new Pv({clearBit:0,devicePixelRatio:t.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(t.painter.getWidth(),t.painter.getHeight())}catch(n){this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",console.error(n);return}this.onglobalout=this.onglobalout.bind(this),t.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var r=this.dom.style;r.position="absolute",r.left="0",r.top="0",this.views=[],this._picking=new tge({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new gn({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};wr.prototype.setUnpainted=function(){};wr.prototype.addView=function(e){if(e.layer!==this){var t=this._viewsToDispose.indexOf(e);t>=0&&this._viewsToDispose.splice(t,1),this.views.push(e),e.layer=this;var r=this.zr;e.scene.traverse(function(n){n.__zr=r,n.addAnimatorsToZr&&n.addAnimatorsToZr(r)})}};function SU(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}wr.prototype.removeView=function(e){if(e.layer===this){var t=this.views.indexOf(e);t>=0&&(this.views.splice(t,1),e.scene.traverse(SU,this),e.layer=null,this._viewsToDispose.push(e))}};wr.prototype.removeViewsAll=function(){this.views.forEach(function(e){e.scene.traverse(SU,this),e.layer=null,this._viewsToDispose.push(e)},this),this.views.length=0};wr.prototype.resize=function(e,t){var r=this.renderer;r.resize(e,t)};wr.prototype.clear=function(){var e=this.renderer.gl,t=this._backgroundColor||[0,0,0,0];e.clearColor(t[0],t[1],t[2],t[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)};wr.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)};wr.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)};wr.prototype.needsRefresh=function(){this.zr.refresh()};wr.prototype.refresh=function(e){this._backgroundColor=e?W.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var t=0;t<this.views.length;t++)this.views[t].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(var t=0;t<this._viewsToDispose.length;t++)this._viewsToDispose[t].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()};wr.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)};wr.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var t=0;t<this.views.length;t++)this.views[t].render(this.renderer,e);this.renderer.restoreViewport()};wr.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var Nye=1;wr.prototype._startAccumulating=function(e){var t=this;this._stopAccumulating();for(var r=!1,n=0;n<this.views.length;n++)r=this.views[n].needsAccumulate()||r;if(!r)return;function a(i){if(!(!t._accumulatingId||i!==t._accumulatingId)){for(var o=!0,s=0;s<t.views.length;s++)o=t.views[s].isAccumulateFinished()&&r;o||(t._doRender(!0),e?a(i):sd(function(){a(i)}))}}this._accumulatingId=Nye++,e?a(t._accumulatingId):this._accumulatingTimeout=setTimeout(function(){a(t._accumulatingId)},50)};wr.prototype._trackAndClean=function(){var e=[],t=[];this._textureList&&(u0(this._textureList),u0(this._geometriesList));for(var r=0;r<this.views.length;r++)Bye(this.views[r].scene,e,t);this._textureList&&(c0(this.renderer,this._textureList),c0(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=t};function u0(e){for(var t=0;t<e.length;t++)e[t].__used__=0}function c0(e,t){for(var r=0;r<t.length;r++)t[r].__used__||t[r].dispose(e)}function bg(e,t){e.__used__=e.__used__||0,e.__used__++,e.__used__===1&&t.push(e)}function Bye(e,t,r){var n,a;e.traverse(function(o){if(o.isRenderable()){var s=o.geometry,l=o.material;if(l!==n)for(var u=l.getTextureUniforms(),c=0;c<u.length;c++){var f=u[c],d=l.uniforms[f].value;if(d){if(d instanceof Qe)bg(d,t);else if(d instanceof Array)for(var h=0;h<d.length;h++)d[h]instanceof Qe&&bg(d[h],t)}}s!==a&&bg(s,r),n=l,a=s}});for(var i=0;i<e.lights.length;i++)e.lights[i].cubemap&&bg(e.lights[i].cubemap,t)}wr.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(u0(this._textureList),u0(this._geometriesList),c0(this.renderer,this._textureList),c0(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)};wr.prototype.onmousedown=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mousedown",e,t),this._dispatchDataEvent("mousedown",e,t)),this._downX=e.offsetX,this._downY=e.offsetY}};wr.prototype.onmousemove=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY),r=t&&t.target,n=this._hovered;this._hovered=t,n&&r!==n.target&&(n.relatedTarget=r,this._dispatchEvent("mouseout",e,n),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,t),t&&(this.zr.setCursorStyle("pointer"),(!n||r!==n.target)&&this._dispatchEvent("mouseover",e,t)),this._dispatchDataEvent("mousemove",e,t)}};wr.prototype.onmouseup=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mouseup",e,t),this._dispatchDataEvent("mouseup",e,t)),this._upX=e.offsetX,this._upY=e.offsetY}};wr.prototype.onclick=wr.prototype.dblclick=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){var t=this._upX-this._downX,r=this._upY-this._downY;if(!(Math.sqrt(t*t+r*r)>20)){e=e.event;var n=this.pickObject(e.offsetX,e.offsetY);n&&(this._dispatchEvent(e.type,e,n),this._dispatchDataEvent(e.type,e,n));var a=this._clickToSetFocusPoint(e);if(a){var i=a.view.setDOFFocusOnPoint(a.distance);i&&this.zr.refresh()}}}};wr.prototype._clickToSetFocusPoint=function(e){for(var t=this.renderer,r=t.viewport,n=this.views.length-1;n>=0;n--){var a=this.views[n];if(a.hasDOF()&&a.containPoint(e.offsetX,e.offsetY)){this._picking.scene=a.scene,this._picking.camera=a.camera,t.viewport=a.viewport;var i=this._picking.pick(e.offsetX,e.offsetY,!0);if(i)return i.view=a,i}}t.viewport=r};wr.prototype.onglobalout=function(e){var t=this._hovered;t&&this._dispatchEvent("mouseout",e,{target:t.target})};wr.prototype.pickObject=function(e,t){for(var r=[],n=this.renderer,a=n.viewport,i=0;i<this.views.length;i++){var o=this.views[i];o.containPoint(e,t)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,n.viewport=o.viewport,this._picking.pickAll(e,t,r))}return n.viewport=a,r.sort(function(s,l){return s.distance-l.distance}),r[0]};wr.prototype._dispatchEvent=function(e,t,r){r||(r={});var n=r.target;for(r.cancelBubble=!1,r.event=t,r.type=e,r.offsetX=t.offsetX,r.offsetY=t.offsetY;n&&(n.trigger(e,r),n=n.getParent(),!r.cancelBubble););this._dispatchToView(e,r)};wr.prototype._dispatchDataEvent=function(e,t,r){var n=r&&r.target,a=n&&n.dataIndex,i=n&&n.seriesIndex,o=n&&n.eventData,s=!1,l=this._zrEventProxy;l.x=t.offsetX,l.y=t.offsetY,l.update();var u={target:l};const c=Wt(l);e==="mousemove"&&(a!=null?a!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(c.dataIndex=this._lastDataIndex,c.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(u,"mouseout",t)),s=!0):o!=null&&o!==this._lastEventData&&(this._lastEventData!=null&&(c.eventData=this._lastEventData,this.zr.handler.dispatchToElement(u,"mouseout",t)),s=!0),this._lastEventData=o,this._lastDataIndex=a,this._lastSeriesIndex=i),c.eventData=o,c.dataIndex=a,c.seriesIndex=i,(o!=null||parseInt(a,10)>=0&&parseInt(i,10)>=0)&&(this.zr.handler.dispatchToElement(u,e,t),s&&this.zr.handler.dispatchToElement(u,"mouseover",t))};wr.prototype._dispatchToView=function(e,t){for(var r=0;r<this.views.length;r++)this.views[r].containPoint(t.offsetX,t.offsetY)&&this.views[r].trigger(e,t)};Object.assign(wr.prototype,yA);const TU=wr;var Vye=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function rv(e,t){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,n=e[t].emphasis;r&&(e[t]=r),n&&(e.emphasis=e.emphasis||{},e.emphasis[t]=n)}}function Fye(e){rv(e,"itemStyle"),rv(e,"lineStyle"),rv(e,"areaStyle"),rv(e,"label")}function wg(e){e&&(e instanceof Array||(e=[e]),j(e,function(t){if(t.axisLabel){var r=t.axisLabel;Object.assign(r,r.textStyle),r.textStyle=null}}))}function zye(e){j(e.series,function(t){$t(Vye,t.type)>=0&&(Fye(t),t.coordinateSystem==="mapbox"&&(t.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))}),wg(e.xAxis3D),wg(e.yAxis3D),wg(e.zAxis3D),wg(e.grid3D),rv(e.geo3D)}function CU(e){this._layers={},this._zr=e}CU.prototype.update=function(e,t){var r=this,n=t.getZr();if(!n.getWidth()||!n.getHeight()){console.warn("Dom has no width or height");return}function a(s){n.setSleepAfterStill(0);var l;s.coordinateSystem&&s.coordinateSystem.model,l=s.get("zlevel");var u=r._layers,c=u[l];if(!c){if(c=u[l]=new TU("gl-"+l,n),n.painter.isSingleCanvas()){c.virtual=!0;var f=new $s({z:1e4,style:{image:c.renderer.canvas},silent:!0});c.__hostImage=f,n.add(f)}n.painter.insertLayer(l,c)}return c.__hostImage&&c.__hostImage.setStyle({width:c.renderer.getWidth(),height:c.renderer.getHeight()}),c}function i(s,l){s&&s.traverse(function(u){u.isRenderable&&u.isRenderable()&&(u.ignorePicking=u.$ignorePicking!=null?u.$ignorePicking:l)})}for(var o in this._layers)this._layers[o].removeViewsAll();e.eachComponent(function(s,l){if(s!=="series"){var u=t.getViewOfComponentModel(l),c=l.coordinateSystem;if(u.__ecgl__){var f;if(c){if(!c.viewGL){console.error("Can't find viewGL in coordinateSystem of component "+l.id);return}f=c.viewGL}else{if(!l.viewGL){console.error("Can't find viewGL of component "+l.id);return}f=c.viewGL}var f=c.viewGL,d=a(l);d.addView(f),u.afterRender&&u.afterRender(l,e,t,d),i(u.groupGL,l.get("silent"))}}}),e.eachSeries(function(s){var l=t.getViewOfSeriesModel(s),u=s.coordinateSystem;if(l.__ecgl__){if(u&&!u.viewGL&&!l.viewGL){console.error("Can't find viewGL of series "+l.id);return}var c=u&&u.viewGL||l.viewGL,f=a(s);f.addView(c),l.afterRender&&l.afterRender(s,e,t,f),i(l.groupGL,s.get("silent"))}})};BV(function(e){var t=e.getZr(),r=t.painter.dispose;t.painter.dispose=function(){typeof this.eachOtherLayer=="function"&&this.eachOtherLayer(function(n){n instanceof TU&&n.dispose()}),r.call(this)},t.painter.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas)return this._layers[0].dom;var a=document.createElement("canvas"),i=n.pixelRatio||this.dpr;a.width=this.getWidth()*i,a.height=this.getHeight()*i;var o=a.getContext("2d");o.dpr=i,o.clearRect(0,0,a.width,a.height),n.backgroundColor&&(o.fillStyle=n.backgroundColor,o.fillRect(0,0,a.width,a.height));var s=this.storage.getDisplayList(!0),l={},u,c=this;function f(p,m){var g=c._zlevelList;p==null&&(p=-1/0);for(var y,_=0;_<g.length;_++){var x=g[_],w=c._layers[x];if(!w.__builtin__&&x>p&&x<m){y=w;break}}y&&y.renderToCanvas&&(o.save(),y.renderToCanvas(o),o.restore())}for(var d={ctx:o},h=0;h<s.length;h++){var v=s[h];v.zlevel!==u&&(f(u,v.zlevel),u=v.zlevel),this._doPaintEl(v,d,!0,null,l)}return f(u,1/0),a}});VV(function(e,t){var r=t.getZr(),n=r.__egl=r.__egl||new CU(r);n.update(e,t)});r2(zye);const W_={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},e.alpha!=null&&(this.option.viewControl.alpha=e.alpha),e.beta!=null&&(this.option.viewControl.beta=e.beta),e.distance!=null&&(this.option.viewControl.distance=e.distance),e.center!=null&&(this.option.viewControl.center=e.center)}},Xd={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},jd={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};var Y_=nr.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});je(Y_.prototype,W_);je(Y_.prototype,Xd);je(Y_.prototype,jd);const Uye=Y_;var Fh=Tt.firstNotNull,eO={left:0,middle:1,right:2};function tO(e){return e instanceof Array||(e=[e,e]),e}var AU=Va.extend(function(){return{zr:null,viewGL:null,_center:new ke,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new ni,_panVelocity:new ni,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(e){this[e]=this[e].bind(this)},this)},{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,t){t=t||{};var r=t.baseDistance||0,n=t.baseOrthoSize||1,a=e.get("projection");a!=="perspective"&&a!=="orthographic"&&a!=="isometric"&&(a="perspective"),this._projection=a,this.viewGL.setProjection(a);var i=e.get("distance")+r,o=e.get("orthographicSize")+n;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(d){this[d[0]]=Fh(e.get(d[0]),d[1])},this),this.minDistance+=r,this.maxDistance+=r,this.minOrthographicSize+=n,this.maxOrthographicSize+=n;var s=e.ecModel,l={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(d){l[d]=Fh(e.get(d),s&&s.get(d))});var u=Fh(t.alpha,e.get("alpha"))||0,c=Fh(t.beta,e.get("beta"))||0,f=Fh(t.center,e.get("center"))||[0,0,0];l.animation&&l.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:u,beta:c,center:f,distance:i,orthographicSize:o,easing:l.animationEasingUpdate,duration:l.animationDurationUpdate}):(this.setDistance(i),this.setAlpha(u),this.setBeta(c),this.setCenter(f),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){},animateTo:function(e){var t=this.zr,r=this,n={},a={};return e.distance!=null&&(n.distance=this.getDistance(),a.distance=e.distance),e.orthographicSize!=null&&(n.orthographicSize=this.getOrthographicSize(),a.orthographicSize=e.orthographicSize),e.alpha!=null&&(n.alpha=this.getAlpha(),a.alpha=e.alpha),e.beta!=null&&(n.beta=this.getBeta(),a.beta=e.beta),e.center!=null&&(n.center=this.getCenter(),a.center=e.center),this._addAnimator(t.animation.animate(n).when(e.duration||1e3,a).during(function(){n.alpha!=null&&r.setAlpha(n.alpha),n.beta!=null&&r.setBeta(n.beta),n.distance!=null&&r.setDistance(n.distance),n.center!=null&&r.setCenter(n.center),n.orthographicSize!=null&&r.setOrthographicSize(n.orthographicSize),r._needsUpdate=!0})).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var t=(this.autoRotateDirection==="cw"?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=t*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var t=this._rotateVelocity;this._phi=t.y*e/20+this._phi,this._theta=t.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(t,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){this._projection==="perspective"?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var t=this.getCamera(),r=this._orthoSize,n=r/this.viewGL.viewport.height*this.viewGL.viewport.width;t.left=-n/2,t.right=n/2,t.top=r/2,t.bottom=-r/2},_updatePan:function(e){var t=this._panVelocity,r=this._distance,n=this.getCamera(),a=n.worldTransform.y,i=n.worldTransform.x;this._center.scaleAndAdd(i,-t.x*r/200).scaleAndAdd(a,-t.y*r/200),this._vectorDamping(t,0)},_updateTransform:function(){var e=this.getCamera(),t=new ke,r=this._theta+Math.PI/2,n=this._phi+Math.PI/2,a=Math.sin(r);t.x=a*Math.cos(n),t.y=-Math.cos(r),t.z=a*Math.sin(n),e.position.copy(this._center).scaleAndAdd(t,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,t=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout(function(){t._rotating=!0},e*1e3))},_vectorDamping:function(e,t){var r=e.len();r=r*t,r<1e-4&&(r=0),e.normalize().scale(r)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,t=Math.asin(e.y),r=Math.atan2(e.x,e.z);this._theta=t,this._phi=-r,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){if(!e.target&&!this._isAnimating()){var t=e.offsetX,r=e.offsetY;this.viewGL&&!this.viewGL.containPoint(t,r)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?e.event.targetTouches.length===1&&(this._mode="rotate"):e.event.button===eO[this.rotateMouseButton]?this._mode="rotate":e.event.button===eO[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)}},_mouseMoveHandler:function(e){if(!(e.target&&e.target.__isGLToZRProxy)&&!this._isAnimating()){var t=tO(this.panSensitivity),r=tO(this.rotateSensitivity);this._mode==="rotate"?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*r[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*r[1]):this._mode==="pan"&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*t[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*t[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){if(!this._isAnimating()){var t=e.event.wheelDelta||-e.event.detail;this._zoomHandler(e,t)}},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,t){if(t!==0){var r=e.offsetX,n=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(r,n))){var a;this._projection==="perspective"?a=Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):a=Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(t>0?-1:1)*a*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&this._mode==="rotate"&&this._startCountingStill(),e.event.preventDefault()}}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return this.rotateMouseButton==="right"||this.panMouseButton==="right"},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var t=this._animators;return t.push(e),e.done(function(){var r=t.indexOf(e);r>=0&&t.splice(r,1)}),e}});Object.defineProperty(AU.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});const X_=AU,qp={convertToDynamicArray:function(e){e&&this.resetOffset();var t=this.attributes;for(var r in t)e||!t[r].value?t[r].value=[]:t[r].value=Array.prototype.slice.call(t[r].value);e||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var t in e)e[t].value&&e[t].value.length>0?e[t].value=new Float32Array(e[t].value):e[t].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},un={vec2:tt,vec3:ae,vec4:Ue,mat2:jr,mat2d:cn,mat3:It,mat4:Re,quat:ct};var Lb=un.vec3,rO=[[0,0],[1,1]],EU=zt.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new zt.Attribute("position","float",3,"POSITION"),positionPrev:new zt.Attribute("positionPrev","float",3),positionNext:new zt.Attribute("positionNext","float",3),prevPositionPrev:new zt.Attribute("prevPositionPrev","float",3),prevPosition:new zt.Attribute("prevPosition","float",3),prevPositionNext:new zt.Attribute("prevPositionNext","float",3),offset:new zt.Attribute("offset","float",1),color:new zt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.positionPrev.init(e),t.positionNext.init(e),t.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(e===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(e*3):new Uint16Array(e*3))},_getCubicCurveApproxStep:function(e,t,r,n){var a=Lb.dist(e,t)+Lb.dist(r,t)+Lb.dist(n,r),i=1/(a+1)*this.segmentScale;return i},getCubicCurveVertexCount:function(e,t,r,n){var a=this._getCubicCurveApproxStep(e,t,r,n),i=Math.ceil(1/a);return this.useNativeLine?i*2:i*2+2},getCubicCurveTriangleCount:function(e,t,r,n){var a=this._getCubicCurveApproxStep(e,t,r,n),i=Math.ceil(1/a);return this.useNativeLine?0:i*2},getLineVertexCount:function(){return this.getPolylineVertexCount(rO)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(rO)},getPolylineVertexCount:function(e){var t;if(typeof e=="number")t=e;else{var r=typeof e[0]!="number";t=r?e.length:e.length/3}return this.useNativeLine?(t-1)*2:(t-1)*2+2},getPolylineTriangleCount:function(e){var t;if(typeof e=="number")t=e;else{var r=typeof e[0]!="number";t=r?e.length:e.length/3}return this.useNativeLine?0:Math.max(t-1,0)*2},addCubicCurve:function(e,t,r,n,a,i){i==null&&(i=1);for(var o=e[0],s=e[1],l=e[2],u=t[0],c=t[1],f=t[2],d=r[0],h=r[1],v=r[2],p=n[0],m=n[1],g=n[2],y=this._getCubicCurveApproxStep(e,t,r,n),_=y*y,x=_*y,w=3*y,b=3*_,T=6*_,S=6*x,A=o-u*2+d,M=s-c*2+h,C=l-f*2+v,D=(u-d)*3-o+p,P=(c-h)*3-s+m,I=(f-v)*3-l+g,k=o,V=s,H=l,O=(u-o)*w+A*b+D*x,L=(c-s)*w+M*b+P*x,F=(f-l)*w+C*b+I*x,X=A*T+D*S,Y=M*T+P*S,G=C*T+I*S,z=D*S,N=P*S,U=I*S,Z=0,K=0,q=Math.ceil(1/y),ue=new Float32Array((q+1)*3),ue=[],se=0,K=0;K<q+1;K++)ue[se++]=k,ue[se++]=V,ue[se++]=H,k+=O,V+=L,H+=F,O+=X,L+=Y,F+=G,X+=z,Y+=N,G+=U,Z+=y,Z>1&&(k=O>0?Math.min(k,p):Math.max(k,p),V=L>0?Math.min(V,m):Math.max(V,m),H=F>0?Math.min(H,g):Math.max(H,g));return this.addPolyline(ue,a,i)},addLine:function(e,t,r,n){return this.addPolyline([e,t],r,n)},addPolyline:function(e,t,r,n,a){if(e.length){var i=typeof e[0]!="number";if(a==null&&(a=i?e.length:e.length/3),!(a<2)){n==null&&(n=0),r==null&&(r=1),this._itemVertexOffsets.push(this._vertexOffset);var i=typeof e[0]!="number",o=i?typeof t[0]!="number":t.length/4===a,s=this.attributes.position,l=this.attributes.positionPrev,u=this.attributes.positionNext,c=this.attributes.color,f=this.attributes.offset,d=this.indices,h=this._vertexOffset,v,p;r=Math.max(r,.01);for(var m=n;m<a;m++){if(i)v=e[m],o?p=t[m]:p=t;else{var g=m*3;if(v=v||[],v[0]=e[g],v[1]=e[g+1],v[2]=e[g+2],o){var y=m*4;p=p||[],p[0]=t[y],p[1]=t[y+1],p[2]=t[y+2],p[3]=t[y+3]}else p=t}if(this.useNativeLine?m>1&&(s.copy(h,h-1),c.copy(h,h-1),h++):(m<a-1&&(l.set(h+2,v),l.set(h+3,v)),m>0&&(u.set(h-2,v),u.set(h-1,v)),s.set(h,v),s.set(h+1,v),c.set(h,p),c.set(h+1,p),f.set(h,r/2),f.set(h+1,-r/2),h+=2),this.useNativeLine)c.set(h,p),s.set(h,v),h++;else if(m>0){var _=this._triangleOffset*3,d=this.indices;d[_]=h-4,d[_+1]=h-3,d[_+2]=h-2,d[_+3]=h-3,d[_+4]=h-1,d[_+5]=h-2,this._triangleOffset+=2}}if(!this.useNativeLine){var x=this._vertexOffset,w=this._vertexOffset+a*2;l.copy(x,x+2),l.copy(x+1,x+3),u.copy(w-1,w-3),u.copy(w-2,w-4)}return this._vertexOffset=h,this._vertexOffset}}},setItemColor:function(e,t){for(var r=this._itemVertexOffsets[e],n=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,a=r;a<n;a++)this.attributes.color.set(a,t);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});kt(EU.prototype,qp);const Wc=EU;function f0(e,t,r,n,a,i,o){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=n,this.height=a,this.offsetX=t,this.offsetY=r,this.dpr=o,this.gap=i}f0.prototype={constructor:f0,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,t,r){var n=e.getBoundingRect();t==null&&(t=n.width),r==null&&(r=n.height),t*=this.dpr,r*=this.dpr,this._fitElement(e,t,r);var a=this._x,i=this._y,o=this.width*this.dpr,s=this.height*this.dpr,l=this.gap;if(a+t+l>o&&(a=this._x=0,i+=this._rowHeight+l,this._y=i,this._rowHeight=0),this._x+=t+l,this._rowHeight=Math.max(this._rowHeight,r),i+r+l>s)return null;e.x+=this.offsetX*this.dpr+a,e.y+=this.offsetY*this.dpr+i,this._zr.add(e);var u=[this.offsetX/this.width,this.offsetY/this.height],c=[[a/o+u[0],i/s+u[1]],[(a+t)/o+u[0],(i+r)/s+u[1]]];return c},_fitElement:function(e,t,r){var n=e.getBoundingRect(),a=t/n.width,i=r/n.height;e.x=-n.x*a,e.y=-n.y*i,e.scaleX=a,e.scaleY=i,e.update()}};function d0(e){e=e||{},e.width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=e.gap==null?2:e.gap;var t=document.createElement("canvas");t.width=e.width*e.devicePixelRatio,t.height=e.height*e.devicePixelRatio,this._canvas=t,this._texture=new _t({image:t,flipY:!1});var r=this;this._zr=Pw(t);var n=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){n.call(this),r._texture.dirty(),r.onupdate&&r.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new f0(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}d0.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,t=this._textureAtlasNodes,r=t.length,n=r*this._nodeWidth%e,a=Math.floor(r*this._nodeWidth/e)*this._nodeHeight;if(!(a>=e)){var i=(n+this._nodeWidth)*this._dpr,o=(a+this._nodeHeight)*this._dpr;try{this._zr.resize({width:i,height:o})}catch{this._canvas.width=i,this._canvas.height=o}var s=new f0(this._zr,n,a,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(s),s}},add:function(e,t,r){if(this._coords[e.id])return this._coords[e.id];var n=this._getCurrentNode().add(e,t,r);if(!n){var a=this._expand();if(!a)return;n=a.add(e,t,r)}return this._coords[e.id]=n,n},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]},dispose:function(){this._zr.dispose()}};function Hl(){}Hl.prototype={constructor:Hl,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new W.DirectionalLight({shadowBias:.005}),this.ambientLight=new W.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var t=this.mainLight,r=this.ambientLight,n=e.getModel("light"),a=n.getModel("main"),i=n.getModel("ambient");t.intensity=a.get("intensity"),r.intensity=i.get("intensity"),t.color=W.parseColor(a.get("color")).slice(0,3),r.color=W.parseColor(i.get("color")).slice(0,3);var o=a.get("alpha")||0,s=a.get("beta")||0;t.position.setArray(W.directionFromAlphaBeta(o,s)),t.lookAt(W.Vector3.ZERO),t.castShadow=a.get("shadow"),t.shadowResolution=W.getShadowResolution(a.get("shadowQuality"))},updateAmbientCubemap:function(e,t,r){var n=t.getModel("light.ambientCubemap"),a=n.get("texture");if(a){this._cubemapLightsCache=this._cubemapLightsCache||{};var i=this._cubemapLightsCache[a];if(!i){var o=this;i=this._cubemapLightsCache[a]=W.createAmbientCubemap(n.option,e,r,function(){o._isSkyboxFromAmbientCubemap&&o._skybox.setEnvironmentMap(i.specular.cubemap),r.getZr().refresh()})}this._lightRoot.add(i.diffuse),this._lightRoot.add(i.specular),this._currentCubemapLights=i}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,t,r){var n=t.get("environment"),a=this;function i(){return a._skybox=a._skybox||new mp,a._skybox}var o=i();if(n&&n!=="none")if(n==="auto")if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var s=this._currentCubemapLights.specular.cubemap;o.setEnvironmentMap(s),this._scene&&o.attachScene(this._scene),o.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if(typeof n=="object"&&n.colorStops||typeof n=="string"&&_o(n)){this._isSkyboxFromAmbientCubemap=!1;var l=new W.Texture2D({anisotropic:8,flipY:!1});o.setEnvironmentMap(l);var u=l.image=document.createElement("canvas");u.width=u.height=16;var c=u.getContext("2d"),f=new gn({shape:{x:0,y:0,width:16,height:16},style:{fill:n}});g_(c,f),o.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;var l=W.loadTexture(n,r,{anisotropic:8,flipY:!1});o.setEnvironmentMap(l),o.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var d=t.coordinateSystem;if(this._skybox)if(d&&d.viewGL&&n!=="auto"&&!(n.match&&n.match(/.hdr$/))){var h=d.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[h]("fragment","SRGB_DECODE")}else this._skybox.material.undefine("fragment","SRGB_DECODE")}};var Mu=un.vec3,DU=zt.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new zt.Attribute("position","float",3,"POSITION"),normal:new zt.Attribute("normal","float",3,"NORMAL"),color:new zt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var t=this.attributes,r=this.getQuadVertexCount()*e,n=this.getQuadTriangleCount()*e;this.vertexCount!==r&&(t.position.init(r),t.normal.init(r),t.color.init(r)),this.triangleCount!==n&&(this.indices=r>65535?new Uint32Array(n*3):new Uint16Array(n*3))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=Mu.create(),t=Mu.create(),r=Mu.create(),n=[0,3,1,3,2,1];return function(a,i){var o=this.attributes.position,s=this.attributes.normal,l=this.attributes.color;Mu.sub(e,a[1],a[0]),Mu.sub(t,a[2],a[1]),Mu.cross(r,e,t),Mu.normalize(r,r);for(var u=0;u<4;u++)o.set(this._vertexOffset+u,a[u]),l.set(this._vertexOffset+u,i),s.set(this._vertexOffset+u,r);for(var c=this._faceOffset*3,u=0;u<6;u++)this.indices[c+u]=n[u]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});kt(DU.prototype,qp);const Hye=DU;var yT=Tt.firstNotNull,Gye={x:0,y:2,z:1};function $ye(e,t,r,n){var a=[0,0,0],i=n<0?r.getExtentMin():r.getExtentMax();a[Gye[r.dim]]=i,e.position.setArray(a),e.rotation.identity(),t.distance=-Math.abs(i),t.normal.set(0,0,0),r.dim==="x"?(e.rotation.rotateY(n*Math.PI/2),t.normal.x=-n):r.dim==="z"?(e.rotation.rotateX(-n*Math.PI/2),t.normal.y=-n):(n>0&&e.rotation.rotateY(Math.PI),t.normal.z=-n)}function j_(e,t,r){this.rootNode=new W.Node;var n=new W.Mesh({geometry:new Wc({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),a=new W.Mesh({geometry:new Hye,material:r,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(a),this.rootNode.add(n),this.faceInfo=e,this.plane=new W.Plane,this.linesMesh=n,this.quadsMesh=a}j_.prototype.update=function(e,t,r){var n=e.coordinateSystem,a=[n.getAxis(this.faceInfo[0]),n.getAxis(this.faceInfo[1])],i=this.linesMesh.geometry,o=this.quadsMesh.geometry;i.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(i,a,e,r),this._udpateSplitAreas(o,a,e,r),i.convertToTypedArray(),o.convertToTypedArray();var s=n.getAxis(this.faceInfo[2]);$ye(this.rootNode,this.plane,s,this.faceInfo[3])};j_.prototype._updateSplitLines=function(e,t,r,n){var a=n.getDevicePixelRatio();t.forEach(function(i,o){var s=i.model,l=t[1-o].getExtent();if(!i.scale.isBlank()){var u=s.getModel("splitLine",r.getModel("splitLine"));if(u.get("show")){var c=u.getModel("lineStyle"),f=c.get("color"),d=yT(c.get("opacity"),1),h=yT(c.get("width"),1);f=Ne(f)?f:[f];for(var v=i.getTicksCoords({tickModel:u}),p=0,m=0;m<v.length;m++){var g=v[m].coord,y=W.parseColor(f[p%f.length]);y[3]*=d;var _=[0,0,0],x=[0,0,0];_[o]=x[o]=g,_[1-o]=l[0],x[1-o]=l[1],e.addLine(_,x,y,h*a),p++}}}})};j_.prototype._udpateSplitAreas=function(e,t,r,n){t.forEach(function(a,i){var o=a.model,s=t[1-i].getExtent();if(!a.scale.isBlank()){var l=o.getModel("splitArea",r.getModel("splitArea"));if(l.get("show")){var u=l.getModel("areaStyle"),c=u.get("color"),f=yT(u.get("opacity"),1);c=Ne(c)?c:[c];for(var d=a.getTicksCoords({tickModel:l,clamp:!0}),h=0,v=[0,0,0],p=[0,0,0],m=0;m<d.length;m++){var g=d[m].coord,y=[0,0,0],_=[0,0,0];if(y[i]=_[i]=g,y[1-i]=s[0],_[1-i]=s[1],m===0){v=y,p=_;continue}var x=W.parseColor(c[h%c.length]);x[3]*=f,e.addQuad([v,y,_,p],x),v=y,p=_,h++}}}})};var nO=[0,1,2,0,2,3],MU=zt.extend(function(){return{attributes:{position:new zt.Attribute("position","float",3,"POSITION"),texcoord:new zt.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new zt.Attribute("offset","float",2),color:new zt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var t=e*4,r=e*2;this.vertexCount!==t&&(this.attributes.position.init(t),this.attributes.offset.init(t),this.attributes.color.init(t)),this.triangleCount!==r&&(this.indices=t>65535?new Uint32Array(r*3):new Uint16Array(r*3))},setSpriteAlign:function(e,t,r,n,a){r==null&&(r="left"),n==null&&(n="top");var i,o,s,l;switch(a=a||0,r){case"left":i=a,s=t[0]+a;break;case"center":case"middle":i=-t[0]/2,s=t[0]/2;break;case"right":i=-t[0]-a,s=-a;break}switch(n){case"bottom":o=a,l=t[1]+a;break;case"middle":o=-t[1]/2,l=t[1]/2;break;case"top":o=-t[1]-a,l=-a;break}var u=e*4,c=this.attributes.offset;c.set(u,[i,l]),c.set(u+1,[s,l]),c.set(u+2,[s,o]),c.set(u+3,[i,o])},addSprite:function(e,t,r,n,a,i){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,t,r,n,a,i);for(var s=0;s<nO.length;s++)this.indices[this._faceOffset*3+s]=nO[s]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(e,t,r,n,a,i,o){for(var s=e*4,l=this.attributes,u=0;u<4;u++)l.position.set(s+u,t);var c=l.texcoord;c.set(s,[n[0][0],n[0][1]]),c.set(s+1,[n[1][0],n[0][1]]),c.set(s+2,[n[1][0],n[1][1]]),c.set(s+3,[n[0][0],n[1][1]]),this.setSpriteAlign(e,r,a,i,o)}});kt(MU.prototype,qp);const Wye=MU,Yye=`@export ecgl.labels.vertex

attribute vec3 position: POSITION;
attribute vec2 texcoord: TEXCOORD_0;
attribute vec2 offset;
#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;

varying vec2 v_Texcoord;

void main()
{
 vec4 proj = worldViewProjection * vec4(position, 1.0);

 vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;

 screen += offset;

 proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);
 gl_Position = proj;
#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif
 v_Texcoord = texcoord;
}
@end


@export ecgl.labels.fragment

uniform vec3 color : [1.0, 1.0, 1.0];
uniform float alpha : 1.0;
uniform sampler2D textureAtlas;
uniform vec2 uvScale: [1.0, 1.0];

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif
varying float v_Miter;

varying vec2 v_Texcoord;

void main()
{
 gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);
#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
#endif
}

@end`;W.Shader.import(Yye);const AA=W.Mesh.extend(function(){var e=new Wye({dynamic:!0}),t=new W.Material({shader:W.createShader("ecgl.labels"),transparent:!0,depthMask:!1});return{geometry:e,material:t,culling:!1,castShadow:!1,ignorePicking:!0}});var Pu=Tt.firstNotNull,Lu={x:0,y:2,z:1};function EA(e,t){var r=new W.Mesh({geometry:new Wc({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,renderOrder:2}),n=new AA;n.material.depthMask=!1;var a=new W.Node;a.add(r),a.add(n),this.rootNode=a,this.dim=e,this.linesMesh=r,this.labelsMesh=n,this.axisLineCoords=null,this.labelElements=[]}var Ib={x:"y",y:"x",z:"y"};EA.prototype.update=function(e,t,r){var n=e.coordinateSystem,a=n.getAxis(this.dim),i=this.linesMesh.geometry,o=this.labelsMesh.geometry;i.convertToDynamicArray(!0),o.convertToDynamicArray(!0);var s=a.model,l=a.getExtent(),C=r.getDevicePixelRatio(),u=s.getModel("axisLine",e.getModel("axisLine")),c=s.getModel("axisTick",e.getModel("axisTick")),f=s.getModel("axisLabel",e.getModel("axisLabel")),d=u.get("lineStyle.color");if(u.get("show")){var h=u.getModel("lineStyle"),v=[0,0,0],p=[0,0,0],m=Lu[a.dim];v[m]=l[0],p[m]=l[1],this.axisLineCoords=[v,p];var g=W.parseColor(d),y=Pu(h.get("width"),1),_=Pu(h.get("opacity"),1);g[3]*=_,i.addLine(v,p,g,y*C)}if(c.get("show")){var x=c.getModel("lineStyle"),w=W.parseColor(Pu(x.get("color"),d)),y=Pu(x.get("width"),1);w[3]*=Pu(x.get("opacity"),1);for(var b=a.getTicksCoords(),T=c.get("length"),S=0;S<b.length;S++){var A=b[S].coord,v=[0,0,0],p=[0,0,0],m=Lu[a.dim],M=Lu[Ib[a.dim]];v[m]=p[m]=A,p[M]=T,i.addLine(v,p,w,y*C)}}this.labelElements=[];var C=r.getDevicePixelRatio();if(f.get("show"))for(var b=a.getTicksCoords(),D=s.get("data"),P=f.get("margin"),I=a.getViewLabels(),S=0;S<I.length;S++){var k=I[S].tickValue,V=I[S].formattedLabel,H=I[S].rawLabel,A=a.dataToCoord(k),O=[0,0,0],m=Lu[a.dim],M=Lu[Ib[a.dim]];O[m]=O[m]=A,O[M]=P;var L=f;D&&D[k]&&D[k].textStyle&&(L=new on(D[k].textStyle,f,s.ecModel));var F=Pu(L.get("color"),d),X=new Kr({style:Yi(L,{text:V,fill:typeof F=="function"?F(a.type==="category"?H:a.type==="value"?k+"":k,S):F,verticalAlign:"top",align:"left"})}),Y=t.add(X),G=X.getBoundingRect();o.addSprite(O,[G.width*C,G.height*C],Y),this.labelElements.push(X)}if(s.get("name")){var z=s.getModel("nameTextStyle"),O=[0,0,0],m=Lu[a.dim],M=Lu[Ib[a.dim]],N=Pu(z.get("color"),d),U=z.get("borderColor"),y=z.get("borderWidth");O[m]=O[m]=(l[0]+l[1])/2,O[M]=s.get("nameGap");var X=new Kr({style:Yi(z,{text:s.get("name"),fill:N,stroke:U,lineWidth:y})}),Y=t.add(X),G=X.getBoundingRect();o.addSprite(O,[G.width*C,G.height*C],Y),X.__idx=this.labelElements.length,this.nameLabelElement=X}this.labelsMesh.material.set("textureAtlas",t.getTexture()),this.labelsMesh.material.set("uvScale",t.getCoordsScale()),i.convertToTypedArray(),o.convertToTypedArray()};EA.prototype.setSpriteAlign=function(e,t,r){for(var n=r.getDevicePixelRatio(),a=this.labelsMesh.geometry,i=0;i<this.labelElements.length;i++){var o=this.labelElements[i],s=o.getBoundingRect();a.setSpriteAlign(i,[s.width*n,s.height*n],e,t)}var l=this.nameLabelElement;if(l){var s=l.getBoundingRect();a.setSpriteAlign(l.__idx,[s.width*n,s.height*n],e,t),a.dirty()}this.textAlign=e,this.textVerticalAlign=t};const q_=`@export ecgl.lines3D.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec3 position: POSITION;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

void main()
{
 gl_Position = worldViewProjection * vec4(position, 1.0);
 v_Color = a_Color;
}

@end

@export ecgl.lines3D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif
}
@end



@export ecgl.lines3D.clipNear

vec4 clipNear(vec4 p1, vec4 p2) {
 float n = (p1.w - near) / (p1.w - p2.w);
 return vec4(mix(p1.xy, p2.xy, n), -near, near);
}

@end

@export ecgl.lines3D.expandLine
#ifdef VERTEX_ANIMATION
 vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);
 vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);
 vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);
#else
 vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);
 vec4 currProj = worldViewProjection * vec4(position, 1.0);
 vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);
#endif

 if (currProj.w < 0.0) {
 if (nextProj.w > 0.0) {
 currProj = clipNear(currProj, nextProj);
 }
 else if (prevProj.w > 0.0) {
 currProj = clipNear(currProj, prevProj);
 }
 }

 vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;
 vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;
 vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;

 vec2 dir;
 float len = offset;
 if (position == positionPrev) {
 dir = normalize(nextScreen - currScreen);
 }
 else if (position == positionNext) {
 dir = normalize(currScreen - prevScreen);
 }
 else {
 vec2 dirA = normalize(currScreen - prevScreen);
 vec2 dirB = normalize(nextScreen - currScreen);

 vec2 tanget = normalize(dirA + dirB);

 float miter = 1.0 / max(dot(tanget, dirA), 0.5);
 len *= miter;
 dir = tanget;
 }

 dir = vec2(-dir.y, dir.x) * len;
 currScreen += dir;

 currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);
@end


@export ecgl.meshLines3D.vertex

attribute vec3 position: POSITION;
attribute vec3 positionPrev;
attribute vec3 positionNext;
attribute float offset;
attribute vec4 a_Color : COLOR;

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute vec3 prevPositionPrev;
attribute vec3 prevPositionNext;
uniform float percent : 1.0;
#endif

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;
uniform float near : NEAR;

varying vec4 v_Color;

@import ecgl.common.wireframe.vertexHeader

@import ecgl.lines3D.clipNear

void main()
{
 @import ecgl.lines3D.expandLine

 gl_Position = currProj;

 v_Color = a_Color;

 @import ecgl.common.wireframe.vertexMain
}
@end


@export ecgl.meshLines3D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif

 @import ecgl.common.wireframe.fragmentMain
}

@end`;var aO=Tt.firstNotNull;W.Shader.import(q_);var Iu={x:0,y:2,z:1};const Xye=va.extend({type:"grid3D",__ecgl__:!0,init:function(e,t){var r=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],n=["x","y","z"],a=new W.Material({shader:W.createShader("ecgl.color"),depthMask:!1,transparent:!0}),i=new W.Material({shader:W.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});a.define("fragment","DOUBLE_SIDED"),a.define("both","VERTEX_COLOR"),this.groupGL=new W.Node,this._control=new X_({zr:t.getZr()}),this._control.init(),this._faces=r.map(function(s){var l=new j_(s,i,a);return this.groupGL.add(l.rootNode),l},this),this._axes=n.map(function(s){var l=new EA(s,i);return this.groupGL.add(l.rootNode),l},this);var o=t.getDevicePixelRatio();this._axisLabelSurface=new d0({width:256,height:256,devicePixelRatio:o}),this._axisLabelSurface.onupdate=function(){t.getZr().refresh()},this._axisPointerLineMesh=new W.Mesh({geometry:new Wc({useNativeLine:!1}),material:i,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new d0({width:128,height:128,devicePixelRatio:o}),this._axisPointerLabelsMesh=new AA({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new W.Node,this._sceneHelper=new Hl,this._sceneHelper.initLight(this._lightRoot)},render:function(e,t,r){this._model=e,this._api=r;var n=e.coordinateSystem;n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL);var a=this._control;a.setViewGL(n.viewGL);var i=e.getModel("viewControl");a.setFromViewControlModel(i,0),this._axisLabelSurface.clear(),a.off("update"),e.get("show")&&(this._faces.forEach(function(o){o.update(e,t,r)},this),this._axes.forEach(function(o){o.update(e,this._axisLabelSurface,r)},this)),a.on("update",this._onCameraChange.bind(this,e,r),this),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,t,r,n){var a=n.renderer;this._sceneHelper.updateAmbientCubemap(a,e,r),this._sceneHelper.updateSkybox(a,e,r)},showAxisPointer:function(e,t,r,n){this._doShowAxisPointer(),this._updateAxisPointer(n.value)},hideAxisPointer:function(e,t,r,n){this._doHideAxisPointer()},_initMouseHandler:function(e){var t=e.coordinateSystem,r=t.viewGL;e.get("show")&&e.get("axisPointer.show")?r.on("mousemove",this._updateAxisPointerOnMousePosition,this):r.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var t=this._model,r=t.coordinateSystem,n=r.viewGL,a=n.castRay(e.offsetX,e.offsetY,new W.Ray),i,o=0;o<this._faces.length;o++){var s=this._faces[o];if(!s.rootNode.invisible){s.plane.normal.dot(n.camera.worldTransform.z)<0&&s.plane.normal.negate();var l=a.intersectPlane(s.plane);if(l){var u=r.getAxis(s.faceInfo[0]),c=r.getAxis(s.faceInfo[1]),f=Iu[s.faceInfo[0]],d=Iu[s.faceInfo[1]];u.contain(l.array[f])&&c.contain(l.array[d])&&(i=l)}}}if(i){var h=r.pointToData(i.array,[],!0);this._updateAxisPointer(h),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,t){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var r=this._control;t.dispatchAction({type:"grid3DChangeCamera",alpha:r.getAlpha(),beta:r.getBeta(),distance:r.getDistance(),center:r.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),t=new W.Vector3;e.update();for(var r=0;r<this._faces.length/2;r++){for(var n=[],a=0;a<2;a++){var i=this._faces[r*2+a];i.rootNode.getWorldPosition(t),t.transformMat4(e.viewMatrix),n[a]=t.z}var o=n[0]>n[1]?0:1,s=this._faces[r*2+o],l=this._faces[r*2+1-o];s.rootNode.invisible=!0,l.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,t=e.getAxis("x"),r=e.getAxis("y"),n=e.getAxis("z"),a=n.getExtentMax(),i=n.getExtentMin(),o=t.getExtentMin(),s=t.getExtentMax(),l=r.getExtentMax(),u=r.getExtentMin(),c=this._axes[0].rootNode,f=this._axes[1].rootNode,d=this._axes[2].rootNode,h=this._faces,v=h[4].rootNode.invisible?u:l,p=h[2].rootNode.invisible?a:i,m=h[0].rootNode.invisible?o:s,g=h[2].rootNode.invisible?a:i,y=h[0].rootNode.invisible?s:o,_=h[4].rootNode.invisible?u:l;c.rotation.identity(),f.rotation.identity(),d.rotation.identity(),h[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),h[0].rootNode.invisible&&(this._axes[1].flipped=!0,f.rotation.rotateZ(Math.PI)),h[4].rootNode.invisible&&(this._axes[2].flipped=!0,d.rotation.rotateY(Math.PI)),c.position.set(0,p,v),f.position.set(m,g,0),d.position.set(y,0,_),c.update(),f.update(),d.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),t=[new W.Vector4,new W.Vector4],r=new W.Vector4;this.groupGL.getWorldPosition(r),r.w=1,r.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),r.x/=r.w,r.y/=r.w,this._axes.forEach(function(n){var a=n.axisLineCoords;n.labelsMesh.geometry;for(var i=0;i<t.length;i++)t[i].setArray(a[i]),t[i].w=1,t[i].transformMat4(n.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t[i].x/=t[i].w,t[i].y/=t[i].w;var o=t[1].x-t[0].x,s=t[1].y-t[0].y,l=(t[1].x+t[0].x)/2,u=(t[1].y+t[0].y)/2,c,f;Math.abs(s/o)<.5?(c="center",f=u>r.y?"bottom":"top"):(f="middle",c=l>r.x?"left":"right"),n.setSpriteAlign(c,f,this._api)},this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var t=this._model.coordinateSystem,r=t.dataToPoint(e),n=this._axisPointerLineMesh,a=n.geometry,i=this._model.getModel("axisPointer"),o=this._api.getDevicePixelRatio();a.convertToDynamicArray(!0);function s(S){return Tt.firstNotNull(S.model.get("axisPointer.show"),i.get("show"))}function l(S){var A=S.model.getModel("axisPointer",i),M=A.getModel("lineStyle"),C=W.parseColor(M.get("color")),D=aO(M.get("width"),1),P=aO(M.get("opacity"),1);return C[3]*=P,{color:C,lineWidth:D}}for(var u=0;u<this._faces.length;u++){var c=this._faces[u];if(!c.rootNode.invisible){for(var f=c.faceInfo,d=f[3]<0?t.getAxis(f[2]).getExtentMin():t.getAxis(f[2]).getExtentMax(),h=Iu[f[2]],v=0;v<2;v++){var p=f[v],m=f[1-v],g=t.getAxis(p),y=t.getAxis(m);if(s(g)){var _=[0,0,0],x=[0,0,0],w=Iu[p],b=Iu[m];_[w]=x[w]=r[w],_[h]=x[h]=d,_[b]=y.getExtentMin(),x[b]=y.getExtentMax();var T=l(g);a.addLine(_,x,T.color,T.lineWidth*o)}}if(s(t.getAxis(f[2]))){var _=r.slice(),x=r.slice();x[h]=d;var T=l(t.getAxis(f[2]));a.addLine(_,x,T.color,T.lineWidth*o)}}}a.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var t=this._model,r=this._axisPointerLabelsMesh,n=this._axisPointerLabelsSurface,a=t.coordinateSystem,i=t.getModel("axisPointer");r.geometry.convertToDynamicArray(!0),n.clear();var o={x:"y",y:"x",z:"y"};this._axes.forEach(function(s,l){var u=a.getAxis(s.dim),c=u.model,f=c.getModel("axisPointer",i),d=f.getModel("label"),h=f.get("lineStyle.color");if(!(!d.get("show")||!f.get("show"))){var v=e[l],p=d.get("formatter"),m=u.scale.getLabel({value:v});if(p!=null)m=p(m,e);else if(u.scale.type==="interval"||u.scale.type==="log"){var g=xC(u.scale.getTicks()[0]);m=v.toFixed(g+2)}var y=d.get("color"),_=new Kr({style:Yi(d,{text:m,fill:y||h,align:"left",verticalAlign:"top"})}),x=n.add(_),w=_.getBoundingRect(),b=this._api.getDevicePixelRatio(),T=s.rootNode.position.toArray(),S=Iu[o[s.dim]];T[S]+=(s.flipped?-1:1)*d.get("margin"),T[Iu[s.dim]]=u.dataToCoord(e[l]),r.geometry.addSprite(T,[w.width*b,w.height*b],x,s.textAlign,s.textVerticalAlign)}},this),n.getZr().refreshImmediately(),r.material.set("uvScale",n.getCoordsScale()),r.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});function gp(e){g2.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}gp.prototype={constructor:gp,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,t,r){return t=t||[],t[0]=this.getAxis("x").dataToCoord(e[0],r),t[2]=this.getAxis("y").dataToCoord(e[1],r),t[1]=this.getAxis("z").dataToCoord(e[2],r),t},pointToData:function(e,t,r){return t=t||[],t[0]=this.getAxis("x").coordToData(e[0],r),t[1]=this.getAxis("y").coordToData(e[2],r),t[2]=this.getAxis("z").coordToData(e[1],r),t}};hC(gp,g2);function h0(e,t,r){Up.call(this,e,t,r)}h0.prototype={constructor:h0,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}};hC(h0,Up);var _T=function(){this._pool={},this._allocatedTextures=[]};_T.prototype={constructor:_T,get:function(e){var t=iO(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var r=this._pool[t];if(!r.length){var n=new _t(e);return this._allocatedTextures.push(n),n}return r.pop()},put:function(e){var t=iO(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var r=this._pool[t];r.push(e)},clear:function(e){for(var t=0;t<this._allocatedTextures.length;t++)this._allocatedTextures[t].dispose(e);this._pool={},this._allocatedTextures=[]}};var PU={width:512,height:512,type:ve.UNSIGNED_BYTE,format:ve.RGBA,wrapS:ve.CLAMP_TO_EDGE,wrapT:ve.CLAMP_TO_EDGE,minFilter:ve.LINEAR_MIPMAP_LINEAR,magFilter:ve.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},Rb=Object.keys(PU);function iO(e){Hn.defaultsWithPropList(e,PU,Rb),jye(e);for(var t="",r=0;r<Rb.length;r++){var n=Rb[r],a=e[n].toString();t+=a}return t}function jye(e){var t=qye(e.width,e.height);e.format===ve.DEPTH_COMPONENT&&(e.useMipmap=!1),(!t||!e.useMipmap)&&(e.minFilter==ve.NEAREST_MIPMAP_NEAREST||e.minFilter==ve.NEAREST_MIPMAP_LINEAR?e.minFilter=ve.NEAREST:(e.minFilter==ve.LINEAR_MIPMAP_LINEAR||e.minFilter==ve.LINEAR_MIPMAP_NEAREST)&&(e.minFilter=ve.LINEAR)),t||(e.wrapS=ve.CLAMP_TO_EDGE,e.wrapT=ve.CLAMP_TO_EDGE)}function qye(e,t){return(e&e-1)===0&&(t&t-1)===0}const LU=_T,Zye=`@export clay.sm.depth.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
uniform vec2 uvRepeat = vec2(1.0, 1.0);
uniform vec2 uvOffset = vec2(0.0, 0.0);
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
void main(){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 v_ViewPosition = worldViewProjection * P;
 gl_Position = v_ViewPosition;
 v_Texcoord = texcoord * uvRepeat + uvOffset;
}
@end
@export clay.sm.depth.fragment
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
uniform float bias : 0.001;
uniform float slopeScale : 1.0;
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
@import clay.util.encode_float
void main(){
 float depth = v_ViewPosition.z / v_ViewPosition.w;
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
#ifdef USE_VSM
 depth = depth * 0.5 + 0.5;
 float moment1 = depth;
 float moment2 = depth * depth;
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 moment2 += 0.25*(dx*dx+dy*dy);
 #endif
 gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);
#else
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;
 #else
 depth += bias;
 #endif
 gl_FragColor = encodeFloat(depth * 0.5 + 0.5);
#endif
}
@end
@export clay.sm.debug_depth
uniform sampler2D depthMap;
varying vec2 v_Texcoord;
@import clay.util.decode_float
void main() {
 vec4 tex = texture2D(depthMap, v_Texcoord);
#ifdef USE_VSM
 gl_FragColor = vec4(tex.rgb, 1.0);
#else
 float depth = decodeFloat(tex);
 gl_FragColor = vec4(depth, depth, depth, 1.0);
#endif
}
@end
@export clay.sm.distance.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 world : WORLD;
attribute vec3 position : POSITION;
@import clay.chunk.skinning_header
varying vec3 v_WorldPosition;
void main (){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = worldViewProjection * P;
 v_WorldPosition = (world * P).xyz;
}
@end
@export clay.sm.distance.fragment
uniform vec3 lightPosition;
uniform float range : 100;
varying vec3 v_WorldPosition;
@import clay.util.encode_float
void main(){
 float dist = distance(lightPosition, v_WorldPosition);
#ifdef USE_VSM
 gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);
#else
 dist = dist / range;
 gl_FragColor = encodeFloat(dist);
#endif
}
@end
@export clay.plugin.shadow_map_common
@import clay.util.decode_float
float tapShadowMap(sampler2D map, vec2 uv, float z){
 vec4 tex = texture2D(map, uv);
 return step(z, decodeFloat(tex) * 2.0 - 1.0);
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {
 float shadowContrib = tapShadowMap(map, uv, z);
 vec2 offset = vec2(1.0 / textureSize) * scale;
#ifdef PCF_KERNEL_SIZE
 for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{
 shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);
 }}
 return shadowContrib / float(PCF_KERNEL_SIZE + 1);
#else
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);
 return shadowContrib / 9.0;
#endif
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize) {
 return pcf(map, uv, z, textureSize, vec2(1.0));
}
float chebyshevUpperBound(vec2 moments, float z){
 float p = 0.0;
 z = z * 0.5 + 0.5;
 if (z <= moments.x) {
 p = 1.0;
 }
 float variance = moments.y - moments.x * moments.x;
 variance = max(variance, 0.0000001);
 float mD = moments.x - z;
 float pMax = variance / (variance + mD * mD);
 pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);
 return max(p, pMax);
}
float computeShadowContrib(
 sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset
) {
 vec4 posInLightSpace = lightVPM * vec4(position, 1.0);
 posInLightSpace.xyz /= posInLightSpace.w;
 float z = posInLightSpace.z;
 if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&
 all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){
 vec2 uv = (posInLightSpace.xy+1.0) / 2.0;
 #ifdef USE_VSM
 vec2 moments = texture2D(map, uv * scale + offset).xy;
 return chebyshevUpperBound(moments, z);
 #else
 return pcf(map, uv * scale + offset, z, textureSize, scale);
 #endif
 }
 return 1.0;
}
float computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {
 return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));
}
float computeShadowContribOmni(samplerCube map, vec3 direction, float range)
{
 float dist = length(direction);
 vec4 shadowTex = textureCube(map, direction);
#ifdef USE_VSM
 vec2 moments = shadowTex.xy;
 float variance = moments.y - moments.x * moments.x;
 float mD = moments.x - dist;
 float p = variance / (variance + mD * mD);
 if(moments.x + 0.001 < dist){
 return clamp(p, 0.0, 1.0);
 }else{
 return 1.0;
 }
#else
 return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);
#endif
}
@end
@export clay.plugin.compute_shadow_map
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)
#ifdef SPOT_LIGHT_SHADOWMAP_COUNT
uniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT
#if defined(SHADOW_CASCADE)
uniform sampler2D directionalLightShadowMaps[1]:unconfigurable;
uniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;
uniform float directionalLightShadowMapSizes[1]:unconfigurable;
uniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;
uniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;
#else
uniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#endif
#ifdef POINT_LIGHT_SHADOWMAP_COUNT
uniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
uniform bool shadowEnabled : true;
#ifdef PCF_KERNEL_SIZE
uniform vec2 pcfKernel[PCF_KERNEL_SIZE];
#endif
@import clay.plugin.shadow_map_common
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,
 spotLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
#ifdef SHADOW_CASCADE
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)
 / (gl_DepthRange.far - gl_DepthRange.near);
 float shadowContrib;
 shadowContribs[0] = 1.0;
 for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{
 if (
 depth >= shadowCascadeClipsNear[_idx_] &&
 depth <= shadowCascadeClipsFar[_idx_]
 ) {
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[0],
 vec2(1.0 / float(SHADOW_CASCADE), 1.0),
 vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)
 );
 shadowContribs[0] = shadowContrib;
 }
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#else
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
#if defined(POINT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){
 vec3 lightPosition;
 vec3 direction;
 for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 lightPosition = pointLightPosition[_idx_];
 direction = position - lightPosition;
 shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);
 }}
 for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
@end`;var ml=["px","nx","py","ny","pz","nz"];Pe.import(Zye);function Ob(e,t,r){if(r==="alphaMap")return e.material.get("diffuseMap");if(r==="alphaCutoff"){if(e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")){var n=e.material.get("alphaCutoff");return n||0}return 0}else return r==="uvRepeat"?e.material.get("uvRepeat"):r==="uvOffset"?e.material.get("uvOffset"):t.get(r)}function oO(e,t){var r=e.material,n=t.material;return r.get("diffuseMap")!==n.get("diffuseMap")||(r.get("alphaCutoff")||0)!==(n.get("alphaCutoff")||0)}var Vo=Va.extend(function(){return{softShadow:Vo.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new Wn,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new LU}},function(){this._gaussianPassH=new mn({fragment:Pe.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new mn({fragment:Pe.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new mn({fragment:Pe.source("clay.sm.debug_depth")})},{render:function(e,t,r,n){r||(r=t.getMainCamera()),this.trigger("beforerender",this,e,t,r),this._renderShadowPass(e,t,r,n),this.trigger("afterrender",this,e,t,r)},renderDebug:function(e,t){e.saveClear();var r=e.viewport,n=0,a=0,i=t||r.width/4,o=i;this.softShadow===Vo.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM");for(var s in this._textures){var l=this._textures[s];e.setViewport(n,a,i*l.width/l.height,o),this._outputDepthPass.setUniform("depthMap",l),this._outputDepthPass.render(e),n+=i*l.width/l.height}e.setViewport(r),e.restoreClear()},_updateReceivers:function(e,t){if(t.receiveShadow?(this._receivers.push(t),t.material.set("shadowEnabled",1),t.material.set("pcfKernel",this.kernelPCF)):t.material.set("shadowEnabled",0),this.softShadow===Vo.VSM)t.material.define("fragment","USE_VSM"),t.material.undefine("fragment","PCF_KERNEL_SIZE");else{t.material.undefine("fragment","USE_VSM");var r=this.kernelPCF;r&&r.length?t.material.define("fragment","PCF_KERNEL_SIZE",r.length/2):t.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,t){var r=this;t.traverse(function(i){i.isRenderable()&&r._updateReceivers(e,i)});for(var n=0;n<t.lights.length;n++){var a=t.lights[n];a.castShadow&&!a.invisible&&this._lightsCastShadow.push(a)}},_renderShadowPass:function(e,t,r,n){for(var a in this._shadowMapNumber)this._shadowMapNumber[a]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var i=e.gl;if(n||t.update(),r&&r.update(),t.updateLights(),this._update(e,t),!this._lightsCastShadow.length&&this._lastRenderNotCastShadow)return;this._lastRenderNotCastShadow=this._lightsCastShadow===0,i.enable(i.DEPTH_TEST),i.depthMask(!0),i.disable(i.BLEND),i.clearColor(1,1,1,1);for(var o=[],s=[],l=[],u=[],c=[],f=[],d,h=0;h<this._lightsCastShadow.length;h++){var v=this._lightsCastShadow[h];if(v.type==="DIRECTIONAL_LIGHT"){if(d){console.warn("Only one direectional light supported with shadow cascade");continue}if(v.shadowCascade>4){console.warn("Support at most 4 cascade");continue}v.shadowCascade>1&&(d=v),this.renderDirectionalLightShadow(e,t,r,v,c,u,l)}else v.type==="SPOT_LIGHT"?this.renderSpotLightShadow(e,t,v,s,o):v.type==="POINT_LIGHT"&&this.renderPointLightShadow(e,t,v,f);this._shadowMapNumber[v.type]++}for(var p in this._shadowMapNumber)for(var m=this._shadowMapNumber[p],g=p+"_SHADOWMAP_COUNT",h=0;h<this._receivers.length;h++){var y=this._receivers[h],_=y.material;_.fragmentDefines[g]!==m&&(m>0?_.define("fragment",g,m):_.isDefined("fragment",g)&&_.undefine("fragment",g))}for(var h=0;h<this._receivers.length;h++){var y=this._receivers[h],_=y.material;d?_.define("fragment","SHADOW_CASCADE",d.shadowCascade):_.undefine("fragment","SHADOW_CASCADE")}var x=t.shadowUniforms;function w(M){return M.height}if(l.length>0){var b=l.map(w);if(x.directionalLightShadowMaps={value:l,type:"tv"},x.directionalLightMatrices={value:u,type:"m4v"},x.directionalLightShadowMapSizes={value:b,type:"1fv"},d){var T=c.slice(),S=c.slice();T.pop(),S.shift(),T.reverse(),S.reverse(),u.reverse(),x.shadowCascadeClipsNear={value:T,type:"1fv"},x.shadowCascadeClipsFar={value:S,type:"1fv"}}}if(o.length>0){var A=o.map(w),x=t.shadowUniforms;x.spotLightShadowMaps={value:o,type:"tv"},x.spotLightMatrices={value:s,type:"m4v"},x.spotLightShadowMapSizes={value:A,type:"1fv"}}f.length>0&&(x.pointLightShadowMaps={value:f,type:"tv"})},renderDirectionalLightShadow:function(){var e=new wA,t=new qe,r=new Ia,n=new qe,a=new qe,i=new qe,o=new qe;return function(s,l,u,c,f,d,h){var v=this._getDepthMaterial(c),p={getMaterial:function(G){return G.shadowDepthMaterial||v},isMaterialChanged:oO,getUniform:Ob,ifRender:function(G){return G.castShadow},sortCompare:Pv.opaqueSortCompare};if(!l.viewBoundingBoxLastFrame.isFinite()){var m=l.getBoundingBox();l.viewBoundingBoxLastFrame.copy(m).applyTransform(u.viewMatrix)}var g=Math.min(-l.viewBoundingBoxLastFrame.min.z,u.far),y=Math.max(-l.viewBoundingBoxLastFrame.max.z,u.near),_=this._getDirectionalLightCamera(c,l,u),x=i.array;o.copy(_.projectionMatrix),Re.invert(a.array,_.worldTransform.array),Re.multiply(a.array,a.array,u.worldTransform.array),Re.multiply(x,o.array,a.array);for(var w=[],b=u instanceof Pn,T=(u.near+u.far)/(u.near-u.far),S=2*u.near*u.far/(u.near-u.far),A=0;A<=c.shadowCascade;A++){var M=y*Math.pow(g/y,A/c.shadowCascade),C=y+(g-y)*A/c.shadowCascade,D=M*c.cascadeSplitLogFactor+C*(1-c.cascadeSplitLogFactor);w.push(D),f.push(-(-D*T+S)/-D)}var P=this._getTexture(c,c.shadowCascade);h.push(P);var I=s.viewport,k=s.gl;this._frameBuffer.attach(P),this._frameBuffer.bind(s),k.clear(k.COLOR_BUFFER_BIT|k.DEPTH_BUFFER_BIT);for(var A=0;A<c.shadowCascade;A++){var V=w[A],H=w[A+1];b?Re.perspective(t.array,u.fov/180*Math.PI,u.aspect,V,H):Re.ortho(t.array,u.left,u.right,u.bottom,u.top,V,H),e.setFromProjection(t),e.getTransformedBoundingBox(r,a),r.applyProjection(o);var O=r.min.array,L=r.max.array;O[0]=Math.max(O[0],-1),O[1]=Math.max(O[1],-1),L[0]=Math.min(L[0],1),L[1]=Math.min(L[1],1),n.ortho(O[0],L[0],O[1],L[1],1,-1),_.projectionMatrix.multiplyLeft(n);var F=c.shadowResolution||512;s.setViewport((c.shadowCascade-A-1)*F,0,F,F,1);var X=l.updateRenderList(_);s.renderPass(X.opaque,_,p),this.softShadow===Vo.VSM&&this._gaussianFilter(s,P,P.width);var Y=new qe;Y.copy(_.viewMatrix).multiplyLeft(_.projectionMatrix),d.push(Y.array),_.projectionMatrix.copy(o)}this._frameBuffer.unbind(s),s.setViewport(I)}}(),renderSpotLightShadow:function(e,t,r,n,a){var i=this._getTexture(r),o=this._getSpotLightCamera(r),s=e.gl;this._frameBuffer.attach(i),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var l=this._getDepthMaterial(r),u={getMaterial:function(d){return d.shadowDepthMaterial||l},isMaterialChanged:oO,getUniform:Ob,ifRender:function(d){return d.castShadow},sortCompare:Pv.opaqueSortCompare},c=t.updateRenderList(o);e.renderPass(c.opaque,o,u),this._frameBuffer.unbind(e),this.softShadow===Vo.VSM&&this._gaussianFilter(e,i,i.width);var f=new qe;f.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),a.push(i),n.push(f.array)},renderPointLightShadow:function(e,t,r,n){var a=this._getTexture(r),i=e.gl;n.push(a);var o=this._getDepthMaterial(r),s={getMaterial:function(y){return y.shadowDepthMaterial||o},getUniform:Ob,sortCompare:Pv.opaqueSortCompare},l={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},u=new Ia,c=r.getWorldPosition().array,f=new Ia,d=r.range;f.min.setArray(c),f.max.setArray(c);var h=new ke(d,d,d);f.max.add(h),f.min.sub(h);var v={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};t.traverse(function(y){if(y.isRenderable()&&y.castShadow){var _=y.geometry;if(!_.boundingBox){for(var x=0;x<ml.length;x++)l[ml[x]].push(y);return}if(u.transformFrom(_.boundingBox,y.worldTransform),!u.intersectBoundingBox(f))return;u.updateVertices();for(var x=0;x<ml.length;x++)v[ml[x]]=!1;for(var x=0;x<8;x++){var w=u.vertices[x],b=w[0]-c[0],T=w[1]-c[1],S=w[2]-c[2],A=Math.abs(b),M=Math.abs(T),C=Math.abs(S);A>M?A>C?v[b>0?"px":"nx"]=!0:v[S>0?"pz":"nz"]=!0:M>C?v[T>0?"py":"ny"]=!0:v[S>0?"pz":"nz"]=!0}for(var x=0;x<ml.length;x++)v[ml[x]]&&l[ml[x]].push(y)}});for(var p=0;p<6;p++){var m=ml[p],g=this._getPointLightCamera(r,m);this._frameBuffer.attach(a,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+p),this._frameBuffer.bind(e),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),e.renderPass(l[m],g,s)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var t=this._lightMaterials[e.__uid__],r=e.type==="POINT_LIGHT";if(!t){var n=r?"clay.sm.distance.":"clay.sm.depth.";t=new Ui({precision:this.precision,shader:new Pe(Pe.source(n+"vertex"),Pe.source(n+"fragment"))}),this._lightMaterials[e.__uid__]=t}return e.shadowSlopeScale!=null&&t.setUniform("slopeScale",e.shadowSlopeScale),e.shadowBias!=null&&t.setUniform("bias",e.shadowBias),this.softShadow===Vo.VSM?t.define("fragment","USE_VSM"):t.undefine("fragment","USE_VSM"),r&&(t.set("lightPosition",e.getWorldPosition().array),t.set("range",e.range)),t},_gaussianFilter:function(e,t,r){var n={width:r,height:r,type:Qe.FLOAT},a=this._texturePool.get(n);this._frameBuffer.attach(a),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",t),this._gaussianPassH.setUniform("textureWidth",r),this._gaussianPassH.render(e),this._frameBuffer.attach(t),this._gaussianPassV.setUniform("texture",a),this._gaussianPassV.setUniform("textureHeight",r),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(a)},_getTexture:function(e,t){var r=e.__uid__,n=this._textures[r],a=e.shadowResolution||512;return t=t||1,n||(e.type==="POINT_LIGHT"?n=new pp:n=new _t,n.width=a*t,n.height=a,this.softShadow===Vo.VSM?(n.type=Qe.FLOAT,n.anisotropic=4):(n.minFilter=ve.NEAREST,n.magFilter=ve.NEAREST,n.useMipmap=!1),this._textures[r]=n),n},_getPointLightCamera:function(e,t){this._lightCameras.point||(this._lightCameras.point={px:new Pn,nx:new Pn,py:new Pn,ny:new Pn,pz:new Pn,nz:new Pn});var r=this._lightCameras.point[t];switch(r.far=e.range,r.fov=90,r.position.set(0,0,0),t){case"px":r.lookAt(ke.POSITIVE_X,ke.NEGATIVE_Y);break;case"nx":r.lookAt(ke.NEGATIVE_X,ke.NEGATIVE_Y);break;case"py":r.lookAt(ke.POSITIVE_Y,ke.POSITIVE_Z);break;case"ny":r.lookAt(ke.NEGATIVE_Y,ke.NEGATIVE_Z);break;case"pz":r.lookAt(ke.POSITIVE_Z,ke.NEGATIVE_Y);break;case"nz":r.lookAt(ke.NEGATIVE_Z,ke.NEGATIVE_Y);break}return e.getWorldPosition(r.position),r.update(),r},_getDirectionalLightCamera:function(){var e=new qe,t=new Ia,r=new Ia;return function(n,a,i){this._lightCameras.directional||(this._lightCameras.directional=new yd);var o=this._lightCameras.directional;t.copy(a.viewBoundingBoxLastFrame),t.intersection(i.frustum.boundingBox),o.position.copy(t.min).add(t.max).scale(.5).transformMat4(i.worldTransform),o.rotation.copy(n.rotation),o.scale.copy(n.scale),o.updateWorldTransform(),qe.invert(e,o.worldTransform),qe.multiply(e,e,i.worldTransform),r.copy(t).applyTransform(e);var s=r.min.array,l=r.max.array;return o.position.set((s[0]+l[0])/2,(s[1]+l[1])/2,l[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+l[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=l[0],o.top=l[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new Pn);var t=this._lightCameras.spot;return t.fov=e.penumbraAngle*2,t.far=e.range,t.worldTransform.copy(e.worldTransform),t.updateProjectionMatrix(),Re.invert(t.viewMatrix.array,t.worldTransform.array),t},dispose:function(e){var t=e.gl||e;this._frameBuffer&&this._frameBuffer.dispose(t);for(var r in this._textures)this._textures[r].dispose(t);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var n=0;n<this._receivers.length;n++){var a=this._receivers[n];if(a.material){var i=a.material;i.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),i.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),i.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),i.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});Vo.VSM=1;Vo.PCF=2;const Kye=Vo;var Qye=Va.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(e,t){var r=this.outputs[e],n=r.parameters,a=r._parametersCopy;if(a||(a=r._parametersCopy={}),n)for(var i in n)i!=="width"&&i!=="height"&&(a[i]=n[i]);var o,s;return n.width instanceof Function?o=n.width.call(this,t):o=n.width,n.height instanceof Function?s=n.height.call(this,t):s=n.height,(a.width!==o||a.height!==s)&&this._outputTextures[e]&&this._outputTextures[e].dispose(t.gl),a.width=o,a.height=s,a},setParameter:function(e,t){},getParameter:function(e){},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},render:function(){},getOutput:function(e,t){if(t==null)return t=e,this._outputTextures[t];var r=this.outputs[t];if(r)return this._rendered?r.outputLastFrame?this._prevOutputTextures[t]:this._outputTextures[t]:this._rendering?(this._prevOutputTextures[t]||(this._prevOutputTextures[t]=this._compositor.allocateTexture(r.parameters||{})),this._prevOutputTextures[t]):(this.render(e),this._outputTextures[t])},removeReference:function(e){if(this._outputReferences[e]--,this._outputReferences[e]===0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},link:function(e,t,r){this.inputLinks[e]={node:t,pin:r},t.outputLinks[r]||(t.outputLinks[r]=[]),t.outputLinks[r].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){this._rendering=!0;for(var t in this.inputLinks){var r=this.inputLinks[t];r.node.updateReference(r.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){this._rendered=!1;for(var e in this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)if(this._outputReferences[e]>0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}}});const yp=Qye;var Jye=Va.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){typeof e=="string"&&(e=this.getNodeByName(e));var t=this.nodes.indexOf(e);t>=0&&(this.nodes.splice(t,1),this._dirty=!0)},getNodeByName:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t].name===e)return this.nodes[t]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];if(t.inputs){for(var r in t.inputs)if(t.inputs[r]){if(t.pass&&!t.pass.material.isUniformEnabled(r)){console.warn("Pin "+t.name+"."+r+" not used.");continue}var n=t.inputs[r],a=this.findPin(n);a?t.link(r,a.node,a.pin):console.warn(typeof n=="string"?"Node "+n+" not exist":"Pin of "+n.node+"."+n.pin+" not exist")}}}},findPin:function(e){var t;if((typeof e=="string"||e instanceof yp)&&(e={node:e}),typeof e.node=="string")for(var r=0;r<this.nodes.length;r++){var n=this.nodes[r];n.name===e.node&&(t=n)}else t=e.node;if(t){var a=e.pin;if(a||t.outputs&&(a=Object.keys(t.outputs)[0]),t.outputs[a])return{node:t,pin:a}}}});const sO=Jye;var e0e=sO.extend(function(){return{_outputs:[],_texturePool:new LU,_frameBuffer:new Wn({depthBuffer:!1})}},{addNode:function(e){sO.prototype.addNode.call(this,e),e._compositor=this},render:function(e,t){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var r=0;r<this.nodes.length;r++)this.nodes[r].outputs||this._outputs.push(this.nodes[r])}for(var r=0;r<this.nodes.length;r++)this.nodes[r].beforeFrame();for(var r=0;r<this._outputs.length;r++)this._outputs[r].updateReference();for(var r=0;r<this._outputs.length;r++)this._outputs[r].render(e,t);for(var r=0;r<this.nodes.length;r++)this.nodes[r].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}});const t0e=e0e;var r0e=yp.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new Wn},{render:function(e){this._rendering=!0;var t=e.gl;this.trigger("beforerender");var r;if(!this.outputs)r=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);else{var n=this.frameBuffer;for(var a in this.outputs){var i=this.updateParameter(a,e),o=this.outputs[a],s=this._compositor.allocateTexture(i);this._outputTextures[a]=s;var l=o.attachment||t.COLOR_ATTACHMENT0;typeof l=="string"&&(l=t[l]),n.attach(s,l)}n.bind(e);var u=e.getGLExtension("EXT_draw_buffers");if(u){var c=[];for(var l in this.outputs)l=parseInt(l),l>=t.COLOR_ATTACHMENT0&&l<=t.COLOR_ATTACHMENT0+8&&c.push(l);u.drawBuffersEXT(c)}e.saveClear(),e.clearBit=ve.DEPTH_BUFFER_BIT|ve.COLOR_BUFFER_BIT,r=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),n.unbind(e)}this.trigger("afterrender",r),this._rendering=!1,this._rendered=!0}});const n0e=r0e;var a0e=yp.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(e,t){return this.texture},beforeFrame:function(){},afterFrame:function(){}});const i0e=a0e;var o0e=yp.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var e=new mn({fragment:this.shader});this.pass=e},{render:function(e,t){this.trigger("beforerender",e),this._rendering=!0;var r=e.gl;for(var n in this.inputLinks){var a=this.inputLinks[n],i=a.node.getOutput(e,a.pin);this.pass.setUniform(n,i)}if(!this.outputs)this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,t);else{this.pass.outputs={};var o={};for(var s in this.outputs){var l=this.updateParameter(s,e);isNaN(l.width)&&this.updateParameter(s,e);var u=this.outputs[s],c=this._compositor.allocateTexture(l);this._outputTextures[s]=c;var f=u.attachment||r.COLOR_ATTACHMENT0;typeof f=="string"&&(f=r[f]),o[f]=c}this._compositor.getFrameBuffer().bind(e);for(var f in o)this._compositor.getFrameBuffer().attach(o[f],f);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}for(var n in this.inputLinks){var a=this.inputLinks[n];a.node.removeReference(a.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,t){var r=this.outputs[e],n=r.parameters,a=r._parametersCopy;if(a||(a=r._parametersCopy={}),n)for(var i in n)i!=="width"&&i!=="height"&&(a[i]=n[i]);var o,s;return typeof n.width=="function"?o=n.width.call(this,t):o=n.width,typeof n.height=="function"?s=n.height.call(this,t):s=n.height,o=Math.ceil(o),s=Math.ceil(s),(a.width!==o||a.height!==s)&&this._outputTextures[e]&&this._outputTextures[e].dispose(t),a.width=o,a.height=s,a},setParameter:function(e,t){this.pass.setUniform(e,t)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},define:function(e,t){this.pass.material.define("fragment",e,t)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){if(this._outputReferences[e]--,this._outputReferences[e]===0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},clear:function(){yp.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const s0e=o0e,l0e=`@export clay.compositor.coloradjust
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float exposure : 0.0;
uniform float gamma : 1.0;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);
 color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 color = clamp( color * pow(2.0, exposure), 0.0, 1.0);
 color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);
 float luminance = dot( color, w );
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.brightness
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = tex.rgb + vec3(brightness);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.contrast
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float contrast : 1.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.exposure
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float exposure : 0.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb * pow(2.0, exposure);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.gamma
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float gamma : 1.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = pow(tex.rgb, vec3(gamma));
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.saturation
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb;
 float luminance = dot(color, w);
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end`,IU=`@export clay.compositor.kernel.gaussian_9
float gaussianKernel[9];
gaussianKernel[0] = 0.07;
gaussianKernel[1] = 0.09;
gaussianKernel[2] = 0.12;
gaussianKernel[3] = 0.14;
gaussianKernel[4] = 0.16;
gaussianKernel[5] = 0.14;
gaussianKernel[6] = 0.12;
gaussianKernel[7] = 0.09;
gaussianKernel[8] = 0.07;
@end
@export clay.compositor.kernel.gaussian_13
float gaussianKernel[13];
gaussianKernel[0] = 0.02;
gaussianKernel[1] = 0.03;
gaussianKernel[2] = 0.06;
gaussianKernel[3] = 0.08;
gaussianKernel[4] = 0.11;
gaussianKernel[5] = 0.13;
gaussianKernel[6] = 0.14;
gaussianKernel[7] = 0.13;
gaussianKernel[8] = 0.11;
gaussianKernel[9] = 0.08;
gaussianKernel[10] = 0.06;
gaussianKernel[11] = 0.03;
gaussianKernel[12] = 0.02;
@end
@export clay.compositor.gaussian_blur
#define SHADER_NAME gaussian_blur
uniform sampler2D texture;varying vec2 v_Texcoord;
uniform float blurSize : 2.0;
uniform vec2 textureSize : [512.0, 512.0];
uniform float blurDir : 0.0;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main (void)
{
 @import clay.compositor.kernel.gaussian_9
 vec2 off = blurSize / textureSize;
 off *= vec2(1.0 - blurDir, blurDir);
 vec4 sum = vec4(0.0);
 float weightAll = 0.0;
 for (int i = 0; i < 9; i++) {
 float w = gaussianKernel[i];
 vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));
 sum += texel * w;
 weightAll += w;
 }
 gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));
}
@end
`,u0e=`@export clay.compositor.hdr.log_lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 float luminance = dot(tex.rgb, w);
 luminance = log(luminance + 0.001);
 gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));
}
@end
@export clay.compositor.hdr.lum_adaption
varying vec2 v_Texcoord;
uniform sampler2D adaptedLum;
uniform sampler2D currentLum;
uniform float frameTime : 0.02;
@import clay.util.rgbm
void main()
{
 float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;
 float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);
 fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));
 gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));
}
@end
@export clay.compositor.lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord );
 float luminance = dot(tex.rgb, w);
 gl_FragColor = vec4(vec3(luminance), 1.0);
}
@end`,RU=`
@export clay.compositor.lut
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform sampler2D lookup;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 float blueColor = tex.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec4 newColor1 = texture2D(lookup, texPos1);
 vec4 newColor2 = texture2D(lookup, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 gl_FragColor = vec4(newColor.rgb, tex.w);
}
@end`,c0e=`@export clay.compositor.vignette
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float darkness: 1;
uniform float offset: 1;
@import clay.util.rgbm
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = texel.rgb;
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);
 gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));
}
@end`,OU=`@export clay.compositor.output
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = tex.rgb;
#ifdef OUTPUT_ALPHA
 gl_FragColor.a = tex.a;
#else
 gl_FragColor.a = 1.0;
#endif
 gl_FragColor = encodeHDR(gl_FragColor);
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`,kU=`@export clay.compositor.bright
uniform sampler2D texture;
uniform float threshold : 1;
uniform float scale : 1.0;
uniform vec2 textureSize: [512, 512];
varying vec2 v_Texcoord;
const vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
vec4 median(vec4 a, vec4 b, vec4 c)
{
 return a + b + c - min(min(a, b), c) - max(max(a, b), c);
}
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
#ifdef ANTI_FLICKER
 vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);
 vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));
 vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));
 vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));
 vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));
 texel = median(median(texel, s1, s2), s3, s4);
#endif
 float lum = dot(texel.rgb , lumWeight);
 vec4 color;
 if (lum > threshold && texel.a > 0.0)
 {
 color = vec4(texel.rgb * scale, texel.a * scale);
 }
 else
 {
 color = vec4(0.0);
 }
 gl_FragColor = encodeHDR(color);
}
@end
`,NU=`@export clay.compositor.downsample
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
varying vec2 v_Texcoord;
@import clay.util.rgbm
float brightness(vec3 c)
{
 return max(max(c.r, c.g), c.b);
}
@import clay.util.clamp_sample
void main()
{
 vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;
#ifdef ANTI_FLICKER
 vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;
 vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;
 vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;
 vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;
 float s1w = 1.0 / (brightness(s1) + 1.0);
 float s2w = 1.0 / (brightness(s2) + 1.0);
 float s3w = 1.0 / (brightness(s3) + 1.0);
 float s4w = 1.0 / (brightness(s4) + 1.0);
 float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);
 vec4 color = vec4(
 (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,
 1.0
 );
#else
 vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 color *= 0.25;
#endif
 gl_FragColor = encodeHDR(color);
}
@end`,BU=`
@export clay.compositor.upsample
#define HIGH_QUALITY
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
uniform float sampleScale: 0.5;
varying vec2 v_Texcoord;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main()
{
#ifdef HIGH_QUALITY
 vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 gl_FragColor = encodeHDR(s / 16.0);
#else
 vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 gl_FragColor = encodeHDR(s / 4.0);
#endif
}
@end`,VU=`@export clay.compositor.hdr.composite
#define TONEMAPPING
uniform sampler2D texture;
#ifdef BLOOM_ENABLED
uniform sampler2D bloom;
#endif
#ifdef LENSFLARE_ENABLED
uniform sampler2D lensflare;
uniform sampler2D lensdirt;
#endif
#ifdef LUM_ENABLED
uniform sampler2D lum;
#endif
#ifdef LUT_ENABLED
uniform sampler2D lut;
#endif
#ifdef COLOR_CORRECTION
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float saturation : 1.0;
#endif
#ifdef VIGNETTE
uniform float vignetteDarkness: 1.0;
uniform float vignetteOffset: 1.0;
#endif
uniform float exposure : 1.0;
uniform float bloomIntensity : 0.25;
uniform float lensflareIntensity : 1;
varying vec2 v_Texcoord;
@import clay.util.srgb
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
float eyeAdaption(float fLum)
{
 return mix(0.2, fLum, 0.5);
}
#ifdef LUT_ENABLED
vec3 lutTransform(vec3 color) {
 float blueColor = color.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec4 newColor1 = texture2D(lut, texPos1);
 vec4 newColor2 = texture2D(lut, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 return newColor.rgb;
}
#endif
@import clay.util.rgbm
void main()
{
 vec4 texel = vec4(0.0);
 vec4 originalTexel = vec4(0.0);
#ifdef TEXTURE_ENABLED
 texel = decodeHDR(texture2D(texture, v_Texcoord));
 originalTexel = texel;
#endif
#ifdef BLOOM_ENABLED
 vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));
 texel.rgb += bloomTexel.rgb * bloomIntensity;
 texel.a += bloomTexel.a * bloomIntensity;
#endif
#ifdef LENSFLARE_ENABLED
 texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;
#endif
 texel.a = min(texel.a, 1.0);
#ifdef LUM_ENABLED
 float fLum = texture2D(lum, vec2(0.5, 0.5)).r;
 float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));
 float exposureBias = adaptedLumDest * exposure;
#else
 float exposureBias = exposure;
#endif
#ifdef TONEMAPPING
 texel.rgb *= exposureBias;
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
 texel = linearTosRGB(texel);
#ifdef LUT_ENABLED
 texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));
#endif
#ifdef COLOR_CORRECTION
 texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);
 texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));
 texel.rgb = mix(vec3(lum), texel.rgb, saturation);
#endif
#ifdef VIGNETTE
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);
 texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));
#endif
 gl_FragColor = encodeHDR(texel);
#ifdef DEBUG
 #if DEBUG == 1
 gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));
 #elif DEBUG == 2
 gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);
 #elif DEBUG == 3
 gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));
 #endif
#endif
 if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {
 gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));
 }
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`,f0e=`@export clay.compositor.lensflare
#define SAMPLE_NUMBER 8
uniform sampler2D texture;
uniform sampler2D lenscolor;
uniform vec2 textureSize : [512, 512];
uniform float dispersal : 0.3;
uniform float haloWidth : 0.4;
uniform float distortion : 1.0;
varying vec2 v_Texcoord;
@import clay.util.rgbm
vec4 textureDistorted(
 in vec2 texcoord,
 in vec2 direction,
 in vec3 distortion
) {
 return vec4(
 decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,
 1.0
 );
}
void main()
{
 vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;
 vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;
 vec2 haloVec = normalize(ghostVec) * haloWidth;
 vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);
 vec4 result = vec4(0.0);
 for (int i = 0; i < SAMPLE_NUMBER; i++)
 {
 vec2 offset = fract(texcoord + ghostVec * float(i));
 float weight = length(vec2(0.5) - offset) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 }
 result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));
 float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 vec2 offset = fract(texcoord + haloVec);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 gl_FragColor = result;
}
@end`,FU=`@export clay.compositor.blend
#define SHADER_NAME blend
#ifdef TEXTURE1_ENABLED
uniform sampler2D texture1;
uniform float weight1 : 1.0;
#endif
#ifdef TEXTURE2_ENABLED
uniform sampler2D texture2;
uniform float weight2 : 1.0;
#endif
#ifdef TEXTURE3_ENABLED
uniform sampler2D texture3;
uniform float weight3 : 1.0;
#endif
#ifdef TEXTURE4_ENABLED
uniform sampler2D texture4;
uniform float weight4 : 1.0;
#endif
#ifdef TEXTURE5_ENABLED
uniform sampler2D texture5;
uniform float weight5 : 1.0;
#endif
#ifdef TEXTURE6_ENABLED
uniform sampler2D texture6;
uniform float weight6 : 1.0;
#endif
varying vec2 v_Texcoord;
@import clay.util.rgbm
void main()
{
 vec4 tex = vec4(0.0);
#ifdef TEXTURE1_ENABLED
 tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;
#endif
#ifdef TEXTURE2_ENABLED
 tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;
#endif
#ifdef TEXTURE3_ENABLED
 tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;
#endif
#ifdef TEXTURE4_ENABLED
 tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;
#endif
#ifdef TEXTURE5_ENABLED
 tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;
#endif
#ifdef TEXTURE6_ENABLED
 tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;
#endif
 gl_FragColor = encodeHDR(tex);
}
@end`,zU=`@export clay.compositor.fxaa
uniform sampler2D texture;
uniform vec4 viewport : VIEWPORT;
varying vec2 v_Texcoord;
#define FXAA_REDUCE_MIN (1.0/128.0)
#define FXAA_REDUCE_MUL (1.0/8.0)
#define FXAA_SPAN_MAX 8.0
@import clay.util.rgbm
void main()
{
 vec2 resolution = 1.0 / viewport.zw;
 vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;
 vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );
 vec3 rgbM = rgbaM.xyz;
 float opacity = rgbaM.w;
 vec3 luma = vec3( 0.299, 0.587, 0.114 );
 float lumaNW = dot( rgbNW, luma );
 float lumaNE = dot( rgbNE, luma );
 float lumaSW = dot( rgbSW, luma );
 float lumaSE = dot( rgbSE, luma );
 float lumaM = dot( rgbM, luma );
 float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );
 float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );
 vec2 dir;
 dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
 dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));
 float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );
 float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );
 dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),
 max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
 dir * rcpDirMin)) * resolution;
 vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA *= 0.5;
 vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;
 rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;
 rgbB *= 0.25;
 rgbB += rgbA * 0.5;
 float lumaB = dot( rgbB, luma );
 if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )
 {
 gl_FragColor = vec4( rgbA, opacity );
 }
 else {
 gl_FragColor = vec4( rgbB, opacity );
 }
}
@end`;function d0e(e){e.import(l0e),e.import(IU),e.import(u0e),e.import(RU),e.import(c0e),e.import(OU),e.import(kU),e.import(NU),e.import(BU),e.import(VU),e.import(f0e),e.import(FU),e.import(zU)}d0e(Pe);var h0e=/^#source\((.*?)\)/;function v0e(e,t){var r=new t0e;t=t||{};var n={textures:{},parameters:{}},a=function(s,l){for(var u=0;u<e.nodes.length;u++){var c=e.nodes[u],f=p0e(c,n,t);f&&r.addNode(f)}};for(var i in e.parameters){var o=e.parameters[i];n.parameters[i]=DA(o)}return y0e(e,n,t,function(s){n.textures=s,a()}),r}function p0e(e,t,r){var n=e.type||"filter",a,i,o;if(n==="filter"){var s=e.shader.trim(),l=h0e.exec(s);if(l?a=Pe.source(l[1].trim()):s.charAt(0)==="#"&&(a=t.shaders[s.substr(1)]),a||(a=s),!a)return}if(e.inputs){i={};for(var u in e.inputs)typeof e.inputs[u]=="string"?i[u]=e.inputs[u]:i[u]={node:e.inputs[u].node,pin:e.inputs[u].pin}}if(e.outputs){o={};for(var u in e.outputs){var c=e.outputs[u];o[u]={},c.attachment!=null&&(o[u].attachment=c.attachment),c.keepLastFrame!=null&&(o[u].keepLastFrame=c.keepLastFrame),c.outputLastFrame!=null&&(o[u].outputLastFrame=c.outputLastFrame),c.parameters&&(o[u].parameters=DA(c.parameters))}}var f;if(n==="scene"?f=new n0e({name:e.name,scene:r.scene,camera:r.camera,outputs:o}):n==="texture"?f=new i0e({name:e.name,outputs:o}):f=new s0e({name:e.name,shader:a,inputs:i,outputs:o}),f){if(e.parameters)for(var u in e.parameters){var d=e.parameters[u];typeof d=="string"?(d=d.trim(),d.charAt(0)==="#"?d=t.textures[d.substr(1)]:f.on("beforerender",_0e(u,UU(d)))):typeof d=="function"&&f.on("beforerender",d),f.setParameter(u,d)}if(e.defines&&f.pass)for(var u in e.defines){var d=e.defines[u];f.pass.material.define("fragment",u,d)}}return f}function m0e(e,t){return e}function g0e(e,t){return t}function DA(e){var t={};if(!e)return t;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(n){var a=e[n];a!=null&&(typeof a=="string"&&(a=Qe[a]),t[n]=a)});var r=e.scale||1;return["width","height"].forEach(function(n){if(e[n]!=null){var a=e[n];typeof a=="string"?(a=a.trim(),t[n]=x0e(n,UU(a),r)):t[n]=a}}),t.width||(t.width=m0e),t.height||(t.height=g0e),e.useMipmap!=null&&(t.useMipmap=e.useMipmap),t}function y0e(e,t,r,n){if(!e.textures){n({});return}var a={},i=0,o=!1,s=r.textureRootPath;Hn.each(e.textures,function(l,u){var c,f=l.path,d=DA(l.parameters);if(Array.isArray(f)&&f.length===6)s&&(f=f.map(function(h){return Hn.relative2absolute(h,s)})),c=new pp(d);else if(typeof f=="string")s&&(f=Hn.relative2absolute(f,s)),c=new _t(d);else return;c.load(f),i++,c.once("success",function(){a[u]=c,i--,i===0&&(n(a),o=!0)})}),i===0&&!o&&n(a)}function _0e(e,t){return function(r){var n=r.getDevicePixelRatio(),a=r.getWidth(),i=r.getHeight(),o=t(a,i,n);this.setParameter(e,o)}}function x0e(e,t,r){return r=r||1,function(n){var a=n.getDevicePixelRatio(),i=n.getWidth()*r,o=n.getHeight()*r;return t(i,o,a)}}function UU(e){var t=/^expr\((.*)\)$/.exec(e);if(t)try{var r=new Function("width","height","dpr","return "+t[1]);return r(1,1),r}catch{throw new Error("Invalid expression.")}}function _d(e,t){for(var r=0,n=1/t,a=e;a>0;)r=r+n*(a%t),a=Math.floor(a/t),n=n/t;return r}const b0e=`@export ecgl.ssao.estimate

uniform sampler2D depthTex;

uniform sampler2D normalTex;

uniform sampler2D noiseTex;

uniform vec2 depthTexSize;

uniform vec2 noiseTexSize;

uniform mat4 projection;

uniform mat4 projectionInv;

uniform mat4 viewInverseTranspose;

uniform vec3 kernel[KERNEL_SIZE];

uniform float radius : 1;

uniform float power : 1;

uniform float bias: 1e-2;

uniform float intensity: 1.0;

varying vec2 v_Texcoord;

float ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {
 float occlusion = 0.0;

 for (int i = 0; i < KERNEL_SIZE; i++) {
 vec3 samplePos = kernel[i];
#ifdef NORMALTEX_ENABLED
 samplePos = kernelBasis * samplePos;
#endif
 samplePos = samplePos * radius + originPos;

 vec4 texCoord = projection * vec4(samplePos, 1.0);
 texCoord.xy /= texCoord.w;

 vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);

 float sampleDepth = depthTexel.r * 2.0 - 1.0;
 if (projection[3][3] == 0.0) {
 sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);
 }
 else {
 sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];
 }
 
 float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));
 occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);
 }
#ifdef NORMALTEX_ENABLED
 occlusion = 1.0 - occlusion / float(KERNEL_SIZE);
#else
 occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);
#endif
 return pow(occlusion, power);
}

void main()
{

 vec4 depthTexel = texture2D(depthTex, v_Texcoord);

#ifdef NORMALTEX_ENABLED
 vec4 tex = texture2D(normalTex, v_Texcoord);
 if (dot(tex.rgb, tex.rgb) == 0.0) {
 gl_FragColor = vec4(1.0);
 return;
 }
 vec3 N = tex.rgb * 2.0 - 1.0;
 N = (viewInverseTranspose * vec4(N, 0.0)).xyz;

 vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;
 vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;
 vec3 T = normalize(rvec - N * dot(rvec, N));
 vec3 BT = normalize(cross(N, T));
 mat3 kernelBasis = mat3(T, BT, N);
#else
 if (depthTexel.r > 0.99999) {
 gl_FragColor = vec4(1.0);
 return;
 }
 mat3 kernelBasis;
#endif

 float z = depthTexel.r * 2.0 - 1.0;

 vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);
 vec4 p4 = projectionInv * projectedPos;

 vec3 position = p4.xyz / p4.w;

 float ao = ssaoEstimator(position, kernelBasis);
 ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);
 gl_FragColor = vec4(vec3(ao), 1.0);
}

@end


@export ecgl.ssao.blur
#define SHADER_NAME SSAO_BLUR

uniform sampler2D ssaoTexture;

#ifdef NORMALTEX_ENABLED
uniform sampler2D normalTex;
#endif

varying vec2 v_Texcoord;

uniform vec2 textureSize;
uniform float blurSize : 1.0;

uniform int direction: 0.0;

#ifdef DEPTHTEX_ENABLED
uniform sampler2D depthTex;
uniform mat4 projection;
uniform float depthRange : 0.5;

float getLinearDepth(vec2 coord)
{
 float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
}
#endif

void main()
{
 float kernel[5];
 kernel[0] = 0.122581;
 kernel[1] = 0.233062;
 kernel[2] = 0.288713;
 kernel[3] = 0.233062;
 kernel[4] = 0.122581;

 vec2 off = vec2(0.0);
 if (direction == 0) {
 off[0] = blurSize / textureSize.x;
 }
 else {
 off[1] = blurSize / textureSize.y;
 }

 vec2 coord = v_Texcoord;

 float sum = 0.0;
 float weightAll = 0.0;

#ifdef NORMALTEX_ENABLED
 vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;
#endif
#if defined(DEPTHTEX_ENABLED)
 float centerDepth = getLinearDepth(v_Texcoord);
#endif

 for (int i = 0; i < 5; i++) {
 vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));

 float w = kernel[i];
#ifdef NORMALTEX_ENABLED
 vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;
 w *= clamp(dot(normal, centerNormal), 0.0, 1.0);
#endif
#ifdef DEPTHTEX_ENABLED
 float d = getLinearDepth(coord);
 w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));
#endif

 weightAll += w;
 sum += texture2D(ssaoTexture, coord).r * w;
 }

 gl_FragColor = vec4(vec3(sum / weightAll), 1.0);
}

@end
`;Pe.import(b0e);function HU(e){for(var t=new Uint8Array(e*e*4),r=0,n=new ke,a=0;a<e;a++)for(var i=0;i<e;i++)n.set(Math.random()*2-1,Math.random()*2-1,0).normalize(),t[r++]=(n.x*.5+.5)*255,t[r++]=(n.y*.5+.5)*255,t[r++]=0,t[r++]=255;return t}function lO(e){return new _t({pixels:HU(e),wrapS:Qe.REPEAT,wrapT:Qe.REPEAT,width:e,height:e})}function w0e(e,t,r){var n=new Float32Array(e*3);t=t||0;for(var a=0;a<e;a++){var i=_d(a+t,2)*(r?1:2)*Math.PI,o=_d(a+t,3)*Math.PI,s=Math.random(),l=Math.cos(i)*Math.sin(o)*s,u=Math.cos(o)*s,c=Math.sin(i)*Math.sin(o)*s;n[a*3]=l,n[a*3+1]=u,n[a*3+2]=c}return n}function Ks(e){e=e||{},this._ssaoPass=new mn({fragment:Pe.source("ecgl.ssao.estimate")}),this._blurPass=new mn({fragment:Pe.source("ecgl.ssao.blur")}),this._framebuffer=new Wn({depthBuffer:!1}),this._ssaoTexture=new _t,this._blurTexture=new _t,this._blurTexture2=new _t,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),e.radius!=null&&this.setParameter("radius",e.radius),e.power!=null&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}Ks.prototype.setDepthTexture=function(e){this._depthTex=e};Ks.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)};Ks.prototype.update=function(e,t,r){var n=e.getWidth(),a=e.getHeight(),i=this._ssaoPass,o=this._blurPass;i.setUniform("kernel",this._kernels[r%this._kernels.length]),i.setUniform("depthTex",this._depthTex),this._normalTex!=null&&i.setUniform("normalTex",this._normalTex),i.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var s=new qe;qe.transpose(s,t.worldTransform),i.setUniform("projection",t.projectionMatrix.array),i.setUniform("projectionInv",t.invProjectionMatrix.array),i.setUniform("viewInverseTranspose",s.array);var l=this._ssaoTexture,u=this._blurTexture,c=this._blurTexture2;l.width=n/2,l.height=a/2,u.width=n,u.height=a,c.width=n,c.height=a,this._framebuffer.attach(l),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),i.render(e),o.setUniform("textureSize",[n/2,a/2]),o.setUniform("projection",t.projectionMatrix.array),this._framebuffer.attach(u),o.setUniform("direction",0),o.setUniform("ssaoTexture",l),o.render(e),this._framebuffer.attach(c),o.setUniform("textureSize",[n,a]),o.setUniform("direction",1),o.setUniform("ssaoTexture",u),o.render(e),this._framebuffer.unbind(e);var f=e.clearColor;e.gl.clearColor(f[0],f[1],f[2],f[3])};Ks.prototype.getTargetTexture=function(){return this._blurTexture2};Ks.prototype.setParameter=function(e,t){e==="noiseTexSize"?this.setNoiseSize(t):e==="kernelSize"?this.setKernelSize(t):e==="intensity"?this._ssaoPass.material.set("intensity",t):this._ssaoPass.setUniform(e,t)};Ks.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var t=0;t<30;t++)this._kernels[t]=w0e(e,t*e,!!this._normalTex)};Ks.prototype.setNoiseSize=function(e){var t=this._ssaoPass.getUniform("noiseTex");t?(t.data=HU(e),t.width=t.height=e,t.dirty()):(t=lO(e),this._ssaoPass.setUniform("noiseTex",lO(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])};Ks.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};const S0e=`@export ecgl.ssr.main

#define SHADER_NAME SSR
#define MAX_ITERATION 20;
#define SAMPLE_PER_FRAME 5;
#define TOTAL_SAMPLES 128;

uniform sampler2D sourceTexture;
uniform sampler2D gBufferTexture1;
uniform sampler2D gBufferTexture2;
uniform sampler2D gBufferTexture3;
uniform samplerCube specularCubemap;
uniform float specularIntensity: 1;

uniform mat4 projection;
uniform mat4 projectionInv;
uniform mat4 toViewSpace;
uniform mat4 toWorldSpace;

uniform float maxRayDistance: 200;

uniform float pixelStride: 16;
uniform float pixelStrideZCutoff: 50; 
uniform float screenEdgeFadeStart: 0.9; 
uniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; 
uniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;

uniform float nearZ;
uniform vec2 viewportSize : VIEWPORT_SIZE;

uniform float jitterOffset: 0;

varying vec2 v_Texcoord;

#ifdef DEPTH_DECODE
@import clay.util.decode_float
#endif

#ifdef PHYSICALLY_CORRECT
uniform sampler2D normalDistribution;
uniform float sampleOffset: 0;
uniform vec2 normalDistributionSize;

vec3 transformNormal(vec3 H, vec3 N) {
 vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
vec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {
 float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));
 vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;
 return transformNormal(H, N);
}
float G_Smith(float g, float ndv, float ndl) {
 float roughness = 1.0 - g;
 float k = roughness * roughness / 2.0;
 float G1V = ndv / (ndv * (1.0 - k) + k);
 float G1L = ndl / (ndl * (1.0 - k) + k);
 return G1L * G1V;
}
vec3 F_Schlick(float ndv, vec3 spec) {
 return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);
}
#endif

float fetchDepth(sampler2D depthTexture, vec2 uv)
{
 vec4 depthTexel = texture2D(depthTexture, uv);
 return depthTexel.r * 2.0 - 1.0;
}

float linearDepth(float depth)
{
 if (projection[3][3] == 0.0) {
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
 }
 else {
 return (depth - projection[3][2]) / projection[2][2];
 }
}

bool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)
{
 if (rayZFar > rayZNear)
 {
 float t = rayZFar; rayZFar = rayZNear; rayZNear = t;
 }
 float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));
 return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;
}


bool traceScreenSpaceRay(
 vec3 rayOrigin, vec3 rayDir, float jitter,
 out vec2 hitPixel, out vec3 hitPoint, out float iterationCount
)
{
 float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)
 ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;

 vec3 rayEnd = rayOrigin + rayDir * rayLength;

 vec4 H0 = projection * vec4(rayOrigin, 1.0);
 vec4 H1 = projection * vec4(rayEnd, 1.0);

 float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;

 vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;

 vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;
 vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;

 P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;
 vec2 delta = P1 - P0;

 bool permute = false;
 if (abs(delta.x) < abs(delta.y)) {
 permute = true;
 delta = delta.yx;
 P0 = P0.yx;
 P1 = P1.yx;
 }
 float stepDir = sign(delta.x);
 float invdx = stepDir / delta.x;

 vec3 dQ = (Q1 - Q0) * invdx;
 float dk = (k1 - k0) * invdx;

 vec2 dP = vec2(stepDir, delta.y * invdx);

 float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);
 float pixStride = 1.0 + strideScaler * pixelStride;

 dP *= pixStride; dQ *= pixStride; dk *= pixStride;

 vec4 pqk = vec4(P0, Q0.z, k0);
 vec4 dPQK = vec4(dP, dQ.z, dk);

 pqk += dPQK * jitter;
 float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);
 float rayZNear;

 bool intersect = false;

 vec2 texelSize = 1.0 / viewportSize;

 iterationCount = 0.0;

 for (int i = 0; i < MAX_ITERATION; i++)
 {
 pqk += dPQK;

 rayZNear = rayZFar;
 rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);

 hitPixel = permute ? pqk.yx : pqk.xy;
 hitPixel *= texelSize;

 intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);

 iterationCount += 1.0;

 dPQK *= 1.2;

 if (intersect) {
 break;
 }
 }

 Q0.xy += dQ.xy * iterationCount;
 Q0.z = pqk.z;
 hitPoint = Q0 / pqk.w;

 return intersect;
}

float calculateAlpha(
 float iterationCount, float reflectivity,
 vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir
)
{
 float alpha = clamp(reflectivity, 0.0, 1.0);
 alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));
 vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;
 float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));
 alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);

 float _eyeFadeStart = eyeFadeStart;
 float _eyeFadeEnd = eyeFadeEnd;
 if (_eyeFadeStart > _eyeFadeEnd) {
 float tmp = _eyeFadeEnd;
 _eyeFadeEnd = _eyeFadeStart;
 _eyeFadeStart = tmp;
 }

 float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);
 alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);

 alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);

 return alpha;
}

@import clay.util.rand

@import clay.util.rgbm

void main()
{
 vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);

 if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {
 discard;
 }

 float g = normalAndGloss.a;
#if !defined(PHYSICALLY_CORRECT)
 if (g <= minGlossiness) {
 discard;
 }
#endif

 float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);

 vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);
 N = normalize((toViewSpace * vec4(N, 0.0)).xyz);

 vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);
 vec4 pos = projectionInv * projectedPos;
 vec3 rayOrigin = pos.xyz / pos.w;
 vec3 V = -normalize(rayOrigin);

 float ndv = clamp(dot(N, V), 0.0, 1.0);
 float iterationCount;
 float jitter = rand(fract(v_Texcoord + jitterOffset));

#ifdef PHYSICALLY_CORRECT
 vec4 color = vec4(vec3(0.0), 1.0);
 vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);
 vec3 albedo = albedoMetalness.rgb;
 float m = albedoMetalness.a;
 vec3 diffuseColor = albedo * (1.0 - m);
 vec3 spec = mix(vec3(0.04), albedo, m);

 float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);

 for (int i = 0; i < SAMPLE_PER_FRAME; i++) {
 vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);
 vec3 rayDir = normalize(reflect(-V, H));
#else
 vec3 rayDir = normalize(reflect(-V, N));
#endif
 vec2 hitPixel;
 vec3 hitPoint;

 bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);

 float dist = distance(rayOrigin, hitPoint);

 vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;
 hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);
#ifdef PHYSICALLY_CORRECT
 float ndl = clamp(dot(N, rayDir), 0.0, 1.0);
 float vdh = clamp(dot(V, H), 0.0, 1.0);
 float ndh = clamp(dot(N, H), 0.0, 1.0);
 vec3 litTexel = vec3(0.0);
 if (dot(hitNormal, rayDir) < 0.0 && intersect) {
 litTexel = texture2D(sourceTexture, hitPixel).rgb;
 litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);

 }
 else {
 #ifdef SPECULARCUBEMAP_ENABLED
 vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;
 litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;
#endif
 }
 color.rgb += ndl * litTexel * (
 F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)
 );
 }
 color.rgb /= float(SAMPLE_PER_FRAME);
#else
 #if !defined(SPECULARCUBEMAP_ENABLED)
 if (dot(hitNormal, rayDir) >= 0.0) {
 discard;
 }
 if (!intersect) {
 discard;
 }
#endif
 float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);
 vec4 color = texture2D(sourceTexture, hitPixel);
 color.rgb *= alpha;

#ifdef SPECULARCUBEMAP_ENABLED
 vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;
 alpha = alpha * (intersect ? 1.0 : 0.0);
 float bias = (1.0 -g) * 5.0;
 color.rgb += (1.0 - alpha)
 * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb
 * specularIntensity;
#endif

#endif

 gl_FragColor = encodeHDR(color);
}
@end

@export ecgl.ssr.blur

uniform sampler2D texture;
uniform sampler2D gBufferTexture1;
uniform sampler2D gBufferTexture2;
uniform mat4 projection;
uniform float depthRange : 0.05;

varying vec2 v_Texcoord;

uniform vec2 textureSize;
uniform float blurSize : 1.0;

#ifdef BLEND
 #ifdef SSAOTEX_ENABLED
uniform sampler2D ssaoTex;
 #endif
uniform sampler2D sourceTexture;
#endif

float getLinearDepth(vec2 coord)
{
 float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
}

@import clay.util.rgbm


void main()
{
 @import clay.compositor.kernel.gaussian_9

 vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);
 float g = centerNTexel.a;
 float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;
#ifdef VERTICAL
 vec2 off = vec2(0.0, maxBlurSize / textureSize.y);
#else
 vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);
#endif

 vec2 coord = v_Texcoord;

 vec4 sum = vec4(0.0);
 float weightAll = 0.0;

 vec3 cN = centerNTexel.rgb * 2.0 - 1.0;
 float cD = getLinearDepth(v_Texcoord);
 for (int i = 0; i < 9; i++) {
 vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));
 float w = gaussianKernel[i]
 * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);
 float d = getLinearDepth(coord);
 w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));

 weightAll += w;
 sum += decodeHDR(texture2D(texture, coord)) * w;
 }

#ifdef BLEND
 float aoFactor = 1.0;
 #ifdef SSAOTEX_ENABLED
 aoFactor = texture2D(ssaoTex, v_Texcoord).r;
 #endif
 gl_FragColor = encodeHDR(
 sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))
 );
#else
 gl_FragColor = encodeHDR(sum / weightAll);
#endif
}

@end`;Pe.import(S0e);function Qs(e){e=e||{},this._ssrPass=new mn({fragment:Pe.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new mn({fragment:Pe.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new mn({fragment:Pe.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new mn({fragment:Pe.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new _t({type:Qe.HALF_FLOAT}),this._texture2=new _t({type:Qe.HALF_FLOAT}),this._texture3=new _t({type:Qe.HALF_FLOAT}),this._prevTexture=new _t({type:Qe.HALF_FLOAT}),this._currentTexture=new _t({type:Qe.HALF_FLOAT}),this._frameBuffer=new Wn({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}Qs.prototype.setAmbientCubemap=function(e,t){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",t);var r=e&&t;this._ssrPass.material[r?"enableTexture":"disableTexture"]("specularCubemap")};Qs.prototype.update=function(e,t,r,n){var a=e.getWidth(),i=e.getHeight(),o=this._ssrTexture,s=this._texture2,l=this._texture3;o.width=this._prevTexture.width=this._currentTexture.width=a/this._downScale,o.height=this._prevTexture.height=this._currentTexture.height=i/this._downScale,s.width=l.width=a,s.height=l.height=i;var u=this._frameBuffer,c=this._ssrPass,f=this._blurPass1,d=this._blurPass2,h=this._blendPass,v=new qe,p=new qe;qe.transpose(v,t.worldTransform),qe.transpose(p,t.viewMatrix),c.setUniform("sourceTexture",r),c.setUniform("projection",t.projectionMatrix.array),c.setUniform("projectionInv",t.invProjectionMatrix.array),c.setUniform("toViewSpace",v.array),c.setUniform("toWorldSpace",p.array),c.setUniform("nearZ",t.near);var m=n/this._totalSamples*this._samplePerFrame;if(c.setUniform("jitterOffset",m),c.setUniform("sampleOffset",n*this._samplePerFrame),f.setUniform("textureSize",[o.width,o.height]),d.setUniform("textureSize",[a,i]),d.setUniform("sourceTexture",r),f.setUniform("projection",t.projectionMatrix.array),d.setUniform("projection",t.projectionMatrix.array),u.attach(o),u.bind(e),c.render(e),this._physicallyCorrect&&(u.attach(this._currentTexture),h.setUniform("texture1",this._prevTexture),h.setUniform("texture2",o),h.material.set({weight1:n>=1?.95:0,weight2:n>=1?.05:1}),h.render(e)),u.attach(s),f.setUniform("texture",this._physicallyCorrect?this._currentTexture:o),f.render(e),u.attach(l),d.setUniform("texture",s),d.render(e),u.unbind(e),this._physicallyCorrect){var g=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=g}};Qs.prototype.getTargetTexture=function(){return this._texture3};Qs.prototype.setParameter=function(e,t){e==="maxIteration"?this._ssrPass.material.define("fragment","MAX_ITERATION",t):this._ssrPass.setUniform(e,t)};Qs.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=ay.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e};Qs.prototype.setSSAOTexture=function(e){var t=this._blurPass2;e?(t.material.enableTexture("ssaoTex"),t.material.set("ssaoTex",e)):t.material.disableTexture("ssaoTex")};Qs.prototype.isFinished=function(e){return this._physicallyCorrect?e>this._totalSamples/this._samplePerFrame:!0};Qs.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};const uO=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925],T0e=`@export ecgl.normal.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

@import ecgl.common.normalMap.vertexHeader

@import ecgl.common.vertexAnimation.header

void main()
{

 @import ecgl.common.vertexAnimation.main

 @import ecgl.common.uv.main

 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

 @import ecgl.common.normalMap.vertexMain

 gl_Position = worldViewProjection * vec4(pos, 1.0);

}


@end


@export ecgl.normal.fragment

#define ROUGHNESS_CHANEL 0

uniform bool useBumpMap;
uniform bool useRoughnessMap;
uniform bool doubleSide;
uniform float roughness;

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform mat4 viewInverse : VIEWINVERSE;

@import ecgl.common.normalMap.fragmentHeader
@import ecgl.common.bumpMap.header

uniform sampler2D roughnessMap;

void main()
{
 vec3 N = v_Normal;
 
 bool flipNormal = false;
 if (doubleSide) {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 flipNormal = true;
 }
 }

 @import ecgl.common.normalMap.fragmentMain

 if (useBumpMap) {
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 }

 float g = 1.0 - roughness;

 if (useRoughnessMap) {
 float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];
 g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);
 }

 if (flipNormal) {
 N = -N;
 }

 gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;
 gl_FragColor.a = g;
}
@end`;Pe.import(T0e);function kb(e,t,r,n,a){var i=e.gl;t.setUniform(i,"1i",r,a),i.activeTexture(i.TEXTURE0+a),n.isRenderable()?n.bind(e):n.unbind(e)}function C0e(e,t,r,n,a){var i,o,s,l,u=e.gl;return function(c,f,d){if(!(l&&l.material===c.material)){var h=c.material,v=c.__program,p=h.get("roughness");p==null&&(p=1);var m=h.get("normalMap")||t,g=h.get("roughnessMap"),y=h.get("bumpMap"),_=h.get("uvRepeat"),x=h.get("uvOffset"),w=h.get("detailUvRepeat"),b=h.get("detailUvOffset"),T=!!y&&h.isTextureEnabled("bumpMap"),S=!!g&&h.isTextureEnabled("roughnessMap"),A=h.isDefined("fragment","DOUBLE_SIDED");y=y||r,g=g||n,d!==f?(f.set("normalMap",m),f.set("bumpMap",y),f.set("roughnessMap",g),f.set("useBumpMap",T),f.set("useRoughnessMap",S),f.set("doubleSide",A),_!=null&&f.set("uvRepeat",_),x!=null&&f.set("uvOffset",x),w!=null&&f.set("detailUvRepeat",w),b!=null&&f.set("detailUvOffset",b),f.set("roughness",p)):(v.setUniform(u,"1f","roughness",p),i!==m&&kb(e,v,"normalMap",m,0),o!==y&&y&&kb(e,v,"bumpMap",y,1),s!==g&&g&&kb(e,v,"roughnessMap",g,2),_!=null&&v.setUniform(u,"2f","uvRepeat",_),x!=null&&v.setUniform(u,"2f","uvOffset",x),w!=null&&v.setUniform(u,"2f","detailUvRepeat",w),b!=null&&v.setUniform(u,"2f","detailUvOffset",b),v.setUniform(u,"1i","useBumpMap",+T),v.setUniform(u,"1i","useRoughnessMap",+S),v.setUniform(u,"1i","doubleSide",+A)),i=m,o=y,s=g,l=c}}}function qd(e){this._depthTex=new _t({format:Qe.DEPTH_COMPONENT,type:Qe.UNSIGNED_INT}),this._normalTex=new _t({type:Qe.HALF_FLOAT}),this._framebuffer=new Wn,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,Wn.DEPTH_ATTACHMENT),this._normalMaterial=new Ui({shader:new Pe(Pe.source("ecgl.normal.vertex"),Pe.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=hc.createBlank("#000"),this._defaultBumpMap=hc.createBlank("#000"),this._defaultRoughessMap=hc.createBlank("#000"),this._debugPass=new mn({fragment:Pe.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}qd.prototype.getDepthTexture=function(){return this._depthTex};qd.prototype.getNormalTexture=function(){return this._normalTex};qd.prototype.update=function(e,t,r){var n=e.getWidth(),a=e.getHeight(),i=this._depthTex,o=this._normalTex,s=this._normalMaterial;i.width=n,i.height=a,o.width=n,o.height=a;var l=t.getRenderList(r).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(l,r,{getMaterial:function(){return s},ifRender:function(u){return u.renderNormal},beforeRender:C0e(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)};qd.prototype.renderDebug=function(e){this._debugPass.render(e)};qd.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};function Zp(e){e=e||{},this._edgePass=new mn({fragment:Pe.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new _t({type:Qe.HALF_FLOAT}),this._frameBuffer=new Wn,this._frameBuffer.attach(this._targetTexture)}Zp.prototype.update=function(e,t,r,n){var a=e.getWidth(),i=e.getHeight(),o=this._targetTexture;o.width=a,o.height=i;var s=this._frameBuffer;s.bind(e),this._edgePass.setUniform("projectionInv",t.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[a,i]),this._edgePass.setUniform("texture",r),this._edgePass.render(e),s.unbind(e)};Zp.prototype.getTargetTexture=function(){return this._targetTexture};Zp.prototype.setParameter=function(e,t){this._edgePass.setUniform(e,t)};Zp.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};const A0e={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]},E0e=`@export ecgl.dof.coc

uniform sampler2D depth;

uniform float zNear: 0.1;
uniform float zFar: 2000;

uniform float focalDistance: 3;
uniform float focalRange: 1;
uniform float focalLength: 30;
uniform float fstop: 2.8;

varying vec2 v_Texcoord;

@import clay.util.encode_float

void main()
{
 float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;

 float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));

 float aperture = focalLength / fstop;

 float coc;

 float uppper = focalDistance + focalRange;
 float lower = focalDistance - focalRange;
 if (dist <= uppper && dist >= lower) {
 coc = 0.5;
 }
 else {
 float focalAdjusted = dist > uppper ? uppper : lower;

 coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));
 coc = clamp(coc, 0.0, 2.0) / 2.00001;

 if (dist < lower) {
 coc = -coc;
 }
 coc = coc * 0.5 + 0.5;
 }

 gl_FragColor = encodeFloat(coc);
}
@end


@export ecgl.dof.composite

#define DEBUG 0

uniform sampler2D original;
uniform sampler2D blurred;
uniform sampler2D nearfield;
uniform sampler2D coc;
uniform sampler2D nearcoc;
varying vec2 v_Texcoord;

@import clay.util.rgbm
@import clay.util.float

void main()
{
 vec4 blurredColor = texture2D(blurred, v_Texcoord);
 vec4 originalColor = texture2D(original, v_Texcoord);

 float fCoc = decodeFloat(texture2D(coc, v_Texcoord));

 fCoc = abs(fCoc * 2.0 - 1.0);

 float weight = smoothstep(0.0, 1.0, fCoc);
 
#ifdef NEARFIELD_ENABLED
 vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);
 float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));
 fNearCoc = abs(fNearCoc * 2.0 - 1.0);

 gl_FragColor = encodeHDR(
 mix(
 nearfieldColor, mix(originalColor, blurredColor, weight),
 pow(1.0 - fNearCoc, 4.0)
 )
 );
#else
 gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));
#endif

}

@end



@export ecgl.dof.diskBlur

#define POISSON_KERNEL_SIZE 16;

uniform sampler2D texture;
uniform sampler2D coc;
varying vec2 v_Texcoord;

uniform float blurRadius : 10.0;
uniform vec2 textureSize : [512.0, 512.0];

uniform vec2 poissonKernel[POISSON_KERNEL_SIZE];

uniform float percent;

float nrand(const in vec2 n) {
 return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

@import clay.util.rgbm
@import clay.util.float


void main()
{
 vec2 offset = blurRadius / textureSize;

 float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );
 float cosa = cos(rnd);
 float sina = sin(rnd);
 vec4 basis = vec4(cosa, -sina, sina, cosa);

#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)
 offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);
#endif

#ifdef BLUR_COC
 float cocSum = 0.0;
#else
 vec4 color = vec4(0.0);
#endif


 float weightSum = 0.0;

 for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {
 vec2 ofs = poissonKernel[i];

 ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));

 vec2 uv = v_Texcoord + ofs * offset;
 vec4 texel = texture2D(texture, uv);

 float w = 1.0;
#ifdef BLUR_COC
 float fCoc = decodeFloat(texel) * 2.0 - 1.0;
 cocSum += clamp(fCoc, -1.0, 0.0) * w;
#else
 texel = texel;
 #if !defined(BLUR_NEARFIELD)
 float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;
 w *= abs(fCoc);
 #endif
 texel.rgb *= texel.a;
 color += texel * w;
#endif

 weightSum += w;
 }

#ifdef BLUR_COC
 gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);
#else
 color /= weightSum;
 color.rgb /= (color.a + 0.0001);
 gl_FragColor = color;
#endif
}

@end`,D0e=`@export ecgl.edge

uniform sampler2D texture;

uniform sampler2D normalTexture;
uniform sampler2D depthTexture;

uniform mat4 projectionInv;

uniform vec2 textureSize;

uniform vec4 edgeColor: [0,0,0,0.8];

varying vec2 v_Texcoord;

vec3 packColor(vec2 coord) {
 float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;
 vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);
 vec4 p4 = projectionInv * p;

 return vec3(
 texture2D(normalTexture, coord).rg,
 -p4.z / p4.w / 5.0
 );
}

void main() {
 vec2 cc = v_Texcoord;
 vec3 center = packColor(cc);

 float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;
 float dx = size / textureSize.x;
 float dy = size / textureSize.y;

 vec2 coord;
 vec3 topLeft = packColor(cc+vec2(-dx, -dy));
 vec3 top = packColor(cc+vec2(0.0, -dy));
 vec3 topRight = packColor(cc+vec2(dx, -dy));
 vec3 left = packColor(cc+vec2(-dx, 0.0));
 vec3 right = packColor(cc+vec2(dx, 0.0));
 vec3 bottomLeft = packColor(cc+vec2(-dx, dy));
 vec3 bottom = packColor(cc+vec2(0.0, dy));
 vec3 bottomRight = packColor(cc+vec2(dx, dy));

 vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;
 vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;

 float edge = sqrt(dot(h, h) + dot(v, v));

 edge = smoothstep(0.8, 1.0, edge);

 gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);
}
@end`;Pe.import(IU);Pe.import(RU);Pe.import(OU);Pe.import(kU);Pe.import(NU);Pe.import(BU);Pe.import(VU);Pe.import(FU);Pe.import(zU);Pe.import(E0e);Pe.import(D0e);function GU(e,t){return{color:{parameters:{width:e,height:t}}}}var MA=["composite","FXAA"];function Lt(){this._width,this._height,this._dpr,this._sourceTexture=new _t({type:Qe.HALF_FLOAT}),this._depthTexture=new _t({format:Qe.DEPTH_COMPONENT,type:Qe.UNSIGNED_INT}),this._framebuffer=new Wn,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,Wn.DEPTH_ATTACHMENT),this._normalPass=new qd,this._compositor=v0e(A0e);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var t=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=t,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(n){return this._compositor.getNodeByName(n)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=MA.map(function(n){return this._compositor.getNodeByName(n)},this);var r={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new Ks(r),this._ssrPass=new Qs(r),this._edgePass=new Zp(r)}Lt.prototype.resize=function(n,a,r){r=r||1;var n=n*r,a=a*r,i=this._sourceTexture,o=this._depthTexture;i.width=n,i.height=a,o.width=n,o.height=a;var s={getWidth:function(){return n},getHeight:function(){return a},getDevicePixelRatio:function(){return r}};function l(u,c){if(typeof u[c]=="function"){var f=u[c].__original||u[c];u[c]=function(d){return f.call(this,s)},u[c].__original=f}}this._compositor.nodes.forEach(function(u){for(var c in u.outputs){var f=u.outputs[c].parameters;f&&(l(f,"width"),l(f,"height"))}for(var d in u.parameters)l(u.parameters,d)}),this._width=n,this._height=a,this._dpr=r};Lt.prototype.getWidth=function(){return this._width};Lt.prototype.getHeight=function(){return this._height};Lt.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR};Lt.prototype._getPrevNode=function(e){for(var t=MA.indexOf(e.name)-1,r=this._finalNodesChain[t];r&&!this._compositor.getNodeByName(r.name);)t-=1,r=this._finalNodesChain[t];return r};Lt.prototype._getNextNode=function(e){for(var t=MA.indexOf(e.name)+1,r=this._finalNodesChain[t];r&&!this._compositor.getNodeByName(r.name);)t+=1,r=this._finalNodesChain[t];return r};Lt.prototype._addChainNode=function(e){var t=this._getPrevNode(e),r=this._getNextNode(e);t&&(e.inputs.texture=t.name,r?(e.outputs=GU(this.getWidth.bind(this),this.getHeight.bind(this)),r.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))};Lt.prototype._removeChainNode=function(e){var t=this._getPrevNode(e),r=this._getNextNode(e);t&&(r?(t.outputs=GU(this.getWidth.bind(this),this.getHeight.bind(this)),r.inputs.texture=t.name):t.outputs=null,this._compositor.removeNode(e))};Lt.prototype.updateNormal=function(e,t,r,n){this._ifRenderNormalPass()&&this._normalPass.update(e,t,r)};Lt.prototype.updateSSAO=function(e,t,r,n){this._ssaoPass.update(e,r,n)};Lt.prototype.enableSSAO=function(){this._enableSSAO=!0};Lt.prototype.disableSSAO=function(){this._enableSSAO=!1};Lt.prototype.enableSSR=function(){this._enableSSR=!0};Lt.prototype.disableSSR=function(){this._enableSSR=!1};Lt.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()};Lt.prototype.getSourceFrameBuffer=function(){return this._framebuffer};Lt.prototype.getSourceTexture=function(){return this._sourceTexture};Lt.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)};Lt.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)};Lt.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()};Lt.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()};Lt.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()};Lt.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()};Lt.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0};Lt.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1};Lt.prototype.enableEdge=function(){this._enableEdge=!0};Lt.prototype.disableEdge=function(){this._enableEdge=!1};Lt.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)};Lt.prototype.setSSAOParameter=function(e,t){switch(e){case"quality":var r={low:6,medium:12,high:32,ultra:62}[t]||12;this._ssaoPass.setParameter("kernelSize",r);break;case"radius":this._ssaoPass.setParameter(e,t),this._ssaoPass.setParameter("bias",t/200);break;case"intensity":this._ssaoPass.setParameter(e,t);break}};Lt.prototype.setDOFParameter=function(e,t){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,t);break;case"blurRadius":for(var r=0;r<this._dofBlurNodes.length;r++)this._dofBlurNodes[r].setParameter("blurRadius",t);break;case"quality":var n={low:4,medium:8,high:16,ultra:32}[t]||8;this._dofBlurKernelSize=n;for(var r=0;r<this._dofBlurNodes.length;r++)this._dofBlurNodes[r].pass.material.define("POISSON_KERNEL_SIZE",n);this._dofBlurKernel=new Float32Array(n*2);break}};Lt.prototype.setSSRParameter=function(e,t){if(t!=null)switch(e){case"quality":var r={low:10,medium:15,high:30,ultra:80}[t]||20,n={low:32,medium:16,high:8,ultra:4}[t]||16;this._ssrPass.setParameter("maxIteration",r),this._ssrPass.setParameter("pixelStride",n);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-t,1),0));break;case"physical":this.setPhysicallyCorrectSSR(t);break;default:console.warn("Unkown SSR parameter "+e)}};Lt.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)};Lt.prototype.setEdgeColor=function(e){var t=W.parseColor(e);this._edgePass.setParameter("edgeColor",t)};Lt.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))};Lt.prototype.setColorLookupTexture=function(e,t){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",t,{minFilter:W.Texture.NEAREST,magFilter:W.Texture.NEAREST,flipY:!1})};Lt.prototype.setColorCorrection=function(e,t){this._compositeNode.setParameter(e,t)};Lt.prototype.isSSREnabled=function(){return this._enableSSR};Lt.prototype.composite=function(e,t,r,n,a){var i=this._sourceTexture,o=i;this._enableEdge&&(this._edgePass.update(e,r,i,a),i=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,r,i,a),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,l=this._dofBlurKernelSize,u=Math.floor(uO.length/2/l),c=a%u,f=0;f<l*2;f++)s[f]=uO[f+c*l*2];for(var f=0;f<this._dofBlurNodes.length;f++)this._dofBlurNodes[f].setParameter("percent",a/30),this._dofBlurNodes[f].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",r.near),this._cocNode.setParameter("zFar",r.far),this._compositor.render(e,n)};Lt.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};function xT(e){for(var t=[],r=0;r<30;r++)t.push([_d(r,2),_d(r,3)]);this._haltonSequence=t,this._frame=0,this._sourceTex=new _t,this._sourceFb=new Wn,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new _t,this._outputTex=new _t;var n=this._blendPass=new mn({fragment:Pe.source("clay.compositor.blend")});n.material.disableTexturesAll(),n.material.enableTexture(["texture1","texture2"]),this._blendFb=new Wn({depthBuffer:!1}),this._outputPass=new mn({fragment:Pe.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(a){a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)}}xT.prototype={constructor:xT,jitterProjection:function(e,t){var r=e.viewport,n=r.devicePixelRatio||e.getDevicePixelRatio(),a=r.width*n,i=r.height*n,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new qe;s.array[12]=(o[0]*2-1)/a,s.array[13]=(o[1]*2-1)/i,qe.mul(t.projectionMatrix,s,t.projectionMatrix),qe.invert(t.invProjectionMatrix,t.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,t){this._prevFrameTex.width=e,this._prevFrameTex.height=t,this._outputTex.width=e,this._outputTex.height=t,this._sourceTex.width=e,this._sourceTex.height=t,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,t,r){var n=this._blendPass;this._frame===0?(n.setUniform("weight1",0),n.setUniform("weight2",1)):(n.setUniform("weight1",.9),n.setUniform("weight2",.1)),n.setUniform("texture1",this._prevFrameTex),n.setUniform("texture2",t||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),n.render(e),this._blendFb.unbind(e),r||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var a=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=a,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};function sr(e){e=e||"perspective",this.layer=null,this.scene=new ql,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new Lt,this._temporalSS=new xT,this._shadowMapPass=new Kye;for(var t=[],r=0,n=0;n<30;n++){for(var a=[],i=0;i<6;i++)a.push(_d(r,2)*4-2),a.push(_d(r,3)*4-2),r++;t.push(a)}this._pcfKernels=t,this.scene.on("beforerender",function(o,s,l){this.needsTemporalSS()&&this._temporalSS.jitterProjection(o,l)},this)}sr.prototype.setProjection=function(e){var t=this.camera;t&&t.update(),e==="perspective"?this.camera instanceof Pn||(this.camera=new Pn,t&&this.camera.setLocalTransform(t.localTransform)):this.camera instanceof yd||(this.camera=new yd,t&&this.camera.setLocalTransform(t.localTransform)),this.camera.near=.1,this.camera.far=2e3};sr.prototype.setViewport=function(e,t,r,n,a){this.camera instanceof Pn&&(this.camera.aspect=r/n),a=a||1,this.viewport.x=e,this.viewport.y=t,this.viewport.width=r,this.viewport.height=n,this.viewport.devicePixelRatio=a,this._compositor.resize(r*a,n*a),this._temporalSS.resize(r*a,n*a)};sr.prototype.containPoint=function(e,t){var r=this.viewport,n=this.layer.renderer.getHeight();return t=n-t,e>=r.x&&t>=r.y&&e<=r.x+r.width&&t<=r.y+r.height};var cO=new ni;sr.prototype.castRay=function(e,t,r){var n=this.layer.renderer,a=n.viewport;return n.viewport=this.viewport,n.screenToNDC(e,t,cO),this.camera.castRay(cO,r),n.viewport=a,r};sr.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var t=0;t<e.transparent.length;t++){var r=e.transparent[t],n=r.geometry;n.needsSortVerticesProgressively&&n.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),n.needsSortTrianglesProgressively&&n.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()};sr.prototype.render=function(e,t){this._doRender(e,t,this._frame),this._frame++};sr.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively};sr.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return e==="auto"&&(e=this._enablePostEffect),e};sr.prototype.hasDOF=function(){return this._enableDOF};sr.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30};sr.prototype._doRender=function(e,t,r){var n=this.scene,a=this.camera;r=r||0,this._updateTransparent(e,n,a,r),t||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,n,a,!0)),this._updateShadowPCFKernel(r);var i=e.clearColor;if(e.gl.clearColor(i[0],i[1],i[2],i[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,a),this._compositor.updateNormal(e,n,a,this._temporalSS.getFrame())),this._updateSSAO(e,n,a,this._temporalSS.getFrame()),this._enablePostEffect){var o=this._compositor.getSourceFrameBuffer();o.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(n,a,!0,!0),o.unbind(e),this.needsTemporalSS()&&t?(this._compositor.composite(e,n,a,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,n,a,null,0))}else if(this.needsTemporalSS()&&t){var o=this._temporalSS.getSourceFrameBuffer();o.bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(n,a,!0,!0),e.restoreClear(),o.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(n,a,!0,!0)};sr.prototype._updateTransparent=function(e,t,r,n){for(var a=new ke,i=new qe,o=r.getWorldPosition(),s=t.getRenderList(r).transparent,l=0;l<s.length;l++){var u=s[l],c=u.geometry;qe.invert(i,u.worldTransform),ke.transformMat4(a,o,i),c.needsSortTriangles&&c.needsSortTriangles()&&c.doSortTriangles(a,n),c.needsSortVertices&&c.needsSortVertices()&&c.doSortVertices(a,n)}};sr.prototype._updateSSAO=function(e,t,r){var n=this._enableSSAO&&this._enablePostEffect;n&&this._compositor.updateSSAO(e,t,r,this._temporalSS.getFrame());for(var a=t.getRenderList(r),i=0;i<a.opaque.length;i++){var o=a.opaque[i];o.renderNormal&&o.material[n?"enableTexture":"disableTexture"]("ssaoMap"),n&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}};sr.prototype._updateShadowPCFKernel=function(e){for(var t=this._pcfKernels[e%this._pcfKernels.length],r=this.scene.getRenderList(this.camera),n=r.opaque,a=0;a<n.length;a++)n[a].receiveShadow&&(n[a].material.set("pcfKernel",t),n[a].material.define("fragment","PCF_KERNEL_SIZE",t.length/2))};sr.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)};sr.prototype.setPostEffect=function(e,t){var r=this._compositor;this._enablePostEffect=e.get("enable");var n=e.getModel("bloom"),a=e.getModel("edge"),i=e.getModel("DOF",e.getModel("depthOfField")),o=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),s=e.getModel("SSR",e.getModel("screenSpaceReflection")),l=e.getModel("FXAA"),u=e.getModel("colorCorrection");n.get("enable")?r.enableBloom():r.disableBloom(),i.get("enable")?r.enableDOF():r.disableDOF(),s.get("enable")?r.enableSSR():r.disableSSR(),u.get("enable")?r.enableColorCorrection():r.disableColorCorrection(),a.get("enable")?r.enableEdge():r.disableEdge(),l.get("enable")?r.enableFXAA():r.disableFXAA(),this._enableDOF=i.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?r.enableSSAO():r.disableSSAO(),r.setBloomIntensity(n.get("intensity")),r.setEdgeColor(a.get("color")),r.setColorLookupTexture(u.get("lookupTexture"),t),r.setExposure(u.get("exposure")),["radius","quality","intensity"].forEach(function(c){r.setSSAOParameter(c,o.get(c))}),["quality","maxRoughness","physical"].forEach(function(c){r.setSSRParameter(c,s.get(c))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(c){r.setDOFParameter(c,i.get(c))}),["brightness","contrast","saturation"].forEach(function(c){r.setColorCorrection(c,u.get(c))})};sr.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect)return e>this.camera.far||e<this.camera.near?void 0:(this._compositor.setDOFParameter("focalDistance",e),!0)};sr.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")};sr.prototype.isLinearSpace=function(){return this._enablePostEffect};sr.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var t=this.rootNode.children(),r=0;r<t.length;r++)e.add(t[r]);e!==this.scene&&this.scene.add(e),this.rootNode=e}};sr.prototype.add=function(e){this.rootNode.add(e)};sr.prototype.remove=function(e){this.rootNode.remove(e)};sr.prototype.removeAll=function(e){this.rootNode.removeAll(e)};Object.assign(sr.prototype,yA);function M0e(e,t){var r=e.getBoxLayoutParams(),n=wo(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio());var a=e.get("boxWidth"),i=e.get("boxHeight"),o=e.get("boxDepth");this.getAxis("x").setExtent(-a/2,a/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-i/2,i/2),this.size=[a,i,o]}function P0e(e,t){var r={};function n(a,i){r[a]=r[a]||[1/0,-1/0],r[a][0]=Math.min(i[0],r[a][0]),r[a][1]=Math.max(i[1],r[a][1])}e.eachSeries(function(a){if(a.coordinateSystem===this){var i=a.getData();["x","y","z"].forEach(function(o){i.mapDimensionsAll(o,!0).forEach(function(s){n(o,i.getDataExtent(s,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(a){e.eachComponent(a,function(i){var o=a.charAt(0),s=i.getReferringComponents("grid3D").models[0],l=s.coordinateSystem;if(l===this){var u=l.getAxis(o);if(!u){var c=d2(r[o]||[1/0,-1/0],i);u=new h0(o,c),u.type=i.get("type");var f=u.type==="category";u.onBand=f&&i.get("boundaryGap"),u.inverse=i.get("inverse"),i.axis=u,u.model=i,u.getLabelModel=function(){return i.getModel("axisLabel",s.getModel("axisLabel"))},u.getTickModel=function(){return i.getModel("axisTick",s.getModel("axisTick"))},l.addAxis(u)}}},this)},this),this.resize(this.model,t)}var L0e={dimensions:gp.prototype.dimensions,create:function(e,t){var r=[];e.eachComponent("grid3D",function(i){i.__viewGL=i.__viewGL||new sr;var o=new gp;o.model=i,o.viewGL=i.__viewGL,i.coordinateSystem=o,r.push(o),o.resize=M0e,o.update=P0e});var n=["xAxis3D","yAxis3D","zAxis3D"];function a(i,o){return n.map(function(s){var l=i.getReferringComponents(s).models[0];return l==null&&(l=o.getComponent(s)),l})}return e.eachSeries(function(i){if(i.get("coordinateSystem")==="cartesian3D"){var o=i.getReferringComponents("grid3D").models[0];if(o==null){var s=a(i,e),o=s[0].getCoordSysModel();s.forEach(function(c){c.getCoordSysModel()})}var l=o.coordinateSystem;i.coordinateSystem=l}}),r}};const I0e=L0e;var $U=nr.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});rJ($U);const R0e=$U;var WU={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},O0e=je({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},WU),PA=je({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},WU),k0e=kt({scale:!0,min:"dataMin",max:"dataMax"},PA),YU=kt({logBase:10},PA);YU.scale=!0;const N0e={categoryAxis3D:O0e,valueAxis3D:PA,timeAxis3D:k0e,logAxis3D:YU};var B0e=["value","category","time","log"];function V0e(e,t,r,n,a){B0e.forEach(function(i){var o=r.extend({type:t+"Axis3D."+i,__ordinalMeta:null,mergeDefaultAndTheme:function(s,l){var u=l.getTheme();je(s,u.get(i+"Axis3D")),je(s,this.getDefaultOption()),s.type=n(t,s)},optionUpdated:function(){var s=this.option;s.type==="category"&&(this.__ordinalMeta=Gy.createByAxisModel(this))},getCategories:function(){if(this.option.type==="category")return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:je(Kt(N0e[i+"Axis3D"]),a||{},!0)});e.registerComponentModel(o)}),e.registerSubTypeDefaulter(t+"Axis3D",zr(n,t))}function F0e(e,t){return t.type||(t.data?"category":"value")}function z0e(e){e.registerComponentModel(Uye),e.registerComponentView(Xye),e.registerCoordinateSystem("grid3D",I0e),["x","y","z"].forEach(function(t){V0e(e,t,R0e,F0e,{name:t.toUpperCase()});const r=e.ComponentView.extend({type:t+"Axis3D"});e.registerComponentView(r)}),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(t,r){r.eachComponent({mainType:"grid3D",query:t},function(n){n.setView(t)})}),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(t,r){}),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(t,r){})}vr(z0e);const Zd={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},XU={getFilledRegions:function(e,t){var r=(e||[]).slice(),n;if(typeof t=="string"?(t=iS(t),n=t&&t.geoJson):t&&t.features&&(n=t),!n)return[];for(var a={},i=n.features,o=0;o<r.length;o++)a[r[o].name]=r[o];for(var o=0;o<i.length;o++){var s=i[o].properties.name;a[s]||r.push({name:s})}return r},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}};var Kd=nr.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var t=Vp(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),r=new Xi(t,this);r.initData(e.regions);var n={};r.each(function(a){var i=r.getName(a),o=r.getItemModel(a);n[i]=o}),this._regionModelMap=n,this._data=r},getData:function(){return this._data},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new on(null,this)},getRegionPolygonCoords:function(e){var t=this.getData().getName(e),r=this.coordinateSystem.getRegion(t);return r?r.geometries:[]},getFormattedLabel:function(e,t){var r=this._data.getName(e),n=this.getRegionModel(e),a=n.get(t==="normal"?["label","formatter"]:["emphasis","label","formatter"]);a==null&&(a=n.get(["label","formatter"]));var i={name:r};if(typeof a=="function")return i.status=t,a(i);if(typeof a=="string"){var o=i.seriesName;return a.replace("{a}",o??"")}else return r},defaultOption:{regions:[]}});je(Kd.prototype,XU);je(Kd.prototype,W_);je(Kd.prototype,Xd);je(Kd.prototype,jd);je(Kd.prototype,Zd);const U0e=Kd;function jU(e,t,r){r=r||2;var n=t&&t.length,a=n?t[0]*r:e.length,i=qU(e,0,a,r,!0),o=[];if(!i)return o;var s,l,u,c,f,d,h;if(n&&(i=Y0e(e,t,i,r)),e.length>80*r){s=u=e[0],l=c=e[1];for(var v=r;v<a;v+=r)f=e[v],d=e[v+1],f<s&&(s=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);h=Math.max(u-s,c-l)}return xp(i,o,r,s,l,h),o}function qU(e,t,r,n,a){var i,o;if(a===ST(e,t,r,n)>0)for(i=t;i<r;i+=n)o=fO(i,e[i],e[i+1],o);else for(i=r-n;i>=t;i-=n)o=fO(i,e[i],e[i+1],o);return o&&tc(o,o.next)&&(wp(o),o=o.next),o}function _p(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(tc(r,r.next)||Ra(r.prev,r,r.next)===0)){if(wp(r),r=t=r.prev,r===r.next)return null;n=!0}else r=r.next;while(n||r!==t);return t}function xp(e,t,r,n,a,i,o){if(e){!o&&i&&Z0e(e,n,a,i);for(var s=e,l,u;e.prev!==e.next;){if(l=e.prev,u=e.next,i?G0e(e,n,a,i):H0e(e)){t.push(l.i/r),t.push(e.i/r),t.push(u.i/r),wp(e),e=u.next,s=u.next;continue}if(e=u,e===s){o?o===1?(e=$0e(e,t,r),xp(e,t,r,n,a,i,2)):o===2&&W0e(e,t,r,n,a,i):xp(_p(e),t,r,n,a,i,1);break}}}}function H0e(e){var t=e.prev,r=e,n=e.next;if(Ra(t,r,n)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(v0(t.x,t.y,r.x,r.y,n.x,n.y,a.x,a.y)&&Ra(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function G0e(e,t,r,n){var a=e.prev,i=e,o=e.next;if(Ra(a,i,o)>=0)return!1;for(var s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,l=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,u=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,c=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,f=bT(s,l,t,r,n),d=bT(u,c,t,r,n),h=e.nextZ;h&&h.z<=d;){if(h!==e.prev&&h!==e.next&&v0(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&Ra(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&v0(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&Ra(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function $0e(e,t,r){var n=e;do{var a=n.prev,i=n.next.next;!tc(a,i)&&ZU(a,n,n.next,i)&&bp(a,i)&&bp(i,a)&&(t.push(a.i/r),t.push(n.i/r),t.push(i.i/r),wp(n),wp(n.next),n=e=i),n=n.next}while(n!==e);return n}function W0e(e,t,r,n,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&J0e(o,s)){var l=KU(o,s);o=_p(o,o.next),l=_p(l,l.next),xp(o,t,r,n,a,i),xp(l,t,r,n,a,i);return}s=s.next}o=o.next}while(o!==e)}function Y0e(e,t,r,n){var a=[],i,o,s,l,u;for(i=0,o=t.length;i<o;i++)s=t[i]*n,l=i<o-1?t[i+1]*n:e.length,u=qU(e,s,l,n,!1),u===u.next&&(u.steiner=!0),a.push(Q0e(u));for(a.sort(X0e),i=0;i<a.length;i++)j0e(a[i],r),r=_p(r,r.next);return r}function X0e(e,t){return e.x-t.x}function j0e(e,t){if(t=q0e(e,t),t){var r=KU(t,e);_p(r,r.next)}}function q0e(e,t){var r=t,n=e.x,a=e.y,i=-1/0,o;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>i){if(i=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}o=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!o)return null;if(n===i)return o.prev;var l=o,u=o.x,c=o.y,f=1/0,d;for(r=o.next;r!==l;)n>=r.x&&r.x>=u&&n!==r.x&&v0(a<c?n:i,a,u,c,a<c?i:n,a,r.x,r.y)&&(d=Math.abs(a-r.y)/(n-r.x),(d<f||d===f&&r.x>o.x)&&bp(r,e)&&(o=r,f=d)),r=r.next;return o}function Z0e(e,t,r,n){var a=e;do a.z===null&&(a.z=bT(a.x,a.y,t,r,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,K0e(a)}function K0e(e){var t,r,n,a,i,o,s,l,u=1;do{for(r=e,e=null,i=null,o=0;r;){for(o++,n=r,s=0,t=0;t<u&&(s++,n=n.nextZ,!!n);t++);for(l=u;s>0||l>0&&n;)s!==0&&(l===0||!n||r.z<=n.z)?(a=r,r=r.nextZ,s--):(a=n,n=n.nextZ,l--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;r=n}i.nextZ=null,u*=2}while(o>1);return e}function bT(e,t,r,n,a){return e=32767*(e-r)/a,t=32767*(t-n)/a,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Q0e(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function v0(e,t,r,n,a,i,o,s){return(a-o)*(t-s)-(e-o)*(i-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(i-s)-(a-o)*(n-s)>=0}function J0e(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!e_e(e,t)&&bp(e,t)&&bp(t,e)&&t_e(e,t)}function Ra(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function tc(e,t){return e.x===t.x&&e.y===t.y}function ZU(e,t,r,n){return tc(e,t)&&tc(r,n)||tc(e,n)&&tc(r,t)?!0:Ra(e,t,r)>0!=Ra(e,t,n)>0&&Ra(r,n,e)>0!=Ra(r,n,t)>0}function e_e(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&ZU(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function bp(e,t){return Ra(e.prev,e,e.next)<0?Ra(e,t,e.next)>=0&&Ra(e,e.prev,t)>=0:Ra(e,t,e.prev)<0||Ra(e,e.next,t)<0}function t_e(e,t){var r=e,n=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do r.y>i!=r.next.y>i&&r.next.y!==r.y&&a<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function KU(e,t){var r=new wT(e.i,e.x,e.y),n=new wT(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=a,a.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function fO(e,t,r,n){var a=new wT(e,t,r);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function wp(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function wT(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}jU.deviation=function(e,t,r,n){var a=t&&t.length,i=a?t[0]*r:e.length,o=Math.abs(ST(e,0,i,r));if(a)for(var s=0,l=t.length;s<l;s++){var u=t[s]*r,c=s<l-1?t[s+1]*r:e.length;o-=Math.abs(ST(e,u,c,r))}var f=0;for(s=0;s<n.length;s+=3){var d=n[s]*r,h=n[s+1]*r,v=n[s+2]*r;f+=Math.abs((e[d]-e[v])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[v+1]-e[d+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function ST(e,t,r,n){for(var a=0,i=t,o=r-n;i<r;i+=n)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}function Nb(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function QU(e,t,r,n,a){var i=r,o=e[t];Nb(e,t,n);for(var s=r;s<n;s++)a(e[s],o)<0&&(Nb(e,s,i),i++);return Nb(e,n,i),i}function p0(e,t,r,n){if(r<n){var a=Math.floor((r+n)/2),i=QU(e,a,r,n,t);p0(e,t,r,i-1),p0(e,t,i+1,n)}}function xd(){this._parts=[]}xd.prototype.step=function(e,t,r){var n=e.length;if(r===0){this._parts=[],this._sorted=!1;var a=Math.floor(n/2);this._parts.push({pivot:a,left:0,right:n-1}),this._currentSortPartIdx=0}if(!this._sorted){var i=this._parts;if(i.length===0)return this._sorted=!0,!0;if(i.length<512){for(var o=0;o<i.length;o++)i[o].pivot=QU(e,i[o].pivot,i[o].left,i[o].right,t);for(var s=[],o=0;o<i.length;o++){var l=i[o].left,u=i[o].pivot-1;u>l&&s.push({pivot:Math.floor((u+l)/2),left:l,right:u});var l=i[o].pivot+1,u=i[o].right;u>l&&s.push({pivot:Math.floor((u+l)/2),left:l,right:u})}i=this._parts=s}else for(var o=0;o<Math.floor(i.length/10);o++){var c=i.length-1-this._currentSortPartIdx;if(p0(e,t,i[c].left,i[c].right),this._currentSortPartIdx++,this._currentSortPartIdx===i.length)return this._sorted=!0,!0}return!1}};xd.sort=p0;var Jf=un.vec3,dO=Jf.create(),hO=Jf.create(),vO=Jf.create();const LA={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,t){var r=this.indices;if(t===0){var n=this.attributes.position,e=e.array;(!this._triangleZList||this._triangleZList.length!==this.triangleCount)&&(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new r.constructor(r.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var a=0,i,o=0;o<r.length;){n.get(r[o++],dO),n.get(r[o++],hO),n.get(r[o++],vO);var s=Jf.sqrDist(dO,e),l=Jf.sqrDist(hO,e),u=Jf.sqrDist(vO,e),c=Math.min(s,l);c=Math.min(c,u),o===3?(i=c,c=0):c=c-i,this._triangleZList[a++]=c}}for(var f=this._sortedTriangleIndices,o=0;o<f.length;o++)f[o]=o;if(this.triangleCount<2e4)t===0&&this._simpleSort(!0);else for(var o=0;o<3;o++)this._progressiveQuickSort(t*3+o);for(var d=this._indicesTmp,h=this._triangleZListTmp,v=this._triangleZList,o=0;o<this.triangleCount;o++){var p=f[o]*3,m=o*3;d[m++]=r[p++],d[m++]=r[p++],d[m]=r[p],h[o]=v[f[o]]}var g=this._indicesTmp;this._indicesTmp=this.indices,this.indices=g;var g=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=g,this.dirtyIndices()},_simpleSort:function(e){var t=this._triangleZList,r=this._sortedTriangleIndices;function n(a,i){return t[i]-t[a]}e?Array.prototype.sort.call(r,n):xd.sort(r,n,0,r.length-1)},_progressiveQuickSort:function(e){var t=this._triangleZList,r=this._sortedTriangleIndices;this._quickSort=this._quickSort||new xd,this._quickSort.step(r,function(n,a){return t[a]-t[n]},e)}};function r_e(e){const t=e.getVisual("style");if(t){const r=e.getVisual("drawType");return t[r]}}function n_e(e){return e.getVisual("style").opacity}function Rn(e,t){const r=e.getItemVisual(t,"style");if(r){const n=e.getVisual("drawType");return r[n]}}function In(e,t){const r=e.getItemVisual(t,"style");return r&&r.opacity}var JU=1,eH=2;function Js(e,t,r){this._labelsMesh=new AA,this._labelTextureSurface=new d0({width:512,height:512,devicePixelRatio:r.getDevicePixelRatio(),onupdate:function(){r.getZr().refresh()}}),this._api=r,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}Js.prototype.getLabelPosition=function(e,t,r){return[0,0,0]};Js.prototype.getLabelDistance=function(e,t,r){return 0};Js.prototype.getMesh=function(){return this._labelsMesh};Js.prototype.updateData=function(e,t,r){t==null&&(t=0),r==null&&(r=e.count()),(!this._labelsVisibilitiesBits||this._labelsVisibilitiesBits.length!==r-t)&&(this._labelsVisibilitiesBits=new Uint8Array(r-t));for(var n=["label","show"],a=["emphasis","label","show"],i=t;i<r;i++){var o=e.getItemModel(i),s=o.get(n),l=o.get(a);l==null&&(l=s);var u=(s?JU:0)|(l?eH:0);this._labelsVisibilitiesBits[i-t]=u}this._start=t,this._end=r,this._data=e};Js.prototype.updateLabels=function(e){if(this._data){e=e||[];for(var t=e.length>0,r={},n=0;n<e.length;n++)r[e[n]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var a=["label"],i=["emphasis","label"],o=this._data.hostModel,s=this._data,l=o.getModel(a),u=o.getModel(i,l),c={left:"right",right:"left",top:"center",bottom:"center"},f={left:"middle",right:"middle",top:"bottom",bottom:"top"},d=this._start;d<this._end;d++){var h=!1;t&&r[d]&&(h=!0);var v=this._labelsVisibilitiesBits[d-this._start]&(h?eH:JU);if(v){var p=s.getItemModel(d),m=p.getModel(h?i:a,h?u:l),g=m.get("distance")||0,y=m.get("position"),_=this._api.getDevicePixelRatio(),x=o.getFormattedLabel(d,h?"emphasis":"normal");if(x==null||x==="")return;var w=new Kr({style:Yi(m,{text:x,fill:m.get("color")||Rn(s,d)||"#000",align:"left",verticalAlign:"top",opacity:Tt.firstNotNull(m.get("opacity"),In(s,d),1)})}),b=w.getBoundingRect(),T=1.2;b.height*=T;var S=this._labelTextureSurface.add(w),A=c[y]||"center",M=f[y]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(d,y,g),[b.width*_,b.height*_],S,A,M,this.getLabelDistance(d,y,g)*_)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}};Js.prototype.dispose=function(){this._labelTextureSurface.dispose()};var Ha=un.vec3;W.Shader.import(q_);function bd(e){this.rootNode=new W.Node,this._triangulationResults={},this._shadersMap=W.COMMON_SHADERS.filter(function(r){return r!=="shadow"}).reduce(function(r,n){return r[n]=W.createShader("ecgl."+n),r},{}),this._linesShader=W.createShader("ecgl.meshLines3D");var t={};W.COMMON_SHADERS.forEach(function(r){t[r]=new W.Material({shader:W.createShader("ecgl."+r)})}),this._groundMaterials=t,this._groundMesh=new W.Mesh({geometry:new W.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new Js(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}bd.prototype={constructor:bd,extrudeY:!0,update:function(e,t,r,n,a){var i=e.getData();n==null&&(n=0),a==null&&(a=i.count()),this._startIndex=n,this._endIndex=a-1,this._triangulation(e,n,a);var o=this._getShader(e.get("shading"));this._prepareMesh(e,o,r,n,a),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,r,n,a);var s=e.coordinateSystem;s.type==="geo3D"&&this._updateGroundPlane(e,s,r);var l=this;this._labelsBuilder.updateData(i,n,a),this._labelsBuilder.getLabelPosition=function(u,c,f){var d=i.getName(u),h,v=f;if(s.type==="geo3D"){var p=s.getRegion(d);if(!p)return[NaN,NaN,NaN];h=p.getCenter();var m=s.dataToPoint([h[0],h[1],v]);return m}else var g=l._triangulationResults[u-l._startIndex],h=l.extrudeY?[(g.max[0]+g.min[0])/2,g.max[1]+v,(g.max[2]+g.min[2])/2]:[(g.max[0]+g.min[0])/2,(g.max[1]+g.min[1])/2,g.max[2]+v]},this._data=i,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this;function t(){var a=new W.Mesh({name:"Polygon",material:new W.Material({shader:e._shadersMap.lambert}),geometry:new W.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(a.geometry,LA),a}var r=t(),n=new W.Mesh({material:new W.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new Wc({useNativeLine:!1})});this.rootNode.add(r),this.rootNode.add(n),r.material.define("both","VERTEX_COLOR"),r.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=r,this._linesMesh=n,this.rootNode.add(this._groundMesh)},_getShader:function(e){var t=this._shadersMap[e];return t||(t=this._shadersMap.lambert),t.__shading=e,t},_prepareMesh:function(e,t,r,n,a){for(var i=0,o=0,s=0,l=0,u=n;u<a;u++){var c=this._getRegionPolygonInfo(u),f=this._getRegionLinesInfo(u,e,this._linesMesh.geometry);i+=c.vertexCount,o+=c.triangleCount,s+=f.vertexCount,l+=f.triangleCount}var d=this._polygonMesh,h=d.geometry;["position","normal","texcoord0","color"].forEach(function(v){h.attributes[v].init(i)}),h.indices=i>65535?new Uint32Array(o*3):new Uint16Array(o*3),d.material.shader!==t&&d.material.attachShader(t,!0),W.setMaterialFromModel(t.__shading,d.material,e,r),s>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(s),this._linesMesh.geometry.setTriangleCount(l)),this._dataIndexOfVertex=new Uint32Array(i),this._vertexRangeOfDataIndex=new Uint32Array((a-n)*2)},_updateRegionMesh:function(e,t,r,n){for(var a=e.getData(),i=0,o=0,s=!1,b=this._polygonMesh,l=this._linesMesh,u=r;u<n;u++){var c=e.getRegionModel(u),f=c.getModel("itemStyle"),d=Tt.firstNotNull(Rn(a,u),f.get("color"),"#fff"),h=Tt.firstNotNull(In(a,u),f.get("opacity"),1),v=W.parseColor(d),p=W.parseColor(f.get("borderColor"));v[3]*=h,p[3]*=h;var m=v[3]<.99;b.material.set("color",[1,1,1,1]),s=s||m;for(var g=Tt.firstNotNull(c.get("height",!0),e.get("regionHeight")),y=this._updatePolygonGeometry(e,b.geometry,u,g,i,o,v),_=i;_<y.vertexOffset;_++)this._dataIndexOfVertex[_]=u;this._vertexRangeOfDataIndex[(u-r)*2]=i,this._vertexRangeOfDataIndex[(u-r)*2+1]=y.vertexOffset,i=y.vertexOffset,o=y.triangleOffset;var x=f.get("borderWidth"),w=x>0;w&&(x*=t.getDevicePixelRatio(),this._updateLinesGeometry(l.geometry,e,u,g,x,e.coordinateSystem.transform)),l.invisible=!w,l.material.set({color:p})}var b=this._polygonMesh;b.material.transparent=s,b.material.depthMask=!s,b.geometry.updateBoundingBox(),b.frontFace=this.extrudeY?W.Mesh.CCW:W.Mesh.CW,b.material.get("normalMap")&&b.geometry.generateTangents(),b.seriesIndex=e.seriesIndex,b.on("mousemove",this._onmousemove,this),b.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var t=e.getModel("debug.wireframe");if(t.get("show")){var r=W.parseColor(t.get("lineStyle.color")||"rgba(0,0,0,0.5)"),n=Tt.firstNotNull(t.get("lineStyle.width"),1),a=this._polygonMesh;a.geometry.generateBarycentric(),a.material.define("both","WIREFRAME_TRIANGLE"),a.material.set("wireframeLineColor",r),a.material.set("wireframeLineWidth",n)}},_onmousemove:function(e){var t=this._dataIndexOfVertex[e.triangle[0]];t==null&&(t=-1),t!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(t),this._labelsBuilder.updateLabels([t])),this._lastHoverDataIndex=t,this._polygonMesh.dataIndex=t},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,t,r){var n=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!n.get("show",!0),!this._groundMesh.invisible){var a=e.get("shading"),i=this._groundMaterials[a];i||(i=this._groundMaterials.lambert),W.setMaterialFromModel(a,i,n,r),i.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=i,this._groundMesh.material.set("color",W.parseColor(n.get("color"))),this._groundMesh.scale.set(t.size[0],t.size[2],1)}},_triangulation:function(e,t,r){this._triangulationResults=[];for(var n=[1/0,1/0,1/0],a=[-1/0,-1/0,-1/0],i=e.coordinateSystem,o=t;o<r;o++){for(var s=[],l=e.getRegionPolygonCoords(o),u=0;u<l.length;u++){var c=l[u].exterior,f=l[u].interiors,d=[],h=[];if(!(c.length<3)){for(var v=0,p=0;p<c.length;p++){var m=c[p];d[v++]=m[0],d[v++]=m[1]}for(var p=0;p<f.length;p++)if(!(f[p].length<3)){for(var g=d.length/2,y=0;y<f[p].length;y++){var m=f[p][y];d.push(m[0]),d.push(m[1])}h.push(g)}for(var _=jU(d,h),x=new Float64Array(d.length/2*3),w=[],b=[1/0,1/0,1/0],T=[-1/0,-1/0,-1/0],S=0,p=0;p<d.length;)Ha.set(w,d[p++],0,d[p++]),i&&i.transform&&Ha.transformMat4(w,w,i.transform),Ha.min(b,b,w),Ha.max(T,T,w),x[S++]=w[0],x[S++]=w[1],x[S++]=w[2];Ha.min(n,n,b),Ha.max(a,a,T),s.push({points:x,indices:_,min:b,max:T})}}this._triangulationResults.push(s)}this._geoBoundingBox=[n,a]},_getRegionPolygonInfo:function(e){for(var t=this._triangulationResults[e-this._startIndex],r=0,n=0,a=0;a<t.length;a++)r+=t[a].points.length/3,n+=t[a].indices.length/3;var i=r*2+r*4,o=n*2+r*2;return{vertexCount:i,triangleCount:o}},_updatePolygonGeometry:function(e,t,r,n,a,i,o){var s=e.get("projectUVOnGround"),l=t.attributes.position,u=t.attributes.normal,c=t.attributes.texcoord0,f=t.attributes.color,d=this._triangulationResults[r-this._startIndex],h=f.value&&o,v=t.indices,p=this.extrudeY?1:2,m=this.extrudeY?2:1,g=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=Ha.mul([],this._geoBoundingBox[0],g),_=Ha.mul([],this._geoBoundingBox[1],g),x=Math.max(_[0]-y[0],_[2]-y[2]);function w(K,q,ue){for(var se=K.points,B=se.length,$=[],Q=[],re=0;re<B;re+=3)$[0]=se[re],$[p]=q,$[m]=se[re+2],Q[0]=(se[re]*g[0]-y[0])/x,Q[1]=(se[re+2]*g[m]-y[2])/x,l.set(a,$),h&&f.set(a,o),c.set(a++,Q)}function b(K,q,ue){var se=a;w(K,q);for(var B=K.indices.length,$=0;$<B;$++)v[i*3+$]=K.indices[$]+se;i+=K.indices.length/3}for(var T=this.extrudeY?[0,1,0]:[0,0,1],S=Ha.negate([],T),A=0;A<d.length;A++){var M=a,C=d[A];b(C,0),b(C,n);for(var D=C.points.length/3,P=0;P<D;P++)u.set(M+P,S),u.set(M+P+D,T);for(var I=[0,3,1,1,3,2],k=[[],[],[],[]],V=[],H=[],O=[],L=[],F=0,P=0;P<D;P++){for(var X=(P+1)%D,Y=(C.points[X*3]-C.points[P*3])*g[0],G=(C.points[X*3+2]-C.points[P*3+2])*g[m],z=Math.sqrt(Y*Y+G*G),N=0;N<4;N++){var U=N===0||N===3,Z=(U?P:X)*3;k[N][0]=C.points[Z],k[N][p]=N>1?n:0,k[N][m]=C.points[Z+2],l.set(a+N,k[N]),s?(L[0]=(C.points[Z]*g[0]-y[0])/x,L[1]=(C.points[Z+2]*g[m]-y[m])/x):(L[0]=(U?F:F+z)/x,L[1]=(k[N][p]*g[p]-y[p])/x),c.set(a+N,L)}Ha.sub(V,k[1],k[0]),Ha.sub(H,k[3],k[0]),Ha.cross(O,V,H),Ha.normalize(O,O);for(var N=0;N<4;N++)u.set(a+N,O),h&&f.set(a+N,o);for(var N=0;N<6;N++)v[i*3+N]=I[N]+a;a+=4,i+=2,F+=z}}return t.dirty(),{vertexOffset:a,triangleOffset:i}},_getRegionLinesInfo:function(e,t,r){var n=0,a=0,i=t.getRegionModel(e),o=i.getModel("itemStyle"),s=o.get("borderWidth");if(s>0){var l=t.getRegionPolygonCoords(e);l.forEach(function(u){var c=u.exterior,f=u.interiors;n+=r.getPolylineVertexCount(c),a+=r.getPolylineTriangleCount(c);for(var d=0;d<f.length;d++)n+=r.getPolylineVertexCount(f[d]),a+=r.getPolylineTriangleCount(f[d])},this)}return{vertexCount:n,triangleCount:a}},_updateLinesGeometry:function(e,t,r,n,a,i){function o(u){for(var c=new Float64Array(u.length*3),f=0,d=[],h=0;h<u.length;h++)d[0]=u[h][0],d[1]=n+.1,d[2]=u[h][1],i&&Ha.transformMat4(d,d,i),c[f++]=d[0],c[f++]=d[1],c[f++]=d[2];return c}var s=[1,1,1,1],l=t.getRegionPolygonCoords(r);l.forEach(function(u){var c=u.exterior,f=u.interiors;e.addPolyline(o(c),s,a);for(var d=0;d<f.length;d++)e.addPolyline(o(f[d]),s,a)})},highlight:function(e){var t=this._data;if(t){var r=t.getItemModel(e),n=r.getModel(["emphasis","itemStyle"]),a=n.get("color"),i=Tt.firstNotNull(n.get("opacity"),In(t,e),1);if(a==null){var o=Rn(t,e);a=$v(o,-.4)}i==null&&(i=In(t,e));var s=W.parseColor(a);s[3]*=i,this._setColorOfDataIndex(t,e,s)}},downplay:function(e){var t=this._data;if(t){var r=t.getItemModel(e),n=Tt.firstNotNull(Rn(t,e),r.get(["itemStyle","color"]),"#fff"),a=Tt.firstNotNull(In(t,e),r.get(["itemStyle","opacity"]),1),i=W.parseColor(n);i[3]*=a,this._setColorOfDataIndex(t,e,i)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(e,t,r){if(!(t<this._startIndex&&t>this._endIndex)){t-=this._startIndex;for(var n=this._vertexRangeOfDataIndex[t*2];n<this._vertexRangeOfDataIndex[t*2+1];n++)this._polygonMesh.geometry.attributes.color.set(n,r);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const a_e=va.extend({type:"geo3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new bd(t),this.groupGL=new W.Node,this._lightRoot=new W.Node,this._sceneHelper=new Hl(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new X_({zr:t.getZr()}),this._control.init()},render:function(e,t,r){this.groupGL.add(this._geo3DBuilder.rootNode);var n=e.coordinateSystem;if(!(!n||!n.viewGL)){n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL);var a=this._control;a.setViewGL(n.viewGL);var i=e.getModel("viewControl");a.setFromViewControlModel(i,0),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,t,r,0,e.getData().count());var o=n.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(s){s.material&&s.material[o]("fragment","SRGB_DECODE")}),a.off("update"),a.on("update",function(){r.dispatchAction({type:"geo3DChangeCamera",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance(),center:a.getCenter(),from:this.uid,geo3DId:e.id})}),a.update()}},afterRender:function(e,t,r,n){var a=n.renderer;this._sceneHelper.updateAmbientCubemap(a,e,r),this._sceneHelper.updateSkybox(a,e,r)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var i_e={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function o_e(e,t){if(e==="world"){var r=i_e[t.name];if(r){var n=[r[0],r[1]];t.setCenter(n)}}}var s_e=un.vec3,Hf=un.mat4,l_e=[Ste,o_e];function m0(e,t,r,n,a){this.name=e,this.map=t,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(r,n,a),this.transform=Hf.identity(new Float64Array(16)),this.invTransform=Hf.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}m0.prototype={constructor:m0,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,t,r){var n=VP||VP;try{this.regions=e?n(e):[]}catch(u){throw`Invalid geoJson format
`+u}t=t||{},r=r||{};for(var a=this.regions,i={},o=0;o<a.length;o++){var s=a[o].name;s=r[s]||s,a[o].name=s,i[s]=a[o],this.addGeoCoord(s,a[o].getCenter());var l=t[s];l&&a[o].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=i,this._geoRect=null,l_e.forEach(function(u){u(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,t=this.regions,r=0;r<t.length;r++){var n=t[r].getBoundingRect();e=e||n.clone(),e.union(n)}return this._geoRect=e||new Ut(0,0,0,0)},addGeoCoord:function(e,t){this._nameCoordMap[e]=t},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var t=this.regions,r=0;r<t.length;r++)if(t[r].contain(e))return t[r]},setSize:function(e,t,r){this.size=[e,t,r];var n=this.getGeoBoundingRect(),a=e/n.width,i=-r/n.height,o=-e/2-n.x*a,s=r/2-n.y*i,l=this.extrudeY?[o,0,s]:[o,s,0],u=this.extrudeY?[a,1,i]:[a,i,1],c=this.transform;Hf.identity(c),Hf.translate(c,c,l),Hf.scale(c,c,u),Hf.invert(this.invTransform,c)},dataToPoint:function(e,t){t=t||[];var r=this.extrudeY?1:2,n=this.extrudeY?2:1,a=e[2];return isNaN(a)&&(a=0),t[0]=e[0],t[n]=e[1],this.altitudeAxis?t[r]=this.altitudeAxis.dataToCoord(a):t[r]=0,t[r]+=this.regionHeight,s_e.transformMat4(t,t,this.transform),t},pointToData:function(e,t){}};function u_e(e,t){var r=e.getBoxLayoutParams(),n=wo(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio());var a=this.getGeoBoundingRect(),i=a.width/a.height*(e.get("aspectScale")||.75),o=e.get("boxWidth"),s=e.get("boxDepth"),l=e.get("boxHeight");l==null&&(l=5),isNaN(o)&&isNaN(s)&&(o=100),isNaN(s)?s=o/i:isNaN(o)&&(o=s/i),this.setSize(o,l,s),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(l-this.regionHeight,0))}function c_e(e,t){var r=[1/0,-1/0];if(e.eachSeries(function(a){if(a.coordinateSystem===this&&a.type!=="series.map3D"){var i=a.getData(),o=a.coordDimToDataDim("alt"),s=o&&o[0];if(s){var l=i.getDataExtent(s,!0);r[0]=Math.min(r[0],l[0]),r[1]=Math.max(r[1],l[1])}}},this),r&&isFinite(r[1]-r[0])){var n=d2(r,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new Up("altitude",n),this.resize(this.model,t)}}var pO=0,tH={dimensions:m0.prototype.dimensions,create:function(e,t){var r=[];if(!iS)throw new Error("geo3D component depends on geo component");function n(a,i){var o=tH.createGeo3D(a);a.__viewGL=a.__viewGL||new sr,o.viewGL=a.__viewGL,a.coordinateSystem=o,o.model=a,r.push(o),o.resize=u_e,o.resize(a,t),o.update=c_e}return e.eachComponent("geo3D",function(a,i){n(a)}),e.eachSeriesByType("map3D",function(a,i){var o=a.get("coordinateSystem");o==null&&(o="geo3D"),o==="geo3D"&&n(a)}),e.eachSeries(function(a){if(a.get("coordinateSystem")==="geo3D"){if(a.type==="series.map3D")return;var i=a.getReferringComponents("geo3D").models[0];if(i||(i=e.getComponent("geo3D")),!i)throw new Error('geo "'+Tt.firstNotNull(a.get("geo3DIndex"),a.get("geo3DId"),0)+'" not found');a.coordinateSystem=i.coordinateSystem}}),r},createGeo3D:function(e){var t=e.get("map"),r;return typeof t=="string"?(r=t,t=iS(t)):t&&t.features&&(t={geoJson:t}),r==null&&(r="GEO_ANONYMOUS_"+pO++),new m0(r+pO++,r,t&&t.geoJson,t&&t.specialAreas,e.get("nameMap"))}};const rH=tH;function nH(e){e.registerComponentModel(U0e),e.registerComponentView(a_e),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(t,r){r.eachComponent({mainType:"geo3D",query:t},function(n){n.setView(t)})}),e.registerCoordinateSystem("geo3D",rH)}vr(nH);function mO(e,t){e.id=e.id||e.name||t+""}var Ec=nr.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){Ec.superApply(this,"init",arguments),j(this.option.layers,function(e,t){je(e,this.defaultLayerOption),mO(e,t)},this)},mergeOption:function(e){var t=this.option.layers;this.option.layers=null,Ec.superApply(this,"mergeOption",arguments);function r(o){return Jo(o,function(s,l,u){return mO(l,u),s[l.id]=l,s},{})}if(t&&t.length){var n=r(e.layers),a=r(t);for(var i in n)a[i]?je(a[i],n[i],!0):t.push(e.layers[i]);this.option.layers=t}j(this.option.layers,function(o){je(o,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,t,r){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=r},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),t=this.get("displacementScale");return(!e||e==="none")&&(t=0),t},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),t=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==t,this._displacementTexture=e,this._displacementScale=t},isDisplacementChanged:function(){return this._displacementChanged}});je(Ec.prototype,W_);je(Ec.prototype,Xd);je(Ec.prototype,jd);je(Ec.prototype,Zd);const f_e=Ec;var aH=Math.PI,Hi=Math.sin,Is=Math.cos,iH=Math.tan,oH=Math.asin,sH=Math.atan2,Dc=aH/180,d_e=1e3*60*60*24,h_e=2440588,v_e=2451545;function p_e(e){return e.valueOf()/d_e-.5+h_e}function m_e(e){return p_e(e)-v_e}var g0=Dc*23.4397;function g_e(e,t){return sH(Hi(e)*Is(g0)-iH(t)*Hi(g0),Is(e))}function y_e(e,t){return oH(Hi(t)*Is(g0)+Is(t)*Hi(g0)*Hi(e))}function __e(e,t,r){return sH(Hi(e),Is(e)*Hi(t)-iH(r)*Is(t))}function x_e(e,t,r){return oH(Hi(t)*Hi(r)+Is(t)*Is(r)*Is(e))}function b_e(e,t){return Dc*(280.16+360.9856235*e)-t}function w_e(e){return Dc*(357.5291+.98560028*e)}function S_e(e){var t=Dc*(1.9148*Hi(e)+.02*Hi(2*e)+3e-4*Hi(3*e)),r=Dc*102.9372;return e+t+r+aH}function T_e(e){var t=w_e(e),r=S_e(t);return{dec:y_e(r,0),ra:g_e(r,0)}}var lH={};lH.getPosition=function(e,t,r){var n=Dc*-r,a=Dc*t,i=m_e(e),o=T_e(i),s=b_e(i,n)-o.ra;return{azimuth:__e(s,a,o.dec),altitude:x_e(s,a,o.dec)}};const C_e=lH,A_e=`@export ecgl.atmosphere.vertex
attribute vec3 position: POSITION;
attribute vec3 normal : NORMAL;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;

varying vec3 v_Normal;

void main() {
 v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end


@export ecgl.atmosphere.fragment
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform float glowPower;
uniform vec3 glowColor;

varying vec3 v_Normal;

void main() {
 float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor = vec4(glowColor, intensity * intensity);
}
@end`;W.Shader.import(bU);W.Shader.import(A_e);const E_e=va.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,t){this.groupGL=new W.Node,this._sphereGeometry=new W.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new W.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new W.PlaneGeometry,this._earthMesh=new W.Mesh({renderNormal:!0}),this._atmosphereMesh=new W.Mesh,this._atmosphereGeometry=new W.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new W.Material({shader:new W.Shader(W.Shader.source("ecgl.atmosphere.vertex"),W.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=W.Mesh.CW,this._lightRoot=new W.Node,this._sceneHelper=new Hl,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new X_({zr:t.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,t,r){var n=e.coordinateSystem,a=e.get("shading");n.viewGL.add(this._lightRoot),e.get("show")?n.viewGL.add(this.groupGL):n.viewGL.remove(this.groupGL),this._sceneHelper.setScene(n.viewGL.scene),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var i=this._earthMesh;i.geometry=this._sphereGeometry;var o="ecgl."+a;(!i.material||i.material.shader.name!==o)&&(i.material=W.createMaterial(o)),W.setMaterialFromModel(a,i.material,e,r),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(f){var d=i.material.get(f);d&&(d.flipY=!1)}),i.material.set("color",W.parseColor(e.get("baseColor")));var s=n.radius*.99;if(i.scale.set(s,s,s),e.get("atmosphere.show")){i.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),i.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var l=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(s+l,s+l,s+l)}else i.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var u=i.material.setTextureImage("diffuseMap",e.get("baseTexture"),r,{flipY:!1,anisotropic:8});u&&u.surface&&u.surface.attachToMesh(i);var c=i.material.setTextureImage("bumpMap",e.get("heightTexture"),r,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(i),i.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,r),this._displaceVertices(e,r),this._updateViewControl(e,r),this._updateLayers(e,r)},afterRender:function(e,t,r,n){var a=n.renderer;this._sceneHelper.updateAmbientCubemap(a,e,r),this._sceneHelper.updateSkybox(a,e,r)},_updateLayers:function(e,t){var r=e.coordinateSystem,n=e.get("layers"),a=r.radius,i=[],o=[],s=[],l=[];j(n,function(h){var v=new on(h),p=v.get("type"),m=W.loadTexture(v.get("texture"),t,{flipY:!1,anisotropic:8});if(m.surface&&m.surface.attachToMesh(this._earthMesh),p==="blend"){var g=v.get("blendTo"),y=Tt.firstNotNull(v.get("intensity"),1);g==="emission"?(s.push(m),l.push(y)):(i.push(m),o.push(y))}else{var _=v.get("id"),x=this._layerMeshes[_];x||(x=this._layerMeshes[_]=new W.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var w=v.get("shading");w==="lambert"?(x.material=x.__lambertMaterial||new W.Material({autoUpdateTextureStatus:!1,shader:W.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),x.__lambertMaterial=x.material):(x.material=x.__colorMaterial||new W.Material({autoUpdateTextureStatus:!1,shader:W.createShader("ecgl.color"),transparent:!0,depthMask:!1}),x.__colorMaterial=x.material),x.material.enableTexture("diffuseMap");var b=v.get("distance"),T=a+(b??r.radius/100);x.scale.set(T,T,T),a=T;var S=this._blankTexture||(this._blankTexture=W.createBlankTexture("rgba(255, 255, 255, 0)"));x.material.set("diffuseMap",S),W.loadTexture(v.get("texture"),t,{flipY:!1,anisotropic:8},function(A){A.surface&&A.surface.attachToMesh(x),x.material.set("diffuseMap",A),t.getZr().refresh()}),v.get("show")?this.groupGL.add(x):this.groupGL.remove(x)}},this);var u=this._earthMesh.material;u.define("fragment","LAYER_DIFFUSEMAP_COUNT",i.length),u.define("fragment","LAYER_EMISSIVEMAP_COUNT",s.length),u.set("layerDiffuseMap",i),u.set("layerDiffuseIntensity",o),u.set("layerEmissiveMap",s),u.set("layerEmissionIntensity",l);var c=e.getModel("debug.wireframe");if(c.get("show")){u.define("both","WIREFRAME_TRIANGLE");var f=W.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)"),d=Tt.firstNotNull(c.get("lineStyle.width"),1);u.set("wireframeLineWidth",d),u.set("wireframeLineColor",f)}else u.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,t){var r=e.coordinateSystem,n=e.getModel("viewControl");r.viewGL.camera;var a=this;function i(){return{type:"globeChangeCamera",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance()-r.radius,center:o.getCenter(),from:a.uid,globeId:e.id}}var o=this._control;o.setViewGL(r.viewGL);var s=n.get("targetCoord"),l,u;s!=null&&(u=s[0]+90,l=s[1]),o.setFromViewControlModel(n,{baseDistance:r.radius,alpha:l,beta:u}),o.off("update"),o.on("update",function(){t.dispatchAction(i())})},_displaceVertices:function(e,t){var r=e.get("displacementQuality"),n=e.get("debug.wireframe.show"),a=e.coordinateSystem;if(!(!e.isDisplacementChanged()&&r===this._displacementQuality&&n===this._showDebugWireframe)){this._displacementQuality=r,this._showDebugWireframe=n;var i=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[r]||200,s=o/2;(i.widthSegments!==o||n)&&(i.widthSegments=o,i.heightSegments=s,i.build()),this._doDisplaceVertices(i,a),n&&i.generateBarycentric()}},_doDisplaceVertices:function(e,t){var r=e.attributes.position.value,n=e.attributes.texcoord0.value,a=e.__originalPosition;(!a||a.length!==r.length)&&(a=new Float32Array(r.length),a.set(r),e.__originalPosition=a);for(var i=t.displacementWidth,o=t.displacementHeight,s=t.displacementData,l=0;l<e.vertexCount;l++){var u=l*3,c=l*2,f=a[u+1],d=a[u+2],h=a[u+3],v=n[c++],p=n[c++],m=Math.round(v*(i-1)),g=Math.round(p*(o-1)),y=g*i+m,_=s?s[y]:0;r[u+1]=f+f*_,r[u+2]=d+d*_,r[u+3]=h+h*_}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,t){var r=this._earthMesh;this._sceneHelper.updateLight(e);var n=this._sceneHelper.mainLight,a=e.get("light.main.time")||new Date,i=C_e.getPosition(bo(a),0,0),o=Math.cos(i.altitude);n.position.y=-o*Math.cos(i.azimuth),n.position.x=Math.sin(i.altitude),n.position.z=o*Math.sin(i.azimuth),n.lookAt(r.getWorldPosition())},dispose:function(e,t){this.groupGL.removeAll(),this._control.dispose()}});var D_e=un.vec3;function y0(e){this.radius=e,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}y0.prototype={constructor:y0,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,t,r){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=r},_getDisplacementScale:function(e,t){var r=(e+180)/360*(this.displacementWidth-1),n=(90-t)/180*(this.displacementHeight-1),a=Math.round(r)+Math.round(n)*this.displacementWidth;return this.displacementData[a]},dataToPoint:function(e,t){var r=e[0],n=e[1],a=e[2]||0,i=this.radius;this.displacementData&&(i*=1+this._getDisplacementScale(r,n)),this.altitudeAxis&&(i+=this.altitudeAxis.dataToCoord(a)),r=r*Math.PI/180,n=n*Math.PI/180;var o=Math.cos(n)*i;return t=t||[],t[0]=-o*Math.cos(r+Math.PI),t[1]=Math.sin(n)*i,t[2]=o*Math.sin(r+Math.PI),t},pointToData:function(e,t){var r=e[0],n=e[1],a=e[2],i=D_e.len(e);r/=i,n/=i,a/=i;var o=Math.asin(n),s=Math.atan2(a,-r);s<0&&(s=Math.PI*2+s);var l=o*180/Math.PI,u=s*180/Math.PI-180;return t=t||[],t[0]=u,t[1]=l,t[2]=i-this.radius,this.altitudeAxis&&(t[2]=this.altitudeAxis.coordToData(t[2])),t}};function M_e(e,t){var r=document.createElement("canvas"),n=r.getContext("2d"),a=e.width,i=e.height;r.width=a,r.height=i,n.drawImage(e,0,0,a,i);for(var o=n.getImageData(0,0,a,i).data,s=new Float32Array(o.length/4),l=0;l<o.length/4;l++){var u=o[l*4];s[l]=u/255*t}return{data:s,width:a,height:i}}function P_e(e,t){var r=e.getBoxLayoutParams(),n=wo(r,{width:t.getWidth(),height:t.getHeight()});n.y=t.getHeight()-n.y-n.height,this.viewGL.setViewport(n.x,n.y,n.width,n.height,t.getDevicePixelRatio()),this.radius=e.get("globeRadius");var a=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,a-this.radius)}function L_e(e,t){var r=[1/0,-1/0];if(e.eachSeries(function(a){if(a.coordinateSystem===this){var i=a.getData(),o=a.coordDimToDataDim("alt"),s=o&&o[0];if(s){var l=i.getDataExtent(s,!0);r[0]=Math.min(r[0],l[0]),r[1]=Math.max(r[1],l[1])}}},this),r&&isFinite(r[1]-r[0])){var n=d2(r,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new Up("altitude",n),this.resize(this.model,t)}}var I_e={dimensions:y0.prototype.dimensions,create:function(e,t){var r=[];return e.eachComponent("globe",function(n){n.__viewGL=n.__viewGL||new sr;var a=new y0;a.viewGL=n.__viewGL,n.coordinateSystem=a,a.model=n,r.push(a),a.resize=P_e,a.resize(n,t),a.update=L_e}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="globe"){var a=n.getReferringComponents("globe").models[0];if(a||(a=e.getComponent("globe")),!a)throw new Error('globe "'+Tt.firstNotNull(n.get("globe3DIndex"),n.get("globe3DId"),0)+'" not found');var i=a.coordinateSystem;n.coordinateSystem=i}}),e.eachComponent("globe",function(n,a){var i=n.coordinateSystem,o=n.getDisplacementTexture(),s=n.getDisplacemenScale();if(n.isDisplacementChanged()){if(n.hasDisplacement()){var l=!0;W.loadTexture(o,t,function(u){var c=u.image,f=M_e(c,s);n.setDisplacementData(f.data,f.width,f.height),l||t.dispatchAction({type:"globeUpdateDisplacment"})}),l=!1}else i.setDisplacementData(null,0,0);i.setDisplacementData(n.displacementData,n.displacementWidth,n.displacementHeight)}}),r}};const R_e=I_e;function O_e(e){e.registerComponentModel(f_e),e.registerComponentView(E_e),e.registerCoordinateSystem("globe",R_e),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(t,r){r.eachComponent({mainType:"globe",query:t},function(n){n.setView(t)})}),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(t,r){})}vr(O_e);var gO=["zoom","center","pitch","bearing"],IA=nr.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return gO.reduce(function(t,r){return t[r]=e.get(r),t},{})},setMapboxCameraOption:function(e){e!=null&&gO.forEach(function(t){e[t]!=null&&(this.option[t]=e[t])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});je(IA.prototype,Xd);je(IA.prototype,jd);const k_e=IA;function Zl(e,t){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}Zl.prototype.setUnpainted=function(){};Zl.prototype.resize=function(){this._mapbox.resize()};Zl.prototype.getMapbox=function(){return this._mapbox};Zl.prototype.clear=function(){};Zl.prototype.refresh=function(){this._mapbox.resize()};var uH=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];Zl.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},uH.forEach(function(t){this._handlers[t]=function(r){var n={};for(var a in r)n[a]=r[a];n.bubbles=!1;var i=new r.constructor(r.type,n);e.dispatchEvent(i)},this.zr.dom.addEventListener(t,this._handlers[t])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)};Zl.prototype.dispose=function(){uH.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this)};const cH=`
@export ecgl.displayShadow.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes

varying vec3 v_WorldPosition;

varying vec3 v_Normal;

void main()
{
 @import ecgl.common.uv.main
 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);

 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}

@end


@export ecgl.displayShadow.fragment

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform float roughness: 0.2;

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

@import ecgl.common.ssaoMap.header

@import clay.plugin.compute_shadow_map

void main()
{
 float shadow = 1.0;

 @import ecgl.common.ssaoMap.main

#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
 for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {
 shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);
 }
#endif

 shadow *= 0.5 + ao * 0.5;
 shadow = clamp(shadow, 0.0, 1.0);

 gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);
}

@end`;W.Shader.import(cH);const N_e=va.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,t){var r=t.getZr();this._zrLayer=new Zl("mapbox3D",r),r.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new W.Node,this._sceneHelper=new Hl(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var n=this._zrLayer.getMapbox(),a=this._dispatchInteractAction.bind(this,t,n);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(i){n.on(i,a)}),this._groundMesh=new W.Mesh({geometry:new W.PlaneGeometry,material:new W.Material({shader:new W.Shader({vertex:W.Shader.source("ecgl.displayShadow.vertex"),fragment:W.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,t,r){var n=this._zrLayer.getMapbox(),a=e.get("style"),i=JSON.stringify(a);i!==this._oldStyleStr&&a&&n.setStyle(a),this._oldStyleStr=i,n.setCenter(e.get("center")),n.setZoom(e.get("zoom")),n.setPitch(e.get("pitch")),n.setBearing(e.get("bearing")),e.setMapbox(n);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),r),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,t,r,n){var a=n.renderer;this._sceneHelper.updateAmbientCubemap(a,e,r),this._sceneHelper.updateSkybox(a,e,r),e.coordinateSystem.viewGL.scene.traverse(function(i){i.material&&(i.material.define("fragment","NORMAL_UP_AXIS",2),i.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,t,r,n){e.coordinateSystem.setCameraOption(n),this._updateGroundMesh(),r.getZr().refresh()},_dispatchInteractAction:function(e,t,r){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:t.getPitch(),zoom:t.getZoom(),center:t.getCenter().toArray(),bearing:t.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var r=new W.Plane(new W.Vector3(0,0,1),0),n=e.viewGL.camera.castRay(new W.Vector2(-1,-1)),a=e.viewGL.camera.castRay(new W.Vector2(1,1)),i=n.intersectPlane(r),o=a.intersectPlane(r),s=i.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}});var gl=un.mat4,zh=512,Bb=.6435011087932844,Ga=Math.PI,Lf=1/10;function wd(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}wd.prototype={constructor:wd,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,zh)),this._initialZoom==null&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(Bb/2)*this.height*Lf,t=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,r=Bb/2,n=Math.PI/2+t,a=Math.sin(r)*e/Math.sin(Math.PI-n-r),i=Math.cos(Math.PI/2-t)*a+e,o=i*1.1;this.pitch>50&&(o=1e3);var s=[];gl.perspective(s,Bb,this.width/this.height,1,o),this.viewGL.camera.projectionMatrix.setArray(s),this.viewGL.camera.decomposeProjectionMatrix();var s=gl.identity([]),l=this.dataToPoint(this.center);gl.scale(s,s,[1,-1,1]),gl.translate(s,s,[0,0,-e]),gl.rotateX(s,s,t),gl.rotateZ(s,s,-this.bearing/180*Math.PI),gl.translate(s,s,[-l[0]*this.getScale()*Lf,-l[1]*this.getScale()*Lf,0]),this.viewGL.camera.viewMatrix.array=s;var u=[];gl.invert(u,s),this.viewGL.camera.worldTransform.array=u,this.viewGL.camera.decomposeWorldTransform();var c=zh*this.getScale(),f;if(this.altitudeExtent&&!isNaN(this.boxHeight)){var d=this.altitudeExtent[1]-this.altitudeExtent[0];f=this.boxHeight/d*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else f=c/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*Lf;this.viewGL.rootNode.scale.set(this.getScale()*Lf,this.getScale()*Lf,f)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,t){return this.projectOnTileWithScale(e,this.getScale()*zh,t)},projectOnTileWithScale:function(e,t,r){var n=e[0],a=e[1],i=n*Ga/180,o=a*Ga/180,s=t*(i+Ga)/(2*Ga),l=t*(Ga-Math.log(Math.tan(Ga/4+o*.5)))/(2*Ga);return r=r||[],r[0]=s,r[1]=l,r},unprojectFromTile:function(e,t){return this.unprojectOnTileWithScale(e,this.getScale()*zh,t)},unprojectOnTileWithScale:function(e,t,r){var n=e[0],a=e[1],i=n/t*(2*Ga)-Ga,o=2*(Math.atan(Math.exp(Ga-a/t*(2*Ga)))-Ga/4);return r=r||[],r[0]=i*180/Ga,r[1]=o*180/Ga,r},dataToPoint:function(e,t){return t=this.projectOnTileWithScale(e,zh,t),t[0]-=this._origin[0],t[1]-=this._origin[1],t[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(t[2]=e[2],this.altitudeExtent&&(t[2]-=this.altitudeExtent[0])),t}};function Sp(){wd.apply(this,arguments)}Sp.prototype=new wd;Sp.prototype.constructor=Sp;Sp.prototype.type="mapbox3D";function fH(e,t,r){function n(i,o){var s=o.getWidth(),l=o.getHeight(),u=o.getDevicePixelRatio();this.viewGL.setViewport(0,0,s,l,u),this.width=s,this.height=l,this.altitudeScale=i.get("altitudeScale"),this.boxHeight=i.get("boxHeight")}function a(i,o){if(this.model.get("boxHeight")!=="auto"){var s=[1/0,-1/0];i.eachSeries(function(l){if(l.coordinateSystem===this){var u=l.getData(),c=l.coordDimToDataDim("alt")[0];if(c){var f=u.getDataExtent(c,!0);s[0]=Math.min(s[0],f[0]),s[1]=Math.max(s[1],f[1])}}},this),s&&isFinite(s[1]-s[0])&&(this.altitudeExtent=s)}}return{dimensions:t.prototype.dimensions,create:function(i,o){var s=[];return i.eachComponent(e,function(l){var u=l.__viewGL;u||(u=l.__viewGL=new sr,u.setRootNode(new W.Node));var c=new t;c.viewGL=l.__viewGL,c.resize=n,c.resize(l,o),s.push(c),l.coordinateSystem=c,c.model=l,c.update=a}),i.eachSeries(function(l){if(l.get("coordinateSystem")===e){var u=l.getReferringComponents(e).models[0];if(u||(u=i.getComponent(e)),!u)throw new Error(e+' "'+Tt.firstNotNull(l.get(e+"Index"),l.get(e+"Id"),0)+'" not found');l.coordinateSystem=u.coordinateSystem}}),r&&r(s,i,o),s}}}var B_e=fH("mapbox3D",Sp,function(e){e.forEach(function(t){t.setCameraOption(t.model.getMapboxCameraOption())})});const V_e=B_e;function F_e(e){e.registerComponentModel(k_e),e.registerComponentView(N_e),e.registerCoordinateSystem("mapbox3D",V_e),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(t,r){r.eachComponent({mainType:"mapbox3D",query:t},function(n){n.setMapboxCameraOption(t)})})}vr(F_e);var yO=["zoom","center","pitch","bearing"],RA=nr.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return yO.reduce(function(t,r){return t[r]=e.get(r),t},{})},setMaptalksCameraOption:function(e){e!=null&&yO.forEach(function(t){e[t]!=null&&(this.option[t]=e[t])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});je(RA.prototype,Xd);je(RA.prototype,jd);const z_e=RA;function Kl(e,t,r,n){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:r,zoom:n,doubleClickZoom:!1,fog:!1}),this._initEvents()}Kl.prototype.setUnpainted=function(){};Kl.prototype.resize=function(){this._maptalks.checkSize()};Kl.prototype.getMaptalks=function(){return this._maptalks};Kl.prototype.clear=function(){};Kl.prototype.refresh=function(){this._maptalks.checkSize()};var dH=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];Kl.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},dH.forEach(function(t){this._handlers[t]=function(r){var n={};for(var a in r)n[a]=r[a];n.bubbles=!1;var i=new r.constructor(r.type,n);t==="mousewheel"||t==="DOMMouseScroll"?e.dispatchEvent(i):e.firstElementChild.dispatchEvent(i)},this.zr.dom.addEventListener(t,this._handlers[t])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)};Kl.prototype.dispose=function(){dH.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this),this._maptalks.remove()};W.Shader.import(cH);const U_e=va.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,t){this._groundMesh=new W.Mesh({geometry:new W.PlaneGeometry,material:new W.Material({shader:new W.Shader({vertex:W.Shader.source("ecgl.displayShadow.vertex"),fragment:W.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,t){var r=t.getZr();this._zrLayer=new Kl("maptalks3D",r,e.get("center"),e.get("zoom")),r.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new W.Node,this._sceneHelper=new Hl(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var n=this._zrLayer.getMaptalks(),a=this._dispatchInteractAction.bind(this,t,n);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach(function(i){n.on(i,a)})},render:function(e,t,r){this._zrLayer||this._initMaptalksLayer(e,r);var n=this._zrLayer.getMaptalks(),a=e.get("urlTemplate"),i=n.getBaseLayer();a!==this._oldUrlTemplate&&(i?i.setOptions({urlTemplate:a,attribution:e.get("attribution")}):(i=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:a,subdomains:["a","b","c"],attribution:e.get("attribution")}),n.setBaseLayer(i))),this._oldUrlTemplate=a,n.setCenter(e.get("center")),n.setZoom(e.get("zoom"),{animation:!1}),n.setPitch(e.get("pitch")),n.setBearing(e.get("bearing")),e.setMaptalks(n);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),r),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,t,r,n){var a=n.renderer;this._sceneHelper.updateAmbientCubemap(a,e,r),this._sceneHelper.updateSkybox(a,e,r),e.coordinateSystem.viewGL.scene.traverse(function(i){i.material&&(i.material.define("fragment","NORMAL_UP_AXIS",2),i.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,t,r,n){e.coordinateSystem.setCameraOption(n),this._updateGroundMesh(),r.getZr().refresh()},_dispatchInteractAction:function(e,t,r){e.dispatchAction({type:"maptalks3DChangeCamera",pitch:t.getPitch(),zoom:G_e(t.getResolution())+1,center:t.getCenter().toArray(),bearing:t.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var r=new W.Plane(new W.Vector3(0,0,1),0),n=e.viewGL.camera.castRay(new W.Vector2(-1,-1)),a=e.viewGL.camera.castRay(new W.Vector2(1,1)),i=n.intersectPlane(r),o=a.intersectPlane(r),s=i.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}}),H_e=2*6378137*Math.PI/(256*Math.pow(2,20));function G_e(e){return 19-Math.log(e/H_e)/Math.LN2}function Tp(){wd.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}Tp.prototype=new wd;Tp.prototype.constructor=Tp;Tp.prototype.type="maptalks3D";var $_e=fH("maptalks3D",Tp,function(e){e.forEach(function(t){t.setCameraOption(t.model.getMaptalksCameraOption())})});const W_e=$_e;function Y_e(e){e.registerComponentModel(z_e),e.registerComponentView(U_e),e.registerCoordinateSystem("maptalks3D",W_e),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(t,r){r.eachComponent({mainType:"maptalks3D",query:t},function(n){n.setMaptalksCameraOption(t)})})}vr(Y_e);var X_e=un.vec3,j_e=f2.isDimensionStacked;function q_e(e){var t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function Z_e(e,t){var r=e.getData(),n=e.get("barSize");if(n==null){var a=t.size,i,o,s=t.getAxis("x"),l=t.getAxis("y");s.type==="category"?i=s.getBandWidth()*.7:i=Math.round(a[0]/Math.sqrt(r.count()))*.6,l.type==="category"?o=l.getBandWidth()*.7:o=Math.round(a[1]/Math.sqrt(r.count()))*.6,n=[i,o]}else Ne(n)||(n=[n,n]);var u=t.getAxis("z").scale.getExtent(),c=q_e(u),f=["x","y","z"].map(function(v){return e.coordDimToDataDim(v)[0]}),d=j_e(r,f[2]),h=d?r.getCalculationInfo("stackResultDimension"):f[2];r.each(f,function(v,p,m,g){var y=r.get(h,g),_=d?y-m:c?0:u[0],x=t.dataToPoint([v,p,_]),w=t.dataToPoint([v,p,y]),b=X_e.dist(x,w),T=[0,w[1]<x[1]?-1:1,0];Math.abs(b)===0&&(b=.1);var S=[n[0],b,n[1]];r.setItemLayout(g,[x,T,S])}),r.setLayout("orient",[1,0,0])}function OA(e,t,r){for(var n=e.getDataExtent(t),a=e.getDataExtent(r),i=n[1]-n[0]||n[0],o=a[1]-a[0]||a[0],s=50,l=new Uint8Array(s*s),u=0;u<e.count();u++){var c=e.get(t,u),f=e.get(r,u),d=Math.floor((c-n[0])/i*(s-1)),h=Math.floor((f-a[0])/o*(s-1)),v=h*s+d;l[v]=l[v]||1}for(var p=0,u=0;u<l.length;u++)l[u]&&p++;return p/l.length}var _O=un.vec3,K_e=f2.isDimensionStacked;function Q_e(e,t){var r=e.getData(),n=e.get("minHeight")||0,a=e.get("barSize"),i=["lng","lat","alt"].map(function(u){return e.coordDimToDataDim(u)[0]});if(a==null){var o=t.radius*Math.PI,s=OA(r,i[0],i[1]);a=[o/Math.sqrt(r.count()/s),o/Math.sqrt(r.count()/s)]}else Ne(a)||(a=[a,a]);var l=kA(r,i);r.each(i,function(u,c,f,d){var h=r.get(l.dimension,d),v=l.isStacked?h-f:t.altitudeAxis.scale.getExtent()[0],p=Math.max(t.altitudeAxis.dataToCoord(f),n),m=t.dataToPoint([u,c,v]),g=t.dataToPoint([u,c,h]),y=_O.sub([],g,m);_O.normalize(y,y);var _=[a[0],p,a[1]];r.setItemLayout(d,[m,y,_])}),r.setLayout("orient",ke.UP.array)}function J_e(e,t){var r=e.getData(),n=e.get("barSize"),a=e.get("minHeight")||0,i=["lng","lat","alt"].map(function(c){return e.coordDimToDataDim(c)[0]});if(n==null){var o=Math.min(t.size[0],t.size[2]),s=OA(r,i[0],i[1]);n=[o/Math.sqrt(r.count()/s),o/Math.sqrt(r.count()/s)]}else Ne(n)||(n=[n,n]);var l=[0,1,0],u=kA(r,i);r.each(i,function(c,f,d,h){var v=r.get(u.dimension,h),p=u.isStacked?v-d:t.altitudeAxis.scale.getExtent()[0],m=Math.max(t.altitudeAxis.dataToCoord(d),a),g=t.dataToPoint([c,f,p]),y=[n[0],m,n[1]];r.setItemLayout(h,[g,l,y])}),r.setLayout("orient",[1,0,0])}function e1e(e,t){var r=e.getData(),n=e.coordDimToDataDim("lng")[0],a=e.coordDimToDataDim("lat")[0],i=e.coordDimToDataDim("alt")[0],o=e.get("barSize"),s=e.get("minHeight")||0;if(o==null){var l=r.getDataExtent(n),u=r.getDataExtent(a),c=t.dataToPoint([l[0],u[0]]),f=t.dataToPoint([l[1],u[1]]),d=Math.min(Math.abs(c[0]-f[0]),Math.abs(c[1]-f[1]))||1,h=OA(r,n,a);o=[d/Math.sqrt(r.count()/h),d/Math.sqrt(r.count()/h)]}else Ne(o)||(o=[o,o]),o[0]/=t.getScale()/16,o[1]/=t.getScale()/16;var v=[0,0,1],p=[n,a,i],m=kA(r,p);r.each(p,function(g,y,_,x){var w=r.get(m.dimension,x),b=m.isStacked?w-_:0,T=t.dataToPoint([g,y,b]),S=t.dataToPoint([g,y,w]),A=Math.max(S[2]-T[2],s),M=[o[0],A,o[1]];r.setItemLayout(x,[T,v,M])}),r.setLayout("orient",[1,0,0])}function kA(e,t){var r=K_e(e,t[2]);return{dimension:r?e.getCalculationInfo("stackResultDimension"):t[2],isStacked:r}}function t1e(e){e.registerLayout(function(t,r){t.eachSeriesByType("bar3D",function(n){var a=n.coordinateSystem,i=a&&a.type;i==="globe"?Q_e(n,a):i==="cartesian3D"?Z_e(n,a):i==="geo3D"?J_e(n,a):(i==="mapbox3D"||i==="maptalks3D")&&e1e(n,a)})})}var NA={};NA.getFormattedLabel=function(e,t,r,n,a){r=r||"normal";var i=e.getData(n),o=i.getItemModel(t),s=e.getDataParams(t,n);a!=null&&s.value instanceof Array&&(s.value=s.value[a]);var l=o.get(r==="normal"?["label","formatter"]:["emphasis","label","formatter"]);l==null&&(l=o.get(["label","formatter"]));var u;return typeof l=="function"?(s.status=r,u=l(s)):typeof l=="string"&&(u=HC(l,s)),u};NA.normalizeToArray=function(e){return e instanceof Array?e:e==null?[]:[e]};const Qd=NA;function r1e(e,t){var r=[];return j(e.dimensions,function(n){var a=e.getDimensionInfo(n),i=a.otherDims,o=i[t];o!=null&&o!==!1&&(r[o]=a.name)}),r}function Kp(e,t,r){function n(f){var d=[],h=r1e(a,"tooltip");h.length?j(h,function(p){v(a.get(p,t),p)}):j(f,v);function v(p,m){var g=a.getDimensionInfo(m);if(!(!g||g.otherDims.tooltip===!1)){var y=g.type,_="- "+(g.tooltipName||g.name)+": "+(y==="ordinal"?p+"":y==="time"?r?"":tq("yyyy/MM/dd hh:mm:ss",p):Ny(p));_&&d.push(zn(_))}}return"<br/>"+d.join("<br/>")}var a=e.getData(),i=e.getRawValue(t),o=Ne(i)?n(i):zn(Ny(i)),s=a.getName(t),l=Rn(a,t);lt(l)&&l.colorStops&&(l=(l.colorStops[0]||{}).color),l=l||"transparent";var u=PB(l),c=e.name;return c==="\0-"&&(c=""),c=c?zn(c)+(r?": ":"<br/>"):"",r?u+c+o:c+u+(s?zn(s)+": "+o:o)}function Z_(e,t,r){r=r||e.getSource();var n=t||FV(e.get("coordinateSystem"))||["x","y","z"],a=Vp(r,{dimensionsDefine:r.dimensionsDefine||e.get("dimensions"),encodeDefine:r.encodeDefine||e.get("encode"),coordDimensions:n.map(function(s){var l=e.getReferringComponents(s+"Axis3D").models[0];return{type:l&&l.get("type")==="category"?"ordinal":"float",name:s}})});e.get("coordinateSystem")==="cartesian3D"&&a.forEach(function(s){if(n.indexOf(s.coordDim)>=0){var l=e.getReferringComponents(s.coordDim+"Axis3D").models[0];l&&l.get("type")==="category"&&(s.ordinalMeta=l.getOrdinalMeta())}});var i=f2.enableDataStack(e,a,{byIndex:!0,stackedCoordDimension:"z"}),o=new Xi(a,e);return o.setCalculationInfo(i),o.initData(r),o}var hH=kn.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,t){return Z_(this)},getFormattedLabel:function(e,t,r,n){var a=Qd.getFormattedLabel(this,e,t,r,n);return a==null&&(a=this.getData().get("z",e)),a},formatTooltip:function(e){return Kp(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});je(hH.prototype,Zd);const n1e=hH;var Wr=un.vec3,a1e=un.mat3,BA=zt.extend(function(){return{attributes:{position:new zt.Attribute("position","float",3,"POSITION"),normal:new zt.Attribute("normal","float",3,"NORMAL"),color:new zt.Attribute("color","float",4,"COLOR"),prevPosition:new zt.Attribute("prevPosition","float",3),prevNormal:new zt.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var t=this.enableNormal,r=this.getBarVertexCount()*e,n=this.getBarTriangleCount()*e;this.vertexCount!==r&&(this.attributes.position.init(r),t?this.attributes.normal.init(r):this.attributes.normal.value=null,this.attributes.color.init(r)),this.triangleCount!==n&&(this.indices=r>65535?new Uint32Array(n*3):new Uint16Array(n*3),this._dataIndices=new Uint32Array(r))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return(e+1)*4*(e+1)*2},_getBevelBarTriangleCount:function(e){var t=e*4+3,r=e*2+1;return(t+1)*r*2+4},setColor:function(e,t){for(var r=this.getBarVertexCount(),n=r*e,a=r*(e+1),i=n;i<a;i++)this.attributes.color.set(i,t);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=Wr.create,t=Wr.scaleAndAdd,r=e(),n=e(),a=e(),i=e(),o=e(),s=e(),l=e(),u=[],c=[],f=0;f<8;f++)u[f]=e();for(var d=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],h=[0,1,2,0,2,3],v=[],f=0;f<d.length;f++)for(var p=d[f],m=0;m<2;m++){for(var g=[],y=0;y<3;y++)g.push(p[h[m*3+y]]);v.push(g)}return function(_,x,w,b,T,S){var A=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(_,x,w,b,this.bevelSize,this.bevelSegments,T);else{Wr.copy(a,x),Wr.normalize(a,a),Wr.cross(i,w,a),Wr.normalize(i,i),Wr.cross(n,a,i),Wr.normalize(i,i),Wr.negate(o,n),Wr.negate(s,a),Wr.negate(l,i),t(u[0],_,n,b[0]/2),t(u[0],u[0],i,b[2]/2),t(u[1],_,n,b[0]/2),t(u[1],u[1],l,b[2]/2),t(u[2],_,o,b[0]/2),t(u[2],u[2],l,b[2]/2),t(u[3],_,o,b[0]/2),t(u[3],u[3],i,b[2]/2),t(r,_,a,b[1]),t(u[4],r,n,b[0]/2),t(u[4],u[4],i,b[2]/2),t(u[5],r,n,b[0]/2),t(u[5],u[5],l,b[2]/2),t(u[6],r,o,b[0]/2),t(u[6],u[6],l,b[2]/2),t(u[7],r,o,b[0]/2),t(u[7],u[7],i,b[2]/2);var M=this.attributes;if(this.enableNormal){c[0]=n,c[1]=o,c[2]=a,c[3]=s,c[4]=i,c[5]=l;for(var C=this._vertexOffset,D=0;D<d.length;D++){for(var P=this._triangleOffset*3,I=0;I<6;I++)this.indices[P++]=C+h[I];C+=4,this._triangleOffset+=2}for(var D=0;D<d.length;D++)for(var k=c[D],I=0;I<4;I++){var V=d[D][I];M.position.set(this._vertexOffset,u[V]),M.normal.set(this._vertexOffset,k),M.color.set(this._vertexOffset++,T)}}else{for(var D=0;D<v.length;D++){for(var P=this._triangleOffset*3,I=0;I<3;I++)this.indices[P+I]=v[D][I]+this._vertexOffset;this._triangleOffset++}for(var D=0;D<u.length;D++)M.position.set(this._vertexOffset,u[D]),M.color.set(this._vertexOffset++,T)}}for(var H=this._vertexOffset,D=A;D<H;D++)this._dataIndices[D]=S}}(),_addBevelBar:function(){var e=Wr.create(),t=Wr.create(),r=Wr.create(),n=a1e.create(),a=[],i=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(l,u,c,f,d,h,v){Wr.copy(t,u),Wr.normalize(t,t),Wr.cross(r,c,t),Wr.normalize(r,r),Wr.cross(e,t,r),Wr.normalize(r,r),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=t[0],n[4]=t[1],n[5]=t[2],n[6]=r[0],n[7]=r[1],n[8]=r[2],d=Math.min(f[0],f[2])/2*d;for(var p=0;p<3;p++)a[p]=Math.max(f[p]-d*2,0);for(var m=(f[0]-a[0])/2,g=(f[1]-a[1])/2,y=(f[2]-a[2])/2,_=[],x=[],w=this._vertexOffset,b=[],p=0;p<2;p++){b[p]=b[p]=[];for(var T=0;T<=h;T++)for(var S=0;S<4;S++){(T===0&&p===0||p===1&&T===h)&&b[p].push(w);for(var A=0;A<=h;A++){var M=A/h*Math.PI/2+Math.PI/2*S,C=T/h*Math.PI/2+Math.PI/2*p;x[0]=m*Math.cos(M)*Math.sin(C),x[1]=g*Math.cos(C),x[2]=y*Math.sin(M)*Math.sin(C),_[0]=x[0]+i[S]*a[0]/2,_[1]=x[1]+g+s[p]*a[1]/2,_[2]=x[2]+o[S]*a[2]/2,Math.abs(m-g)<1e-6&&Math.abs(g-y)<1e-6||(x[0]/=m*m,x[1]/=g*g,x[2]/=y*y),Wr.normalize(x,x),Wr.transformMat3(_,_,n),Wr.transformMat3(x,x,n),Wr.add(_,_,l),this.attributes.position.set(w,_),this.enableNormal&&this.attributes.normal.set(w,x),this.attributes.color.set(w,v),w++}}}for(var D=h*4+3,P=h*2+1,I=D+1,S=0;S<P;S++)for(var p=0;p<=D;p++){var k=S*I+p+this._vertexOffset,V=S*I+(p+1)%I+this._vertexOffset,H=(S+1)*I+(p+1)%I+this._vertexOffset,O=(S+1)*I+p+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[H,k,V]),this.setTriangleIndices(this._triangleOffset++,[H,O,k])}this.setTriangleIndices(this._triangleOffset++,[b[0][0],b[0][2],b[0][1]]),this.setTriangleIndices(this._triangleOffset++,[b[0][0],b[0][3],b[0][2]]),this.setTriangleIndices(this._triangleOffset++,[b[1][0],b[1][1],b[1][2]]),this.setTriangleIndices(this._triangleOffset++,[b[1][0],b[1][2],b[1][3]]),this._vertexOffset=w}}()});kt(BA.prototype,qp);kt(BA.prototype,LA);const i1e=BA;var o1e=un.vec3;const s1e=yn.extend({type:"bar3D",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._api=t,this._labelsBuilder=new Js(256,256,t);var r=this;this._labelsBuilder.getLabelPosition=function(n,a,i){if(r._data){var o=r._data.getItemLayout(n),s=o[0],l=o[1],u=o[2][1];return o1e.scaleAndAdd([],s,l,i+u)}else return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,t,r){var n=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=n,this._barMesh||(this._barMesh=new W.Mesh({geometry:new i1e,shadowDepthMaterial:new W.Material({shader:new W.Shader(W.Shader.source("ecgl.sm.depth.vertex"),W.Shader.source("ecgl.sm.depth.fragment"))}),culling:e.coordinateSystem.type==="cartesian3D",renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var a=e.coordinateSystem;if(this._doRender(e,r),a&&a.viewGL){a.viewGL.add(this.groupGL);var i=a.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[i]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){W.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,t){var r=e.getData(),n=e.get("shading"),a=n!=="color",i=this,o=this._barMesh,s="ecgl."+n;(!o.material||o.material.shader.name!==s)&&(o.material=W.createMaterial(s,["VERTEX_COLOR"])),W.setMaterialFromModel(n,o.material,e,t),o.geometry.enableNormal=a,o.geometry.resetOffset();var l=e.get("bevelSize"),u=e.get("bevelSmoothness");o.geometry.bevelSegments=u,o.geometry.bevelSize=l;var c=[],f=new Float32Array(r.count()*4),d=0,m=0,h=!1;r.each(function(y){if(r.hasValue(y)){var _=Rn(r,y),x=In(r,y);x==null&&(x=1),W.parseColor(_,c),c[3]*=x,f[d++]=c[0],f[d++]=c[1],f[d++]=c[2],f[d++]=c[3],c[3]>0&&(m++,c[3]<.99&&(h=!0))}}),o.geometry.setBarCount(m);var v=r.getLayout("orient"),p=this._barIndexOfData=new Int32Array(r.count()),m=0;r.each(function(y){if(!r.hasValue(y)){p[y]=-1;return}var _=r.getItemLayout(y),x=_[0],w=_[1],b=_[2],T=y*4;c[0]=f[T++],c[1]=f[T++],c[2]=f[T++],c[3]=f[T++],c[3]>0&&(i._barMesh.geometry.addBar(x,w,v,b,c,y),p[y]=m++)}),o.geometry.dirty(),o.geometry.updateBoundingBox();var g=o.material;g.transparent=h,g.depthMask=!h,o.geometry.sortTriangles=h,this._initHandler(e,t)},_initHandler:function(e,t){var r=e.getData(),n=this._barMesh,a=e.coordinateSystem.type==="cartesian3D";n.seriesIndex=e.seriesIndex;var i=-1;n.off("mousemove"),n.off("mouseout"),n.on("mousemove",function(o){var s=n.geometry.getDataIndexOfVertex(o.triangle[0]);s!==i&&(this._downplay(i),this._highlight(s),this._labelsBuilder.updateLabels([s]),a&&t.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get("x",s),r.get("y",s),r.get("z",s,!0)]})),i=s,n.dataIndex=s},this),n.on("mouseout",function(o){this._downplay(i),this._labelsBuilder.updateLabels(),i=-1,n.dataIndex=-1,a&&t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(e){var t=this._data;if(t){var r=this._barIndexOfData[e];if(!(r<0)){var n=t.getItemModel(e),a=n.getModel("emphasis.itemStyle"),i=a.get("color"),o=a.get("opacity");if(i==null){var s=Rn(t,e);i=$v(s,-.4)}o==null&&(o=In(t,e));var l=W.parseColor(i);l[3]*=o,this._barMesh.geometry.setColor(r,l),this._api.getZr().refresh()}}},_downplay:function(e){var t=this._data;if(t){var r=this._barIndexOfData[e];if(!(r<0)){var n=Rn(t,e),a=In(t,e),i=W.parseColor(n);i[3]*=a,this._barMesh.geometry.setColor(r,i),this._api.getZr().refresh()}}},highlight:function(e,t,r,n){this._toggleStatus("highlight",e,t,r,n)},downplay:function(e,t,r,n){this._toggleStatus("downplay",e,t,r,n)},_toggleStatus:function(e,t,r,n,a){var i=t.getData(),o=Tt.queryDataIndex(i,a),s=this;o!=null?j(Qd.normalizeToArray(o),function(l){e==="highlight"?this._highlight(l):this._downplay(l)},this):i.each(function(l){e==="highlight"?s._highlight(l):s._downplay(l)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});function l1e(e){e.registerChartView(s1e),e.registerSeriesModel(n1e),t1e(e),e.registerProcessor(function(t,r){t.eachSeriesByType("bar3d",function(n){var a=n.getData();a.filterSelf(function(i){return a.hasValue(i)})})})}vr(l1e);var u1e=kn.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){return Z_(this)},formatTooltip:function(e){return Kp(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});const c1e=u1e;var f1e=un.vec3;W.Shader.import(q_);const d1e=yn.extend({type:"line3D",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._api=t},render:function(e,t,r){var n=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=n,this._line3DMesh||(this._line3DMesh=new W.Mesh({geometry:new Wc({useNativeLine:!1,sortTriangles:!0}),material:new W.Material({shader:W.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var a=e.coordinateSystem;if(a&&a.viewGL){a.viewGL.add(this.groupGL);var i=a.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[i]("fragment","SRGB_DECODE")}this._doRender(e,r),this._data=e.getData(),this._camera=a.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,t){var r=e.getData(),n=this._line3DMesh;n.geometry.resetOffset();var a=r.getLayout("points"),i=[],o=new Float32Array(a.length/3*4),s=0,l=!1;r.each(function(f){var d=Rn(r,f),h=In(r,f);h==null&&(h=1),W.parseColor(d,i),i[3]*=h,o[s++]=i[0],o[s++]=i[1],o[s++]=i[2],o[s++]=i[3],i[3]<.99&&(l=!0)}),n.geometry.setVertexCount(n.geometry.getPolylineVertexCount(a)),n.geometry.setTriangleCount(n.geometry.getPolylineTriangleCount(a)),n.geometry.addPolyline(a,o,Tt.firstNotNull(e.get("lineStyle.width"),1)),n.geometry.dirty(),n.geometry.updateBoundingBox();var u=n.material;u.transparent=l,u.depthMask=!l;var c=e.getModel("debug.wireframe");c.get("show")?(n.geometry.createAttribute("barycentric","float",3),n.geometry.generateBarycentric(),n.material.set("both","WIREFRAME_TRIANGLE"),n.material.set("wireframeLineColor",W.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)")),n.material.set("wireframeLineWidth",Tt.firstNotNull(c.get("lineStyle.width"),1))):n.material.set("both","WIREFRAME_TRIANGLE"),this._points=a,this._initHandler(e,t)},_updateAnimation:function(e){W.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,t){var r=e.getData(),n=e.coordinateSystem,a=this._line3DMesh,i=-1;a.seriesIndex=e.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",function(o){var s=n.pointToData(o.point.array),l=r.indicesOfNearest("x",s[0])[0];l!==i&&(t.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get("x",l),r.get("y",l),r.get("z",l)]}),a.dataIndex=l),i=l},this),a.on("mouseout",function(o){i=-1,a.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var e=new qe,t=this._camera;qe.multiply(e,t.projectionMatrix,t.viewMatrix);var r=this._positionNDC,n=this._points,a=n.length/3;(!r||r.length/2!==a)&&(r=this._positionNDC=new Float32Array(a*2));for(var i=[],o=0;o<a;o++){var s=o*3,l=o*2;i[0]=n[s],i[1]=n[s+1],i[2]=n[s+2],i[3]=1,f1e.transformMat4(i,i,e.array),r[l]=i[0]/i[3],r[l+1]=i[1]/i[3]}},_pick:function(e,t,r,n,a,i){var o=this._positionNDC,s=this._data.hostModel,l=s.get("lineStyle.width"),u=-1,c=r.viewport.width,f=r.viewport.height,d=c*.5,h=f*.5;e=(e+1)*d,t=(t+1)*h;for(var v=1;v<o.length/2;v++){var p=(o[(v-1)*2]+1)*d,m=(o[(v-1)*2+1]+1)*h,g=(o[v*2]+1)*d,y=(o[v*2+1]+1)*h;if(ku(p,m,g,y,l,e,t)){var _=(p-e)*(p-e)+(m-t)*(m-t),x=(g-e)*(g-e)+(y-t)*(y-t);u=_<x?v-1:v}}if(u>=0){var w=u*3,b=new ke(this._points[w],this._points[w+1],this._points[w+2]);i.push({dataIndex:u,point:b,pointWorld:b.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(b)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function h1e(e){e.registerChartView(d1e),e.registerSeriesModel(c1e),e.registerLayout(function(t,r){t.eachSeriesByType("line3D",function(n){var a=n.getData(),i=n.coordinateSystem;if(i){if(i.type!=="cartesian3D")return;var o=new Float32Array(a.count()*3),s=[],l=[],u=i.dimensions,c=u.map(function(f){return n.coordDimToDataDim(f)[0]});i&&a.each(c,function(f,d,h,v){s[0]=f,s[1]=d,s[2]=h,i.dataToPoint(s,l),o[v*3]=l[0],o[v*3+1]=l[1],o[v*3+2]=l[2]}),a.setLayout("points",o)}})})}vr(h1e);const v1e=kn.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,t){return Z_(this)},getFormattedLabel:function(e,t,r,n){var a=Qd.getFormattedLabel(this,e,t,r,n);if(a==null){var i=this.getData(),o=i.dimensions[i.dimensions.length-1];a=i.get(o,e)}return a},formatTooltip:function(e){return Kp(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function Vb(e,n,r){var n=n||document.createElement("canvas");n.width=e,n.height=e;var a=n.getContext("2d");return r&&r(a),n}function p1e(e,t,r,n){Ne(t)||(t=[t,t]);var a=VA.getMarginByStyle(r,n),i=t[0]+a.left+a.right,o=t[1]+a.top+a.bottom,s=xc(e,0,0,t[0],t[1]),l=Math.max(i,o);s.x=a.left,s.y=a.top,i>o?s.y+=(l-o)/2:s.x+=(l-i)/2;var u=s.getBoundingRect();return s.x-=u.x,s.y-=u.y,s.setStyle(r),s.update(),s.__size=l,s}function m1e(e,t,r){var n=t.width,a=t.height,i=e.canvas.width,o=e.canvas.height,s=n/i,l=a/o;function u(g){return g<128?1:-1}function c(g,y){var _=1/0;g=Math.floor(g*s),y=Math.floor(y*l);for(var x=y*n+g,w=t.data[x*4],b=u(w),T=Math.max(y-r,0);T<Math.min(y+r,a);T++)for(var S=Math.max(g-r,0);S<Math.min(g+r,n);S++){var x=T*n+S,A=t.data[x*4],M=u(A),C=S-g,D=T-y;if(b!==M){var P=C*C+D*D;P<_&&(_=P)}}return b*Math.sqrt(_)}for(var f=e.createImageData(i,o),d=0;d<o;d++)for(var h=0;h<i;h++){var v=c(h,d),p=v/r*.5+.5,m=(d*i+h)*4;f.data[m++]=(1-p)*255,f.data[m++]=(1-p)*255,f.data[m++]=(1-p)*255,f.data[m++]=255}return f}var VA={getMarginByStyle:function(e){var t=e.minMargin||0,r=0;e.stroke&&e.stroke!=="none"&&(r=e.lineWidth==null?1:e.lineWidth);var n=e.shadowBlur||0,a=e.shadowOffsetX||0,i=e.shadowOffsetY||0,o={};return o.left=Math.max(r/2,-a+n,t),o.right=Math.max(r/2,a+n,t),o.top=Math.max(r/2,-i+n,t),o.bottom=Math.max(r/2,i+n,t),o},createSymbolSprite:function(e,t,r,n){var a=p1e(e,t,r),i=VA.getMarginByStyle(r);return{image:Vb(a.__size,n,function(o){g_(o,a)}),margin:i}},createSDFFromCanvas:function(e,t,r,n){return Vb(t,n,function(a){var i=e.getContext("2d"),o=i.getImageData(0,0,e.width,e.height);a.putImageData(m1e(a,o,r),0,0)})},createSimpleSprite:function(e,t){return Vb(e,t,function(r){var n=e/2;r.beginPath(),r.arc(n,n,60,0,Math.PI*2,!1),r.closePath();var a=r.createRadialGradient(n,n,0,n,n,n);a.addColorStop(0,"rgba(255, 255, 255, 1)"),a.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),r.fillStyle=a,r.fill()})}};const xO=VA;var bO=un.vec3;const g1e={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,t){var r=this.indices,n=bO.create();if(!r){r=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var a=0;a<r.length;a++)r[a]=a}if(t===0){var i=this.attributes.position,e=e.array,o=0;(!this._zList||this._zList.length!==this.vertexCount)&&(this._zList=new Float32Array(this.vertexCount));for(var s,a=0;a<this.vertexCount;a++){i.get(a,n);var l=bO.sqrDist(n,e);isNaN(l)&&(l=1e7,o++),a===0?(s=l,l=0):l=l-s,this._zList[a]=l}this._noneCount=o}if(this.vertexCount<2e4)t===0&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(var a=0;a<3;a++)this._progressiveQuickSort(t*3+a);this.dirtyIndices()},_simpleSort:function(e){var t=this._zList,r=this.indices;function n(a,i){return t[i]-t[a]}e?Array.prototype.sort.call(r,n):xd.sort(r,n,0,r.length-1)},_progressiveQuickSort:function(e){var t=this._zList,r=this.indices;this._quickSort=this._quickSort||new xd,this._quickSort.step(r,function(n,a){return t[a]-t[n]},e)}},y1e=`@export ecgl.sdfSprite.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform float elapsedTime : 0;

attribute vec3 position : POSITION;

#ifdef VERTEX_SIZE
attribute float size;
#else
uniform float u_Size;
#endif

#ifdef VERTEX_COLOR
attribute vec4 a_FillColor: COLOR;
varying vec4 v_Color;
#endif

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute float prevSize;
uniform float percent : 1.0;
#endif


#ifdef POSITIONTEXTURE_ENABLED
uniform sampler2D positionTexture;
#endif

varying float v_Size;

void main()
{

#ifdef POSITIONTEXTURE_ENABLED
 gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);
#else

 #ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
 #else
 vec3 pos = position;
 #endif
 gl_Position = worldViewProjection * vec4(pos, 1.0);
#endif

#ifdef VERTEX_SIZE
#ifdef VERTEX_ANIMATION
 v_Size = mix(prevSize, size, percent);
#else
 v_Size = size;
#endif
#else
 v_Size = u_Size;
#endif

#ifdef VERTEX_COLOR
 v_Color = a_FillColor;
 #endif

 gl_PointSize = v_Size;
}

@end

@export ecgl.sdfSprite.fragment

uniform vec4 color: [1, 1, 1, 1];
uniform vec4 strokeColor: [1, 1, 1, 1];
uniform float smoothing: 0.07;

uniform float lineWidth: 0.0;

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

varying float v_Size;

uniform sampler2D sprite;

@import clay.util.srgb

void main()
{
 gl_FragColor = color;

 vec4 _strokeColor = strokeColor;

#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
 #endif

#ifdef SPRITE_ENABLED
 float d = texture2D(sprite, gl_PointCoord).r;
 gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);

 if (lineWidth > 0.0) {
 float sLineWidth = lineWidth / 2.0;

 float outlineMaxValue0 = 0.5 + sLineWidth;
 float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;
 float outlineMinValue0 = 0.5 - sLineWidth - smoothing;
 float outlineMinValue1 = 0.5 - sLineWidth;

 if (d <= outlineMaxValue1 && d >= outlineMinValue0) {
 float a = _strokeColor.a;
 if (d <= outlineMinValue1) {
 a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);
 }
 else {
 a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);
 }
 gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);
 gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;
 }
 }
#endif

#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(gl_FragColor);
#endif
}
@end`;var Fb=un.vec4;W.Shader.import(y1e);var _1e=W.Mesh.extend(function(){var e=new W.Geometry({dynamic:!0,attributes:{color:new W.Geometry.Attribute("color","float",4,"COLOR"),position:new W.Geometry.Attribute("position","float",3,"POSITION"),size:new W.Geometry.Attribute("size","float",1),prevPosition:new W.Geometry.Attribute("prevPosition","float",3),prevSize:new W.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,g1e);var t=new W.Material({shader:W.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});t.enableTexture("sprite"),t.define("both","VERTEX_COLOR"),t.define("both","VERTEX_SIZE");var r=new W.Texture2D({image:document.createElement("canvas"),flipY:!1});return t.set("sprite",r),e.pick=this._pick.bind(this),{geometry:e,material:t,mode:W.Mesh.POINTS,sizeScale:1}},{_pick:function(e,t,r,n,a,i){var o=this._positionNDC;if(o)for(var s=r.viewport,l=2/s.width,u=2/s.height,c=this.geometry.vertexCount-1;c>=0;c--){var f;this.geometry.indices?f=this.geometry.indices[c]:f=c;var d=o[f*2],h=o[f*2+1],v=this.geometry.attributes.size.get(f)/this.sizeScale,p=v/2;if(e>d-p*l&&e<d+p*l&&t>h-p*u&&t<h+p*u){var m=new W.Vector3,g=new W.Vector3;this.geometry.attributes.position.get(f,m.array),W.Vector3.transformMat4(g,m,this.worldTransform),i.push({vertexIndex:f,point:m,pointWorld:g,target:this,distance:g.distance(n.getWorldPosition())})}}},updateNDCPosition:function(e,t,r){var n=this._positionNDC,a=this.geometry;(!n||n.length/2!==a.vertexCount)&&(n=this._positionNDC=new Float32Array(a.vertexCount*2));for(var i=Fb.create(),o=0;o<a.vertexCount;o++)a.attributes.position.get(o,i),i[3]=1,Fb.transformMat4(i,i,e.array),Fb.scale(i,i,1/i[3]),n[o*2]=i[0],n[o*2+1]=i[1]}});const x1e=_1e;var wO=20,SO=-10;function b1e(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function Mc(e,t){this.rootNode=new W.Node,this.is2D=e,this._labelsBuilder=new Js(256,256,t),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=t,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}Mc.prototype={constructor:Mc,highlightOnMouseover:!0,update:function(e,t,r,n,a){var i=this._prevMesh;this._prevMesh=this._mesh,this._mesh=i;var o=e.getData();if(n==null&&(n=0),a==null&&(a=o.count()),this._startDataIndex=n,this._endDataIndex=a-1,!this._mesh){var s=this._prevMesh&&this._prevMesh.material;this._mesh=new x1e({renderOrder:10,frustumCulling:!1}),s&&(this._mesh.material=s)}var s=this._mesh.material,l=this._mesh.geometry,u=l.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var c=this._getSymbolInfo(e,n,a),f=r.getDevicePixelRatio(),d=e.getModel("itemStyle").getItemStyle(),h=e.get("large"),v=1;c.maxSize>2?(v=this._updateSymbolSprite(e,d,c,f),s.enableTexture("sprite")):s.disableTexture("sprite"),u.position.init(a-n);var p=[];if(h){s.undefine("VERTEX_SIZE"),s.undefine("VERTEX_COLOR");var m=r_e(o),g=n_e(o);W.parseColor(m,p),p[3]*=g,s.set({color:p,u_Size:c.maxSize*this._sizeScale})}else s.set({color:[1,1,1,1]}),s.define("VERTEX_SIZE"),s.define("VERTEX_COLOR"),u.size.init(a-n),u.color.init(a-n),this._originalOpacity=new Float32Array(a-n);for(var y=o.getLayout("points"),_=u.position.value,x=0;x<a-n;x++){var w=x*3,b=x*2;if(this.is2D?(_[w]=y[b],_[w+1]=y[b+1],_[w+2]=SO):(_[w]=y[w],_[w+1]=y[w+1],_[w+2]=y[w+2]),!h){var m=Rn(o,x),g=In(o,x);W.parseColor(m,p),p[3]*=g,u.color.set(x,p),p[3]<.99;var T=o.getItemVisual(x,"symbolSize");T=T instanceof Array?Math.max(T[0],T[1]):T,isNaN(T)&&(T=0),u.size.value[x]=T*v*this._sizeScale,this._originalOpacity[x]=p[3]}}this._mesh.sizeScale=v,l.updateBoundingBox(),l.dirty(),this._updateMaterial(e,d);var S=e.coordinateSystem;if(S&&S.viewGL){var A=S.viewGL.isLinearSpace()?"define":"undefine";s[A]("fragment","SRGB_DECODE")}h||this._updateLabelBuilder(e,n,a),this._updateHandler(e,t,r),this._updateAnimation(e),this._api=r},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(e,t,r,n){r.maxSize=Math.min(r.maxSize*2,200);var a=[];return r.aspect>1?(a[0]=r.maxSize,a[1]=r.maxSize/r.aspect):(a[1]=r.maxSize,a[0]=r.maxSize*r.aspect),a[0]=a[0]||1,a[1]=a[1]||1,(this._symbolType!==r.type||!b1e(this._symbolSize,a)||this._lineWidth!==t.lineWidth)&&(xO.createSymbolSprite(r.type,a,{fill:"#fff",lineWidth:t.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(a[0]/2,10)},this._spriteImageCanvas),xO.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),wO,this._mesh.material.get("sprite").image),this._symbolType=r.type,this._symbolSize=a,this._lineWidth=t.lineWidth),this._spriteImageCanvas.width/r.maxSize*n},_updateMaterial:function(e,t){var r=e.get("blendMode")==="lighter"?W.additiveBlend:null,n=this._mesh.material;n.blend=r,n.set("lineWidth",t.lineWidth/wO);var a=W.parseColor(t.stroke);n.set("strokeColor",a),n.transparent=!0,n.depthMask=!1,n.depthTest=!this.is2D,n.sortVertices=!this.is2D},_updateLabelBuilder:function(e,o,r){var n=e.getData(),a=this._mesh.geometry,i=a.attributes.position.value,o=this._startDataIndex,s=this._mesh.sizeScale;this._labelsBuilder.updateData(n,o,r),this._labelsBuilder.getLabelPosition=function(l,u,c){var f=(l-o)*3;return[i[f],i[f+1],i[f+2]]},this._labelsBuilder.getLabelDistance=function(l,u,c){var f=a.attributes.size.get(l-o)/s;return f/2+c},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){W.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,t,r){var n=e.getData(),a=this._mesh,i=this,o=-1,s=e.coordinateSystem&&e.coordinateSystem.type==="cartesian3D",l;s&&(l=e.coordinateSystem.model),a.seriesIndex=e.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",function(u){var c=u.vertexIndex+i._startDataIndex;c!==o&&(this.highlightOnMouseover&&(this.downplay(n,o),this.highlight(n,c),this._labelsBuilder.updateLabels([c])),s&&r.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get(e.coordDimToDataDim("x")[0],c),n.get(e.coordDimToDataDim("y")[0],c),n.get(e.coordDimToDataDim("z")[0],c)],grid3DIndex:l.componentIndex})),a.dataIndex=c,o=c},this),a.on("mouseout",function(u){var c=u.vertexIndex+i._startDataIndex;this.highlightOnMouseover&&(this.downplay(n,c),this._labelsBuilder.updateLabels()),o=-1,a.dataIndex=-1,s&&r.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:l.componentIndex})},this)},updateLayout:function(e,t,r){var n=e.getData();if(this._mesh){var a=this._mesh.geometry.attributes.position.value,i=n.getLayout("points");if(this.is2D)for(var o=0;o<i.length/2;o++){var s=o*3,l=o*2;a[s]=i[l],a[s+1]=i[l+1],a[s+2]=SO}else for(var o=0;o<i.length;o++)a[o]=i[o];this._mesh.geometry.dirty(),r.getZr().refresh()}},updateView:function(e){if(this._mesh){var t=new qe;qe.mul(t,e.viewMatrix,this._mesh.worldTransform),qe.mul(t,e.projectionMatrix,t),this._mesh.updateNDCPosition(t,this.is2D,this._api)}},highlight:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var r=e.getItemModel(t),n=r.getModel("emphasis.itemStyle"),a=n.get("color"),i=n.get("opacity");if(a==null){var o=Rn(e,t);a=$v(o,-.4)}i==null&&(i=In(e,t));var s=W.parseColor(a);s[3]*=i,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,s),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var r=Rn(e,t),n=In(e,t),a=W.parseColor(r);a[3]*=n,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,a),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var t=this._mesh.geometry,r=0;r<t.vertexCount;r++){var n=this._originalOpacity[r]*e;t.attributes.color.value[r*4+3]=n}t.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var t=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",t/this._sizeScale*e);var r=this._mesh.geometry.attributes;if(r.size.value)for(var n=0;n<r.size.value.length;n++)r.size.value[n]=r.size.value[n]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,t){t&&e.material.set("positionTexture",t),e.material[t?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,t,r){if(e.get("large")){var n=Tt.firstNotNull(e.get("symbolSize"),1),s,i;return n instanceof Array?(s=Math.max(n[0],n[1]),i=n[0]/n[1]):(s=n,i=1),{maxSize:n,type:e.get("symbol"),aspect:i}}for(var a=e.getData(),i,o=a.getItemVisual(0,"symbol")||"circle",s=0,l=t;l<r;l++){var n=a.getItemVisual(l,"symbolSize"),u=a.getItemVisual(l,"symbol"),c;if(n instanceof Array)c=n[0]/n[1],s=Math.max(Math.max(n[0],n[1]),s);else{if(isNaN(n))continue;c=1,s=Math.max(n,s)}o=u,i=c}return{maxSize:s,type:o,aspect:i}}};const w1e=yn.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,t,r){if(this.groupGL.removeAll(),!!e.getData().count()){var n=e.coordinateSystem;if(n&&n.viewGL){n.viewGL.add(this.groupGL),this._camera=n.viewGL.camera;var a=this._pointsBuilderList[0];a||(a=this._pointsBuilderList[0]=new Mc(!1,r)),this._pointsBuilderList.length=1,this.groupGL.add(a.rootNode),a.update(e,t,r),a.updateView(n.viewGL.camera)}}},incrementalPrepareRender:function(e,t,r){var n=e.coordinateSystem;n&&n.viewGL&&(n.viewGL.add(this.groupGL),this._camera=n.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,t,r,n){if(!(e.end<=e.start)){var a=this._pointsBuilderList[this._currentStep];a||(a=new Mc(!1,n),this._pointsBuilderList[this._currentStep]=a),this.groupGL.add(a.rootNode),a.update(t,r,n,e.start,e.end),a.updateView(t.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(e){e.updateView(this._camera)},this)},highlight:function(e,t,r,n){this._toggleStatus("highlight",e,t,r,n)},downplay:function(e,t,r,n){this._toggleStatus("downplay",e,t,r,n)},_toggleStatus:function(e,t,r,n,a){var i=t.getData(),o=Tt.queryDataIndex(i,a),s=e==="highlight";o!=null?j(Qd.normalizeToArray(o),function(l){for(var u=0;u<this._pointsBuilderList.length;u++){var c=this._pointsBuilderList[u];s?c.highlight(i,l):c.downplay(i,l)}},this):i.each(function(l){for(var u=0;u<this._pointsBuilderList.length;u++){var c=this._pointsBuilderList[u];s?c.highlight(i,l):c.downplay(i,l)}})},dispose:function(){this._pointsBuilderList.forEach(function(e){e.dispose()}),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function S1e(e){e.registerChartView(w1e),e.registerSeriesModel(v1e),e.registerLayout({seriesType:"scatter3D",reset:function(t){var r=t.coordinateSystem;if(r){var n=r.dimensions;if(n.length<3)return;var a=n.map(function(s){return t.coordDimToDataDim(s)[0]}),i=[],o=[];return{progress:function(s,l){for(var u=new Float32Array((s.end-s.start)*3),c=s.start;c<s.end;c++){var f=(c-s.start)*3;i[0]=l.get(a[0],c),i[1]=l.get(a[1],c),i[2]=l.get(a[2],c),r.dataToPoint(i,o),u[f]=o[0],u[f+1]=o[1],u[f+2]=o[2]}l.setLayout("points",u)}}}}})}vr(S1e);var Sn=un.vec3,TO=un.vec2,hs=Sn.normalize,Sg=Sn.cross,CO=Sn.sub,zb=Sn.add,Pl=Sn.create,yl=Pl(),yi=Pl(),_l=Pl(),Uh=Pl(),AO=[],EO=[];function T1e(e,t){TO.copy(AO,e[0]),TO.copy(EO,e[1]);var r=[],n=r[0]=Pl(),a=r[1]=Pl(),i=r[2]=Pl(),o=r[3]=Pl();t.dataToPoint(AO,n),t.dataToPoint(EO,o),hs(yl,n),CO(yi,o,n),hs(yi,yi),Sg(_l,yi,yl),hs(_l,_l),Sg(yi,yl,_l),zb(a,yl,yi),hs(a,a),hs(yl,o),CO(yi,n,o),hs(yi,yi),Sg(_l,yi,yl),hs(_l,_l),Sg(yi,yl,_l),zb(i,yl,yi),hs(i,i),zb(Uh,n,o),hs(Uh,Uh);var s=Sn.dot(n,Uh),l=Sn.dot(Uh,a),u=(Math.max(Sn.len(n),Sn.len(o))-s)/l*2;return Sn.scaleAndAdd(a,n,a,u),Sn.scaleAndAdd(i,o,i,u),r}function C1e(e,t,r){var n=[],a=n[0]=Sn.create(),i=n[1]=Sn.create(),o=n[2]=Sn.create(),s=n[3]=Sn.create();t.dataToPoint(e[0],a),t.dataToPoint(e[1],s);var l=Sn.dist(a,s);return Sn.lerp(i,a,s,.3),Sn.lerp(o,a,s,.3),Sn.scaleAndAdd(i,i,r,Math.min(l*.1,10)),Sn.scaleAndAdd(o,o,r,Math.min(l*.1,10)),n}function vH(e,t){for(var r=new Float32Array(e.length*3),n=0,a=[],i=0;i<e.length;i++)t.dataToPoint(e[i],a),r[n++]=a[0],r[n++]=a[1],r[n++]=a[2];return r}function pH(e){var t=[];return e.each(function(r){var n=e.getItemModel(r),a=n.option instanceof Array?n.option:n.getShallow("coords",!0);t.push(a)}),{coordsList:t}}function A1e(e,t){var r=e.getData(),n=e.get("polyline");r.setLayout("lineType",n?"polyline":"cubicBezier");var a=pH(r);r.each(function(i){var o=a.coordsList[i],s=n?vH:T1e;r.setItemLayout(i,s(o,t))})}function DO(e,t,r){var n=e.getData(),a=e.get("polyline"),i=pH(n);n.setLayout("lineType",a?"polyline":"cubicBezier"),n.each(function(o){var s=i.coordsList[o],l=a?vH(s,t):C1e(s,t,r);n.setItemLayout(o,l)})}function E1e(e,t){e.eachSeriesByType("lines3D",function(r){var n=r.coordinateSystem;n.type==="globe"?A1e(r,n):n.type==="geo3D"?DO(r,n,[0,1,0]):(n.type==="mapbox3D"||n.type==="maptalks3D")&&DO(r,n,[0,0,1])})}const D1e=kn.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){var r=new Xi(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(n,a,i,o){if(n instanceof Array)return NaN;r.hasItemOption=!0;var s=n.value;if(s!=null)return s instanceof Array?s[o]:s}),r},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}}),M1e=`@export ecgl.trail2.vertex
attribute vec3 position: POSITION;
attribute vec3 positionPrev;
attribute vec3 positionNext;
attribute float offset;
attribute float dist;
attribute float distAll;
attribute float start;

attribute vec4 a_Color : COLOR;

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;
uniform float near : NEAR;

uniform float speed : 0;
uniform float trailLength: 0.3;
uniform float time;
uniform float period: 1000;

uniform float spotSize: 1;

varying vec4 v_Color;
varying float v_Percent;
varying float v_SpotPercent;

@import ecgl.common.wireframe.vertexHeader

@import ecgl.lines3D.clipNear

void main()
{
 @import ecgl.lines3D.expandLine

 gl_Position = currProj;

 v_Color = a_Color;

 @import ecgl.common.wireframe.vertexMain

#ifdef CONSTANT_SPEED
 float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;
#else
 float t = mod((time + start) / period, 1. + trailLength) - trailLength;
#endif

 float trailLen = distAll * trailLength;

 v_Percent = (dist - t * distAll) / trailLen;

 v_SpotPercent = spotSize / distAll;

 }
@end


@export ecgl.trail2.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform float spotIntensity: 5;

varying vec4 v_Color;
varying float v_Percent;
varying float v_SpotPercent;

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
 if (v_Percent > 1.0 || v_Percent < 0.0) {
 discard;
 }

 float fade = v_Percent;

#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif

 @import ecgl.common.wireframe.fragmentMain

 if (v_Percent > (1.0 - v_SpotPercent)) {
 gl_FragColor.rgb *= spotIntensity;
 }

 gl_FragColor.a *= fade;
}

@end`;var MO=un.vec3;function P1e(e){return e>0?1:-1}W.Shader.import(M1e);const L1e=W.Mesh.extend(function(){var e=new W.Material({shader:new W.Shader(W.Shader.source("ecgl.trail2.vertex"),W.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),t=new Wc({dynamic:!0});return t.createAttribute("dist","float",1),t.createAttribute("distAll","float",1),t.createAttribute("start","float",1),{geometry:t,material:e,culling:!1,$ignorePicking:!0}},{updateData:function(e,t,r){var n=e.hostModel,a=this.geometry,i=n.getModel("effect"),o=i.get("trailWidth")*t.getDevicePixelRatio(),s=i.get("trailLength"),l=n.get("effect.constantSpeed"),u=n.get("effect.period")*1e3,c=l!=null;c?this.material.set("speed",l/1e3):this.material.set("period",u),this.material[c?"define":"undefine"]("vertex","CONSTANT_SPEED");var f=n.get("polyline");a.trailLength=s,this.material.set("trailLength",s),a.resetOffset(),["position","positionPrev","positionNext"].forEach(function(T){a.attributes[T].value=r.attributes[T].value});var d=["dist","distAll","start","offset","color"];d.forEach(function(T){a.attributes[T].init(a.vertexCount)}),a.indices=r.indices;var h=[],v=i.get("trailColor"),p=i.get("trailOpacity"),m=v!=null,g=p!=null;this.updateWorldTransform();var y=this.worldTransform.x.len(),_=this.worldTransform.y.len(),x=this.worldTransform.z.len(),w=0,b=0;e.each(function(T){var S=e.getItemLayout(T),A=g?p:In(e,T),M=Rn(e,T);A==null&&(A=1),h=W.parseColor(m?v:M,h),h[3]*=A;for(var C=f?r.getPolylineVertexCount(S):r.getCubicCurveVertexCount(S[0],S[1],S[2],S[3]),D=0,P=[],I=[],k=w;k<w+C;k++)a.attributes.position.get(k,P),P[0]*=y,P[1]*=_,P[2]*=x,k>w&&(D+=MO.dist(P,I)),a.attributes.dist.set(k,D),MO.copy(I,P);b=Math.max(b,D);for(var V=Math.random()*(c?D:u),k=w;k<w+C;k++)a.attributes.distAll.set(k,D),a.attributes.start.set(k,V),a.attributes.offset.set(k,P1e(r.attributes.offset.get(k))*o/2),a.attributes.color.set(k,h);w+=C}),this.material.set("spotSize",b*.1*s),this.material.set("spotIntensity",i.get("spotIntensity")),a.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});W.Shader.import(q_);function I1e(e){return e.radius!=null?e.radius:e.size!=null?Math.max(e.size[0],e.size[1],e.size[2]):100}const R1e=yn.extend({type:"lines3D",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._meshLinesMaterial=new W.Material({shader:W.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new W.Mesh({geometry:new Wc,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new L1e},render:function(e,t,r){this.groupGL.add(this._linesMesh);var n=e.coordinateSystem,a=e.getData();if(n&&n.viewGL){var i=n.viewGL;i.add(this.groupGL),this._updateLines(e,t,r);var o=n.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[o]("fragment","SRGB_DECODE"),this._trailMesh.material[o]("fragment","SRGB_DECODE")}var s=this._trailMesh;if(s.stopAnimation(),e.get("effect.show")){this.groupGL.add(s),s.updateData(a,r,this._linesMesh.geometry),s.__time=s.__time||0;var l=3600*1e3;this._curveEffectsAnimator=s.animate("",{loop:!0}).when(l,{__time:l}).during(function(){s.setAnimationTime(s.__time)}).start()}else this.groupGL.remove(s),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend=e.get("blendMode")==="lighter"?W.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,t,r){var n=e.getData(),a=e.coordinateSystem,i=this._linesMesh.geometry,o=e.get("polyline");i.expandLine=!0;var s=I1e(a);i.segmentScale=s/20;var l="lineStyle.width".split("."),u=r.getDevicePixelRatio();n.each(function(h){var v=n.getItemModel(h),p=v.get(l);p==null&&(p=1),n.setItemVisual(h,"lineWidth",p)}),i.useNativeLine=!1;var c=0,f=0;n.each(function(h){var v=n.getItemLayout(h);o?(c+=i.getPolylineVertexCount(v),f+=i.getPolylineTriangleCount(v)):(c+=i.getCubicCurveVertexCount(v[0],v[1],v[2],v[3]),f+=i.getCubicCurveTriangleCount(v[0],v[1],v[2],v[3]))}),i.setVertexCount(c),i.setTriangleCount(f),i.resetOffset();var d=[];n.each(function(h){var v=n.getItemLayout(h),p=Rn(n,h),m=In(n,h),g=n.getItemVisual(h,"lineWidth")*u;m==null&&(m=1),d=W.parseColor(p,d),d[3]*=m,o?i.addPolyline(v,d,g):i.addCubicCurve(v[0],v[1],v[2],v[3],d,g)}),i.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function O1e(e){e.registerChartView(R1e),e.registerSeriesModel(D1e),e.registerLayout(E1e),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})}vr(O1e);function PO(e,t){for(var r=[],n=0;n<t.length;n++)r.push(e.dataToPoint(t[n]));return r}var mH=kn.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,r=this.getData().getItemModel(e),n=r.option instanceof Array?r.option:r.getShallow("coords");r.get("multiPolygon")||(n=[n]);for(var a=[],i=0;i<n.length;i++){for(var o=[],s=1;s<n[i].length;s++)o.push(PO(t,n[i][s]));a.push({exterior:PO(t,n[i][0]),interiors:o})}return a},getInitialData:function(e){var t=new Xi(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],function(r,n,a,i){if(r instanceof Array)return NaN;t.hasItemOption=!0;var o=r.value;if(o!=null)return o instanceof Array?o[i]:o}),t},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});je(mH.prototype,Zd);const k1e=mH,N1e=yn.extend({type:"polygons3D",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,t,r){this.groupGL.removeAll();var n=e.coordinateSystem;n&&n.viewGL&&n.viewGL.add(this.groupGL);var a=this._geo3DBuilderList[0];a||(a=new bd(r),a.extrudeY=n.type!=="mapbox3D"&&n.type!=="maptalks3D",this._geo3DBuilderList[0]=a),this._updateShaderDefines(n,a),a.update(e,t,r),this._geo3DBuilderList.length=1,this.groupGL.add(a.rootNode)},incrementalPrepareRender:function(e,t,r){this.groupGL.removeAll();var n=e.coordinateSystem;n&&n.viewGL&&n.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,t,r,n){var a=this._geo3DBuilderList[this._currentStep],i=t.coordinateSystem;a||(a=new bd(n),a.extrudeY=i.type!=="mapbox3D"&&i.type!=="maptalks3D",this._geo3DBuilderList[this._currentStep]=a),a.update(t,r,n,e.start,e.end),this.groupGL.add(a.rootNode),this._updateShaderDefines(i,a),this._currentStep++},_updateShaderDefines:function(e,t){var r=e.viewGL.isLinearSpace()?"define":"undefine";t.rootNode.traverse(function(n){n.material&&(n.material[r]("fragment","SRGB_DECODE"),(e.type==="mapbox3D"||e.type==="maptalks3D")&&(n.material.define("fragment","NORMAL_UP_AXIS",2),n.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach(function(e){e.dispose()})}});function B1e(e){e.registerChartView(N1e),e.registerSeriesModel(k1e)}vr(B1e);var gH=kn.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return Kp(this,e)},getInitialData:function(e,t){var r=e.data;function n(H){return!(isNaN(H.min)||isNaN(H.max)||isNaN(H.step))}function a(H){var O=xC;return Math.max(O(H.min),O(H.max),O(H.step))+1}if(!r)if(e.parametric){var x=e.parametricEquation||{},w=x.u||{},b=x.v||{};["u","v"].forEach(function(O){n(x[O])}),["x","y","z"].forEach(function(O){x[O]});var T=Math.floor((w.max+w.step-w.min)/w.step),S=Math.floor((b.max+b.step-b.min)/b.step);r=new Float32Array(T*S*5);for(var A=a(w),M=a(b),d=0,h=0;h<S;h++)for(var v=0;v<T;v++){var C=v*w.step+w.min,D=h*b.step+b.min,P=Yr(Math.min(C,w.max),A),I=Yr(Math.min(D,b.max),M),p=x.x(P,I),m=x.y(P,I),_=x.z(P,I);r[d++]=p,r[d++]=m,r[d++]=_,r[d++]=P,r[d++]=I}}else{var i=e.equation||{},o=i.x||{},s=i.y||{};if(["x","y"].forEach(function(H){n(i[H])}),typeof i.z!="function")return;var l=Math.floor((o.max+o.step-o.min)/o.step),u=Math.floor((s.max+s.step-s.min)/s.step);r=new Float32Array(l*u*3);for(var c=a(o),f=a(s),d=0,h=0;h<u;h++)for(var v=0;v<l;v++){var p=v*o.step+o.min,m=h*s.step+s.min,g=Yr(Math.min(p,o.max),c),y=Yr(Math.min(m,s.max),f),_=i.z(g,y);r[d++]=g,r[d++]=y,r[d++]=_}}var k=["x","y","z"];e.parametric&&k.push("u","v");var V=Z_(this,k,r);return V},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});je(gH.prototype,Zd);const V1e=gH;var Ru=un.vec3;function F1e(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}const z1e=yn.extend({type:"surface",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node},render:function(e,t,r){var n=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=n,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var a=e.coordinateSystem,i=e.get("shading"),o=e.getData(),s="ecgl."+i;if((!this._surfaceMesh.material||this._surfaceMesh.material.shader.name!==s)&&(this._surfaceMesh.material=W.createMaterial(s,["VERTEX_COLOR","DOUBLE_SIDED"])),W.setMaterialFromModel(i,this._surfaceMesh.material,e,r),a&&a.viewGL){a.viewGL.add(this.groupGL);var l=a.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[l]("fragment","SRGB_DECODE")}var u=e.get("parametric"),c=e.get("dataShape");c||(c=this._getDataShape(o,u));var f=e.getModel("wireframe"),d=f.get("lineStyle.width"),h=f.get("show")&&d>0;this._updateSurfaceMesh(this._surfaceMesh,e,c,h);var v=this._surfaceMesh.material;h?(v.define("WIREFRAME_QUAD"),v.set("wireframeLineWidth",d),v.set("wireframeLineColor",W.parseColor(f.get("lineStyle.color")))):v.undefine("WIREFRAME_QUAD"),this._initHandler(e,r),this._updateAnimation(e)},_updateAnimation:function(e){W.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new W.Mesh({geometry:new W.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new W.Material({shader:new W.Shader(W.Shader.source("ecgl.sm.depth.vertex"),W.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,LA),e},_initHandler:function(e,t){var r=e.getData(),n=this._surfaceMesh,a=e.coordinateSystem;function i(s,l){for(var u=1/0,c=-1,f=[],d=0;d<s.length;d++){n.geometry.attributes.position.get(s[d],f);var h=Ru.dist(l.array,f);h<u&&(u=h,c=s[d])}return c}n.seriesIndex=e.seriesIndex;var o=-1;n.off("mousemove"),n.off("mouseout"),n.on("mousemove",function(s){var l=i(s.triangle,s.point);if(l>=0){var u=[];n.geometry.attributes.position.get(l,u);for(var c=a.pointToData(u),f=1/0,d=-1,h=[],v=0;v<r.count();v++){h[0]=r.get("x",v),h[1]=r.get("y",v),h[2]=r.get("z",v);var p=Ru.squaredDistance(h,c);p<f&&(d=v,f=p)}d!==o&&t.dispatchAction({type:"grid3DShowAxisPointer",value:c}),o=d,n.dataIndex=d}else n.dataIndex=-1},this),n.on("mouseout",function(s){o=-1,n.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(e,t,r,n){var a=e.geometry,i=t.getData(),o=i.getLayout("points"),s=0;i.each(function($){i.hasValue($)||s++});var l=s||n,u=a.attributes.position,c=a.attributes.normal,f=a.attributes.texcoord0,d=a.attributes.barycentric,h=a.attributes.color,v=r[0],p=r[1],m=t.get("shading"),g=m!=="color";if(l){var y=(v-1)*(p-1)*4;u.init(y),n&&d.init(y)}else u.value=new Float32Array(o);h.init(a.vertexCount),f.init(a.vertexCount);var _=[0,3,1,1,3,2],x=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],w=a.indices=new(a.vertexCount>65535?Uint32Array:Uint16Array)((v-1)*(p-1)*6),b=function($,Q,re){re[1]=$*p+Q,re[0]=$*p+Q+1,re[3]=($+1)*p+Q+1,re[2]=($+1)*p+Q},T=!1;if(l){var S=[],A=[],M=0;g?c.init(a.vertexCount):c.value=null;for(var C=[[],[],[]],D=[],P=[],I=Ru.create(),k=function($,Q,re){var le=Q*3;return re[0]=$[le],re[1]=$[le+1],re[2]=$[le+2],re},V=new Float32Array(o.length),H=new Float32Array(o.length/3*4),O=0;O<i.count();O++)if(i.hasValue(O)){var ue=W.parseColor(Rn(i,O)),L=In(i,O);L!=null&&(ue[3]*=L),ue[3]<.99&&(T=!0);for(var F=0;F<4;F++)H[O*4+F]=ue[F]}for(var X=[1e7,1e7,1e7],O=0;O<v-1;O++)for(var Y=0;Y<p-1;Y++){var G=O*(p-1)+Y,z=G*4;b(O,Y,S);for(var N=!1,F=0;F<4;F++)k(o,S[F],A),F1e(A)&&(N=!0);for(var F=0;F<4;F++)N?u.set(z+F,X):(k(o,S[F],A),u.set(z+F,A)),n&&d.set(z+F,x[F]);for(var F=0;F<6;F++)w[M++]=_[F]+z;if(g&&!N)for(var F=0;F<2;F++){for(var U=F*3,Z=0;Z<3;Z++){var K=S[_[U]+Z];k(o,K,C[Z])}Ru.sub(D,C[0],C[1]),Ru.sub(P,C[1],C[2]),Ru.cross(I,D,P);for(var Z=0;Z<3;Z++){var q=S[_[U]+Z]*3;V[q]=V[q]+I[0],V[q+1]=V[q+1]+I[1],V[q+2]=V[q+2]+I[2]}}}if(g)for(var O=0;O<V.length/3;O++)k(V,O,I),Ru.normalize(I,I),V[O*3]=I[0],V[O*3+1]=I[1],V[O*3+2]=I[2];for(var ue=[],se=[],O=0;O<v-1;O++)for(var Y=0;Y<p-1;Y++){var G=O*(p-1)+Y,z=G*4;b(O,Y,S);for(var F=0;F<4;F++){for(var Z=0;Z<4;Z++)ue[Z]=H[S[F]*4+Z];h.set(z+F,ue),g&&(k(V,S[F],I),c.set(z+F,I));var K=S[F];se[0]=K%p/(p-1),se[1]=Math.floor(K/p)/(v-1),f.set(z+F,se)}G++}}else{for(var se=[],O=0;O<i.count();O++){se[0]=O%p/(p-1),se[1]=Math.floor(O/p)/(v-1);var ue=W.parseColor(Rn(i,O)),L=In(i,O);L!=null&&(ue[3]*=L),ue[3]<.99&&(T=!0),h.set(O,ue),f.set(O,se)}for(var S=[],B=0,O=0;O<v-1;O++)for(var Y=0;Y<p-1;Y++){b(O,Y,S);for(var F=0;F<6;F++)w[B++]=S[_[F]]}g?a.generateVertexNormals():c.value=null}e.material.get("normalMap")&&a.generateTangents(),a.updateBoundingBox(),a.dirty(),e.material.transparent=T,e.material.depthMask=!T},_getDataShape:function(e,t){for(var r=-1/0,n=0,a=0,i=!1,o=t?"u":"x",s=e.count(),l=0;l<s;l++){var u=e.get(o,l);u<r&&(a=0,n++),r=u,a++}if((!n||a===1)&&(i=!0),!i)return[n+1,a];for(var c=Math.floor(Math.sqrt(s));c>0;){if(Math.floor(s/c)===s/c)return[c,s/c];c--}return c=Math.floor(Math.sqrt(s)),[c,c]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function U1e(e){e.registerChartView(z1e),e.registerSeriesModel(V1e),e.registerLayout(function(t,r){t.eachSeriesByType("surface",function(n){var a=n.coordinateSystem;!a||a.type;var i=n.getData(),o=new Float32Array(3*i.count()),s=[NaN,NaN,NaN];if(a&&a.type==="cartesian3D"){var l=a.dimensions,u=l.map(function(c){return n.coordDimToDataDim(c)[0]});i.each(u,function(c,f,d,h){var v;i.hasValue(h)?v=a.dataToPoint([c,f,d]):v=s,o[h*3]=v[0],o[h*3+1]=v[1],o[h*3+2]=v[2]})}i.setLayout("points",o)})})}vr(U1e);function LO(e,t){for(var r=[],n=0;n<t.length;n++)r.push(e.dataToPoint(t[n]));return r}var Jd=kn.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){var t=this.get("coordinateSystem");t==null||t==="geo3D"||(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var t=Vp(e.data,{coordDimensions:["value"]}),r=new Xi(t,this);r.initData(e.data);var n={};return r.each(function(a){var i=r.getName(a),o=r.getItemModel(a);n[i]=o}),this._regionModelMap=n,r},formatTooltip:function(e){return Kp(this,e)},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new on(null,this)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,r=this.getData().getName(e);if(t.transform){var n=t.getRegion(r);return n?n.geometries:[]}else{this._geo||(this._geo=rH.createGeo3D(this));for(var n=this._geo.getRegion(r),a=[],i=0;i<n.geometries.length;i++){var o=n.geometries[i],s=[],l=LO(t,o.exterior);if(s&&s.length)for(var u=0;u<o.interiors.length;u++)s.push(LO(t,s[u]));a.push({interiors:s,exterior:l})}return a}},getFormattedLabel:function(e,t){var r=Qd.getFormattedLabel(this,e,t);return r==null&&(r=this.getData().getName(e)),r},defaultOption:{coordinateSystem:"geo3D",data:null}});je(Jd.prototype,XU);je(Jd.prototype,W_);je(Jd.prototype,Xd);je(Jd.prototype,jd);je(Jd.prototype,Zd);const H1e=Jd,G1e=yn.extend({type:"map3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new bd(t),this.groupGL=new W.Node},render:function(e,t,r){var n=e.coordinateSystem;if(!(!n||!n.viewGL)){if(this.groupGL.add(this._geo3DBuilder.rootNode),n.viewGL.add(this.groupGL),n.type==="geo3D"){this._sceneHelper||(this._sceneHelper=new Hl,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(n.viewGL.scene),this._sceneHelper.updateLight(e),n.viewGL.setPostEffect(e.getModel("postEffect"),r),n.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var a=this._control;a||(a=this._control=new X_({zr:r.getZr()}),this._control.init());var i=e.getModel("viewControl");a.setViewGL(n.viewGL),a.setFromViewControlModel(i,0),a.off("update"),a.on("update",function(){r.dispatchAction({type:"map3DChangeCamera",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance(),from:this.uid,map3DId:e.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,t,r,0,e.getData().count());var o=n.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(s){s.material&&s.material[o]("fragment","SRGB_DECODE")})}},afterRender:function(e,t,r,n){var a=n.renderer,i=e.coordinateSystem;i&&i.type==="geo3D"&&(this._sceneHelper.updateAmbientCubemap(a,e,r),this._sceneHelper.updateSkybox(a,e,r))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});function $1e(e){nH(e),e.registerChartView(G1e),e.registerSeriesModel(H1e),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(t,r){r.eachComponent({mainType:"series",subType:"map3D",query:t},function(n){n.setView(t)})})}vr($1e);const W1e=kn.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return tJ(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});function el(e){this.viewGL=e}el.prototype.reset=function(e,t){this._updateCamera(t.getWidth(),t.getHeight(),t.getDevicePixelRatio()),this._viewTransform=od(),this.updateTransform(e,t)};el.prototype.updateTransform=function(e,t){var r=e.coordinateSystem;r.getRoamTransform&&(Md(this._viewTransform,r.getRoamTransform()),this._setCameraTransform(this._viewTransform),t.getZr().refresh())};el.prototype.dataToPoint=function(e,t,r){r=e.dataToPoint(t,null,r);var n=this._viewTransform;n&&fa(r,r,n)};el.prototype.removeTransformInPoint=function(e){return this._viewTransform&&fa(e,e,this._viewTransform),e};el.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1};el.prototype._setCameraTransform=function(e){var t=this.viewGL.camera;t.position.set(e[4],e[5],0),t.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)};el.prototype._updateCamera=function(e,t,r){this.viewGL.setViewport(0,0,e,t,r);var n=this.viewGL.camera;n.left=n.top=0,n.bottom=t,n.right=e,n.near=0,n.far=100};const Y1e=yn.extend({type:"scatterGL",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this.viewGL=new sr("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new el(this.viewGL)},render:function(e,t,r){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,r),!!e.getData().count()){var n=this._pointsBuilderList[0];n||(n=this._pointsBuilderList[0]=new Mc(!0,r)),this._pointsBuilderList.length=1,this.groupGL.add(n.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),n.update(e,t,r),this.viewGL.setPostEffect(e.getModel("postEffect"),r)}},incrementalPrepareRender:function(e,t,r){this.groupGL.removeAll(),this._glViewHelper.reset(e,r),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),r)},incrementalRender:function(e,t,r,n){if(!(e.end<=e.start)){var a=this._pointsBuilderList[this._currentStep];a||(a=new Mc(!0,n),this._pointsBuilderList[this._currentStep]=a),this.groupGL.add(a.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),a.setSizeScale(this._sizeScale),a.update(t,r,n,e.start,e.end),n.getZr().refresh(),this._currentStep++}},updateTransform:function(e,t,r){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,r);var n=this._glViewHelper.getZoom(),a=Math.max((e.get("zoomScale")||0)*(n-1)+1,0);this._sizeScale=a,this._pointsBuilderList.forEach(function(i){i.setSizeScale(a)})}},_removeTransformInPoints:function(e){if(e)for(var t=[],r=0;r<e.length;r+=2)t[0]=e[r],t[1]=e[r+1],this._glViewHelper.removeTransformInPoint(t),e[r]=t[0],e[r+1]=t[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach(function(e){e.dispose()})},remove:function(){this.groupGL.removeAll()}});function X1e(e){e.registerChartView(Y1e),e.registerSeriesModel(W1e),e.registerLayout({seriesType:"scatterGL",reset:function(t){var r=t.coordinateSystem,n=t.getData(),a;if(r){var i=r.dimensions.map(function(s){return n.mapDimension(s)}).slice(0,2),o=[];i.length===1?a=function(s){for(var l=new Float32Array((s.end-s.start)*2),u=s.start;u<s.end;u++){var c=(u-s.start)*2,f=n.get(i[0],u),d=r.dataToPoint(f);l[c]=d[0],l[c+1]=d[1]}n.setLayout("points",l)}:i.length===2&&(a=function(s){for(var l=new Float32Array((s.end-s.start)*2),u=s.start;u<s.end;u++){var c=(u-s.start)*2,f=n.get(i[0],u),d=n.get(i[1],u);o[0]=f,o[1]=d,o=r.dataToPoint(o),l[c]=o[0],l[c+1]=o[1]}n.setLayout("points",l)})}return{progress:a}}})}vr(X1e);function j1e(e,t,r,n,a){for(var i=new Ite(n),o=0;o<e.length;o++)i.addNode(Tt.firstNotNull(e[o].id,e[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,d=c.target;i.addEdge(f,d,u)&&(l.push(c),s.push(Tt.firstNotNull(c.id,f+" > "+d)),u++)}var h,v=Vp(e,{coordDimensions:["value"]});h=new Xi(v,r),h.initData(e);var p=new Xi(["value"],r);return p.initData(l,s),a&&a(h,p),Tte({mainData:h,struct:i,structAttr:"graph",datas:{node:h,edge:p},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var nv=kn.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){nv.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){nv.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,t,r,n){var a=Qd.getFormattedLabel(this,e,t,r,n);if(a==null){var i=this.getData(),o=i.dimensions[i.dimensions.length-1];a=i.get(o,e)}return a},getInitialData:function(e,t){var r=e.edges||e.links||[],n=e.data||e.nodes||[],a=this;if(n&&r)return j1e(n,r,this,!0,i).data;function i(o,s){o.wrapMethod("getItemModel",function(f){const d=a._categoriesModels,h=f.getShallow("category"),v=d[h];return v&&(v.parentModel=f.parentModel,f.parentModel=v),f});const l=t.getModel([]).getModel;function u(f,d){const h=l.call(this,f,d);return h.resolveParentPath=c,h}s.wrapMethod("getItemModel",function(f){return f.resolveParentPath=c,f.getModel=u,f});function c(f){if(f&&(f[0]==="label"||f[1]==="label")){const d=f.slice();return f[0]==="label"?d[0]="edgeLabel":f[1]==="label"&&(d[1]="edgeLabel"),d}return f}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,r){if(r==="edge"){var n=this.getData(),a=this.getDataParams(e,r),i=n.graph.getEdgeByIndex(e),o=n.getName(i.node1.dataIndex),s=n.getName(i.node2.dataIndex),l=[];return o!=null&&l.push(o),s!=null&&l.push(s),l=zn(l.join(" > ")),a.value&&(l+=" : "+zn(a.value)),l}else return nv.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map(function(r){return r.value!=null?r:Object.assign({value:0},r)}),t=new Xi(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(r){return t.getItemModel(r,!0)})},setView:function(e){e.zoom!=null&&(this.option.zoom=e.zoom),e.offset!=null&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var t=0;t<e.length/2;t++){var r=e[t*2],n=e[t*2+1],a=this.getData().getRawDataItem(t);a.x=r,a.y=n}},isAnimationEnabled:function(){return nv.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}});const q1e=nv;var wn=un.vec2,IO=[[0,0],[1,1]],yH=zt.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new zt.Attribute("position","float",2,"POSITION"),normal:new zt.Attribute("normal","float",2),offset:new zt.Attribute("offset","float",1),color:new zt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.offset.init(e),t.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(e===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(e*3):new Uint16Array(e*3))},_getCubicCurveApproxStep:function(e,t,r,n){var a=wn.dist(e,t)+wn.dist(r,t)+wn.dist(n,r),i=1/(a+1)*this.segmentScale;return i},getCubicCurveVertexCount:function(e,t,r,n){var a=this._getCubicCurveApproxStep(e,t,r,n),i=Math.ceil(1/a);return this.useNativeLine?i*2:i*2+2},getCubicCurveTriangleCount:function(e,t,r,n){var a=this._getCubicCurveApproxStep(e,t,r,n),i=Math.ceil(1/a);return this.useNativeLine?0:i*2},getLineVertexCount:function(){return this.getPolylineVertexCount(IO)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(IO)},getPolylineVertexCount:function(e){var t;if(typeof e=="number")t=e;else{var r=typeof e[0]!="number";t=r?e.length:e.length/2}return this.useNativeLine?(t-1)*2:(t-1)*2+2},getPolylineTriangleCount:function(e){var t;if(typeof e=="number")t=e;else{var r=typeof e[0]!="number";t=r?e.length:e.length/2}return this.useNativeLine?0:(t-1)*2},addCubicCurve:function(e,t,r,n,a,i){i==null&&(i=1);for(var o=e[0],s=e[1],l=t[0],u=t[1],c=r[0],f=r[1],d=n[0],h=n[1],v=this._getCubicCurveApproxStep(e,t,r,n),p=v*v,m=p*v,g=3*v,y=3*p,_=6*p,x=6*m,w=o-l*2+c,b=s-u*2+f,T=(l-c)*3-o+d,S=(u-f)*3-s+h,A=o,M=s,C=(l-o)*g+w*y+T*m,D=(u-s)*g+b*y+S*m,P=w*_+T*x,I=b*_+S*x,k=T*x,V=S*x,H=0,O=0,L=Math.ceil(1/v),F=new Float32Array((L+1)*3),F=[],X=0,O=0;O<L+1;O++)F[X++]=A,F[X++]=M,A+=C,M+=D,C+=P,D+=I,P+=k,I+=V,H+=v,H>1&&(A=C>0?Math.min(A,d):Math.max(A,d),M=D>0?Math.min(M,h):Math.max(M,h));this.addPolyline(F,a,i)},addLine:function(e,t,r,n){this.addPolyline([e,t],r,n)},addPolyline:function(){var e=wn.create(),t=wn.create(),r=wn.create(),n=wn.create(),a=[],i=[],o=[];return function(s,l,u,c,f){if(s.length){var d=typeof s[0]!="number";if(f==null&&(f=d?s.length:s.length/2),!(f<2)){c==null&&(c=0),u==null&&(u=1),this._itemVertexOffsets.push(this._vertexOffset);for(var h=d?typeof l[0]!="number":l.length/4===f,v=this.attributes.position,p=this.attributes.color,m=this.attributes.offset,g=this.attributes.normal,y=this.indices,_=this._vertexOffset,x,w=0;w<f;w++){if(d)a=s[w+c],h?x=l[w+c]:x=l;else{var b=w*2+c;if(a=a||[],a[0]=s[b],a[1]=s[b+1],h){var T=w*4+c;x=x||[],x[0]=l[T],x[1]=l[T+1],x[2]=l[T+2],x[3]=l[T+3]}else x=l}if(this.useNativeLine)w>1&&(v.copy(_,_-1),p.copy(_,_-1),_++);else{var S;if(w<f-1){if(d)wn.copy(i,s[w+1]);else{var b=(w+1)*2+c;i=i||[],i[0]=s[b],i[1]=s[b+1]}if(w>0){wn.sub(e,a,o),wn.sub(t,i,a),wn.normalize(e,e),wn.normalize(t,t),wn.add(n,e,t),wn.normalize(n,n);var A=u/2*Math.min(1/wn.dot(e,n),2);r[0]=-n[1],r[1]=n[0],S=A}else wn.sub(e,i,a),wn.normalize(e,e),r[0]=-e[1],r[1]=e[0],S=u/2}else wn.sub(e,a,o),wn.normalize(e,e),r[0]=-e[1],r[1]=e[0],S=u/2;g.set(_,r),g.set(_+1,r),m.set(_,S),m.set(_+1,-S),wn.copy(o,a),v.set(_,a),v.set(_+1,a),p.set(_,x),p.set(_+1,x),_+=2}if(this.useNativeLine)p.set(_,x),v.set(_,a),_++;else if(w>0){var M=this._faceOffset*3,y=this.indices;y[M]=_-4,y[M+1]=_-3,y[M+2]=_-2,y[M+3]=_-3,y[M+4]=_-1,y[M+5]=_-2,this._faceOffset+=2}}this._vertexOffset=_}}}}(),setItemColor:function(e,t){for(var r=this._itemVertexOffsets[e],n=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,a=r;a<n;a++)this.attributes.color.set(a,t);this.dirty("color")}});kt(yH.prototype,qp);const _H=yH,Z1e=`@export ecgl.forceAtlas2.updateNodeRepulsion

#define NODE_COUNT 0

uniform sampler2D positionTex;

uniform vec2 textureSize;
uniform float gravity;
uniform float scaling;
uniform vec2 gravityCenter;

uniform bool strongGravityMode;
uniform bool preventOverlap;

varying vec2 v_Texcoord;

void main() {

 vec4 n0 = texture2D(positionTex, v_Texcoord);

 vec2 force = vec2(0.0);
 for (int i = 0; i < NODE_COUNT; i++) {
 vec2 uv = vec2(
 mod(float(i), textureSize.x) / (textureSize.x - 1.0),
 floor(float(i) / textureSize.x) / (textureSize.y - 1.0)
 );
 vec4 n1 = texture2D(positionTex, uv);

 vec2 dir = n0.xy - n1.xy;
 float d2 = dot(dir, dir);

 if (d2 > 0.0) {
 float factor = 0.0;
 if (preventOverlap) {
 float d = sqrt(d2);
 d = d - n0.w - n1.w;
 if (d > 0.0) {
 factor = scaling * n0.z * n1.z / (d * d);
 }
 else if (d < 0.0) {
 factor = scaling * 100.0 * n0.z * n1.z;
 }
 }
 else {
 factor = scaling * n0.z * n1.z / d2;
 }
 force += dir * factor;
 }
 }

 vec2 dir = gravityCenter - n0.xy;
 float d = 1.0;
 if (!strongGravityMode) {
 d = length(dir);
 }

 force += dir * n0.z * gravity / (d + 1.0);

 gl_FragColor = vec4(force, 0.0, 1.0);
}
@end

@export ecgl.forceAtlas2.updateEdgeAttraction.vertex

attribute vec2 node1;
attribute vec2 node2;
attribute float weight;

uniform sampler2D positionTex;
uniform float edgeWeightInfluence;
uniform bool preventOverlap;
uniform bool linLogMode;

uniform vec2 windowSize: WINDOW_SIZE;

varying vec2 v_Force;

void main() {

 vec4 n0 = texture2D(positionTex, node1);
 vec4 n1 = texture2D(positionTex, node2);

 vec2 dir = n1.xy - n0.xy;
 float d = length(dir);
 float w;
 if (edgeWeightInfluence == 0.0) {
 w = 1.0;
 }
 else if (edgeWeightInfluence == 1.0) {
 w = weight;
 }
 else {
 w = pow(weight, edgeWeightInfluence);
 }
 vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);
 vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);
 vec2 pos = node1 * scale * 2.0 - 1.0;
 gl_Position = vec4(pos + offset, 0.0, 1.0);
 gl_PointSize = 1.0;

 float factor;
 if (preventOverlap) {
 d = d - n1.w - n0.w;
 }
 if (d <= 0.0) {
 v_Force = vec2(0.0);
 return;
 }

 if (linLogMode) {
 factor = w * log(d) / d;
 }
 else {
 factor = w;
 }
 v_Force = dir * factor;
}
@end

@export ecgl.forceAtlas2.updateEdgeAttraction.fragment

varying vec2 v_Force;

void main() {
 gl_FragColor = vec4(v_Force, 0.0, 0.0);
}
@end

@export ecgl.forceAtlas2.calcWeightedSum.vertex

attribute vec2 node;

varying vec2 v_NodeUv;

void main() {

 v_NodeUv = node;
 gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
 gl_PointSize = 1.0;
}
@end

@export ecgl.forceAtlas2.calcWeightedSum.fragment

varying vec2 v_NodeUv;

uniform sampler2D positionTex;
uniform sampler2D forceTex;
uniform sampler2D forcePrevTex;

void main() {
 vec2 force = texture2D(forceTex, v_NodeUv).rg;
 vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;

 float mass = texture2D(positionTex, v_NodeUv).z;
 float swing = length(force - forcePrev) * mass;
 float traction = length(force + forcePrev) * 0.5 * mass;

 gl_FragColor = vec4(swing, traction, 0.0, 0.0);
}
@end

@export ecgl.forceAtlas2.calcGlobalSpeed

uniform sampler2D globalSpeedPrevTex;
uniform sampler2D weightedSumTex;
uniform float jitterTolerence;

void main() {
 vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;
 float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;
 float globalSpeed = jitterTolerence * jitterTolerence
 * weightedSum.y / weightedSum.x;
 if (prevGlobalSpeed > 0.0) {
 globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;
 }
 gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);
}
@end

@export ecgl.forceAtlas2.updatePosition

uniform sampler2D forceTex;
uniform sampler2D forcePrevTex;
uniform sampler2D positionTex;
uniform sampler2D globalSpeedTex;

varying vec2 v_Texcoord;

void main() {
 vec2 force = texture2D(forceTex, v_Texcoord).xy;
 vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;
 vec4 node = texture2D(positionTex, v_Texcoord);

 float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;
 float swing = length(force - forcePrev);
 float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));

 float df = length(force);
 if (df > 0.0) {
 speed = min(df * speed, 10.0) / df;

 gl_FragColor = vec4(node.xy + speed * force, node.zw);
 }
 else {
 gl_FragColor = node;
 }
}
@end

@export ecgl.forceAtlas2.edges.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec2 node;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

uniform sampler2D positionTex;

void main()
{
 gl_Position = worldViewProjection * vec4(
 texture2D(positionTex, node).xy, -10.0, 1.0
 );
 v_Color = a_Color;
}
@end

@export ecgl.forceAtlas2.edges.fragment
uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
varying vec4 v_Color;
void main() {
 gl_FragColor = color * v_Color;
}
@end`;W.Shader.import(Z1e);var Ub={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function Cn(e){var t={type:W.Texture.FLOAT,minFilter:W.Texture.NEAREST,magFilter:W.Texture.NEAREST};this._positionSourceTex=new W.Texture2D(t),this._positionSourceTex.flipY=!1,this._positionTex=new W.Texture2D(t),this._positionPrevTex=new W.Texture2D(t),this._forceTex=new W.Texture2D(t),this._forcePrevTex=new W.Texture2D(t),this._weightedSumTex=new W.Texture2D(t),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new W.Texture2D(t),this._globalSpeedPrevTex=new W.Texture2D(t),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new mn({fragment:W.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new mn({fragment:W.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new mn({fragment:W.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new mn({fragment:W.Shader.source("clay.compositor.output")});var r=function(n){n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE)};this._edgeForceMesh=new W.Mesh({geometry:new W.Geometry({attributes:{node1:new W.Geometry.Attribute("node1","float",2),node2:new W.Geometry.Attribute("node2","float",2),weight:new W.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new W.Material({transparent:!0,shader:W.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:r,depthMask:!1,depthText:!1}),mode:W.Mesh.POINTS}),this._weightedSumMesh=new W.Mesh({geometry:new W.Geometry({attributes:{node:new W.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new W.Material({transparent:!0,shader:W.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:r,depthMask:!1,depthText:!1}),mode:W.Mesh.POINTS}),this._framebuffer=new Wn({depthBuffer:!1}),this._dummyCamera=new W.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}Cn.prototype.updateOption=function(e){for(var t in Ub)this[t]=Ub[t];var r=this._nodes.length;if(r>5e4?this.jitterTolerence=10:r>5e3?this.jitterTolerence=1:this.jitterTolerence=.1,r>100?this.scaling=2:this.scaling=10,e)for(var t in Ub)e[t]!=null&&(this[t]=e[t]);if(this.repulsionByDegree)for(var n=this._positionSourceTex.pixels,a=0;a<this._nodes.length;a++)n[a*4+2]=(this._nodes[a].degree||0)+1};Cn.prototype._updateGravityCenter=function(e){var t=this._nodes,r=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var n=[1/0,1/0],a=[-1/0,-1/0],i=0;i<t.length;i++)n[0]=Math.min(t[i].x,n[0]),n[1]=Math.min(t[i].y,n[1]),a[0]=Math.max(t[i].x,a[0]),a[1]=Math.max(t[i].y,a[1]);this._gravityCenter=[(n[0]+a[0])*.5,(n[1]+a[1])*.5]}for(var i=0;i<r.length;i++){var o=r[i].node1,s=r[i].node2;t[o].degree=(t[o].degree||0)+1,t[s].degree=(t[s].degree||0)+1}};Cn.prototype.initData=function(e,t){this._nodes=e,this._edges=t,this._updateGravityCenter();var r=Math.ceil(Math.sqrt(e.length)),n=r,a=new Float32Array(r*n*4);this._resize(r,n);for(var i=0,o=0;o<e.length;o++){var s=e[o];a[i++]=s.x||0,a[i++]=s.y||0,a[i++]=s.mass||1,a[i++]=s.size||1}this._positionSourceTex.pixels=a;var l=this._edgeForceMesh.geometry,u=t.length;l.attributes.node1.init(u*2),l.attributes.node2.init(u*2),l.attributes.weight.init(u*2);for(var c=[],o=0;o<t.length;o++){var f=l.attributes,d=t[o].weight;d==null&&(d=1),f.node1.set(o,this.getNodeUV(t[o].node1,c)),f.node2.set(o,this.getNodeUV(t[o].node2,c)),f.weight.set(o,d),f.node1.set(o+u,this.getNodeUV(t[o].node2,c)),f.node2.set(o+u,this.getNodeUV(t[o].node1,c)),f.weight.set(o+u,d)}var h=this._weightedSumMesh.geometry;h.attributes.node.init(e.length);for(var o=0;o<e.length;o++)h.attributes.node.set(o,this.getNodeUV(o,c));l.dirty(),h.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[r,n]),this._inited=!1,this._frame=0};Cn.prototype.getNodes=function(){return this._nodes};Cn.prototype.getEdges=function(){return this._edges};Cn.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var t=this._nodeRepulsionPass;t.setUniform("strongGravityMode",this.strongGravityMode),t.setUniform("gravity",this.gravity),t.setUniform("gravityCenter",this._gravityCenter),t.setUniform("scaling",this.scaling),t.setUniform("preventOverlap",this.preventOverlap),t.setUniform("positionTex",this._positionPrevTex),t.render(e);var r=this._edgeForceMesh;r.material.set("linLogMode",this.linLogMode),r.material.set("edgeWeightInfluence",this.edgeWeightInfluence),r.material.set("preventOverlap",this.preventOverlap),r.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var n=this._weightedSumMesh;n.material.set("positionTex",this._positionPrevTex),n.material.set("forceTex",this._forceTex),n.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var a=this._globalSpeedPass;a.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),a.setUniform("weightedSumTex",this._weightedSumTex),a.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),a.render(e);var i=this._positionPass;this._framebuffer.attach(this._positionTex),i.setUniform("globalSpeedTex",this._globalSpeedTex),i.setUniform("positionTex",this._positionPrevTex),i.setUniform("forceTex",this._forceTex),i.setUniform("forcePrevTex",this._forcePrevTex),i.render(e),this._framebuffer.unbind(e),this._swapTexture()};Cn.prototype.update=function(e,t,r){t==null&&(t=1),t=Math.max(t,1);for(var n=0;n<t;n++)this.step(e);r&&r()};Cn.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex};Cn.prototype.getNodeUV=function(e,t){t=t||[];var r=this._positionTex.width,n=this._positionTex.height;return t[0]=e%r/(r-1),t[1]=Math.floor(e/r)/(n-1)||0,t};Cn.prototype.getNodePosition=function(e,t){var r=this._positionArr,n=this._positionTex.width,a=this._positionTex.height,i=n*a;(!r||r.length!==i*4)&&(r=this._positionArr=new Float32Array(i*4)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,n,a,e.gl.RGBA,e.gl.FLOAT,r),this._framebuffer.unbind(e),t||(t=new Float32Array(this._nodes.length*2));for(var o=0;o<this._nodes.length;o++)t[o*2]=r[o*4],t[o*2+1]=r[o*4+1];return t};Cn.prototype.getTextureData=function(e,t){var r=this["_"+t+"Tex"],n=r.width,a=r.height;this._framebuffer.bind(e),this._framebuffer.attach(r);var i=new Float32Array(n*a*4);return e.gl.readPixels(0,0,n,a,e.gl.RGBA,e.gl.FLOAT,i),this._framebuffer.unbind(e),i};Cn.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}};Cn.prototype.isFinished=function(e){return this._frame>e};Cn.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e;var e=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=e;var e=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e};Cn.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)};Cn.prototype._resize=function(e,t){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(r){this[r].width=e,this[r].height=t,this[r].dirty()},this)};Cn.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};function K1e(){var e={create:function(){return new Float32Array(2)},dist:function(l,u){var c=u[0]-l[0],f=u[1]-l[1];return Math.sqrt(c*c+f*f)},len:function(l){var u=l[0],c=l[1];return Math.sqrt(u*u+c*c)},scaleAndAdd:function(l,u,c,f){return l[0]=u[0]+c[0]*f,l[1]=u[1]+c[1]*f,l},scale:function(l,u,c){return l[0]=u[0]*c,l[1]=u[1]*c,l},add:function(l,u,c){return l[0]=u[0]+c[0],l[1]=u[1]+c[1],l},sub:function(l,u,c){return l[0]=u[0]-c[0],l[1]=u[1]-c[1],l},normalize:function(l,u){var c=u[0],f=u[1],d=c*c+f*f;return d>0&&(d=1/Math.sqrt(d),l[0]=u[0]*d,l[1]=u[1]*d),l},negate:function(l,u){return l[0]=-u[0],l[1]=-u[1],l},copy:function(l,u){return l[0]=u[0],l[1]=u[1],l},set:function(l,u,c){return l[0]=u,l[1]=c,l}};function t(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var r=t.prototype;r.beforeUpdate=function(){for(var l=0;l<this.nSubRegions;l++)this.subRegions[l].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},r.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var l=0;l<this.nSubRegions;l++)this.subRegions[l].afterUpdate()},r.addNode=function(l){if(this.nSubRegions===0)if(this.node==null){this.node=l;return}else this._addNodeToSubRegion(this.node),this.node=null;this._addNodeToSubRegion(l),this._updateCenterOfMass(l)},r.findSubRegion=function(l,u){for(var c=0;c<this.nSubRegions;c++){var f=this.subRegions[c];if(f.contain(l,u))return f}},r.contain=function(l,u){return this.bbox[0]<=l&&this.bbox[2]>=l&&this.bbox[1]<=u&&this.bbox[3]>=u},r.setBBox=function(l,u,c,f){this.bbox[0]=l,this.bbox[1]=u,this.bbox[2]=c,this.bbox[3]=f,this.size=(c-l+f-u)/2},r._newSubRegion=function(){var l=this.subRegions[this.nSubRegions];return l||(l=new t,this.subRegions[this.nSubRegions]=l),this.nSubRegions++,l},r._addNodeToSubRegion=function(l){var u=this.findSubRegion(l.position[0],l.position[1]),c=this.bbox;if(!u){var f=(c[0]+c[2])/2,d=(c[1]+c[3])/2,h=(c[2]-c[0])/2,v=(c[3]-c[1])/2,p=l.position[0]>=f?1:0,m=l.position[1]>=d?1:0,u=this._newSubRegion();u.setBBox(p*h+c[0],m*v+c[1],(p+1)*h+c[0],(m+1)*v+c[1])}u.addNode(l)},r._updateCenterOfMass=function(l){this.centerOfMass==null&&(this.centerOfMass=new Float32Array(2));var u=this.centerOfMass[0]*this.mass,c=this.centerOfMass[1]*this.mass;u+=l.position[0]*l.mass,c+=l.position[1]*l.mass,this.mass+=l.mass,this.centerOfMass[0]=u/this.mass,this.centerOfMass[1]=c/this.mass};function n(){this.position=new Float32Array(2),this.force=e.create(),this.forcePrev=e.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function a(l,u){this.source=l,this.target=u,this.weight=1}function i(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new t,this.rootRegion.centerOfMass=e.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}var o=i.prototype;o.initNodes=function(l,u,c){var f=u.length;this.nodes.length=0;for(var d=typeof c<"u",h=0;h<f;h++){var v=new n;v.position[0]=l[h*2],v.position[1]=l[h*2+1],v.mass=u[h],d&&(v.size=c[h]),this.nodes.push(v)}this._massArr=u,this._swingingArr=new Float32Array(f),d&&(this._sizeArr=c)},o.initEdges=function(l,u){var c=l.length/2;this.edges.length=0;for(var f=0;f<c;f++){var d=l[f*2],h=l[f*2+1],v=this.nodes[d],p=this.nodes[h];if(!v||!p){console.error("Node not exists, try initNodes before initEdges");return}v.outDegree++,p.inDegree++;var m=new a(v,p);u&&(m.weight=u[f]),this.edges.push(m)}},o.updateSettings=function(){if(this.repulsionByDegree)for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.mass=u.inDegree+u.outDegree+1}else for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.mass=this._massArr[l]}},o.update=function(){var l=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var u=0;u<l;u++)this.rootRegion.addNode(this.nodes[u]);this.rootRegion.afterUpdate()}for(var u=0;u<l;u++){var c=this.nodes[u];e.copy(c.forcePrev,c.force),e.set(c.force,0,0)}for(var u=0;u<l;u++){var f=this.nodes[u];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,f);else for(var d=u+1;d<l;d++){var h=this.nodes[d];this.applyNodeToNodeRepulsion(f,h,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(f):this.applyNodeGravity(f))}for(var u=0;u<this.edges.length;u++)this.applyEdgeAttraction(this.edges[u]);for(var v=0,p=0,m=e.create(),u=0;u<l;u++){var c=this.nodes[u],g=e.dist(c.force,c.forcePrev);v+=g*c.mass,e.add(m,c.force,c.forcePrev);var y=e.len(m)*.5;p+=y*c.mass,this._swingingArr[u]=g}var _=this.jitterTolerence*this.jitterTolerence*p/v;this._globalSpeed>0&&(_=Math.min(_/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=_;for(var u=0;u<l;u++){var c=this.nodes[u],g=this._swingingArr[u],x=.1*_/(1+_*Math.sqrt(g)),w=e.len(c.force);w>0&&(x=Math.min(w*x,10)/w,e.scaleAndAdd(c.position,c.position,c.force,x))}},o.applyRegionToNodeRepulsion=function(){var l=e.create();return function(c,f){if(c.node)this.applyNodeToNodeRepulsion(c.node,f,!0);else{e.sub(l,f.position,c.centerOfMass);var d=l[0]*l[0]+l[1]*l[1];if(d>this.barnesHutTheta*c.size*c.size){var h=this.scaling*f.mass*c.mass/d;e.scaleAndAdd(f.force,f.force,l,h)}else for(var v=0;v<c.nSubRegions;v++)this.applyRegionToNodeRepulsion(c.subRegions[v],f)}}}(),o.applyNodeToNodeRepulsion=function(){var l=e.create();return function(c,f,d){if(c!=f){e.sub(l,c.position,f.position);var h=l[0]*l[0]+l[1]*l[1];if(h!==0){var v;if(this.preventOverlap){var p=Math.sqrt(h);if(p=p-c.size-f.size,p>0)v=this.scaling*c.mass*f.mass/(p*p);else if(p<0)v=this.scaling*100*c.mass*f.mass;else return}else v=this.scaling*c.mass*f.mass/h;e.scaleAndAdd(c.force,c.force,l,v),e.scaleAndAdd(f.force,f.force,l,-v)}}}}(),o.applyEdgeAttraction=function(){var l=e.create();return function(c){var f=c.source,d=c.target;e.sub(l,f.position,d.position);var h=e.len(l),v;this.edgeWeightInfluence===0?v=1:this.edgeWeightInfluence===1?v=c.weight:v=Math.pow(c.weight,this.edgeWeightInfluence);var p;this.preventOverlap&&(h=h-f.size-d.size,h<=0)||(this.linLogMode?p=-v*Math.log(h+1)/(h+1):p=-v,e.scaleAndAdd(f.force,f.force,l,p),e.scaleAndAdd(d.force,d.force,l,-p))}}(),o.applyNodeGravity=function(){var l=e.create();return function(u){e.sub(l,this.gravityCenter,u.position);var c=e.len(l);e.scaleAndAdd(u.force,u.force,l,this.gravity*u.mass/(c+1))}}(),o.applyNodeStrongGravity=function(){var l=e.create();return function(u){e.sub(l,this.gravityCenter,u.position),e.scaleAndAdd(u.force,u.force,l,this.gravity*u.mass)}}(),o.updateBBox=function(){for(var l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<this.nodes.length;d++){var h=this.nodes[d].position;l=Math.min(l,h[0]),u=Math.min(u,h[1]),c=Math.max(c,h[0]),f=Math.max(f,h[1])}this.bbox[0]=l,this.bbox[1]=u,this.bbox[2]=c,this.bbox[3]=f},o.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(l){switch(l.data.cmd){case"init":s=new i,s.initNodes(l.data.nodesPosition,l.data.nodesMass,l.data.nodesSize),s.initEdges(l.data.edges,l.data.edgesWeight);break;case"updateConfig":if(s)for(var u in l.data.config)s[u]=l.data.config[u];break;case"update":var c=l.data.steps;if(s){for(var f=0;f<c;f++)s.update();for(var d=s.nodes.length,h=new Float32Array(d*2),f=0;f<d;f++){var v=s.nodes[f];h[f*2]=v.position[0],h[f*2+1]=v.position[1]}self.postMessage({buffer:h.buffer,globalSpeed:s.getGlobalSpeed()},[h.buffer])}else{var p=new Float32Array;self.postMessage({buffer:p.buffer,globalSpeed:s.getGlobalSpeed()},[p.buffer])}break}}}var av=K1e.toString();av=av.slice(av.indexOf("{")+1,av.lastIndexOf("}"));var Lv={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},vi=function(e){for(var t in Lv)this[t]=Lv[t];if(e)for(var t in e)this[t]=e[t];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new _t({type:Qe.FLOAT,flipY:!1,minFilter:Qe.NEAREST,magFilter:Qe.NEAREST})};vi.prototype.initData=function(e,t){var r=new Blob([av]),n=window.URL.createObjectURL(r);this._worker=new Worker(n),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=t,this._frame=0;for(var a=e.length,i=t.length,o=new Float32Array(a*2),s=new Float32Array(a),l=new Float32Array(a),u=new Float32Array(i*2),c=new Float32Array(i),f=0;f<e.length;f++){var d=e[f];o[f*2]=d.x,o[f*2+1]=d.y,s[f]=d.mass==null?1:d.mass,l[f]=d.size==null?1:d.size}for(var f=0;f<t.length;f++){var h=t[f],v=h.node1,p=h.node2;u[f*2]=v,u[f*2+1]=p,c[f]=h.weight==null?1:h.weight}var m=Math.ceil(Math.sqrt(e.length)),g=m,y=new Float32Array(m*g*4),_=this._positionTex;_.width=m,_.height=g,_.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:o,nodesMass:s,nodesSize:l,edges:u,edgesWeight:c}),this._globalSpeed=1/0};vi.prototype.updateOption=function(e){var t={};for(var r in Lv)t[r]=Lv[r];var n=this._nodes,a=this._edges,i=n.length;if(i>5e4?t.jitterTolerence=10:i>5e3?t.jitterTolerence=1:t.jitterTolerence=.1,i>100?t.scaling=2:t.scaling=10,i>1e3?t.barnesHutOptimize=!0:t.barnesHutOptimize=!1,e)for(var r in Lv)e[r]!=null&&(t[r]=e[r]);if(!t.gravityCenter){for(var o=[1/0,1/0],s=[-1/0,-1/0],l=0;l<n.length;l++)o[0]=Math.min(n[l].x,o[0]),o[1]=Math.min(n[l].y,o[1]),s[0]=Math.max(n[l].x,s[0]),s[1]=Math.max(n[l].y,s[1]);t.gravityCenter=[(o[0]+s[0])*.5,(o[1]+s[1])*.5]}for(var l=0;l<a.length;l++){var u=a[l].node1,c=a[l].node2;n[u].degree=(n[u].degree||0)+1,n[c].degree=(n[c].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:t})};vi.prototype.update=function(e,t,r){t==null&&(t=1),t=Math.max(t,1),this._frame+=t,this._onupdate=r,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(t)})};vi.prototype._$onupdate=function(e){if(!this._disposed){var t=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=t,this._updateTexture(t),this._onupdate&&this._onupdate()}};vi.prototype.getNodePositionTexture=function(){return this._positionTex};vi.prototype.getNodeUV=function(e,t){t=t||[];var r=this._positionTex.width,n=this._positionTex.height;return t[0]=e%r/(r-1),t[1]=Math.floor(e/r)/(n-1),t};vi.prototype.getNodes=function(){return this._nodes};vi.prototype.getEdges=function(){return this._edges};vi.prototype.isFinished=function(e){return this._frame>e};vi.prototype.getNodePosition=function(e,t){if(t||(t=new Float32Array(this._nodes.length*2)),this._positionArr)for(var r=0;r<this._positionArr.length;r++)t[r]=this._positionArr[r];return t};vi.prototype._updateTexture=function(e){for(var t=this._positionTex.pixels,r=0,n=0;n<e.length;)t[r++]=e[n++],t[r++]=e[n++],t[r++]=1,t[r++]=1;this._positionTex.dirty()};vi.prototype.dispose=function(e){this._disposed=!0,this._worker=null};const RO=vi;var Q1e=Va.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,t=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(t,t,t),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var t=e.offsetX,r=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(t,r))){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var n=this._convertPos(t,r);this._x=n.x,this._y=n.y}}},_convertPos:function(e,t){var r=this.viewGL.camera,n=this.viewGL.viewport;return{x:(e-n.x)/n.width*(r.right-r.left)+r.left,y:(t-n.y)/n.height*(r.bottom-r.top)+r.top}},_mouseMoveHandler:function(e){var t=this._convertPos(e.offsetX,e.offsetY);this._dx+=t.x-this._x,this._dy+=t.y-this._y,this._x=t.x,this._y=t.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){e=e.event;var t=e.wheelDelta||-e.detail;if(t!==0){var r=e.offsetX,n=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(r,n))){var a=t>0?1.1:.9,i=Math.max(Math.min(this._zoom*a,this.maxZoom),this.minZoom);a=i/this._zoom;var o=this._convertPos(r,n),s=(o.x-this._dx)*(a-1),l=(o.y-this._dy)*(a-1);this._dx-=s,this._dy-=l,this._zoom=i,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}});const J1e=Q1e,exe=`@export ecgl.lines2D.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec2 position: POSITION;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

#ifdef POSITIONTEXTURE_ENABLED
uniform sampler2D positionTexture;
#endif

void main()
{
 gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);

 v_Color = a_Color;
}

@end

@export ecgl.lines2D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

void main()
{
 gl_FragColor = color * v_Color;
}
@end


@export ecgl.meshLines2D.vertex

attribute vec2 position: POSITION;
attribute vec2 normal;
attribute float offset;
attribute vec4 a_Color : COLOR;

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;

varying vec4 v_Color;
varying float v_Miter;

void main()
{
 vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);
 gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);

 p2.xy /= p2.w;
 gl_Position.xy /= gl_Position.w;

 vec2 N = normalize(p2.xy - gl_Position.xy);
 gl_Position.xy += N * offset / viewport.zw * 2.0;

 gl_Position.xy *= gl_Position.w;

 v_Color = a_Color;
}
@end


@export ecgl.meshLines2D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;
varying float v_Miter;

void main()
{
 gl_FragColor = color * v_Color;
}

@end`;var Tg=un.vec2;W.Shader.import(exe);var txe=1;const rxe=yn.extend({type:"graphGL",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this.viewGL=new sr("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new Mc(!0,t),this._forceEdgesMesh=new W.Mesh({material:new W.Material({shader:W.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new W.Geometry({attributes:{node:new W.Geometry.Attribute("node","float",2),color:new W.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:W.Mesh.LINES}),this._edgesMesh=new W.Mesh({material:new W.Material({shader:W.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new _H({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new J1e({zr:t.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,t,r){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=r,this._initLayout(e,t,r),this._pointsBuilder.update(e,t,r),this._forceLayoutInstance instanceof Cn||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,r),this._control.off("update"),this._control.on("update",function(){r.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(Tt.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var n=this._pointsBuilder.getPointsMesh();if(n.off("mousemove",this._mousemoveHandler),n.off("mouseout",this._mouseOutHandler,this),r.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var a=e.get("focusNodeAdjacencyOn");a==="click"?r.getZr().on("click",this._clickHandler):a==="mouseover"&&(n.on("mousemove",this._mousemoveHandler,this),n.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?t!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=t}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,t){var r=this._forceEdgesMesh.geometry,n=t.getEdgeData(),a=0,i=this._forceLayoutInstance,o=n.count()*2;r.attributes.node.init(o),r.attributes.color.init(o),n.each(function(s){var l=e[s];r.attributes.node.set(a,i.getNodeUV(l.node1)),r.attributes.node.set(a+1,i.getNodeUV(l.node2));var u=Rn(n,l.dataIndex),c=W.parseColor(u);c[3]*=Tt.firstNotNull(In(n,l.dataIndex),1),r.attributes.color.set(a,c),r.attributes.color.set(a+1,c),a+=2}),r.dirty()},_updateMeshLinesGeometry:function(){var t=this._model.getEdgeData(),e=this._edgesMesh.geometry,t=this._model.getEdgeData(),r=this._model.getData().getLayout("points");e.resetOffset(),e.setVertexCount(t.count()*e.getLineVertexCount()),e.setTriangleCount(t.count()*e.getLineTriangleCount());var n=[],a=[],i=["lineStyle","width"];this._originalEdgeColors=new Float32Array(t.count()*4),this._edgeIndicesMap=new Float32Array(t.count()),t.each(function(o){var s=t.graph.getEdgeByIndex(o),l=s.node1.dataIndex*2,u=s.node2.dataIndex*2;n[0]=r[l],n[1]=r[l+1],a[0]=r[u],a[1]=r[u+1];var c=Rn(t,s.dataIndex),f=W.parseColor(c);f[3]*=Tt.firstNotNull(In(t,s.dataIndex),1);var d=t.getItemModel(s.dataIndex),h=Tt.firstNotNull(d.get(i),1)*this._api.getDevicePixelRatio();e.addLine(n,a,f,h);for(var v=0;v<4;v++)this._originalEdgeColors[s.dataIndex*4+v]=f[v];this._edgeIndicesMap[s.dataIndex]=o},this),e.dirty()},_updateForceNodesGeometry:function(e){for(var t=this._pointsBuilder.getPointsMesh(),r=[],n=0;n<e.count();n++)this._forceLayoutInstance.getNodeUV(n,r),t.geometry.attributes.position.set(n,r);t.geometry.dirty("position")},_initLayout:function(e,t,r){var n=e.get("layout"),a=e.getGraph(),i=e.getBoxLayoutParams(),o=wo(i,{width:r.getWidth(),height:r.getHeight()});n==="force"&&(n="forceAtlas2"),this.stopLayout(e,t,r,{beforeLayout:!0});var s=e.getData(),l=e.getData();if(n==="forceAtlas2"){var u=e.getModel("forceAtlas2"),c=this._forceLayoutInstance,f=[],d=[],h=s.getDataExtent("value"),v=l.getDataExtent("value"),p=Tt.firstNotNull(u.get("edgeWeight"),1),m=Tt.firstNotNull(u.get("nodeWeight"),1);typeof p=="number"&&(p=[p,p]),typeof m=="number"&&(m=[m,m]);var g=0,y={},_=new Float32Array(s.count()*2);if(a.eachNode(function(w){var b=w.dataIndex,T=s.get("value",b),S,A;if(s.hasItemOption){var M=s.getItemModel(b);S=M.get("x"),A=M.get("y")}S==null&&(S=o.x+Math.random()*o.width,A=o.y+Math.random()*o.height),_[g*2]=S,_[g*2+1]=A,y[w.id]=g++;var C=Wv(T,h,m);isNaN(C)&&(isNaN(m[0])?C=1:C=m[0]),f.push({x:S,y:A,mass:C,size:s.getItemVisual(b,"symbolSize")})}),s.setLayout("points",_),a.eachEdge(function(w){var b=w.dataIndex,T=s.get("value",b),S=Wv(T,v,p);isNaN(S)&&(isNaN(p[0])?S=1:S=p[0]),d.push({node1:y[w.node1.id],node2:y[w.node2.id],weight:S,dataIndex:b})}),!c){var x=u.get("GPU");this._forceLayoutInstance&&(x&&!(this._forceLayoutInstance instanceof Cn)||!x&&!(this._forceLayoutInstance instanceof RO))&&(this._forceLayoutInstanceToDispose=this._forceLayoutInstance),c=this._forceLayoutInstance=x?new Cn:new RO}c.initData(f,d),c.updateOption(u.option),this._updateForceEdgesGeometry(c.getEdges(),e),this._updatePositionTexture(),r.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{var _=new Float32Array(s.count()*2),g=0;a.eachNode(function(T){var S=T.dataIndex,A,M;if(s.hasItemOption){var C=s.getItemModel(S);A=C.get("x"),M=C.get("y")}_[g++]=A,_[g++]=M}),s.setLayout("points",_),this._updateAfterLayout(e,t,r)}},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,t,i,n){if(!(n&&n.from!=null&&n.from!==this.uid)){var a=this.viewGL,i=this._api,o=this._forceLayoutInstance,s=this._model.getData(),l=this._model.getModel("forceAtlas2");if(o&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),!!this._forceLayoutInstance)){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var u=this,c=this._layoutId=txe++,f=l.getShallow("maxSteps"),d=l.getShallow("steps"),h=0,v=Math.max(d*2,20),p=function(m){if(m===u._layoutId){if(o.isFinished(f)){i.dispatchAction({type:"graphGLStopLayout",from:u.uid}),i.dispatchAction({type:"graphGLFinishLayout",points:s.getLayout("points"),from:u.uid});return}o.update(a.layer.renderer,d,function(){u._updatePositionTexture(),h+=d,h>=v&&(u._syncNodePosition(e),h=0),i.getZr().refresh(),sd(function(){p(m)})})}};sd(function(){u._forceLayoutInstanceToDispose&&(u._forceLayoutInstanceToDispose.dispose(a.layer.renderer),u._forceLayoutInstanceToDispose=null),p(c)}),this._layouting=!0}}},stopLayout:function(e,t,r,n){n&&n.from!=null&&n.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(n&&n.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,t,r)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(e){var t=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",t),e.setNodePosition(t)},_updateAfterLayout:function(e,t,r){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,t,r),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,t,r,n){var a=this._model.getData();this._downplayAll();var i=n.dataIndex,o=a.graph,s=[],l=o.getNodeByIndex(i);s.push(l),l.edges.forEach(function(c){c.dataIndex<0||(c.node1!==l&&s.push(c.node1),c.node2!==l&&s.push(c.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach(function(c){this._pointsBuilder.highlight(a,c.dataIndex)},this),this._pointsBuilder.updateLabels(s.map(function(c){return c.dataIndex}));var u=[];l.edges.forEach(function(c){c.dataIndex>=0&&(this._highlightEdge(c.dataIndex),u.push(c))},this),this._focusNodes=s,this._focusEdges=u},unfocusNodeAdjacency:function(e,t,r,n){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var t=this._model.getEdgeData().getItemModel(e),r=W.parseColor(t.get("emphasis.lineStyle.color")||t.get("lineStyle.color")),n=Tt.firstNotNull(t.get("emphasis.lineStyle.opacity"),t.get("lineStyle.opacity"),1);r[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],r)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(e){this._downplayEdge(e.dataIndex)},this)},_downplayEdge:function(e){var t=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)},_setEdgeFade:function(){var e=[];return function(t,r){this._getColor(t,e),e[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)}}(),_getColor:function(e,t){for(var r=0;r<4;r++)t[r]=this._originalEdgeColors[e*4+r];return t},_fadeOutEdgesAll:function(e){var t=this._model.getData().graph;t.eachEdge(function(r){this._setEdgeFade(r.dataIndex,e)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,t){this.viewGL.setViewport(0,0,t.getWidth(),t.getHeight(),t.getDevicePixelRatio());for(var r=this.viewGL.camera,n=e.getData(),a=n.getLayout("points"),i=Tg.create(1/0,1/0),o=Tg.create(-1/0,-1/0),s=[],l=0;l<a.length;)s[0]=a[l++],s[1]=a[l++],Tg.min(i,i,s),Tg.max(o,o,s);var u=(o[1]+i[1])/2,c=(o[0]+i[0])/2;if(!(c>r.left&&c<r.right&&u<r.bottom&&u>r.top)){var f=Math.max(o[0]-i[0],10),d=f/t.getWidth()*t.getHeight();f*=1.4,d*=1.4,i[0]-=f*.2,r.left=i[0],r.top=u-d/2,r.bottom=u+d/2,r.right=f+i[0],r.near=0,r.far=100}},dispose:function(){var e=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(e),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function Cg(e){return e instanceof Array||(e=[e,e]),e}function nxe(e){e.registerChartView(rxe),e.registerSeriesModel(q1e),e.registerVisual(function(r){const n={};r.eachSeriesByType("graphGL",function(a){var i=a.getCategoriesData(),o=a.getData(),s={};i.each(function(l){var u=i.getName(l);s["ec-"+u]=l;var c=i.getItemModel(l),f=c.getModel("itemStyle").getItemStyle();f.fill||(f.fill=a.getColorFromPalette(u,n)),i.setItemVisual(l,"style",f);var d=["symbol","symbolSize","symbolKeepAspect"];for(let v=0;v<d.length;v++){var h=c.getShallow(d[v],!0);h!=null&&i.setItemVisual(l,d[v],h)}}),i.count()&&o.each(function(l){var u=o.getItemModel(l);let c=u.getShallow("category");if(c!=null){typeof c=="string"&&(c=s["ec-"+c]);var f=i.getItemVisual(c,"style"),d=o.ensureUniqueItemVisual(l,"style");De(d,f);var h=["symbol","symbolSize","symbolKeepAspect"];for(let v=0;v<h.length;v++)o.setItemVisual(l,h[v],i.getItemVisual(c,h[v]))}})})}),e.registerVisual(function(r){r.eachSeriesByType("graphGL",function(n){var a=n.getGraph(),i=n.getEdgeData(),o=Cg(n.get("edgeSymbol")),s=Cg(n.get("edgeSymbolSize"));i.setVisual("drawType","stroke"),i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",s&&s[0]),i.setVisual("toSymbolSize",s&&s[1]),i.setVisual("style",n.getModel("lineStyle").getLineStyle()),i.each(function(l){var u=i.getItemModel(l),c=a.getEdgeByIndex(l),f=Cg(u.getShallow("symbol",!0)),d=Cg(u.getShallow("symbolSize",!0)),h=u.getModel("lineStyle").getLineStyle(),v=i.ensureUniqueItemVisual(l,"style");switch(De(v,h),v.stroke){case"source":{var p=c.node1.getVisual("style");v.stroke=p&&p.fill;break}case"target":{var p=c.node2.getVisual("style");v.stroke=p&&p.fill;break}}f[0]&&c.setVisual("fromSymbol",f[0]),f[1]&&c.setVisual("toSymbol",f[1]),d[0]&&c.setVisual("fromSymbolSize",d[0]),d[1]&&c.setVisual("toSymbolSize",d[1])})})}),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(r,n){n.eachComponent({mainType:"series",query:r},function(a){a.setView(r)})});function t(){}e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},t),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},t),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},t),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},t)}vr(nxe);const axe=kn.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,t){var r=this.get("coordinateSystem"),n=r==="geo"?["lng","lat"]:FV(r)||["x","y"];n.push("vx","vy");var a=Vp(this.getSource(),{coordDimensions:n,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),i=new Xi(a,this);return i.initData(this.getSource()),i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var ixe=zt.extend(function(){return{dynamic:!0,attributes:{position:new zt.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var t=this.attributes,r=4*e,n=2*e;this.vertexCount!==r&&t.position.init(r),this.triangleCount!==n&&(n===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(n*3):new Uint16Array(n*3))},addLine:function(e){var t=this._vertexOffset;this.attributes.position.set(t,[e[0],e[1],1]),this.attributes.position.set(t+1,[e[0],e[1],-1]),this.attributes.position.set(t+2,[e[0],e[1],2]),this.attributes.position.set(t+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[t,t+1,t+2]),this.setTriangleIndices(this._faceOffset++,[t+1,t+2,t+3]),this._vertexOffset+=4}});const oxe=ixe,sxe=`@export ecgl.vfParticle.particle.fragment

uniform sampler2D particleTexture;
uniform sampler2D spawnTexture;
uniform sampler2D velocityTexture;

uniform float deltaTime;
uniform float elapsedTime;

uniform float speedScaling : 1.0;

uniform vec2 textureSize;
uniform vec4 region : [0, 0, 1, 1];
uniform float firstFrameTime;

varying vec2 v_Texcoord;


void main()
{
 vec4 p = texture2D(particleTexture, v_Texcoord);
 bool spawn = false;
 if (p.w <= 0.0) {
 p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));
 p.w -= firstFrameTime;
 spawn = true;
 }
 vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;
 v = (v - 0.5) * 2.0;
 p.z = length(v);
 p.xy += v * deltaTime / 10.0 * speedScaling;
 p.w -= deltaTime;

 if (spawn || p.xy != fract(p.xy)) {
 p.z = 0.0;
 }
 p.xy = fract(p.xy);

 gl_FragColor = p;
}
@end

@export ecgl.vfParticle.renderPoints.vertex

#define PI 3.1415926

attribute vec2 texcoord : TEXCOORD_0;

uniform sampler2D particleTexture;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

uniform float size : 1.0;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 vec4 p = texture2D(particleTexture, texcoord);

 if (p.w > 0.0 && p.z > 1e-5) {
 gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);
 }
 else {
 gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);
 }

 v_Mag = p.z;
 v_Uv = p.xy;

 gl_PointSize = size;
}

@end

@export ecgl.vfParticle.renderPoints.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform sampler2D gradientTexture;
uniform sampler2D colorTexture;
uniform sampler2D spriteTexture;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 gl_FragColor = color;
#ifdef SPRITETEXTURE_ENABLED
 gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);
 if (color.a == 0.0) {
 discard;
 }
#endif
#ifdef GRADIENTTEXTURE_ENABLED
 gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));
#endif
#ifdef COLORTEXTURE_ENABLED
 gl_FragColor *= texture2D(colorTexture, v_Uv);
#endif
}

@end

@export ecgl.vfParticle.renderLines.vertex

#define PI 3.1415926

attribute vec3 position : POSITION;

uniform sampler2D particleTexture;
uniform sampler2D prevParticleTexture;

uniform float size : 1.0;
uniform vec4 vp: VIEWPORT;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

varying float v_Mag;
varying vec2 v_Uv;

@import clay.util.rand

void main()
{
 vec4 p = texture2D(particleTexture, position.xy);
 vec4 p2 = texture2D(prevParticleTexture, position.xy);

 p.xy = p.xy * 2.0 - 1.0;
 p2.xy = p2.xy * 2.0 - 1.0;

 if (p.w > 0.0 && p.z > 1e-5) {
 vec2 dir = normalize(p.xy - p2.xy);
 vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;
 if (abs(position.z) == 2.0) {
 gl_Position = vec4(p.xy + norm, 0.0, 1.0);
 v_Uv = p.xy;
 v_Mag = p.z;
 }
 else {
 gl_Position = vec4(p2.xy + norm, 0.0, 1.0);
 v_Mag = p2.z;
 v_Uv = p2.xy;
 }
 gl_Position = worldViewProjection * gl_Position;
 }
 else {
 gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);
 }
}

@end

@export ecgl.vfParticle.renderLines.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform sampler2D gradientTexture;
uniform sampler2D colorTexture;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 gl_FragColor = color;
 #ifdef GRADIENTTEXTURE_ENABLED
 gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));
#endif
#ifdef COLORTEXTURE_ENABLED
 gl_FragColor *= texture2D(colorTexture, v_Uv);
#endif
}

@end
`;Pe.import(sxe);function lxe(e){var t=document.createElement("canvas");t.width=t.height=e;var r=t.getContext("2d");return r.fillStyle="#fff",r.arc(e/2,e/2,e/2,0,Math.PI*2),r.fill(),t}var TT=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new _t({type:Qe.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};TT.prototype={constructor:TT,init:function(){var e={type:Qe.FLOAT,minFilter:Qe.NEAREST,magFilter:Qe.NEAREST,useMipmap:!1};this._spawnTexture=new _t(e),this._particleTexture0=new _t(e),this._particleTexture1=new _t(e),this._frameBuffer=new Wn({depthBuffer:!1}),this._particlePass=new mn({fragment:Pe.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new mn({fragment:Pe.source("clay.compositor.downsample")});var t=new Ju({renderOrder:10,material:new Ui({shader:new Pe(Pe.source("ecgl.vfParticle.renderPoints.vertex"),Pe.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:Ju.POINTS,geometry:new zt({dynamic:!0,mainAttribute:"texcoord0"})}),r=new Ju({renderOrder:10,material:new Ui({shader:new Pe(Pe.source("ecgl.vfParticle.renderLines.vertex"),Pe.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new oxe,culling:!1}),n=new Ju({material:new Ui({shader:new Pe(Pe.source("ecgl.color.vertex"),Pe.source("ecgl.color.fragment"))}),geometry:new $_});n.material.enableTexture("diffuseMap"),this._particlePointsMesh=t,this._particleLinesMesh=r,this._lastFrameFullQuadMesh=n,this._camera=new yd,this._thisFrameTexture=new _t,this._lastFrameTexture=new _t},setParticleDensity:function(e,t){for(var r=e*t,n=new Float32Array(r*4),a=0,i=this.particleLife,o=0;o<e;o++)for(var s=0;s<t;s++,a++){n[a*4]=Math.random(),n[a*4+1]=Math.random(),n[a*4+2]=Math.random();var l=(i[1]-i[0])*Math.random()+i[0];n[a*4+3]=l}this._particleType==="line"?this._setLineGeometry(e,t):this._setPointsGeometry(e,t),this._spawnTexture.width=e,this._spawnTexture.height=t,this._spawnTexture.pixels=n,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=t,this._particlePass.setUniform("textureSize",[e,t])},_setPointsGeometry:function(e,t){var r=e*t,n=this._particlePointsMesh.geometry,a=n.attributes;a.texcoord0.init(r);for(var i=0,o=0;o<e;o++)for(var s=0;s<t;s++,i++)a.texcoord0.value[i*2]=o/e,a.texcoord0.value[i*2+1]=s/t;n.dirty()},_setLineGeometry:function(e,t){var r=e*t,n=this._getParticleMesh().geometry;n.setLineCount(r),n.resetOffset();for(var a=0;a<e;a++)for(var i=0;i<t;i++)n.addLine([a/e,i/t]);n.dirty()},_getParticleMesh:function(){return this._particleType==="line"?this._particleLinesMesh:this._particlePointsMesh},update:function(e,t,r,n){var a=this._getParticleMesh(),i=this._frameBuffer,o=this._particlePass;n&&this._updateDownsampleTextures(e,t),a.material.set("size",this._particleSize*this._supersampling),a.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),i.attach(this._particleTexture1),o.setUniform("firstFrameTime",n?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",r),o.setUniform("elapsedTime",this._elapsedTime),o.render(e,i),a.material.set("particleTexture",this._particleTexture1),a.material.set("prevParticleTexture",this._particleTexture0),i.attach(this._thisFrameTexture),i.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([s,a],this._camera),i.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=r},_downsample:function(e){var t=this._downsampleTextures;if(t.length!==0)for(var r=0,n=this._thisFrameTexture,a=t[r];a;)this._frameBuffer.attach(a),this._downsamplePass.setUniform("texture",n),this._downsamplePass.setUniform("textureSize",[n.width,n.height]),this._downsamplePass.render(e,this._frameBuffer),n=a,a=t[++r]},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,t){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=t*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=t*this._supersampling,this._width=e,this._height=t},setParticleSize:function(e){var t=this._getParticleMesh();if(e<=2){t.material.disableTexture("spriteTexture"),t.material.transparent=!1;return}this._spriteTexture||(this._spriteTexture=new _t),(!this._spriteTexture.image||this._spriteTexture.image.width!==e)&&(this._spriteTexture.image=lxe(e),this._spriteTexture.dirty()),t.material.transparent=!0,t.material.enableTexture("spriteTexture"),t.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var t=this._getParticleMesh().material;t[e?"enableTexture":"disableTexture"]("gradientTexture"),t.setUniform("gradientTexture",e)},setColorTextureImage:function(e,t){var r=this._getParticleMesh().material;r.setTextureImage("colorTexture",e,t,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var t=this._frameBuffer;t.attach(this._lastFrameTexture),t.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),t.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,t){for(var r=this._downsampleTextures,n=Math.max(Math.floor(Math.log(this._supersampling/t.getDevicePixelRatio())/Math.log(2)),0),a=2,i=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<n;s++)r[s]=r[s]||new _t,r[s].width=i/a,r[s].height=o/a,a*=2;for(;s<r.length;s++)r[s].dispose(e);r.length=n},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e;var e=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach(function(t){t.dispose(e)})}};const uxe=TT,cxe=yn.extend({type:"flowGL",__ecgl__:!0,init:function(e,t){this.viewGL=new sr("orthographic"),this.groupGL=new W.Node,this.viewGL.add(this.groupGL),this._particleSurface=new uxe;var r=new W.Mesh({geometry:new W.PlaneGeometry,material:new W.Material({shader:new W.Shader({vertex:W.Shader.source("ecgl.color.vertex"),fragment:W.Shader.source("ecgl.color.fragment")}),transparent:!0})});r.material.enableTexture("diffuseMap"),this.groupGL.add(r),this._planeMesh=r},render:function(e,t,r){var n=this._particleSurface;n.setParticleType(e.get("particleType")),n.setSupersampling(e.get("supersampling")),this._updateData(e,r),this._updateCamera(r.getWidth(),r.getHeight(),r.getDevicePixelRatio());var a=Tt.firstNotNull(e.get("particleDensity"),128);n.setParticleDensity(a,a);var i=this._planeMesh,o=+new Date,s=this,l=!0;i.__percent=0,i.stopAnimation(),i.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var f=+new Date,d=Math.min(f-o,20);o=o+d,s._renderer&&(n.update(s._renderer,r,d/1e3,l),i.material.set("diffuseMap",n.getSurfaceTexture())),l=!1}).start();var u=e.getModel("itemStyle"),c=W.parseColor(u.get("color"));c[3]*=Tt.firstNotNull(u.get("opacity"),1),i.material.set("color",c),n.setColorTextureImage(e.get("colorTexture"),r),n.setParticleSize(e.get("particleSize")),n.particleSpeedScaling=e.get("particleSpeed"),n.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,t,r){this._updateData(e,r)},afterRender:function(e,t,r,n){var a=n.renderer;this._renderer=a},_updateData:function(e,t){var r=e.coordinateSystem,n=r.dimensions.map(function(y){return e.coordDimToDataDim(y)[0]}),a=e.getData(),i=a.getDataExtent(n[0]),o=a.getDataExtent(n[1]),s=e.get("gridWidth"),l=e.get("gridHeight");if(s==null||s==="auto"){var u=(i[1]-i[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(u*a.count()))}(l==null||l==="auto")&&(l=Math.ceil(a.count()/s));var c=this._particleSurface.vectorFieldTexture,f=c.pixels;if(!f||f.length!==l*s*4)f=c.pixels=new Float32Array(s*l*4);else for(var d=0;d<f.length;d++)f[d]=0;var h=0,v=1/0,p=new Float32Array(a.count()*2),m=0,g=[[1/0,1/0],[-1/0,-1/0]];a.each([n[0],n[1],"vx","vy"],function(y,_,x,w){var b=r.dataToPoint([y,_]);p[m++]=b[0],p[m++]=b[1],g[0][0]=Math.min(b[0],g[0][0]),g[0][1]=Math.min(b[1],g[0][1]),g[1][0]=Math.max(b[0],g[1][0]),g[1][1]=Math.max(b[1],g[1][1]);var T=Math.sqrt(x*x+w*w);h=Math.max(h,T),v=Math.min(v,T)}),a.each(["vx","vy"],function(y,_,x){var w=Math.round((p[x*2]-g[0][0])/(g[1][0]-g[0][0])*(s-1)),b=l-1-Math.round((p[x*2+1]-g[0][1])/(g[1][1]-g[0][1])*(l-1)),T=(b*s+w)*4;f[T]=y/h*.5+.5,f[T+1]=_/h*.5+.5,f[T+3]=1}),c.width=s,c.height=l,e.get("coordinateSystem")==="bmap"&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(g[0],g[1],e,t),this._updateGradientTexture(a.getVisual("visualMeta"),[v,h])},_fillEmptyPixels:function(e){var t=e.pixels,r=e.width,n=e.height;function a(p,m,g){p=Math.max(Math.min(p,r-1),0),m=Math.max(Math.min(m,n-1),0);var y=(m*(r-1)+p)*4;return t[y+3]===0?!1:(g[0]=t[y],g[1]=t[y+1],!0)}function i(p,m,g){g[0]=p[0]+m[0],g[1]=p[1]+m[1]}for(var o=[],s=[],l=[],u=[],c=[],f=0,d=0;d<n;d++)for(var h=0;h<r;h++){var v=(d*(r-1)+h)*4;t[v+3]===0&&(f=o[0]=o[1]=0,a(h-1,d,s)&&(f++,i(s,o,o)),a(h+1,d,l)&&(f++,i(l,o,o)),a(h,d-1,u)&&(f++,i(u,o,o)),a(h,d+1,c)&&(f++,i(c,o,o)),o[0]/=f,o[1]/=f,t[v]=o[0],t[v+1]=o[1]),t[v+3]=1}},_updateGradientTexture:function(e,t){if(!e||!e.length){this._particleSurface.setGradientTexture(null);return}this._gradientTexture=this._gradientTexture||new W.Texture2D({image:document.createElement("canvas")});var r=this._gradientTexture,n=r.image;n.width=200,n.height=1;var a=n.getContext("2d"),i=a.createLinearGradient(0,.5,n.width,.5);e[0].stops.forEach(function(o){var s;t[1]===t[0]?s=0:(s=o.value/t[1],s=Math.min(Math.max(s,0),1)),i.addColorStop(s,o.color)}),a.fillStyle=i,a.fillRect(0,0,n.width,n.height),r.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)},_updatePlanePosition:function(e,t,r,n){var a=this._limitInViewportAndFullFill(e,t,r,n);e=a.leftTop,t=a.rightBottom,this._particleSurface.setRegion(a.region),this._planeMesh.position.set((e[0]+t[0])/2,n.getHeight()-(e[1]+t[1])/2,0);var i=t[0]-e[0],o=t[1]-e[1];this._planeMesh.scale.set(i/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(i,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,t,r,n){var a=[Math.max(e[0],0),Math.max(e[1],0)],i=[Math.min(t[0],n.getWidth()),Math.min(t[1],n.getHeight())];if(r.get("coordinateSystem")==="bmap"){var o=r.getData().getDataExtent(r.coordDimToDataDim("lng")[0]),s=Math.floor(o[1]-o[0])>=359;s&&(a[0]>0&&(a[0]=0),i[0]<n.getWidth()&&(i[0]=n.getWidth()))}var l=t[0]-e[0],u=t[1]-e[1],c=i[0]-a[0],f=i[1]-a[1],d=[(a[0]-e[0])/l,1-f/u-(a[1]-e[1])/u,c/l,f/u];return{leftTop:a,rightBottom:i,region:d}},_updateCamera:function(e,t,r){this.viewGL.setViewport(0,0,e,t,r);var n=this.viewGL.camera;n.left=n.bottom=0,n.top=t,n.right=e,n.near=0,n.far=100,n.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});function fxe(e){e.registerChartView(cxe),e.registerSeriesModel(axe)}vr(fxe);var CT=kn.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),CT.superApply(this,"init",arguments)},mergeOption:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),CT.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=dw(this._flatCoords,t.flatCoords),this._flatCoordsOffset=dw(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e),r=t.option instanceof Array?t.option:t.getShallow("coords");return r},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[e*2],n=this._flatCoordsOffset[e*2+1],a=0;a<n;a++)t[a]=t[a]||[],t[a][0]=this._flatCoords[r+a*2],t[a][1]=this._flatCoords[r+a*2+1];return n}else{for(var i=this._getCoordsFromItemModel(e),a=0;a<i.length;a++)t[a]=t[a]||[],t[a][0]=i[a][0],t[a][1]=i[a][1];return i.length}},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),typeof e[0]=="number"){for(var r=e.length,n=new Uint32Array(r),a=new Float64Array(r),i=0,o=0,s=0,l=0;l<r;){s++;var u=e[l++];n[o++]=i+t,n[o++]=u;for(var c=0;c<u;c++){var f=e[l++],d=e[l++];a[i++]=f,a[i++]=d}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,o),flatCoords:a,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var r=new Xi(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(n,a,i,o){if(n instanceof Array)return NaN;r.hasItemOption=!0;var s=n.value;if(s!=null)return s instanceof Array?s[o]:s}),r},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const dxe=CT,hxe=yn.extend({type:"linesGL",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this.viewGL=new sr("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new el(this.viewGL),this._nativeLinesShader=W.createShader("ecgl.lines3D"),this._meshLinesShader=W.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,t,r){this.groupGL.removeAll(),this._glViewHelper.reset(e,r);var n=this._linesMeshes[0];n||(n=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(n),this._updateLinesMesh(e,n,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),r)},incrementalPrepareRender:function(e,t,r){this.groupGL.removeAll(),this._glViewHelper.reset(e,r),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),r)},incrementalRender:function(e,t,r,n){var a=this._linesMeshes[this._currentStep];a||(a=this._createLinesMesh(t),this._linesMeshes[this._currentStep]=a),this._updateLinesMesh(t,a,e.start,e.end),this.groupGL.add(a),n.getZr().refresh(),this._currentStep++},updateTransform:function(e,t,r){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,r)},_createLinesMesh:function(e){var t=new W.Mesh({$ignorePicking:!0,material:new W.Material({shader:W.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new _H({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:W.Mesh.LINES,culling:!1});return t},_updateLinesMesh:function(e,t,r,n){var a=e.getData();t.material.blend=e.get("blendMode")==="lighter"?W.additiveBlend:null;var i=e.get("lineStyle.curveness")||0,o=e.get("polyline"),s=t.geometry,l=e.coordinateSystem,u=Tt.firstNotNull(e.get("lineStyle.width"),1);u>1?(t.material.shader!==this._meshLinesShader&&t.material.attachShader(this._meshLinesShader),t.mode=W.Mesh.TRIANGLES):(t.material.shader!==this._nativeLinesShader&&t.material.attachShader(this._nativeLinesShader),t.mode=W.Mesh.LINES),r=r||0,n=n||a.count(),s.resetOffset();var c=0,f=0,d=[],h=[],v=[],p=[],m=[],g=.3,y=.7;function _(){h[0]=d[0]*y+p[0]*g-(d[1]-p[1])*i,h[1]=d[1]*y+p[1]*g-(p[0]-d[0])*i,v[0]=d[0]*g+p[0]*y-(d[1]-p[1])*i,v[1]=d[1]*g+p[1]*y-(p[0]-d[0])*i}if(o||i!==0)for(var x=r;x<n;x++)if(o){var w=e.getLineCoordsCount(x);c+=s.getPolylineVertexCount(w),f+=s.getPolylineTriangleCount(w)}else e.getLineCoords(x,m),this._glViewHelper.dataToPoint(l,m[0],d),this._glViewHelper.dataToPoint(l,m[1],p),_(),c+=s.getCubicCurveVertexCount(d,h,v,p),f+=s.getCubicCurveTriangleCount(d,h,v,p);else{var b=n-r;c+=b*s.getLineVertexCount(),f+=b*s.getLineVertexCount()}s.setVertexCount(c),s.setTriangleCount(f);for(var T=r,S=[],x=r;x<n;x++){W.parseColor(Rn(a,T),S);var A=Tt.firstNotNull(In(a,T),1);S[3]*=A;for(var w=e.getLineCoords(x,m),M=0;M<w;M++)this._glViewHelper.dataToPoint(l,m[M],m[M]);o?s.addPolyline(m,S,u,0,w):i!==0?(d=m[0],p=m[1],_(),s.addCubicCurve(d,h,v,p,S,u)):s.addPolyline(m,S,u,0,2),T++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function vxe(e){e.registerChartView(hxe),e.registerSeriesModel(dxe)}vr(vxe);const pxe=J$();Z$(G6).use(Efe).use(wc).use(pxe).component("VueDatePicker",gA).component("v-chart",Ma).mount("#app");
